{"version":3,"file":"bundle.js","mappings":"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ACTC,SAAU,CAAC,GAEE,EAAAA,SAAS12C,GAEtB,IAAK,IAAIiG,KADT4vC,EAAS71C,GAAG02C,SAASJ,GAAM,CAAC,EACb,EAAAI,SAAS12C,GAAGs2C,GACzBT,EAAS71C,GAAG02C,SAASJ,GAAIrwC,GAAM,EAAAywC,SAAS12C,GAAGs2C,GAAIrwC,EAErD,IAGA,IAAMsY,EAAY7O,SAASinC,eAAe,mBACxCC,EAASlnC,SAASinC,eAAe,UACjCE,EAAWnnC,SAASinC,eAAe,YACnCG,EAASpnC,SAASinC,eAAe,UACjCI,EAAernC,SAASinC,eAAe,iBACvCK,EAAatnC,SAASinC,eAAe,eACrCM,EAAavnC,SAASinC,eAAe,QACrCO,EAAYxnC,SAASinC,eAAe,cACpCQ,EAAUznC,SAASinC,eAAe,YAClCS,EAAQ1nC,SAASinC,eAAe,SAChCU,GAAW3nC,SAASinC,eAAe,aACnCW,GAAkB5nC,SAASinC,eAAe,qBAC1CY,GAAY7nC,SAASinC,eAAe,cACpCa,GAAY9nC,SAASinC,eAAe,kBACpCc,GAAY/nC,SAASinC,eAAe,cACpCe,GAAahoC,SAASinC,eAAe,eACrCgB,GAAgBjoC,SAASinC,eAAe,kBACxCiB,GAAaloC,SAASinC,eAAe,eACrCkB,GAAanoC,SAASinC,eAAe,eACrCmB,GAAapoC,SAASinC,eAAe,eACrCoB,GAAcroC,SAASinC,eAAe,gBACtCqB,GAAetoC,SAASinC,eAAe,iBACvCsB,GAAevoC,SAASinC,eAAe,iBACvCuB,GAAcxoC,SAASinC,eAAe,gBACtCwB,GAAYzoC,SAASinC,eAAe,qBACpCyB,GAAW1oC,SAASinC,eAAe,oBACnC0B,GAAU3oC,SAASinC,eAAe,WAClC2B,GAAe5oC,SAASinC,eAAe,gBACvC4B,GAAiB7oC,SAASinC,eAAe,aACzC6B,GAAmB9oC,SAASinC,eAAe,eAC3C8B,GAAsB/oC,SAASinC,eAAe,mBAC9C+B,GAAYhpC,SAASinC,eAAe,SACpCgC,GAAcjpC,SAASinC,eAAe,gBACtCiC,GAAYlpC,SAASinC,eAAe,cACpCkC,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","sources":["webpack://MARVEL graphs/./node_modules/@yomguithereal/helpers/extend.js","webpack://MARVEL graphs/./node_modules/@yomguithereal/sigma-experiments-renderers/node/node.point.border.js","webpack://MARVEL graphs/./node_modules/events/events.js","webpack://MARVEL graphs/./node_modules/graphology-utils/is-graph.js","webpack://MARVEL graphs/./node_modules/graphology/dist/graphology.umd.min.js","webpack://MARVEL graphs/./node_modules/papaparse/papaparse.min.js","webpack://MARVEL graphs/./node_modules/sigma/core/camera.js","webpack://MARVEL graphs/./node_modules/sigma/core/captors/captor.js","webpack://MARVEL graphs/./node_modules/sigma/core/captors/mouse.js","webpack://MARVEL graphs/./node_modules/sigma/core/captors/touch.js","webpack://MARVEL graphs/./node_modules/sigma/core/labels.js","webpack://MARVEL graphs/./node_modules/sigma/core/quadtree.js","webpack://MARVEL graphs/./node_modules/sigma/index.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/canvas/edge-label.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/canvas/hover.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/canvas/label.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/common/edge.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/common/node.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/common/program.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/edge.arrow.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/edge.arrowHead.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/edge.clamped.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/edge.rectangle.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/node.circle.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/programs/node.point.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/edge.arrowHead.frag.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/edge.arrowHead.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/edge.clamped.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/edge.rectangle.frag.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/edge.rectangle.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.circle.frag.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.circle.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.image.frag.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.image.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.point.frag.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/node.point.vert.glsl.js","webpack://MARVEL graphs/./node_modules/sigma/rendering/webgl/shaders/utils.js","webpack://MARVEL graphs/./node_modules/sigma/settings.js","webpack://MARVEL graphs/./node_modules/sigma/sigma.js","webpack://MARVEL graphs/./node_modules/sigma/types.js","webpack://MARVEL graphs/./node_modules/sigma/utils/animate.js","webpack://MARVEL graphs/./node_modules/sigma/utils/data.js","webpack://MARVEL graphs/./node_modules/sigma/utils/easings.js","webpack://MARVEL graphs/./node_modules/sigma/utils/edge-collisions.js","webpack://MARVEL graphs/./node_modules/sigma/utils/index.js","webpack://MARVEL graphs/./node_modules/sigma/utils/matrices.js","webpack://MARVEL graphs/./index.ts","webpack://MARVEL graphs/./node.halo.ts","webpack://MARVEL graphs/./node.image.ts","webpack://MARVEL graphs/./settings.ts","webpack://MARVEL graphs/./utils.ts","webpack://MARVEL graphs/webpack/bootstrap","webpack://MARVEL graphs/webpack/startup"],"sourcesContent":["/**\n * Extend function\n * ================\n *\n * Function used to push a bunch of values into an array at once.\n *\n * Its strategy is to mutate target array's length then setting the new indices\n * to be the values to add.\n *\n * A benchmark proved that it is faster than the following strategies:\n *   1) `array.push.apply(array, values)`.\n *   2) A loop of pushes.\n *   3) `array = array.concat(values)`, obviously.\n *\n * Intuitively, this is correct because when adding a lot of elements, the\n * chosen strategies does not need to handle the `arguments` object to\n * execute #.apply's variadicity and because the array know its final length\n * at the beginning, avoiding potential multiple reallocations of the underlying\n * contiguous array. Some engines may be able to optimize the loop of push\n * operations but empirically they don't seem to do so.\n */\n\n/**\n * Extends the target array with the given values.\n *\n * @param  {array} array  - Target array.\n * @param  {array} values - Values to add.\n */\nmodule.exports = function extend(array, values) {\n  var l2 = values.length;\n\n  if (l2 === 0)\n    return;\n\n  var l1 = array.length;\n\n  array.length += l2;\n\n  for (var i = 0; i < l2; i++)\n    array[l1 + i] = values[i];\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nvar node_point_1 = __importDefault(require(\"sigma/rendering/webgl/programs/node.point\"));\nvar utils_1 = require(\"sigma/utils\");\nvar VERTEX_SHADER_SOURCE = /*glsl*/ \"\\nattribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\nattribute vec4 a_borderColor;\\nattribute float a_borderRatio;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_borderColor;\\nvarying float v_border;\\nvarying float v_borderRatio;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  v_borderColor = a_borderColor;\\n  v_borderColor.a *= bias;\\n\\n  v_borderRatio = 0.5 - a_borderRatio / 2.0;\\n}\\n\";\nvar FRAGMENT_SHADER_SOURCE = /*glsl*/ \"\\nprecision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_borderColor;\\nvarying float v_border;\\nvarying float v_borderRatio;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float distToCenter = length(gl_PointCoord - vec2(0.5, 0.5));\\n\\n  if (distToCenter < v_borderRatio - v_border)\\n    gl_FragColor = v_color;\\n  else if (distToCenter < v_borderRatio)\\n    gl_FragColor = mix(v_borderColor, v_color, (v_borderRatio - distToCenter) / v_border);\\n  else if (distToCenter < radius - v_border)\\n    gl_FragColor = v_borderColor;\\n  else if (distToCenter < radius)\\n    gl_FragColor = mix(transparent, v_borderColor, (radius - distToCenter) / v_border);\\n  else\\n    gl_FragColor = transparent;\\n}\\n\";\nvar FLOAT = WebGLRenderingContext.FLOAT, UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE;\nvar DEFAULT_NODE_BORDER_COLOR = \"#7a7a7a\";\nvar DEFAULT_NODE_BORDER_RATIO = 0.1;\nvar NodePointWithBorderProgram = /** @class */ (function (_super) {\n    __extends(NodePointWithBorderProgram, _super);\n    function NodePointWithBorderProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodePointWithBorderProgram.prototype.getDefinition = function () {\n        return __assign(__assign({}, _super.prototype.getDefinition.call(this)), { ARRAY_ITEMS_PER_VERTEX: 6, VERTEX_SHADER_SOURCE: VERTEX_SHADER_SOURCE, FRAGMENT_SHADER_SOURCE: FRAGMENT_SHADER_SOURCE, ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_borderColor\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_borderRatio\", size: 1, type: FLOAT },\n            ] });\n    };\n    NodePointWithBorderProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        var borderRatio = typeof data.borderRatio !== \"number\" ? DEFAULT_NODE_BORDER_RATIO : data.borderRatio;\n        // borderSize takes precedence\n        if (typeof data.borderSize === \"number\") {\n            borderRatio = data.borderSize / data.size;\n        }\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = (0, utils_1.floatColor)(data.color);\n        array[i++] = (0, utils_1.floatColor)(data.borderColor || DEFAULT_NODE_BORDER_COLOR);\n        array[i] = borderRatio;\n    };\n    return NodePointWithBorderProgram;\n}(node_point_1[\"default\"]));\nexports[\"default\"] = NodePointWithBorderProgram;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/**\n * Graphology isGraph\n * ===================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology instance.\n */\n\n/**\n * Checking the value is a graphology instance.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraph(value) {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    typeof value.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.dropNode === 'function' &&\n    typeof value.multi === 'boolean'\n  );\n};\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).graphology=e()}(this,(function(){\"use strict\";function t(e){return t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t(e)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function i(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,n){return o=i()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(t){var e=\"function\"==typeof Map?new Map:void 0;return a=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf(\"[native code]\")))return t;var i;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return o(t,arguments,n(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,t)},a(t)}function c(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}var u=function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t};function d(t,e,n,r){var i=t._nodes.get(e),o=null;return i?o=\"mixed\"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:\"directed\"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function s(e){return\"object\"===t(e)&&null!==e&&e.constructor===Object}function h(t){var e;for(e in t)return!1;return!0}function p(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function f(t,e,n){var r={enumerable:!0,configurable:!0};\"function\"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function l(t){return!!s(t)&&!(t.attributes&&!Array.isArray(t.attributes))}\"function\"==typeof Object.assign&&(u=Object.assign);var g,y={exports:{}},w=\"object\"==typeof Reflect?Reflect:null,v=w&&\"function\"==typeof w.apply?w.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};g=w&&\"function\"==typeof w.ownKeys?w.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var b=Number.isNaN||function(t){return t!=t};function m(){m.init.call(this)}y.exports=m,y.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){\"function\"==typeof t.removeListener&&t.removeListener(\"error\",i),n([].slice.call(arguments))}U(t,e,o,{once:!0}),\"error\"!==e&&function(t,e,n){\"function\"==typeof t.on&&U(t,\"error\",e,n)}(t,i,{once:!0})}))},m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var k=10;function _(t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t)}function G(t){return void 0===t._maxListeners?m.defaultMaxListeners:t._maxListeners}function x(t,e,n,r){var i,o,a,c;if(_(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit(\"newListener\",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if(\"function\"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=G(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error(\"Possible EventEmitter memory leak detected. \"+a.length+\" \"+String(e)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");u.name=\"MaxListenersExceededWarning\",u.emitter=t,u.type=e,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return t}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=E.bind(r);return i.listener=n,r.wrapFn=i,i}function L(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):D(i,i.length)}function S(t){var e=this._events;if(void 0!==e){var n=e[t];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function D(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function U(t,e,n,r){if(\"function\"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if(\"function\"!=typeof t.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}function N(t){if(\"function\"!=typeof t)throw new Error(\"obliterator/iterator: expecting a function!\");this.next=t}Object.defineProperty(m,\"defaultMaxListeners\",{enumerable:!0,get:function(){return k},set:function(t){if(\"number\"!=typeof t||t<0||b(t))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+t+\".\");k=t}}),m.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(t){if(\"number\"!=typeof t||t<0||b(t))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+t+\".\");return this._maxListeners=t,this},m.prototype.getMaxListeners=function(){return G(this)},m.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=\"error\"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw a.context=o,a}var c=i[t];if(void 0===c)return!1;if(\"function\"==typeof c)v(c,this,e);else{var u=c.length,d=D(c,u);for(n=0;n<u;++n)v(d[n],this,e)}return!0},m.prototype.addListener=function(t,e){return x(this,t,e,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(t,e){return x(this,t,e,!0)},m.prototype.once=function(t,e){return _(e),this.on(t,A(this,t,e)),this},m.prototype.prependOnceListener=function(t,e){return _(e),this.prependListener(t,A(this,t,e)),this},m.prototype.removeListener=function(t,e){var n,r,i,o,a;if(_(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit(\"removeListener\",t,n.listener||e));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",t,a||e)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},m.prototype.listeners=function(t){return L(this,t,!0)},m.prototype.rawListeners=function(t){return L(this,t,!1)},m.listenerCount=function(t,e){return\"function\"==typeof t.listenerCount?t.listenerCount(e):S.call(t,e)},m.prototype.listenerCount=S,m.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]},\"undefined\"!=typeof Symbol&&(N.prototype[Symbol.iterator]=function(){return this}),N.of=function(){var t=arguments,e=t.length,n=0;return new N((function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}}))},N.empty=function(){return new N((function(){return{done:!0}}))},N.fromSequence=function(t){var e=0,n=t.length;return new N((function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}}))},N.is=function(t){return t instanceof N||\"object\"==typeof t&&null!==t&&\"function\"==typeof t.next};var O=N,j={};j.ARRAY_BUFFER_SUPPORT=\"undefined\"!=typeof ArrayBuffer,j.SYMBOL_SUPPORT=\"undefined\"!=typeof Symbol;var C=O,M=j,z=M.ARRAY_BUFFER_SUPPORT,W=M.SYMBOL_SUPPORT;var P=function(t){var e=function(t){return\"string\"==typeof t||Array.isArray(t)||z&&ArrayBuffer.isView(t)?C.fromSequence(t):\"object\"!=typeof t||null===t?null:W&&\"function\"==typeof t[Symbol.iterator]?t[Symbol.iterator]():\"function\"==typeof t.next?t:null}(t);if(!e)throw new Error(\"obliterator: target is not iterable nor a valid iterator.\");return e},R=P,K=function(t,e){for(var n,r=arguments.length>1?e:1/0,i=r!==1/0?new Array(r):[],o=0,a=R(t);;){if(o===r)return i;if((n=a.next()).done)return o!==e&&(i.length=o),i;i[o++]=n.value}},T=function(t){function n(e){var n;return(n=t.call(this)||this).name=\"GraphError\",n.message=e,n}return e(n,t),n}(a(Error)),B=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"InvalidArgumentsGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T),F=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"NotFoundGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T),I=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"UsageGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T);function Y(t,e){this.key=t,this.attributes=e,this.clear()}function q(t,e){this.key=t,this.attributes=e,this.clear()}function J(t,e){this.key=t,this.attributes=e,this.clear()}function V(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}Y.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},J.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},V.prototype.attach=function(){var t=\"out\",e=\"in\";this.undirected&&(t=e=\"undirected\");var n=this.source.key,r=this.target.key;this.source[t][r]=this,this.undirected&&n===r||(this.target[e][n]=this)},V.prototype.attachMulti=function(){var t=\"out\",e=\"in\",n=this.source.key,r=this.target.key;this.undirected&&(t=e=\"undirected\");var i=this.source[t],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[e][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[e][n]=this},V.prototype.detach=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),delete this.source[n][e],delete this.target[r][t]},V.prototype.detachMulti=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),void 0===this.previous?void 0===this.next?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};function H(t,e,n,r,i,o,a){var c,u,d,s;if(r=\"\"+r,0===n){if(!(c=t._nodes.get(r)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" node in the graph.'));d=i,s=o}else if(3===n){if(i=\"\"+i,!(u=t._edges.get(i)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(i,'\" edge in the graph.'));var h=u.source.key,p=u.target.key;if(r===h)c=u.target;else{if(r!==p)throw new F(\"Graph.\".concat(e,': the \"').concat(r,'\" node is not attached to the \"').concat(i,'\" edge (').concat(h,\", \").concat(p,\").\"));c=u.source}d=o,s=a}else{if(!(u=t._edges.get(r)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" edge in the graph.'));c=1===n?u.source:u.target,d=i,s=o}return[c,d,s]}var Q=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return a.attributes[c]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){return H(this,e,n,t,r)[0].attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return a.attributes.hasOwnProperty(c)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=H(this,e,n,t,r,i,o),c=a[0],u=a[1],d=a[2];return c.attributes[u]=d,this.emit(\"nodeAttributesUpdated\",{key:c.key,type:\"set\",attributes:c.attributes,name:u}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=H(this,e,n,t,r,i,o),c=a[0],u=a[1],d=a[2];if(\"function\"!=typeof d)throw new B(\"Graph.\".concat(e,\": updater should be a function.\"));var s=c.attributes,h=d(s[u]);return s[u]=h,this.emit(\"nodeAttributesUpdated\",{key:c.key,type:\"set\",attributes:c.attributes,name:u}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return delete a.attributes[c],this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"remove\",attributes:a.attributes,name:c}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(!s(c))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return a.attributes=c,this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"replace\",attributes:a.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(!s(c))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return u(a.attributes,c),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"merge\",attributes:a.attributes,data:c}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(\"function\"!=typeof c)throw new B(\"Graph.\".concat(e,\": provided updater is not a function.\"));return a.attributes=c(a.attributes),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"update\",attributes:a.attributes}),this}}}];var X=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes[r]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t){var r;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>1){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var i=\"\"+t,o=\"\"+arguments[1];if(!(r=d(this,i,o,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(i,'\" - \"').concat(o,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(r=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return r.attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,c=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,c,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(c,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return o.attributes[r]=i,this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,c=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,c,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(c,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof i)throw new B(\"Graph.\".concat(e,\": updater should be a function.\"));return o.attributes[r]=i(o.attributes[r]),this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return delete i.attributes[r],this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"remove\",attributes:i.attributes,name:r}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!s(r))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return i.attributes=r,this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"replace\",attributes:i.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!s(r))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return u(i.attributes,r),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"merge\",attributes:i.attributes,data:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof r)throw new B(\"Graph.\".concat(e,\": provided updater is not a function.\"));return i.attributes=r(i.attributes),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"update\",attributes:i.attributes}),this}}}];var Z=O,$=P,tt=function(){var t=arguments,e=null,n=-1;return new Z((function(){for(var r=null;;){if(null===e){if(++n>=t.length)return{done:!0};e=$(t[n])}if(!0!==(r=e.next()).done)break;e=null}return r}))},et=[{name:\"edges\",type:\"mixed\"},{name:\"inEdges\",type:\"directed\",direction:\"in\"},{name:\"outEdges\",type:\"directed\",direction:\"out\"},{name:\"inboundEdges\",type:\"mixed\",direction:\"in\"},{name:\"outboundEdges\",type:\"mixed\",direction:\"out\"},{name:\"directedEdges\",type:\"directed\"},{name:\"undirectedEdges\",type:\"undirected\"}];function nt(t,e,n,r){var i=!1;for(var o in e)if(o!==r){var a=e[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),t&&i)return a.key}}function rt(t,e,n,r){var i,o,a,c=!1;for(var u in e)if(u!==r){i=e[u];do{if(o=i.source,a=i.target,c=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),t&&c)return i.key;i=i.next}while(void 0!==i)}}function it(t,e){var n,r=Object.keys(t),i=r.length,o=0;return new O((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===e){n=void 0;continue}n=t[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function ot(t,e,n,r){var i=e[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&t?i.key:void 0}}function at(t,e,n,r){var i=e[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&o)return i.key;i=i.next}while(void 0!==i)}}function ct(t,e){var n=t[e];return void 0!==n.next?new O((function(){if(!n)return{done:!0};var t={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:t}})):O.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function ut(t,e){if(0===t.size)return[];if(\"mixed\"===e||e===t.type)return\"function\"==typeof Array.from?Array.from(t._edges.keys()):K(t._edges.keys(),t._edges.size);for(var n,r,i=\"undirected\"===e?t.undirectedSize:t.directedSize,o=new Array(i),a=\"undirected\"===e,c=t._edges.values(),u=0;!0!==(n=c.next()).done;)(r=n.value).undirected===a&&(o[u++]=r.key);return o}function dt(t,e,n,r){if(0!==e.size)for(var i,o,a=\"mixed\"!==n&&n!==e.type,c=\"undirected\"===n,u=!1,d=e._edges.values();!0!==(i=d.next()).done;)if(o=i.value,!a||o.undirected===c){var s=o,h=s.key,p=s.attributes,f=s.source,l=s.target;if(u=r(h,p,f.key,l.key,f.attributes,l.attributes,o.undirected),t&&u)return h}}function st(t,e){if(0===t.size)return O.empty();var n=\"mixed\"!==e&&e!==t.type,r=\"undirected\"===e,i=t._edges.values();return new O((function(){for(var t,e;;){if((t=i.next()).done)return t;if(e=t.value,!n||e.undirected===r)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}function ht(t,e,n,r,i,o){var a,c=e?rt:nt;if(\"undirected\"!==n){if(\"out\"!==r&&(a=c(t,i.in,o),t&&a))return a;if(\"in\"!==r&&(a=c(t,i.out,o,r?void 0:i.key),t&&a))return a}if(\"directed\"!==n&&(a=c(t,i.undirected,o),t&&a))return a}function pt(t,e,n,r){var i=[];return ht(!1,t,e,n,r,(function(t){i.push(t)})),i}function ft(t,e,n){var r=O.empty();return\"undirected\"!==t&&(\"out\"!==e&&void 0!==n.in&&(r=tt(r,it(n.in))),\"in\"!==e&&void 0!==n.out&&(r=tt(r,it(n.out,e?void 0:n.key)))),\"directed\"!==t&&void 0!==n.undirected&&(r=tt(r,it(n.undirected))),r}function lt(t,e,n,r,i,o,a){var c,u=n?at:ot;if(\"undirected\"!==e){if(void 0!==i.in&&\"out\"!==r&&(c=u(t,i.in,o,a),t&&c))return c;if(void 0!==i.out&&\"in\"!==r&&(r||i.key!==o)&&(c=u(t,i.out,o,a),t&&c))return c}if(\"directed\"!==e&&void 0!==i.undirected&&(c=u(t,i.undirected,o,a),t&&c))return c}function gt(t,e,n,r,i){var o=[];return lt(!1,t,e,n,r,i,(function(t){o.push(t)})),o}function yt(t,e,n,r){var i=O.empty();return\"undirected\"!==t&&(void 0!==n.in&&\"out\"!==e&&r in n.in&&(i=tt(i,ct(n.in,r))),void 0!==n.out&&\"in\"!==e&&r in n.out&&(e||n.key!==r)&&(i=tt(i,ct(n.out,r)))),\"directed\"!==t&&void 0!==n.undirected&&r in n.undirected&&(i=tt(i,ct(n.undirected,r))),i}var wt=[{name:\"neighbors\",type:\"mixed\"},{name:\"inNeighbors\",type:\"directed\",direction:\"in\"},{name:\"outNeighbors\",type:\"directed\",direction:\"out\"},{name:\"inboundNeighbors\",type:\"mixed\",direction:\"in\"},{name:\"outboundNeighbors\",type:\"mixed\",direction:\"out\"},{name:\"directedNeighbors\",type:\"directed\"},{name:\"undirectedNeighbors\",type:\"undirected\"}];function vt(){this.A=null,this.B=null}function bt(t,e,n,r,i){for(var o in r){var a=r[o],c=a.source,u=a.target,d=c===n?u:c;if(!e||!e.has(d.key)){var s=i(d.key,d.attributes);if(t&&s)return d.key}}}function mt(t,e,n,r,i){if(\"mixed\"!==e){if(\"undirected\"===e)return bt(t,null,r,r.undirected,i);if(\"string\"==typeof n)return bt(t,null,r,r[n],i)}var o,a=new vt;if(\"undirected\"!==e){if(\"out\"!==n){if(o=bt(t,null,r,r.in,i),t&&o)return o;a.wrap(r.in)}if(\"in\"!==n){if(o=bt(t,a,r,r.out,i),t&&o)return o;a.wrap(r.out)}}if(\"directed\"!==e&&(o=bt(t,a,r,r.undirected,i),t&&o))return o}function kt(t,e,n){var r=Object.keys(n),i=r.length,o=0;return new O((function(){var a=null;do{if(o>=i)return t&&t.wrap(n),{done:!0};var c=n[r[o++]],u=c.source,d=c.target;a=u===e?d:u,t&&t.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function _t(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new F(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return Object.keys(n.undirected);if(\"string\"==typeof e)return Object.keys(n[e])}var r=[];return mt(!1,t,e,n,(function(t){r.push(t)})),r}(\"mixed\"===r?this.type:r,i,e)}}function Gt(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return kt(null,n,n.undirected);if(\"string\"==typeof e)return kt(null,n,n[e])}var r=O.empty(),i=new vt;return\"undirected\"!==t&&(\"out\"!==e&&(r=tt(r,kt(i,n,n.in))),\"in\"!==e&&(r=tt(r,kt(i,n,n.out)))),\"directed\"!==t&&(r=tt(r,kt(i,n,n.undirected))),r}(\"mixed\"===r?this.type:r,i,e)}}function xt(t,e,n,r,i){for(var o,a,c,u,d,s,h,p=r._nodes.values(),f=r.type;!0!==(o=p.next()).done;){var l=!1;if(a=o.value,\"undirected\"!==f)for(c in u=a.out){d=u[c];do{if(s=d.target,l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h)return d;d=d.next}while(d)}if(\"directed\"!==f)for(c in u=a.undirected)if(!(e&&a.key>c)){d=u[c];do{if((s=d.target).key!==c&&(s=d.source),l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h)return d;d=d.next}while(d)}if(n&&!l&&(h=i(a.key,null,a.attributes,null,null,null,null),t&&h))return null}}function Et(t){if(!s(t))throw new B('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a \"key\" property.');if(!(\"key\"in t))throw new B(\"Graph.import: serialized node is missing its key.\");if(\"attributes\"in t&&(!s(t.attributes)||null===t.attributes))throw new B(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\")}function At(t){if(!s(t))throw new B('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a \"source\" & \"target\" property.');if(!(\"source\"in t))throw new B(\"Graph.import: serialized edge is missing its source.\");if(!(\"target\"in t))throw new B(\"Graph.import: serialized edge is missing its target.\");if(\"attributes\"in t&&(!s(t.attributes)||null===t.attributes))throw new B(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\");if(\"undirected\"in t&&\"boolean\"!=typeof t.undirected)throw new B(\"Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.\")}vt.prototype.wrap=function(t){null===this.A?this.A=t:null===this.B&&(this.B=t)},vt.prototype.has=function(t){return null!==this.A&&t in this.A||null!==this.B&&t in this.B};var Lt,St=(Lt=255&Math.floor(256*Math.random()),function(){return Lt++}),Dt=new Set([\"directed\",\"undirected\",\"mixed\"]),Ut=new Set([\"domain\",\"_events\",\"_eventsCount\",\"_maxListeners\"]),Nt={allowSelfLoops:!0,multi:!1,type:\"mixed\"};function Ot(t,e,n){var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}function jt(t,e,n,r,i,o,a,c){if(!r&&\"undirected\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.\"));if(c&&!s(c))throw new B(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(c,'\"'));if(o=\"\"+o,a=\"\"+a,c=c||{},!t.allowSelfLoops&&o===a)throw new I(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var u=t._nodes.get(o),d=t._nodes.get(a);if(!u)throw new F(\"Graph.\".concat(e,': source node \"').concat(o,'\" not found.'));if(!d)throw new F(\"Graph.\".concat(e,': target node \"').concat(a,'\" not found.'));var h={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new I(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));if(!t.multi&&(r?void 0!==u.undirected[a]:void 0!==u.out[a]))throw new I(\"Graph.\".concat(e,': an edge linking \"').concat(o,'\" to \"').concat(a,\"\\\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.\"));var p=new V(r,i,u,d,c);t._edges.set(i,p);var f=o===a;return r?(u.undirectedDegree++,d.undirectedDegree++,f&&(u.undirectedLoops++,t._undirectedSelfLoopCount++)):(u.outDegree++,d.inDegree++,f&&(u.directedLoops++,t._directedSelfLoopCount++)),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,h.key=i,t.emit(\"edgeAdded\",h),i}function Ct(t,e,n,r,i,o,a,c,d){if(!r&&\"undirected\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.\"));if(c)if(d){if(\"function\"!=typeof c)throw new B(\"Graph.\".concat(e,': invalid updater function. Expecting a function but got \"').concat(c,'\"'))}else if(!s(c))throw new B(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(c,'\"'));var h;if(o=\"\"+o,a=\"\"+a,d&&(h=c,c=void 0),!t.allowSelfLoops&&o===a)throw new I(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var p,f,l=t._nodes.get(o),g=t._nodes.get(a);if(!n&&(p=t._edges.get(i))){if(!(p.source.key===o&&p.target.key===a||r&&p.source.key===a&&p.target.key===o))throw new I(\"Graph.\".concat(e,': inconsistency detected when attempting to merge the \"').concat(i,'\" edge with \"').concat(o,'\" source & \"').concat(a,'\" target vs. (\"').concat(p.source.key,'\", \"').concat(p.target.key,'\").'));f=p}if(f||t.multi||!l||(f=r?l.undirected[a]:l.out[a]),f){var y=[f.key,!1,!1,!1];if(d?!h:!c)return y;if(d){var w=f.attributes;f.attributes=h(w),t.emit(\"edgeAttributesUpdated\",{type:\"replace\",key:f.key,attributes:f.attributes})}else u(f.attributes,c),t.emit(\"edgeAttributesUpdated\",{type:\"merge\",key:f.key,attributes:f.attributes,data:c});return y}c=c||{},d&&h&&(c=h(c));var v={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new I(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));var b=!1,m=!1;l||(l=Ot(t,o,{}),b=!0,o===a&&(g=l,m=!0)),g||(g=Ot(t,a,{}),m=!0),p=new V(r,i,l,g,c),t._edges.set(i,p);var k=o===a;return r?(l.undirectedDegree++,g.undirectedDegree++,k&&(l.undirectedLoops++,t._undirectedSelfLoopCount++)):(l.outDegree++,g.inDegree++,k&&(l.directedLoops++,t._directedSelfLoopCount++)),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit(\"edgeAdded\",v),[i,!0,b,m]}function Mt(t,e){t._edges.delete(e.key);var n=e.source,r=e.target,i=e.attributes,o=e.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,a&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),o?t._undirectedSize--:t._directedSize--,t.emit(\"edgeDropped\",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:o})}var zt=function(n){function r(t){var e;if(e=n.call(this)||this,\"boolean\"!=typeof(t=u({},Nt,t)).multi)throw new B(\"Graph.constructor: invalid 'multi' option. Expecting a boolean but got \\\"\".concat(t.multi,'\".'));if(!Dt.has(t.type))throw new B('Graph.constructor: invalid \\'type\\' option. Should be one of \"mixed\", \"directed\" or \"undirected\" but got \"'.concat(t.type,'\".'));if(\"boolean\"!=typeof t.allowSelfLoops)throw new B(\"Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \\\"\".concat(t.allowSelfLoops,'\".'));var r=\"mixed\"===t.type?Y:\"directed\"===t.type?q:J;p(c(e),\"NodeDataClass\",r);var i=\"geid_\"+St()+\"_\",o=0;return p(c(e),\"_attributes\",{}),p(c(e),\"_nodes\",new Map),p(c(e),\"_edges\",new Map),p(c(e),\"_directedSize\",0),p(c(e),\"_undirectedSize\",0),p(c(e),\"_directedSelfLoopCount\",0),p(c(e),\"_undirectedSelfLoopCount\",0),p(c(e),\"_edgeKeyGenerator\",(function(){var t;do{t=i+o++}while(e._edges.has(t));return t})),p(c(e),\"_options\",t),Ut.forEach((function(t){return p(c(e),t,e[t])})),f(c(e),\"order\",(function(){return e._nodes.size})),f(c(e),\"size\",(function(){return e._edges.size})),f(c(e),\"directedSize\",(function(){return e._directedSize})),f(c(e),\"undirectedSize\",(function(){return e._undirectedSize})),f(c(e),\"selfLoopCount\",(function(){return e._directedSelfLoopCount+e._undirectedSelfLoopCount})),f(c(e),\"directedSelfLoopCount\",(function(){return e._directedSelfLoopCount})),f(c(e),\"undirectedSelfLoopCount\",(function(){return e._undirectedSelfLoopCount})),f(c(e),\"multi\",e._options.multi),f(c(e),\"type\",e._options.type),f(c(e),\"allowSelfLoops\",e._options.allowSelfLoops),f(c(e),\"implementation\",(function(){return\"graphology\"})),e}e(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(t){return this._nodes.has(\"\"+t)},i.hasDirectedEdge=function(t,e){if(\"undirected\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);return!!i&&i.out.hasOwnProperty(e)}throw new B(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasUndirectedEdge=function(t,e){if(\"directed\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);return!!i&&i.undirected.hasOwnProperty(e)}throw new B(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasEdge=function(t,e){if(1===arguments.length){var n=\"\"+t;return this._edges.has(n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var r=this._nodes.get(t);return!!r&&(void 0!==r.out&&r.out.hasOwnProperty(e)||void 0!==r.undirected&&r.undirected.hasOwnProperty(e))}throw new B(\"Graph.hasEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.directedEdge=function(t,e){if(\"undirected\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new I(\"Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new F('Graph.directedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.directedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(t,e){if(\"directed\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new I(\"Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new F('Graph.undirectedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.undirectedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}},i.edge=function(t,e){if(this.multi)throw new I(\"Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.\");t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.edge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.edge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areDirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)},i.areOutNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areOutNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out},i.areInNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areInNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in},i.areUndirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areUndirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"!==this.type&&e in n.undirected},i.areNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)||\"directed\"!==this.type&&e in n.undirected},i.areInboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areInboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in||\"directed\"!==this.type&&e in n.undirected},i.areOutboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areOutboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out||\"directed\"!==this.type&&e in n.undirected},i.inDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree},i.outDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree},i.directedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.directedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree},i.undirectedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.undirectedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree},i.inboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree),n},i.outboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.outDegree),n},i.degree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.degree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree),n},i.inDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree-e.directedLoops},i.outDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree-e.directedLoops},i.directedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.directedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree-2*e.directedLoops},i.undirectedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.undirectedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree-2*e.undirectedLoops},i.inboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.inDegree,r+=e.directedLoops),n-r},i.outboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.outDegree,r+=e.directedLoops),n-r},i.degreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.degreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree,r+=2*e.directedLoops),n-r},i.source=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.source: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source.key},i.target=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.target: could not find the \"'.concat(t,'\" edge in the graph.'));return e.target.key},i.extremities=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.extremities: could not find the \"'.concat(t,'\" edge in the graph.'));return[e.source.key,e.target.key]},i.opposite=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(e);if(!n)throw new F('Graph.opposite: could not find the \"'.concat(e,'\" edge in the graph.'));var r=n.source.key,i=n.target.key;if(t===r)return i;if(t===i)return r;throw new F('Graph.opposite: the \"'.concat(t,'\" node is not attached to the \"').concat(e,'\" edge (').concat(r,\", \").concat(i,\").\"))},i.hasExtremity=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(t);if(!n)throw new F('Graph.hasExtremity: could not find the \"'.concat(t,'\" edge in the graph.'));return n.source.key===e||n.target.key===e},i.isUndirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isUndirected: could not find the \"'.concat(t,'\" edge in the graph.'));return e.undirected},i.isDirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isDirected: could not find the \"'.concat(t,'\" edge in the graph.'));return!e.undirected},i.isSelfLoop=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isSelfLoop: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source===e.target},i.addNode=function(t,e){var n=function(t,e,n){if(n&&!s(n))throw new B('Graph.addNode: invalid attributes. Expecting an object but got \"'.concat(n,'\"'));if(e=\"\"+e,n=n||{},t._nodes.has(e))throw new I('Graph.addNode: the \"'.concat(e,'\" node already exist in the graph.'));var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}(this,t,e);return n.key},i.mergeNode=function(t,e){if(e&&!s(e))throw new B('Graph.mergeNode: invalid attributes. Expecting an object but got \"'.concat(e,'\"'));t=\"\"+t,e=e||{};var n=this._nodes.get(t);return n?(e&&(u(n.attributes,e),this.emit(\"nodeAttributesUpdated\",{type:\"merge\",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:e}),[t,!0])},i.updateNode=function(t,e){if(e&&\"function\"!=typeof e)throw new B('Graph.updateNode: invalid updater function. Expecting a function but got \"'.concat(e,'\"'));t=\"\"+t;var n=this._nodes.get(t);if(n){if(e){var r=n.attributes;n.attributes=e(r),this.emit(\"nodeAttributesUpdated\",{type:\"replace\",key:t,attributes:n.attributes})}return[t,!1]}var i=e?e({}):{};return n=new this.NodeDataClass(t,i),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:i}),[t,!0]},i.dropNode=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new F('Graph.dropNode: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"!==this.type){for(var r in n.out){e=n.out[r];do{Mt(this,e),e=e.next}while(e)}for(var i in n.in){e=n.in[i];do{Mt(this,e),e=e.next}while(e)}}if(\"directed\"!==this.type)for(var o in n.undirected){e=n.undirected[o];do{Mt(this,e),e=e.next}while(e)}this._nodes.delete(t),this.emit(\"nodeDropped\",{key:t,attributes:n.attributes})},i.dropEdge=function(t){var e;if(arguments.length>1){var n=\"\"+arguments[0],r=\"\"+arguments[1];if(!(e=d(this,n,r,this.type)))throw new F('Graph.dropEdge: could not find the \"'.concat(n,'\" -> \"').concat(r,'\" edge in the graph.'))}else if(t=\"\"+t,!(e=this._edges.get(t)))throw new F('Graph.dropEdge: could not find the \"'.concat(t,'\" edge in the graph.'));return Mt(this,e),this},i.dropDirectedEdge=function(t,e){if(arguments.length<2)throw new I(\"Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new I(\"Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=d(this,t=\"\"+t,e=\"\"+e,\"directed\");if(!n)throw new F('Graph.dropDirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.dropUndirectedEdge=function(t,e){if(arguments.length<2)throw new I(\"Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new I(\"Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=d(this,t,e,\"undirected\");if(!n)throw new F('Graph.dropUndirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit(\"cleared\")},i.clearEdges=function(){for(var t,e=this._nodes.values();!0!==(t=e.next()).done;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit(\"edgesCleared\")},i.getAttribute=function(t){return this._attributes[t]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},i.setAttribute=function(t,e){return this._attributes[t]=e,this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.updateAttribute=function(t,e){if(\"function\"!=typeof e)throw new B(\"Graph.updateAttribute: updater should be a function.\");var n=this._attributes[t];return this._attributes[t]=e(n),this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.removeAttribute=function(t){return delete this._attributes[t],this.emit(\"attributesUpdated\",{type:\"remove\",attributes:this._attributes,name:t}),this},i.replaceAttributes=function(t){if(!s(t))throw new B(\"Graph.replaceAttributes: provided attributes are not a plain object.\");return this._attributes=t,this.emit(\"attributesUpdated\",{type:\"replace\",attributes:this._attributes}),this},i.mergeAttributes=function(t){if(!s(t))throw new B(\"Graph.mergeAttributes: provided attributes are not a plain object.\");return u(this._attributes,t),this.emit(\"attributesUpdated\",{type:\"merge\",attributes:this._attributes,data:t}),this},i.updateAttributes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.updateAttributes: provided updater is not a function.\");return this._attributes=t(this._attributes),this.emit(\"attributesUpdated\",{type:\"update\",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.updateEachNodeAttributes: expecting an updater function.\");if(e&&!l(e))throw new B(\"Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=t(r.key,r.attributes);this.emit(\"eachNodeAttributesUpdated\",{hints:e||null})},i.updateEachEdgeAttributes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.updateEachEdgeAttributes: expecting an updater function.\");if(e&&!l(e))throw new B(\"Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=t(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit(\"eachEdgeAttributesUpdated\",{hints:e||null})},i.forEachAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAdjacencyEntry: expecting a callback.\");xt(!1,!1,!1,this,t)},i.forEachAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.\");xt(!1,!1,!0,this,t)},i.forEachAssymetricAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAssymetricAdjacencyEntry: expecting a callback.\");xt(!1,!0,!1,this,t)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.\");xt(!1,!0,!0,this,t)},i.nodes=function(){return\"function\"==typeof Array.from?Array.from(this._nodes.keys()):K(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)},i.findNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.findNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return n.key},i.mapNodes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.mapNode: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(e=r.next()).done;)n=e.value,i[o++]=t(n.key,n.attributes);return i},i.someNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.someNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return!0;return!1},i.everyNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.everyNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(!t((n=e.value).key,n.attributes))return!1;return!0},i.filterNodes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.filterNodes: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=[];!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.reduceNodes: expecting a callback.\");if(arguments.length<2)throw new B(\"Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\");for(var n,r,i=e,o=this._nodes.values();!0!==(n=o.next()).done;)i=t(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var t=this._nodes.values();return new O((function(){var e=t.next();if(e.done)return e;var n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var t=this,e=new Array(this._nodes.size),n=0;this._nodes.forEach((function(t,r){e[n++]=function(t,e){var n={key:t};return h(e.attributes)||(n.attributes=u({},e.attributes)),n}(r,t)}));var r=new Array(this._edges.size);return n=0,this._edges.forEach((function(e,i){r[n++]=function(t,e,n){var r={key:e,source:n.source.key,target:n.target.key};return h(n.attributes)||(r.attributes=u({},n.attributes)),\"mixed\"===t&&n.undirected&&(r.undirected=!0),r}(t.type,i,e)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}},i.import=function(t){var e,n,i,o,a,c=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t instanceof r)return t.forEachNode((function(t,e){u?c.mergeNode(t,e):c.addNode(t,e)})),t.forEachEdge((function(t,e,n,r,i,o,a){u?a?c.mergeUndirectedEdgeWithKey(t,n,r,e):c.mergeDirectedEdgeWithKey(t,n,r,e):a?c.addUndirectedEdgeWithKey(t,n,r,e):c.addDirectedEdgeWithKey(t,n,r,e)})),this;if(!s(t))throw new B(\"Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.\");if(t.attributes){if(!s(t.attributes))throw new B(\"Graph.import: invalid attributes. Expecting a plain object.\");u?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}if(t.nodes){if(i=t.nodes,!Array.isArray(i))throw new B(\"Graph.import: invalid nodes. Expecting an array.\");for(e=0,n=i.length;e<n;e++){Et(o=i[e]);var d=o,h=d.key,p=d.attributes;u?this.mergeNode(h,p):this.addNode(h,p)}}if(t.edges){var f=!1;if(\"undirected\"===this.type&&(f=!0),i=t.edges,!Array.isArray(i))throw new B(\"Graph.import: invalid edges. Expecting an array.\");for(e=0,n=i.length;e<n;e++){At(a=i[e]);var l=a,g=l.source,y=l.target,w=l.attributes,v=l.undirected,b=void 0===v?f:v;\"key\"in a?(u?b?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:b?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,a.key,g,y,w):(u?b?this.mergeUndirectedEdge:this.mergeDirectedEdge:b?this.addUndirectedEdge:this.addDirectedEdge).call(this,g,y,w)}}return this},i.nullCopy=function(t){var e=new r(u({},this._options,t));return e.replaceAttributes(u({},this.getAttributes())),e},i.emptyCopy=function(t){var e=this.nullCopy(t);return this._nodes.forEach((function(t,n){var r=u({},t.attributes);t=new e.NodeDataClass(n,r),e._nodes.set(n,t)})),e},i.copy=function(t){if(\"string\"==typeof(t=t||{}).type&&t.type!==this.type&&\"mixed\"!==t.type)throw new I('Graph.copy: cannot create an incompatible copy from \"'.concat(this.type,'\" type to \"').concat(t.type,'\" because this would mean losing information about the current graph.'));if(\"boolean\"==typeof t.multi&&t.multi!==this.multi&&!0!==t.multi)throw new I(\"Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.\");if(\"boolean\"==typeof t.allowSelfLoops&&t.allowSelfLoops!==this.allowSelfLoops&&!0!==t.allowSelfLoops)throw new I(\"Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.\");for(var e,n,r=this.emptyCopy(t),i=this._edges.values();!0!==(e=i.next()).done;)jt(r,\"copy\",!1,(n=e.value).undirected,n.key,n.source.key,n.target.key,u({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return\"[object Graph]\"},i.inspect=function(){var e=this,n={};this._nodes.forEach((function(t,e){n[e]=t.attributes}));var r={},i={};this._edges.forEach((function(t,n){var o,a=t.undirected?\"--\":\"->\",c=\"\",u=t.source.key,d=t.target.key;t.undirected&&u>d&&(o=u,u=d,d=o);var s=\"(\".concat(u,\")\").concat(a,\"(\").concat(d,\")\");n.startsWith(\"geid_\")?e.multi&&(void 0===i[s]?i[s]=0:i[s]++,c+=\"\".concat(i[s],\". \")):c+=\"[\".concat(n,\"]: \"),r[c+=s]=t.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Ut.has(a)&&\"function\"!=typeof this[a]&&\"symbol\"!==t(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,p(o,\"constructor\",this.constructor),o},r}(y.exports.EventEmitter);\"undefined\"!=typeof Symbol&&(zt.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=zt.prototype.inspect),[{name:function(t){return\"\".concat(t,\"Edge\")},generateKey:!0},{name:function(t){return\"\".concat(t,\"DirectedEdge\")},generateKey:!0,type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdge\")},generateKey:!0,type:\"undirected\"},{name:function(t){return\"\".concat(t,\"EdgeWithKey\")}},{name:function(t){return\"\".concat(t,\"DirectedEdgeWithKey\")},type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdgeWithKey\")},type:\"undirected\"}].forEach((function(t){[\"add\",\"merge\",\"update\"].forEach((function(e){var n=t.name(e),r=\"add\"===e?jt:Ct;t.generateKey?zt.prototype[n]=function(i,o,a){return r(this,n,!0,\"undirected\"===(t.type||this.type),null,i,o,a,\"update\"===e)}:zt.prototype[n]=function(i,o,a,c){return r(this,n,!1,\"undirected\"===(t.type||this.type),i,o,a,c,\"update\"===e)}}))})),function(t){Q.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Node\"),0),r(t,n(\"Source\"),1),r(t,n(\"Target\"),2),r(t,n(\"Opposite\"),3)}))}(zt),function(t){X.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Edge\"),\"mixed\"),r(t,n(\"DirectedEdge\"),\"directed\"),r(t,n(\"UndirectedEdge\"),\"undirected\")}))}(zt),function(t){et.forEach((function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];if(!arguments.length)return ut(this,r);if(1===arguments.length){t=\"\"+t;var o=this._nodes.get(t);if(void 0===o)throw new F(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return pt(this.multi,\"mixed\"===r?this.type:r,i,o)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new F(\"Graph.\".concat(n,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(n,':  could not find the \"').concat(e,'\" target node in the graph.'));return gt(r,this.multi,i,a,e)}throw new B(\"Graph.\".concat(n,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){if(1===arguments.length)return dt(!1,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ht(!1,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var c=this._nodes.get(t);if(!c)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return lt(!1,r,this.multi,i,c,e,n)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){var t,e=Array.prototype.slice.call(arguments),n=e.pop();if(0===e.length){var i=0;\"directed\"!==r&&(i+=this.undirectedSize),\"undirected\"!==r&&(i+=this.directedSize),t=new Array(i);var a=0;e.push((function(e,r,i,o,c,u,d){t[a++]=n(e,r,i,o,c,u,d)}))}else t=[],e.push((function(e,r,i,o,a,c,u){t.push(n(e,r,i,o,a,c,u))}));return this[o].apply(this,e),t};var c=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=[];return t.push((function(t,r,i,o,a,c,u){e(t,r,i,o,a,c,u)&&n.push(t)})),this[o].apply(this,t),n};var u=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(){var t,e,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new B(\"Graph.\".concat(u,\": invalid number of arguments (expecting 2, 3 or 4 and got \").concat(n.length,\").\"));if(\"function\"==typeof n[n.length-1]&&\"function\"!=typeof n[n.length-2])throw new B(\"Graph.\".concat(u,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));2===n.length?(t=n[0],e=n[1],n=[]):3===n.length?(t=n[1],e=n[2],n=[n[0]]):4===n.length&&(t=n[2],e=n[3],n=[n[0],n[1]]);var r=e;return n.push((function(e,n,i,o,a,c,u){r=t(r,e,n,i,o,a,c,u)})),this[o].apply(this,n),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"find\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return dt(!0,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ht(!0,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var c=this._nodes.get(t);if(!c)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return lt(!0,r,this.multi,i,c,e,n)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))};var a=\"some\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,c){return e(t,n,r,i,o,a,c)})),!!this[o].apply(this,t)};var c=\"every\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[c]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,c){return!e(t,n,r,i,o,a,c)})),!this[o].apply(this,t)}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();if(!arguments.length)return st(this,r);if(1===arguments.length){t=\"\"+t;var n=this._nodes.get(t);if(!n)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ft(r,i,n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return yt(r,i,a,e)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e)}))}(zt),function(t){wt.forEach((function(e){_t(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));mt(!1,\"mixed\"===r?this.type:r,i,n,e)}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(t,e){var n=[];return this[o](t,(function(t,r){n.push(e(t,r))})),n};var c=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(t,e){var n=[];return this[o](t,(function(t,r){e(t,r)&&n.push(t)})),n};var u=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(t,e,n){if(arguments.length<3)throw new B(\"Graph.\".concat(u,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));var r=n;return this[o](t,(function(t,n){r=e(r,t,n)})),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n[0].toUpperCase()+n.slice(1,-1),a=\"find\"+o;t.prototype[a]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new F(\"Graph.\".concat(a,': could not find the \"').concat(t,'\" node in the graph.'));return mt(!0,\"mixed\"===r?this.type:r,i,n,e)}};var c=\"some\"+o;t.prototype[c]=function(t,e){return!!this[a](t,e)};var u=\"every\"+o;t.prototype[u]=function(t,e){return!this[a](t,(function(t,n){return!e(t,n)}))}}(t,e),Gt(t,e)}))}(zt);var Wt=function(t){function n(e){var n=u({type:\"directed\"},e);if(\"multi\"in n&&!1!==n.multi)throw new B(\"DirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"directed\"!==n.type)throw new B('DirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Pt=function(t){function n(e){var n=u({type:\"undirected\"},e);if(\"multi\"in n&&!1!==n.multi)throw new B(\"UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"undirected\"!==n.type)throw new B('UndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Rt=function(t){function n(e){var n=u({multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiGraph.from: inconsistent indication that the graph should be simple in given options!\");return t.call(this,n)||this}return e(n,t),n}(zt),Kt=function(t){function n(e){var n=u({type:\"directed\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"directed\"!==n.type)throw new B('MultiDirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Tt=function(t){function n(e){var n=u({type:\"undirected\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"undirected\"!==n.type)throw new B('MultiUndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt);function Bt(t){t.from=function(e,n){var r=u({},e.options,n),i=new t(r);return i.import(e),i}}return Bt(zt),Bt(Wt),Bt(Pt),Bt(Rt),Bt(Kt),Bt(Tt),zt.Graph=zt,zt.DirectedGraph=Wt,zt.UndirectedGraph=Pt,zt.MultiGraph=Rt,zt.MultiDirectedGraph=Kt,zt.MultiUndirectedGraph=Tt,zt.InvalidArgumentsGraphError=B,zt.NotFoundGraphError=F,zt.UsageGraphError=I,zt}));\n//# sourceMappingURL=graphology.umd.min.js.map\n","/* @license\nPapa Parse\nv5.3.2\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()}(this,function s(){\"use strict\";var f=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=n&&/blob:/i.test((f.location||{}).protocol),a={},h=0,b={parse:function(e,t){var i=(t=t||{}).dynamicTyping||!1;M(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!M(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var r=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(i=f.URL||f.webkitURL||null,r=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob([\"(\",r,\")();\"],{type:\"text/javascript\"})))),t=new f.Worker(e);var i,r;return t.onmessage=_,t.id=h++,a[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=M(t.step),t.chunk=M(t.chunk),t.complete=M(t.complete),t.error=M(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;b.NODE_STREAM_INPUT,\"string\"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&M(e.read)&&M(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,_=!0,m=\",\",y=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1;!function(){if(\"object\"!=typeof t)return;\"string\"!=typeof t.delimiter||b.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter);(\"boolean\"==typeof t.quotes||\"function\"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines);\"string\"==typeof t.newline&&(y=t.newline);\"string\"==typeof t.quoteChar&&(s=t.quoteChar);\"boolean\"==typeof t.header&&(_=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s);(\"boolean\"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(o=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\\-@\\t\\r].*$/)}();var h=new RegExp(j(s),\"g\");\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e,t,i){var r=\"\";\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=v(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=n?e.length:t[o].length,u=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var d=[],l=0;l<h;l++){var c=s?e[l]:l;d.push(t[o][c])}u=\"\"===d.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!f&&(r+=m);var g=n&&s?e[p]:p;r+=v(t[o][g],p)}o<t.length-1&&(!i||0<h&&!f)&&(r+=y)}}return r}function v(e,t){if(null==e)return\"\";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;o&&\"string\"==typeof e&&o.test(e)&&(e=\"'\"+e,i=!0);var r=e.toString().replace(h,a);return(i=i||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(r,b.BAD_DELIMITERS)||-1<r.indexOf(m)||\" \"===r.charAt(0)||\" \"===r.charAt(r.length-1))?s+r+s:r}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK=\"\\ufeff\",b.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=\",\",b.Parser=E,b.ParserHandle=i,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&f.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0!==h.length){var e,t,i,r,n=h[0];if(M(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(M(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){M(a)&&a(e,n.file,n.inputElem),u()},b.parse(n.file,n.instanceConfig)}else M(o.complete)&&o.complete()}function u(){h.splice(0,1),e()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine=\"\";var n=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=r.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(M(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!M(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){M(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var r;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),n||(r.onload=v(this._chunkLoaded,this),r.onerror=v(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i)}try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:r.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader(\"Content-Range\");if(null===t)return-1;return parseInt(t.substring(t.lastIndexOf(\"/\")+1))}(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){var t=r.statusText||e;this._sendError(new Error(t))}}function c(e){var r,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),u.call(this,e);var s=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((r=new FileReader).onload=v(this._chunkLoaded,this),r.onerror=v(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var i=r.readAsText(e,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(r.error)}}function p(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=i.substring(0,t),i=i.substring(t)):(e=i,i=\"\"),this._finished=!i,this.parseChunk(e)}}}function g(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=v(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=v(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=v(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=v(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var a,o,h,r=Math.pow(2,53),n=-r,s=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,u=/^(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))$/,t=this,i=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(M(m.step)){var p=m.step;m.step=function(e){if(c=e,_())g();else{if(g(),0===c.data.length)return;i+=e.data.length,m.preview&&i>m.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function y(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){return c&&h&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+b.DefaultDelimiter+\"'\"),h=!1),m.skipEmptyLines&&(c.data=c.data.filter(function(e){return!y(e)})),_()&&function(){if(!c)return;function e(e,t){M(m.transformHeader)&&(e=m.transformHeader(e,t)),l.push(e)}if(Array.isArray(c.data[0])){for(var t=0;_()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e)}(),function(){if(!c||!m.header&&!m.dynamicTyping&&!m.transform)return c;function e(e,t){var i,r=m.header?{}:[];for(i=0;i<e.length;i++){var n=i,s=e[i];m.header&&(n=i>=l.length?\"__parsed_extra\":l[i]),m.transform&&(s=m.transform(s,n)),s=v(n,s),\"__parsed_extra\"===n?(r[n]=r[n]||[],r[n].push(s)):r[n]=s}return m.header&&(i>l.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+l.length+\" fields but parsed \"+i,f+t):i<l.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+l.length+\" fields but parsed \"+i,f+t)),r}var t=1;!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0);m.header&&c.meta&&(c.meta.fields=l);return f+=t,c}()}function _(){return m.header&&0===l.length}function v(e,t){return i=e,m.dynamicTypingFunction&&void 0===m.dynamicTyping[i]&&(m.dynamicTyping[i]=m.dynamicTypingFunction(i)),!0===(m.dynamicTyping[i]||m.dynamicTyping)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<r)return!0}return!1}(t)?parseFloat(t):u.test(t)?new Date(t):\"\"===t?null:t):t;var i}function k(e,t,i,r){var n={type:e,code:t,message:i};void 0!==r&&(n.row=r),c.errors.push(n)}this.parse=function(e,t,i){var r=m.quoteChar||'\"';if(m.newline||(m.newline=function(e,t){e=e.substring(0,1048576);var i=new RegExp(j(t)+\"([^]*?)\"+j(t),\"gm\"),r=(e=e.replace(i,\"\")).split(\"\\r\"),n=e.split(\"\\n\"),s=1<n.length&&n[0].length<r[0].length;if(1===r.length||s)return\"\\n\";for(var a=0,o=0;o<r.length;o++)\"\\n\"===r[o][0]&&a++;return a>=r.length/2?\"\\r\\n\":\"\\r\"}(e,r)),h=!1,m.delimiter)M(m.delimiter)&&(m.delimiter=m.delimiter(e),c.meta.delimiter=m.delimiter);else{var n=function(e,t,i,r,n){var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",b.RECORD_SEP,b.UNIT_SEP];for(var u=0;u<n.length;u++){var f=n[u],d=0,l=0,c=0;o=void 0;for(var p=new E({comments:r,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&y(p.data[g]))c++;else{var _=p.data[g].length;l+=_,void 0!==o?0<_&&(d+=Math.abs(_-o),o=_):o=_}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===h||h<l)&&1.99<l&&(a=d,s=f,h=l)}return{successful:!!(m.delimiter=s),bestDelimiter:s}}(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);n.successful?m.delimiter=n.bestDelimiter:(h=!0,m.delimiter=b.DefaultDelimiter),c.meta.delimiter=m.delimiter}var s=w(m);return m.preview&&m.header&&s.preview++,a=e,o=new E(s),c=o.parse(a,t,i),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=M(m.chunk)?\"\":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,M(m.complete)&&m.complete(c),a=\"\"}}function j(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function E(e){var S,O=(e=e||{}).delimiter,x=e.newline,I=e.comments,T=e.step,D=e.preview,A=e.fastMode,L=S=void 0===e.quoteChar||null===e.quoteChar?'\"':e.quoteChar;if(void 0!==e.escapeChar&&(L=e.escapeChar),(\"string\"!=typeof O||-1<b.BAD_DELIMITERS.indexOf(O))&&(O=\",\"),I===O)throw new Error(\"Comment character same as delimiter\");!0===I?I=\"#\":(\"string\"!=typeof I||-1<b.BAD_DELIMITERS.indexOf(I))&&(I=!1),\"\\n\"!==x&&\"\\r\"!==x&&\"\\r\\n\"!==x&&(x=\"\\n\");var F=0,z=!1;this.parse=function(r,t,i){if(\"string\"!=typeof r)throw new Error(\"Input must be a string\");var n=r.length,e=O.length,s=x.length,a=I.length,o=M(T),h=[],u=[],f=[],d=F=0;if(!r)return C();if(A||!1!==A&&-1===r.indexOf(S)){for(var l=r.split(x),c=0;c<l.length;c++){if(f=l[c],F+=f.length,c!==l.length-1)F+=x.length;else if(i)return C();if(!I||f.substring(0,a)!==I){if(o){if(h=[],k(f.split(O)),R(),z)return C()}else k(f.split(O));if(D&&D<=c)return h=h.slice(0,D),C(!0)}}return C()}for(var p=r.indexOf(O,F),g=r.indexOf(x,F),_=new RegExp(j(L)+j(S),\"g\"),m=r.indexOf(S,F);;)if(r[F]!==S)if(I&&0===f.length&&r.substring(F,F+a)===I){if(-1===g)return C();F=g+s,g=r.indexOf(x,F),p=r.indexOf(O,F)}else if(-1!==p&&(p<g||-1===g))f.push(r.substring(F,p)),F=p+e,p=r.indexOf(O,F);else{if(-1===g)break;if(f.push(r.substring(F,g)),w(g+s),o&&(R(),z))return C();if(D&&h.length>=D)return C(!0)}else for(m=F,F++;;){if(-1===(m=r.indexOf(S,m+1)))return i||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:F}),E();if(m===n-1)return E(r.substring(F,m).replace(_,S));if(S!==L||r[m+1]!==L){if(S===L||0===m||r[m-1]!==L){-1!==p&&p<m+1&&(p=r.indexOf(O,m+1)),-1!==g&&g<m+1&&(g=r.indexOf(x,m+1));var y=b(-1===g?p:Math.min(p,g));if(r.substr(m+1+y,e)===O){f.push(r.substring(F,m).replace(_,S)),r[F=m+1+y+e]!==S&&(m=r.indexOf(S,F)),p=r.indexOf(O,F),g=r.indexOf(x,F);break}var v=b(g);if(r.substring(m+1+v,m+1+v+s)===x){if(f.push(r.substring(F,m).replace(_,S)),w(m+1+v+s),p=r.indexOf(O,F),m=r.indexOf(S,F),o&&(R(),z))return C();if(D&&h.length>=D)return C(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:F}),m++}}else m++}return E();function k(e){h.push(e),d=F}function b(e){var t=0;if(-1!==e){var i=r.substring(m+1,e);i&&\"\"===i.trim()&&(t=i.length)}return t}function E(e){return i||(void 0===e&&(e=r.substring(F)),f.push(e),F=n,k(f),o&&R()),C()}function w(e){F=e,k(f),f=[],g=r.indexOf(x,F)}function C(e){return{data:h,errors:u,meta:{delimiter:O,linebreak:x,aborted:z,truncated:!!e,cursor:d+(t||0)}}}function R(){T(C()),h=[],u=[]}},this.abort=function(){z=!0},this.getCharIndex=function(){return F}}function _(e){var t=e.data,i=a[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(M(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else M(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&m(t.workerId,t.results)}function m(e,t){var i=a[e];M(i.userComplete)&&i.userComplete(t),i.terminate(),delete a[e]}function y(){throw new Error(\"Not implemented.\")}function w(e){if(\"object\"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=w(e[i]);return t}function v(e,t){return function(){e.apply(t,arguments)}}function M(e){return\"function\"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if(\"string\"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var i=b.parse(t.input,t.config);i&&f.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,b});","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js Camera Class\n * ======================\n *\n * Class designed to store camera information & used to update it.\n * @module\n */\nvar animate_1 = require(\"../utils/animate\");\nvar easings_1 = __importDefault(require(\"../utils/easings\"));\nvar utils_1 = require(\"../utils\");\nvar types_1 = require(\"../types\");\n/**\n * Defaults.\n */\nvar DEFAULT_ZOOMING_RATIO = 1.5;\n/**\n * Camera class\n *\n * @constructor\n */\nvar Camera = /** @class */ (function (_super) {\n    __extends(Camera, _super);\n    function Camera() {\n        var _this = _super.call(this) || this;\n        _this.x = 0.5;\n        _this.y = 0.5;\n        _this.angle = 0;\n        _this.ratio = 1;\n        _this.minRatio = null;\n        _this.maxRatio = null;\n        _this.nextFrame = null;\n        _this.previousState = null;\n        _this.enabled = true;\n        // State\n        _this.previousState = _this.getState();\n        return _this;\n    }\n    /**\n     * Static method used to create a Camera object with a given state.\n     *\n     * @param state\n     * @return {Camera}\n     */\n    Camera.from = function (state) {\n        var camera = new Camera();\n        return camera.setState(state);\n    };\n    /**\n     * Method used to enable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.enable = function () {\n        this.enabled = true;\n        return this;\n    };\n    /**\n     * Method used to disable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.disable = function () {\n        this.enabled = false;\n        return this;\n    };\n    /**\n     * Method used to retrieve the camera's current state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getState = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            angle: this.angle,\n            ratio: this.ratio,\n        };\n    };\n    /**\n     * Method used to check whether the camera has the given state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.hasState = function (state) {\n        return this.x === state.x && this.y === state.y && this.ratio === state.ratio && this.angle === state.angle;\n    };\n    /**\n     * Method used to retrieve the camera's previous state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getPreviousState = function () {\n        var state = this.previousState;\n        if (!state)\n            return null;\n        return {\n            x: state.x,\n            y: state.y,\n            angle: state.angle,\n            ratio: state.ratio,\n        };\n    };\n    /**\n     * Method used to check minRatio and maxRatio values.\n     *\n     * @param ratio\n     * @return {number}\n     */\n    Camera.prototype.getBoundedRatio = function (ratio) {\n        var r = ratio;\n        if (typeof this.minRatio === \"number\")\n            r = Math.max(r, this.minRatio);\n        if (typeof this.maxRatio === \"number\")\n            r = Math.min(r, this.maxRatio);\n        return r;\n    };\n    /**\n     * Method used to check various things to return a legit state candidate.\n     *\n     * @param state\n     * @return {object}\n     */\n    Camera.prototype.validateState = function (state) {\n        var validatedState = {};\n        if (typeof state.x === \"number\")\n            validatedState.x = state.x;\n        if (typeof state.y === \"number\")\n            validatedState.y = state.y;\n        if (typeof state.angle === \"number\")\n            validatedState.angle = state.angle;\n        if (typeof state.ratio === \"number\")\n            validatedState.ratio = this.getBoundedRatio(state.ratio);\n        return validatedState;\n    };\n    /**\n     * Method used to check whether the camera is currently being animated.\n     *\n     * @return {boolean}\n     */\n    Camera.prototype.isAnimated = function () {\n        return !!this.nextFrame;\n    };\n    /**\n     * Method used to set the camera's state.\n     *\n     * @param  {object} state - New state.\n     * @return {Camera}\n     */\n    Camera.prototype.setState = function (state) {\n        if (!this.enabled)\n            return this;\n        // TODO: update by function\n        // Keeping track of last state\n        this.previousState = this.getState();\n        var validState = this.validateState(state);\n        if (typeof validState.x === \"number\")\n            this.x = validState.x;\n        if (typeof validState.y === \"number\")\n            this.y = validState.y;\n        if (typeof validState.angle === \"number\")\n            this.angle = validState.angle;\n        if (typeof validState.ratio === \"number\")\n            this.ratio = validState.ratio;\n        // Emitting\n        if (!this.hasState(this.previousState))\n            this.emit(\"updated\", this.getState());\n        return this;\n    };\n    /**\n     * Method used to update the camera's state using a function.\n     *\n     * @param  {function} updater - Updated function taking current state and\n     *                              returning next state.\n     * @return {Camera}\n     */\n    Camera.prototype.updateState = function (updater) {\n        this.setState(updater(this.getState()));\n        return this;\n    };\n    /**\n     * Method used to animate the camera.\n     *\n     * @param  {object}                    state      - State to reach eventually.\n     * @param  {object}                    opts       - Options:\n     * @param  {number}                      duration - Duration of the animation.\n     * @param  {string | number => number}   easing   - Easing function or name of an existing one\n     * @param  {function}                  callback   - Callback\n     */\n    Camera.prototype.animate = function (state, opts, callback) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var options = Object.assign({}, animate_1.ANIMATE_DEFAULTS, opts);\n        var validState = this.validateState(state);\n        var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n        // State\n        var start = Date.now(), initialState = this.getState();\n        // Function performing the animation\n        var fn = function () {\n            var t = (Date.now() - start) / options.duration;\n            // The animation is over:\n            if (t >= 1) {\n                _this.nextFrame = null;\n                _this.setState(validState);\n                if (_this.animationCallback) {\n                    _this.animationCallback.call(null);\n                    _this.animationCallback = undefined;\n                }\n                return;\n            }\n            var coefficient = easing(t);\n            var newState = {};\n            if (typeof validState.x === \"number\")\n                newState.x = initialState.x + (validState.x - initialState.x) * coefficient;\n            if (typeof validState.y === \"number\")\n                newState.y = initialState.y + (validState.y - initialState.y) * coefficient;\n            if (typeof validState.angle === \"number\")\n                newState.angle = initialState.angle + (validState.angle - initialState.angle) * coefficient;\n            if (typeof validState.ratio === \"number\")\n                newState.ratio = initialState.ratio + (validState.ratio - initialState.ratio) * coefficient;\n            _this.setState(newState);\n            _this.nextFrame = (0, utils_1.requestFrame)(fn);\n        };\n        if (this.nextFrame) {\n            (0, utils_1.cancelFrame)(this.nextFrame);\n            if (this.animationCallback)\n                this.animationCallback.call(null);\n            this.nextFrame = (0, utils_1.requestFrame)(fn);\n        }\n        else {\n            fn();\n        }\n        this.animationCallback = callback;\n    };\n    /**\n     * Method used to zoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     * @return {function}\n     */\n    Camera.prototype.animatedZoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio / DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio / factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio / (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to unzoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     */\n    Camera.prototype.animatedUnzoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio * DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio * factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio * (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to reset the camera.\n     *\n     * @param  {object} options - Options.\n     */\n    Camera.prototype.animatedReset = function (options) {\n        this.animate({\n            x: 0.5,\n            y: 0.5,\n            ratio: 1,\n            angle: 0,\n        }, options);\n    };\n    /**\n     * Returns a new Camera instance, with the same state as the current camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.copy = function () {\n        return Camera.from(this.getState());\n    };\n    return Camera;\n}(types_1.TypedEventEmitter));\nexports.default = Camera;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWheelDelta = exports.getTouchCoords = exports.getTouchesArray = exports.getWheelCoords = exports.getMouseCoords = exports.getPosition = void 0;\n/**\n * Sigma.js Captor Class\n * ======================\n * @module\n */\nvar types_1 = require(\"../../types\");\n/**\n * Captor utils functions\n * ======================\n */\n/**\n * Extract the local X and Y coordinates from a mouse event or touch object. If\n * a DOM element is given, it uses this element's offset to compute the position\n * (this allows using events that are not bound to the container itself and\n * still have a proper position).\n *\n * @param  {event}       e - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {number}      The local Y value of the mouse.\n */\nfunction getPosition(e, dom) {\n    var bbox = dom.getBoundingClientRect();\n    return {\n        x: e.clientX - bbox.left,\n        y: e.clientY - bbox.top,\n    };\n}\nexports.getPosition = getPosition;\n/**\n * Convert mouse coords to sigma coords.\n *\n * @param  {event}       e   - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getMouseCoords(e, dom) {\n    var res = __assign(__assign({}, getPosition(e, dom)), { sigmaDefaultPrevented: false, preventSigmaDefault: function () {\n            res.sigmaDefaultPrevented = true;\n        }, original: e });\n    return res;\n}\nexports.getMouseCoords = getMouseCoords;\n/**\n * Convert mouse wheel event coords to sigma coords.\n *\n * @param  {event}       e   - A wheel mouse event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getWheelCoords(e, dom) {\n    return __assign(__assign({}, getMouseCoords(e, dom)), { delta: getWheelDelta(e) });\n}\nexports.getWheelCoords = getWheelCoords;\nvar MAX_TOUCHES = 2;\nfunction getTouchesArray(touches) {\n    var arr = [];\n    for (var i = 0, l = Math.min(touches.length, MAX_TOUCHES); i < l; i++)\n        arr.push(touches[i]);\n    return arr;\n}\nexports.getTouchesArray = getTouchesArray;\n/**\n * Convert touch coords to sigma coords.\n *\n * @param  {event}       e   - A touch event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getTouchCoords(e, dom) {\n    return {\n        touches: getTouchesArray(e.touches).map(function (touch) { return getPosition(touch, dom); }),\n        original: e,\n    };\n}\nexports.getTouchCoords = getTouchCoords;\n/**\n * Extract the wheel delta from a mouse event or touch object.\n *\n * @param  {event}  e - A mouse event or touch object.\n * @return {number}     The wheel delta of the mouse.\n */\nfunction getWheelDelta(e) {\n    // TODO: check those ratios again to ensure a clean Chrome/Firefox compat\n    if (typeof e.deltaY !== \"undefined\")\n        return (e.deltaY * -3) / 360;\n    if (typeof e.detail !== \"undefined\")\n        return e.detail / -9;\n    throw new Error(\"Captor: could not extract delta from event.\");\n}\nexports.getWheelDelta = getWheelDelta;\n/**\n * Abstract class representing a captor like the user's mouse or touch controls.\n */\nvar Captor = /** @class */ (function (_super) {\n    __extends(Captor, _super);\n    function Captor(container, renderer) {\n        var _this = _super.call(this) || this;\n        // Properties\n        _this.container = container;\n        _this.renderer = renderer;\n        return _this;\n    }\n    return Captor;\n}(types_1.TypedEventEmitter));\nexports.default = Captor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\n/**\n * Constants.\n */\nvar DRAG_TIMEOUT = 100;\nvar DRAGGED_EVENTS_TOLERANCE = 3;\nvar MOUSE_INERTIA_DURATION = 200;\nvar MOUSE_INERTIA_RATIO = 3;\nvar MOUSE_ZOOM_DURATION = 250;\nvar ZOOMING_RATIO = 1.7;\nvar DOUBLE_CLICK_TIMEOUT = 300;\nvar DOUBLE_CLICK_ZOOMING_RATIO = 2.2;\nvar DOUBLE_CLICK_ZOOMING_DURATION = 200;\n/**\n * Mouse captor class.\n *\n * @constructor\n */\nvar MouseCaptor = /** @class */ (function (_super) {\n    __extends(MouseCaptor, _super);\n    function MouseCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        // State\n        _this.enabled = true;\n        _this.draggedEvents = 0;\n        _this.downStartTime = null;\n        _this.lastMouseX = null;\n        _this.lastMouseY = null;\n        _this.isMouseDown = false;\n        _this.isMoving = false;\n        _this.movingTimeout = null;\n        _this.startCameraState = null;\n        _this.clicks = 0;\n        _this.doubleClickTimeout = null;\n        _this.currentWheelDirection = 0;\n        // Binding methods\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleRightClick = _this.handleRightClick.bind(_this);\n        _this.handleDown = _this.handleDown.bind(_this);\n        _this.handleUp = _this.handleUp.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        _this.handleWheel = _this.handleWheel.bind(_this);\n        _this.handleOut = _this.handleOut.bind(_this);\n        // Binding events\n        container.addEventListener(\"click\", _this.handleClick, false);\n        container.addEventListener(\"contextmenu\", _this.handleRightClick, false);\n        container.addEventListener(\"mousedown\", _this.handleDown, false);\n        container.addEventListener(\"wheel\", _this.handleWheel, false);\n        container.addEventListener(\"mouseout\", _this.handleOut, false);\n        document.addEventListener(\"mousemove\", _this.handleMove, false);\n        document.addEventListener(\"mouseup\", _this.handleUp, false);\n        return _this;\n    }\n    MouseCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"click\", this.handleClick);\n        container.removeEventListener(\"contextmenu\", this.handleRightClick);\n        container.removeEventListener(\"mousedown\", this.handleDown);\n        container.removeEventListener(\"wheel\", this.handleWheel);\n        container.removeEventListener(\"mouseout\", this.handleOut);\n        document.removeEventListener(\"mousemove\", this.handleMove);\n        document.removeEventListener(\"mouseup\", this.handleUp);\n    };\n    MouseCaptor.prototype.handleClick = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        this.clicks++;\n        if (this.clicks === 2) {\n            this.clicks = 0;\n            if (typeof this.doubleClickTimeout === \"number\") {\n                clearTimeout(this.doubleClickTimeout);\n                this.doubleClickTimeout = null;\n            }\n            return this.handleDoubleClick(e);\n        }\n        setTimeout(function () {\n            _this.clicks = 0;\n            _this.doubleClickTimeout = null;\n        }, DOUBLE_CLICK_TIMEOUT);\n        // NOTE: this is here to prevent click events on drag\n        if (this.draggedEvents < DRAGGED_EVENTS_TOLERANCE)\n            this.emit(\"click\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleRightClick = function (e) {\n        if (!this.enabled)\n            return;\n        this.emit(\"rightClick\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleDoubleClick = function (e) {\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        this.emit(\"doubleClick\", mouseCoords);\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // default behavior\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio / DOUBLE_CLICK_ZOOMING_RATIO);\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticInOut\",\n            duration: DOUBLE_CLICK_ZOOMING_DURATION,\n        });\n    };\n    MouseCaptor.prototype.handleDown = function (e) {\n        if (!this.enabled)\n            return;\n        // We only start dragging on left button\n        if (e.button === 0) {\n            this.startCameraState = this.renderer.getCamera().getState();\n            var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n            this.lastMouseX = x;\n            this.lastMouseY = y;\n            this.draggedEvents = 0;\n            this.downStartTime = Date.now();\n            this.isMouseDown = true;\n        }\n        this.emit(\"mousedown\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleUp = function (e) {\n        var _this = this;\n        if (!this.enabled || !this.isMouseDown)\n            return;\n        var camera = this.renderer.getCamera();\n        this.isMouseDown = false;\n        if (typeof this.movingTimeout === \"number\") {\n            clearTimeout(this.movingTimeout);\n            this.movingTimeout = null;\n        }\n        var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n        var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n        if (this.isMoving) {\n            camera.animate({\n                x: cameraState.x + MOUSE_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                y: cameraState.y + MOUSE_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n            }, {\n                duration: MOUSE_INERTIA_DURATION,\n                easing: \"quadraticOut\",\n            });\n        }\n        else if (this.lastMouseX !== x || this.lastMouseY !== y) {\n            camera.setState({\n                x: cameraState.x,\n                y: cameraState.y,\n            });\n        }\n        this.isMoving = false;\n        setTimeout(function () {\n            _this.draggedEvents = 0;\n            // NOTE: this refresh is here to make sure `hideEdgesOnMove` can work\n            // when someone releases camera pan drag after having stopped moving.\n            // See commit: https://github.com/jacomyal/sigma.js/commit/cfd9197f70319109db6b675dd7c82be493ca95a2\n            // See also issue: https://github.com/jacomyal/sigma.js/issues/1290\n            // It could be possible to render instead of scheduling a refresh but for\n            // now it seems good enough.\n            _this.renderer.refresh();\n        }, 0);\n        this.emit(\"mouseup\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleMove = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        // Always trigger a \"mousemovebody\" event, so that it is possible to develop\n        // a drag-and-drop effect that works even when the mouse is out of the\n        // container:\n        this.emit(\"mousemovebody\", mouseCoords);\n        // Only trigger the \"mousemove\" event when the mouse is actually hovering\n        // the container, to avoid weirdly hovering nodes and/or edges when the\n        // mouse is not hover the container:\n        if (e.target === this.container) {\n            this.emit(\"mousemove\", mouseCoords);\n        }\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // Handle the case when \"isMouseDown\" all the time, to allow dragging the\n        // stage while the mouse is not hover the container:\n        if (this.isMouseDown) {\n            this.isMoving = true;\n            this.draggedEvents++;\n            if (typeof this.movingTimeout === \"number\") {\n                clearTimeout(this.movingTimeout);\n            }\n            this.movingTimeout = window.setTimeout(function () {\n                _this.movingTimeout = null;\n                _this.isMoving = false;\n            }, DRAG_TIMEOUT);\n            var camera = this.renderer.getCamera();\n            var _a = (0, captor_1.getPosition)(e, this.container), eX = _a.x, eY = _a.y;\n            var lastMouse = this.renderer.viewportToFramedGraph({\n                x: this.lastMouseX,\n                y: this.lastMouseY,\n            });\n            var mouse = this.renderer.viewportToFramedGraph({ x: eX, y: eY });\n            var offsetX = lastMouse.x - mouse.x, offsetY = lastMouse.y - mouse.y;\n            var cameraState = camera.getState();\n            var x = cameraState.x + offsetX, y = cameraState.y + offsetY;\n            camera.setState({ x: x, y: y });\n            this.lastMouseX = eX;\n            this.lastMouseY = eY;\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    };\n    MouseCaptor.prototype.handleWheel = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var delta = (0, captor_1.getWheelDelta)(e);\n        if (!delta)\n            return;\n        var wheelCoords = (0, captor_1.getWheelCoords)(e, this.container);\n        this.emit(\"wheel\", wheelCoords);\n        if (wheelCoords.sigmaDefaultPrevented)\n            return;\n        // Default behavior\n        var ratioDiff = delta > 0 ? 1 / ZOOMING_RATIO : ZOOMING_RATIO;\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio * ratioDiff);\n        var wheelDirection = delta > 0 ? 1 : -1;\n        var now = Date.now();\n        // Cancel events that are too close too each other and in the same direction:\n        if (this.currentWheelDirection === wheelDirection &&\n            this.lastWheelTriggerTime &&\n            now - this.lastWheelTriggerTime < MOUSE_ZOOM_DURATION / 5) {\n            return;\n        }\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticOut\",\n            duration: MOUSE_ZOOM_DURATION,\n        }, function () {\n            _this.currentWheelDirection = 0;\n        });\n        this.currentWheelDirection = wheelDirection;\n        this.lastWheelTriggerTime = now;\n    };\n    MouseCaptor.prototype.handleOut = function () {\n        // TODO: dispatch event\n    };\n    return MouseCaptor;\n}(captor_1.default));\nexports.default = MouseCaptor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\nvar DRAG_TIMEOUT = 200;\nvar TOUCH_INERTIA_RATIO = 3;\nvar TOUCH_INERTIA_DURATION = 200;\n/**\n * Touch captor class.\n *\n * @constructor\n */\nvar TouchCaptor = /** @class */ (function (_super) {\n    __extends(TouchCaptor, _super);\n    function TouchCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        _this.enabled = true;\n        _this.isMoving = false;\n        _this.hasMoved = false;\n        _this.touchMode = 0; // number of touches down\n        _this.startTouchesPositions = [];\n        // Binding methods:\n        _this.handleStart = _this.handleStart.bind(_this);\n        _this.handleLeave = _this.handleLeave.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        // Binding events\n        container.addEventListener(\"touchstart\", _this.handleStart, false);\n        container.addEventListener(\"touchend\", _this.handleLeave, false);\n        container.addEventListener(\"touchcancel\", _this.handleLeave, false);\n        container.addEventListener(\"touchmove\", _this.handleMove, false);\n        return _this;\n    }\n    TouchCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"touchstart\", this.handleStart);\n        container.removeEventListener(\"touchend\", this.handleLeave);\n        container.removeEventListener(\"touchcancel\", this.handleLeave);\n        container.removeEventListener(\"touchmove\", this.handleMove);\n    };\n    TouchCaptor.prototype.getDimensions = function () {\n        return {\n            width: this.container.offsetWidth,\n            height: this.container.offsetHeight,\n        };\n    };\n    TouchCaptor.prototype.dispatchRelatedMouseEvent = function (type, e, touch, emitter) {\n        var mousePosition = touch || e.touches[0];\n        var mouseEvent = new MouseEvent(type, {\n            clientX: mousePosition.clientX,\n            clientY: mousePosition.clientY,\n            altKey: e.altKey,\n            ctrlKey: e.ctrlKey,\n        });\n        mouseEvent.isFakeSigmaMouseEvent = true;\n        (emitter || this.container).dispatchEvent(mouseEvent);\n    };\n    TouchCaptor.prototype.handleStart = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousedown\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        this.touchMode = touches.length;\n        this.startCameraState = this.renderer.getCamera().getState();\n        this.startTouchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouches = touches;\n        this.lastTouchesPositions = this.startTouchesPositions;\n        // When there are two touches down, let's record distance and angle as well:\n        if (this.touchMode === 2) {\n            var _a = __read(this.startTouchesPositions, 2), _b = _a[0], x0 = _b.x, y0 = _b.y, _c = _a[1], x1 = _c.x, y1 = _c.y;\n            this.startTouchesAngle = Math.atan2(y1 - y0, x1 - x0);\n            this.startTouchesDistance = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n        }\n        this.emit(\"touchdown\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleLeave = function (e) {\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 0 && this.lastTouches && this.lastTouches.length) {\n            this.dispatchRelatedMouseEvent(\"mouseup\", e, this.lastTouches[0], document);\n            // ... and only click if no move was made\n            if (!this.hasMoved) {\n                this.dispatchRelatedMouseEvent(\"click\", e, this.lastTouches[0]);\n            }\n        }\n        if (this.movingTimeout) {\n            this.isMoving = false;\n            clearTimeout(this.movingTimeout);\n        }\n        switch (this.touchMode) {\n            case 2:\n                if (e.touches.length === 1) {\n                    this.handleStart(e);\n                    e.preventDefault();\n                    break;\n                }\n            /* falls through */\n            case 1:\n                // TODO\n                // Dispatch event\n                if (this.isMoving) {\n                    var camera = this.renderer.getCamera();\n                    var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n                    camera.animate({\n                        x: cameraState.x + TOUCH_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                        y: cameraState.y + TOUCH_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n                    }, {\n                        duration: TOUCH_INERTIA_DURATION,\n                        easing: \"quadraticOut\",\n                    });\n                }\n                this.hasMoved = false;\n                this.isMoving = false;\n                this.touchMode = 0;\n                break;\n        }\n        this.emit(\"touchup\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleMove = function (e) {\n        var _a;\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousemove\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        var touchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouches = touches;\n        this.lastTouchesPositions = touchesPositions;\n        // If a move was initiated at some point and we get back to startpoint,\n        // we should still consider that we did move (which also happens after a\n        // multiple touch when only one touch remains in which case handleStart\n        // is recalled within handleLeave).\n        // Now, some mobile browsers report zero-distance moves so we also check that\n        // one of the touches did actually move from the origin position.\n        this.hasMoved || (this.hasMoved = touchesPositions.some(function (position, idx) {\n            var startPosition = _this.startTouchesPositions[idx];\n            return position.x !== startPosition.x || position.y !== startPosition.y;\n        }));\n        // If there was no move, do not trigger touch moves behavior\n        if (!this.hasMoved) {\n            return;\n        }\n        this.isMoving = true;\n        if (this.movingTimeout)\n            clearTimeout(this.movingTimeout);\n        this.movingTimeout = window.setTimeout(function () {\n            _this.isMoving = false;\n        }, DRAG_TIMEOUT);\n        var camera = this.renderer.getCamera();\n        var startCameraState = this.startCameraState;\n        switch (this.touchMode) {\n            case 1: {\n                var _b = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0]), xStart = _b.x, yStart = _b.y;\n                var _c = this.renderer.viewportToFramedGraph(touchesPositions[0]), x = _c.x, y = _c.y;\n                camera.setState({\n                    x: startCameraState.x + xStart - x,\n                    y: startCameraState.y + yStart - y,\n                });\n                break;\n            }\n            case 2: {\n                /**\n                 * Here is the thinking here:\n                 *\n                 * 1. We can find the new angle and ratio, by comparing the vector from \"touch one\" to \"touch two\" at the start\n                 *    of the d'n'd and now\n                 *\n                 * 2. We can use `Camera#viewportToGraph` inside formula to retrieve the new camera position, using the graph\n                 *    position of a touch at the beginning of the d'n'd (using `startCamera.viewportToGraph`) and the viewport\n                 *    position of this same touch now\n                 */\n                var newCameraState = {};\n                var _d = touchesPositions[0], x0 = _d.x, y0 = _d.y;\n                var _e = touchesPositions[1], x1 = _e.x, y1 = _e.y;\n                var angleDiff = Math.atan2(y1 - y0, x1 - x0) - this.startTouchesAngle;\n                var ratioDiff = Math.hypot(y1 - y0, x1 - x0) / this.startTouchesDistance;\n                // 1.\n                var newRatio = camera.getBoundedRatio(startCameraState.ratio / ratioDiff);\n                newCameraState.ratio = newRatio;\n                newCameraState.angle = startCameraState.angle + angleDiff;\n                // 2.\n                var dimensions = this.getDimensions();\n                var touchGraphPosition = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0], { cameraState: startCameraState });\n                var smallestDimension = Math.min(dimensions.width, dimensions.height);\n                var dx = smallestDimension / dimensions.width;\n                var dy = smallestDimension / dimensions.height;\n                var ratio = newRatio / smallestDimension;\n                // Align with center of the graph:\n                var x = x0 - smallestDimension / 2 / dx;\n                var y = y0 - smallestDimension / 2 / dy;\n                // Rotate:\n                _a = __read([\n                    x * Math.cos(-newCameraState.angle) - y * Math.sin(-newCameraState.angle),\n                    y * Math.cos(-newCameraState.angle) + x * Math.sin(-newCameraState.angle),\n                ], 2), x = _a[0], y = _a[1];\n                newCameraState.x = touchGraphPosition.x - x * ratio;\n                newCameraState.y = touchGraphPosition.y + y * ratio;\n                camera.setState(newCameraState);\n                break;\n            }\n        }\n        this.emit(\"touchmove\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    return TouchCaptor;\n}(captor_1.default));\nexports.default = TouchCaptor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.edgeLabelsToDisplayFromNodes = exports.LabelGrid = void 0;\n/**\n * Class representing a single candidate for the label grid selection.\n *\n * It also describes a deterministic way to compare two candidates to assess\n * which one is better.\n */\nvar LabelCandidate = /** @class */ (function () {\n    function LabelCandidate(key, size) {\n        this.key = key;\n        this.size = size;\n    }\n    LabelCandidate.compare = function (first, second) {\n        // First we compare by size\n        if (first.size > second.size)\n            return -1;\n        if (first.size < second.size)\n            return 1;\n        // Then since no two nodes can have the same key, we use it to\n        // deterministically tie-break by key\n        if (first.key > second.key)\n            return 1;\n        // NOTE: this comparator cannot return 0\n        return -1;\n    };\n    return LabelCandidate;\n}());\n/**\n * Class representing a 2D spatial grid divided into constant-size cells.\n */\nvar LabelGrid = /** @class */ (function () {\n    function LabelGrid() {\n        this.width = 0;\n        this.height = 0;\n        this.cellSize = 0;\n        this.columns = 0;\n        this.rows = 0;\n        this.cells = {};\n    }\n    LabelGrid.prototype.resizeAndClear = function (dimensions, cellSize) {\n        this.width = dimensions.width;\n        this.height = dimensions.height;\n        this.cellSize = cellSize;\n        this.columns = Math.ceil(dimensions.width / cellSize);\n        this.rows = Math.ceil(dimensions.height / cellSize);\n        this.cells = {};\n    };\n    LabelGrid.prototype.getIndex = function (pos) {\n        var xIndex = Math.floor(pos.x / this.cellSize);\n        var yIndex = Math.floor(pos.y / this.cellSize);\n        return yIndex * this.columns + xIndex;\n    };\n    LabelGrid.prototype.add = function (key, size, pos) {\n        var candidate = new LabelCandidate(key, size);\n        var index = this.getIndex(pos);\n        var cell = this.cells[index];\n        if (!cell) {\n            cell = [];\n            this.cells[index] = cell;\n        }\n        cell.push(candidate);\n    };\n    LabelGrid.prototype.organize = function () {\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            cell.sort(LabelCandidate.compare);\n        }\n    };\n    LabelGrid.prototype.getLabelsToDisplay = function (ratio, density) {\n        // TODO: work on visible nodes to optimize? ^ -> threshold outside so that memoization works?\n        // TODO: adjust threshold lower, but increase cells a bit?\n        // TODO: hunt for geom issue in disguise\n        // TODO: memoize while ratio does not move. method to force recompute\n        var cellArea = this.cellSize * this.cellSize;\n        var scaledCellArea = cellArea / ratio / ratio;\n        var scaledDensity = (scaledCellArea * density) / cellArea;\n        var labelsToDisplayPerCell = Math.ceil(scaledDensity);\n        var labels = [];\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            for (var i = 0; i < Math.min(labelsToDisplayPerCell, cell.length); i++) {\n                labels.push(cell[i].key);\n            }\n        }\n        return labels;\n    };\n    return LabelGrid;\n}());\nexports.LabelGrid = LabelGrid;\n/**\n * Label heuristic selecting edge labels to display, based on displayed node\n * labels\n *\n * @param  {object} params                 - Parameters:\n * @param  {Set}      displayedNodeLabels  - Currently displayed node labels.\n * @param  {Set}      highlightedNodes     - Highlighted nodes.\n * @param  {Graph}    graph                - The rendered graph.\n * @param  {string}   hoveredNode          - Hovered node (optional)\n * @return {Array}                         - The selected labels.\n */\nfunction edgeLabelsToDisplayFromNodes(params) {\n    var graph = params.graph, hoveredNode = params.hoveredNode, highlightedNodes = params.highlightedNodes, displayedNodeLabels = params.displayedNodeLabels;\n    var worthyEdges = [];\n    // TODO: the code below can be optimized using #.forEach and batching the code per adj\n    // We should display an edge's label if:\n    //   - Any of its extremities is highlighted or hovered\n    //   - Both of its extremities has its label shown\n    graph.forEachEdge(function (edge, _, source, target) {\n        if (source === hoveredNode ||\n            target === hoveredNode ||\n            highlightedNodes.has(source) ||\n            highlightedNodes.has(target) ||\n            (displayedNodeLabels.has(source) && displayedNodeLabels.has(target))) {\n            worthyEdges.push(edge);\n        }\n    });\n    return worthyEdges;\n}\nexports.edgeLabelsToDisplayFromNodes = edgeLabelsToDisplayFromNodes;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rectangleCollidesWithQuad = exports.squareCollidesWithQuad = exports.getCircumscribedAlignedRectangle = exports.isRectangleAligned = void 0;\n/**\n * Sigma.js Quad Tree Class\n * =========================\n *\n * Class implementing the quad tree data structure used to solve hovers and\n * determine which elements are currently in the scope of the camera so that\n * we don't waste time rendering things the user cannot see anyway.\n * @module\n */\n/* eslint no-nested-ternary: 0 */\n/* eslint no-constant-condition: 0 */\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\n/**\n * Notes:\n *\n *   - a square can be represented as topleft + width, saying for the quad blocks,\n *     to reduce overall memory usage (which is already pretty low).\n *   - this implementation of a quadtree is often called a MX-CIF quadtree.\n *   - we could explore spatial hashing (hilbert quadtrees, notably).\n */\n/**\n * Constants.\n *\n * Note that since we are representing a static 4-ary tree, the indices of the\n * quadrants are the following:\n *   - TOP_LEFT:     4i + b\n *   - TOP_RIGHT:    4i + 2b\n *   - BOTTOM_LEFT:  4i + 3b\n *   - BOTTOM_RIGHT: 4i + 4b\n */\nvar BLOCKS = 4;\nvar MAX_LEVEL = 5;\n// Outside block is max block index + 1, i.e.:\n// BLOCKS * ((4 * (4 ** MAX_LEVEL) - 1) / 3)\nvar OUTSIDE_BLOCK = 5460;\nvar X_OFFSET = 0;\nvar Y_OFFSET = 1;\nvar WIDTH_OFFSET = 2;\nvar HEIGHT_OFFSET = 3;\nvar TOP_LEFT = 1;\nvar TOP_RIGHT = 2;\nvar BOTTOM_LEFT = 3;\nvar BOTTOM_RIGHT = 4;\nvar hasWarnedTooMuchOutside = false;\n/**\n * Geometry helpers.\n */\n/**\n * Function returning whether the given rectangle is axis-aligned.\n *\n * @param  {Rectangle} rect\n * @return {boolean}\n */\nfunction isRectangleAligned(rect) {\n    return rect.x1 === rect.x2 || rect.y1 === rect.y2;\n}\nexports.isRectangleAligned = isRectangleAligned;\n/**\n * Function returning the smallest rectangle that contains the given rectangle, and that is aligned with the axis.\n *\n * @param {Rectangle} rect\n * @return {Rectangle}\n */\nfunction getCircumscribedAlignedRectangle(rect) {\n    var width = Math.sqrt(Math.pow(rect.x2 - rect.x1, 2) + Math.pow(rect.y2 - rect.y1, 2));\n    var heightVector = {\n        x: ((rect.y1 - rect.y2) * rect.height) / width,\n        y: ((rect.x2 - rect.x1) * rect.height) / width,\n    };\n    // Compute all corners:\n    var tl = { x: rect.x1, y: rect.y1 };\n    var tr = { x: rect.x2, y: rect.y2 };\n    var bl = {\n        x: rect.x1 + heightVector.x,\n        y: rect.y1 + heightVector.y,\n    };\n    var br = {\n        x: rect.x2 + heightVector.x,\n        y: rect.y2 + heightVector.y,\n    };\n    var xL = Math.min(tl.x, tr.x, bl.x, br.x);\n    var xR = Math.max(tl.x, tr.x, bl.x, br.x);\n    var yT = Math.min(tl.y, tr.y, bl.y, br.y);\n    var yB = Math.max(tl.y, tr.y, bl.y, br.y);\n    return {\n        x1: xL,\n        y1: yT,\n        x2: xR,\n        y2: yT,\n        height: yB - yT,\n    };\n}\nexports.getCircumscribedAlignedRectangle = getCircumscribedAlignedRectangle;\n/**\n *\n * @param x1\n * @param y1\n * @param w\n * @param qx\n * @param qy\n * @param qw\n * @param qh\n */\nfunction squareCollidesWithQuad(x1, y1, w, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + w > qy;\n}\nexports.squareCollidesWithQuad = squareCollidesWithQuad;\nfunction rectangleCollidesWithQuad(x1, y1, w, h, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + h > qy;\n}\nexports.rectangleCollidesWithQuad = rectangleCollidesWithQuad;\nfunction pointIsInQuad(x, y, qx, qy, qw, qh) {\n    var xmp = qx + qw / 2, ymp = qy + qh / 2, top = y < ymp, left = x < xmp;\n    return top ? (left ? TOP_LEFT : TOP_RIGHT) : left ? BOTTOM_LEFT : BOTTOM_RIGHT;\n}\n/**\n * Helper functions that are not bound to the class so an external user\n * cannot mess with them.\n */\nfunction buildQuadrants(maxLevel, data) {\n    // [block, level]\n    var stack = [0, 0];\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var x = data[block + X_OFFSET], y = data[block + Y_OFFSET], width = data[block + WIDTH_OFFSET], height = data[block + HEIGHT_OFFSET], hw = width / 2, hh = height / 2;\n        data[topLeftBlock + X_OFFSET] = x;\n        data[topLeftBlock + Y_OFFSET] = y;\n        data[topLeftBlock + WIDTH_OFFSET] = hw;\n        data[topLeftBlock + HEIGHT_OFFSET] = hh;\n        data[topRightBlock + X_OFFSET] = x + hw;\n        data[topRightBlock + Y_OFFSET] = y;\n        data[topRightBlock + WIDTH_OFFSET] = hw;\n        data[topRightBlock + HEIGHT_OFFSET] = hh;\n        data[bottomLeftBlock + X_OFFSET] = x;\n        data[bottomLeftBlock + Y_OFFSET] = y + hh;\n        data[bottomLeftBlock + WIDTH_OFFSET] = hw;\n        data[bottomLeftBlock + HEIGHT_OFFSET] = hh;\n        data[bottomRightBlock + X_OFFSET] = x + hw;\n        data[bottomRightBlock + Y_OFFSET] = y + hh;\n        data[bottomRightBlock + WIDTH_OFFSET] = hw;\n        data[bottomRightBlock + HEIGHT_OFFSET] = hh;\n        if (level < maxLevel - 1) {\n            stack.push(bottomRightBlock, level + 1);\n            stack.push(bottomLeftBlock, level + 1);\n            stack.push(topRightBlock, level + 1);\n            stack.push(topLeftBlock, level + 1);\n        }\n    }\n}\nfunction insertNode(maxLevel, data, containers, key, x, y, size) {\n    var x1 = x - size, y1 = y - size, w = size * 2;\n    var level = 0, block = 0;\n    while (true) {\n        // If we reached max level\n        if (level >= maxLevel) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = squareCollidesWithQuad(x1, y1, w, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = squareCollidesWithQuad(x1, y1, w, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = squareCollidesWithQuad(x1, y1, w, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = squareCollidesWithQuad(x1, y1, w, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        var collisions = [\n            collidingWithTopLeft,\n            collidingWithTopRight,\n            collidingWithBottomLeft,\n            collidingWithBottomRight,\n        ].reduce(function (acc, current) {\n            if (current)\n                return acc + 1;\n            else\n                return acc;\n        }, 0);\n        // If we have no collision at root level, inject node in the outside block\n        if (collisions === 0 && level === 0) {\n            containers[OUTSIDE_BLOCK].push(key);\n            if (!hasWarnedTooMuchOutside && containers[OUTSIDE_BLOCK].length >= 5) {\n                hasWarnedTooMuchOutside = true;\n                console.warn(\"sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. \" +\n                    \"You might have a problem with the normalization function or the custom bounding box.\");\n            }\n            return;\n        }\n        // If we don't have at least a collision but deeper, there is an issue\n        if (collisions === 0)\n            throw new Error(\"sigma/quadtree.insertNode: no collision (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have 3 collisions, we have a geometry problem obviously\n        if (collisions === 3)\n            throw new Error(\"sigma/quadtree.insertNode: 3 impossible collisions (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have more that one collision, we stop here and store the node\n        // in the relevant containers\n        if (collisions > 1) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        else {\n            level++;\n        }\n        // Else we recurse into the correct quads\n        if (collidingWithTopLeft)\n            block = topLeftBlock;\n        if (collidingWithTopRight)\n            block = topRightBlock;\n        if (collidingWithBottomLeft)\n            block = bottomLeftBlock;\n        if (collidingWithBottomRight)\n            block = bottomRightBlock;\n    }\n}\nfunction getNodesInAxisAlignedRectangleArea(maxLevel, data, containers, x1, y1, w, h) {\n    // [block, level]\n    var stack = [0, 0];\n    var collectedNodes = [];\n    var container;\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        // Collecting nodes\n        container = containers[block];\n        if (container)\n            (0, extend_1.default)(collectedNodes, container);\n        // If we reached max level\n        if (level >= maxLevel)\n            continue;\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = rectangleCollidesWithQuad(x1, y1, w, h, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        if (collidingWithTopLeft)\n            stack.push(topLeftBlock, level + 1);\n        if (collidingWithTopRight)\n            stack.push(topRightBlock, level + 1);\n        if (collidingWithBottomLeft)\n            stack.push(bottomLeftBlock, level + 1);\n        if (collidingWithBottomRight)\n            stack.push(bottomRightBlock, level + 1);\n    }\n    return collectedNodes;\n}\n/**\n * QuadTree class.\n *\n * @constructor\n * @param {object} boundaries - The graph boundaries.\n */\nvar QuadTree = /** @class */ (function () {\n    function QuadTree(params) {\n        var _a;\n        if (params === void 0) { params = {}; }\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        this.cache = null;\n        this.lastRectangle = null;\n        // Allocating the underlying byte array\n        var L = Math.pow(4, MAX_LEVEL);\n        this.data = new Float32Array(BLOCKS * ((4 * L - 1) / 3));\n        if (params.boundaries)\n            this.resize(params.boundaries);\n        else\n            this.resize({\n                x: 0,\n                y: 0,\n                width: 1,\n                height: 1,\n            });\n    }\n    QuadTree.prototype.add = function (key, x, y, size) {\n        insertNode(MAX_LEVEL, this.data, this.containers, key, x, y, size);\n        return this;\n    };\n    QuadTree.prototype.resize = function (boundaries) {\n        this.clear();\n        // Building the quadrants\n        this.data[X_OFFSET] = boundaries.x;\n        this.data[Y_OFFSET] = boundaries.y;\n        this.data[WIDTH_OFFSET] = boundaries.width;\n        this.data[HEIGHT_OFFSET] = boundaries.height;\n        buildQuadrants(MAX_LEVEL, this.data);\n    };\n    QuadTree.prototype.clear = function () {\n        var _a;\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        return this;\n    };\n    QuadTree.prototype.point = function (x, y) {\n        var nodes = this.containers[OUTSIDE_BLOCK].slice();\n        var block = 0, level = 0;\n        do {\n            if (this.containers[block])\n                (0, extend_1.default)(nodes, this.containers[block]);\n            var quad = pointIsInQuad(x, y, this.data[block + X_OFFSET], this.data[block + Y_OFFSET], this.data[block + WIDTH_OFFSET], this.data[block + HEIGHT_OFFSET]);\n            block = 4 * block + quad * BLOCKS;\n            level++;\n        } while (level <= MAX_LEVEL);\n        return nodes;\n    };\n    QuadTree.prototype.rectangle = function (x1, y1, x2, y2, height) {\n        var lr = this.lastRectangle;\n        if (lr && x1 === lr.x1 && x2 === lr.x2 && y1 === lr.y1 && y2 === lr.y2 && height === lr.height) {\n            return this.cache;\n        }\n        this.lastRectangle = {\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            height: height,\n        };\n        // If the rectangle is shifted, we use the smallest aligned rectangle that contains the shifted one:\n        if (!isRectangleAligned(this.lastRectangle))\n            this.lastRectangle = getCircumscribedAlignedRectangle(this.lastRectangle);\n        this.cache = getNodesInAxisAlignedRectangleArea(MAX_LEVEL, this.data, this.containers, x1, y1, Math.abs(x1 - x2) || Math.abs(y1 - y2), height);\n        // Add all the nodes in the outside block, since they might be relevant, and since they should be very few:\n        (0, extend_1.default)(this.cache, this.containers[OUTSIDE_BLOCK]);\n        return this.cache;\n    };\n    return QuadTree;\n}());\nexports.default = QuadTree;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sigma = exports.MouseCaptor = exports.QuadTree = exports.Camera = void 0;\n/**\n * Sigma.js Library Endpoint\n * =========================\n *\n * The library endpoint.\n * @module\n */\nvar sigma_1 = __importDefault(require(\"./sigma\"));\nexports.Sigma = sigma_1.default;\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nexports.Camera = camera_1.default;\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nexports.QuadTree = quadtree_1.default;\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nexports.MouseCaptor = mouse_1.default;\nexports.default = sigma_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawEdgeLabel(context, edgeData, sourceData, targetData, settings) {\n    var size = settings.edgeLabelSize, font = settings.edgeLabelFont, weight = settings.edgeLabelWeight, color = settings.edgeLabelColor.attribute\n        ? edgeData[settings.edgeLabelColor.attribute] || settings.edgeLabelColor.color || \"#000\"\n        : settings.edgeLabelColor.color;\n    var label = edgeData.label;\n    if (!label)\n        return;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Computing positions without considering nodes sizes:\n    var sSize = sourceData.size;\n    var tSize = targetData.size;\n    var sx = sourceData.x;\n    var sy = sourceData.y;\n    var tx = targetData.x;\n    var ty = targetData.y;\n    var cx = (sx + tx) / 2;\n    var cy = (sy + ty) / 2;\n    var dx = tx - sx;\n    var dy = ty - sy;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    if (d < sSize + tSize)\n        return;\n    // Adding nodes sizes:\n    sx += (dx * sSize) / d;\n    sy += (dy * sSize) / d;\n    tx -= (dx * tSize) / d;\n    ty -= (dy * tSize) / d;\n    cx = (sx + tx) / 2;\n    cy = (sy + ty) / 2;\n    dx = tx - sx;\n    dy = ty - sy;\n    d = Math.sqrt(dx * dx + dy * dy);\n    // Handling ellipsis\n    var textLength = context.measureText(label).width;\n    if (textLength > d) {\n        var ellipsis = \"…\";\n        label = label + ellipsis;\n        textLength = context.measureText(label).width;\n        while (textLength > d && label.length > 1) {\n            label = label.slice(0, -2) + ellipsis;\n            textLength = context.measureText(label).width;\n        }\n        if (label.length < 4)\n            return;\n    }\n    var angle;\n    if (dx > 0) {\n        if (dy > 0)\n            angle = Math.acos(dx / d);\n        else\n            angle = Math.asin(dy / d);\n    }\n    else {\n        if (dy > 0)\n            angle = Math.acos(dx / d) + Math.PI;\n        else\n            angle = Math.asin(dx / d) + Math.PI / 2;\n    }\n    context.save();\n    context.translate(cx, cy);\n    context.rotate(angle);\n    context.fillText(label, -textLength / 2, edgeData.size / 2 + size);\n    context.restore();\n}\nexports.default = drawEdgeLabel;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar label_1 = __importDefault(require(\"./label\"));\n/**\n * Draw an hovered node.\n * - if there is no label => display a shadow on the node\n * - if the label box is bigger than node size => display a label box that contains the node with a shadow\n * - else node with shadow and the label box\n */\nfunction drawHover(context, data, settings) {\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Then we draw the label background\n    context.fillStyle = \"#FFF\";\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 8;\n    context.shadowColor = \"#000\";\n    var PADDING = 2;\n    if (typeof data.label === \"string\") {\n        var textWidth = context.measureText(data.label).width, boxWidth = Math.round(textWidth + 5), boxHeight = Math.round(size + 2 * PADDING), radius = Math.max(data.size, size / 2) + PADDING;\n        var angleRadian = Math.asin(boxHeight / 2 / radius);\n        var xDeltaCoord = Math.sqrt(Math.abs(Math.pow(radius, 2) - Math.pow(boxHeight / 2, 2)));\n        context.beginPath();\n        context.moveTo(data.x + xDeltaCoord, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y - boxHeight / 2);\n        context.lineTo(data.x + xDeltaCoord, data.y - boxHeight / 2);\n        context.arc(data.x, data.y, radius, angleRadian, -angleRadian);\n        context.closePath();\n        context.fill();\n    }\n    else {\n        context.beginPath();\n        context.arc(data.x, data.y, data.size + PADDING, 0, Math.PI * 2);\n        context.closePath();\n        context.fill();\n    }\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 0;\n    // And finally we draw the label\n    (0, label_1.default)(context, data, settings);\n}\nexports.default = drawHover;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawLabel(context, data, settings) {\n    if (!data.label)\n        return;\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight, color = settings.labelColor.attribute\n        ? data[settings.labelColor.attribute] || settings.labelColor.color || \"#000\"\n        : settings.labelColor.color;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    context.fillText(data.label, data.x + data.size + 3, data.y + size / 3);\n}\nexports.default = drawLabel;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createEdgeCompoundProgram = exports.EdgeProgram = exports.AbstractEdgeProgram = void 0;\nvar program_1 = require(\"./program\");\nvar AbstractEdgeProgram = /** @class */ (function (_super) {\n    __extends(AbstractEdgeProgram, _super);\n    function AbstractEdgeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AbstractEdgeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractEdgeProgram = AbstractEdgeProgram;\nvar EdgeProgram = /** @class */ (function (_super) {\n    __extends(EdgeProgram, _super);\n    function EdgeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeProgram.prototype.process = function (offset, sourceData, targetData, data) {\n        var i = offset * this.STRIDE;\n        // NOTE: dealing with hidden items automatically\n        if (data.hidden || sourceData.hidden || targetData.hidden) {\n            for (var l = i + this.STRIDE; i < l; i++) {\n                this.array[i] = 0;\n            }\n            return;\n        }\n        return this.processVisibleItem(i, sourceData, targetData, data);\n    };\n    return EdgeProgram;\n}(program_1.Program));\nexports.EdgeProgram = EdgeProgram;\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nfunction createEdgeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function EdgeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (Program) {\n                return new Program(gl, renderer);\n            });\n        }\n        EdgeCompoundProgram.prototype.reallocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.reallocate(capacity); });\n        };\n        EdgeCompoundProgram.prototype.process = function (offset, sourceData, targetData, data) {\n            this.programs.forEach(function (program) { return program.process(offset, sourceData, targetData, data); });\n        };\n        EdgeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) { return program.render(params); });\n        };\n        return EdgeCompoundProgram;\n    }());\n}\nexports.createEdgeCompoundProgram = createEdgeCompoundProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createNodeCompoundProgram = exports.NodeProgram = exports.AbstractNodeProgram = void 0;\nvar program_1 = require(\"./program\");\nvar AbstractNodeProgram = /** @class */ (function (_super) {\n    __extends(AbstractNodeProgram, _super);\n    function AbstractNodeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AbstractNodeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractNodeProgram = AbstractNodeProgram;\nvar NodeProgram = /** @class */ (function (_super) {\n    __extends(NodeProgram, _super);\n    function NodeProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeProgram.prototype.process = function (offset, data) {\n        var i = offset * this.STRIDE;\n        // NOTE: dealing with hidden items automatically\n        if (data.hidden) {\n            for (var l = i + this.STRIDE; i < l; i++) {\n                this.array[i] = 0;\n            }\n            return;\n        }\n        return this.processVisibleItem(i, data);\n    };\n    return NodeProgram;\n}(program_1.Program));\nexports.NodeProgram = NodeProgram;\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nfunction createNodeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function NodeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (Program) {\n                return new Program(gl, renderer);\n            });\n        }\n        NodeCompoundProgram.prototype.reallocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.reallocate(capacity); });\n        };\n        NodeCompoundProgram.prototype.process = function (offset, data) {\n            this.programs.forEach(function (program) { return program.process(offset, data); });\n        };\n        NodeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) { return program.render(params); });\n        };\n        return NodeCompoundProgram;\n    }());\n}\nexports.createNodeCompoundProgram = createNodeCompoundProgram;\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Program = exports.AbstractProgram = void 0;\nvar utils_1 = require(\"../../../../utils\");\nvar utils_2 = require(\"../../shaders/utils\");\nvar SIZE_FACTOR_PER_ATTRIBUTE_TYPE = (_a = {},\n    _a[WebGL2RenderingContext.BOOL] = 1,\n    _a[WebGL2RenderingContext.BYTE] = 1,\n    _a[WebGL2RenderingContext.UNSIGNED_BYTE] = 1,\n    _a[WebGL2RenderingContext.SHORT] = 2,\n    _a[WebGL2RenderingContext.UNSIGNED_SHORT] = 2,\n    _a[WebGL2RenderingContext.INT] = 4,\n    _a[WebGL2RenderingContext.UNSIGNED_INT] = 4,\n    _a[WebGL2RenderingContext.FLOAT] = 4,\n    _a);\nvar AbstractProgram = /** @class */ (function () {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    function AbstractProgram(_gl, _renderer) {\n    }\n    return AbstractProgram;\n}());\nexports.AbstractProgram = AbstractProgram;\nvar Program = /** @class */ (function () {\n    function Program(gl, renderer) {\n        var _this = this;\n        this.array = new Float32Array();\n        this.indicesArray = null;\n        this.uniformLocations = {};\n        this.attributeLocations = {};\n        this.capacity = 0;\n        this.verticesCount = 0;\n        // Reading program definition\n        var definition = this.getDefinition();\n        this.VERTICES = definition.VERTICES;\n        this.ARRAY_ITEMS_PER_VERTEX = definition.ARRAY_ITEMS_PER_VERTEX;\n        this.VERTEX_SHADER_SOURCE = definition.VERTEX_SHADER_SOURCE;\n        this.FRAGMENT_SHADER_SOURCE = definition.FRAGMENT_SHADER_SOURCE;\n        this.UNIFORMS = definition.UNIFORMS;\n        this.ATTRIBUTES = definition.ATTRIBUTES;\n        // Computing stride\n        this.STRIDE = this.VERTICES * this.ARRAY_ITEMS_PER_VERTEX;\n        // Members\n        this.gl = gl;\n        this.renderer = renderer;\n        // Webgl buffers\n        var buffer = gl.createBuffer();\n        if (buffer === null)\n            throw new Error(\"Program: error while creating the webgl buffer.\");\n        this.buffer = buffer;\n        var indicesBuffer = gl.createBuffer();\n        if (indicesBuffer === null)\n            throw new Error(\"Program: error while creating the webgl indices buffer.\");\n        this.indicesBuffer = indicesBuffer;\n        // Shaders and program\n        this.vertexShader = (0, utils_2.loadVertexShader)(this.gl, this.VERTEX_SHADER_SOURCE);\n        this.fragmentShader = (0, utils_2.loadFragmentShader)(this.gl, this.FRAGMENT_SHADER_SOURCE);\n        this.program = (0, utils_2.loadProgram)(this.gl, [this.vertexShader, this.fragmentShader]);\n        // Indices\n        this.canUse32BitsIndices = (0, utils_1.canUse32BitsIndices)(this.gl);\n        this.indicesType = this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n        this.IndicesArray = this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n        // Initializing locations\n        this.UNIFORMS.forEach(function (uniformName) {\n            var location = _this.gl.getUniformLocation(_this.program, uniformName);\n            if (location === null)\n                throw new Error(\"Program: error while getting location for uniform \\\"\".concat(uniformName, \"\\\".\"));\n            _this.uniformLocations[uniformName] = location;\n        });\n        this.ATTRIBUTES.forEach(function (attr) {\n            var location = _this.gl.getAttribLocation(_this.program, attr.name);\n            if (location === -1)\n                throw new Error(\"Program: error while getting location for attribute \\\"\".concat(attr.name, \"\\\".\"));\n            _this.attributeLocations[attr.name] = location;\n        });\n    }\n    Program.prototype.bind = function () {\n        var _this = this;\n        var gl = this.gl;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        if (this.indicesArray) {\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n        }\n        for (var attributeName in this.attributeLocations) {\n            gl.enableVertexAttribArray(this.attributeLocations[attributeName]);\n        }\n        var offset = 0;\n        this.ATTRIBUTES.forEach(function (attr) {\n            var location = _this.attributeLocations[attr.name];\n            gl.vertexAttribPointer(location, attr.size, attr.type, attr.normalized || false, _this.ARRAY_ITEMS_PER_VERTEX * Float32Array.BYTES_PER_ELEMENT, offset);\n            var sizeFactor = SIZE_FACTOR_PER_ATTRIBUTE_TYPE[attr.type];\n            if (typeof sizeFactor !== \"number\")\n                throw new Error(\"Program.bind: yet unsupported attribute type \\\"\".concat(attr.type, \"\\\"!\"));\n            offset += attr.size * sizeFactor;\n        });\n    };\n    Program.prototype.bufferData = function () {\n        var gl = this.gl;\n        this.gl.bufferData(gl.ARRAY_BUFFER, this.array, gl.DYNAMIC_DRAW);\n        if (this.indicesArray) {\n            this.gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n        }\n    };\n    // NOTE: implementing `reallocateIndices` is optional\n    Program.prototype.reallocateIndices = function () {\n        return;\n    };\n    Program.prototype.reallocate = function (capacity) {\n        // If desired capacity has not changed we do nothing\n        // NOTE: it's possible here to implement more subtle reallocation schemes\n        // when the number of rendered items increase or decrease\n        if (capacity === this.capacity)\n            return;\n        this.capacity = capacity;\n        this.verticesCount = this.VERTICES * capacity;\n        this.array = new Float32Array(this.verticesCount * this.ARRAY_ITEMS_PER_VERTEX);\n        if (typeof this.reallocateIndices === \"function\")\n            this.reallocateIndices();\n    };\n    Program.prototype.hasNothingToRender = function () {\n        return this.verticesCount === 0;\n    };\n    Program.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        this.bind();\n        this.bufferData();\n        this.gl.useProgram(this.program);\n        this.draw(params);\n    };\n    return Program;\n}());\nexports.Program = Program;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Arrow Program\n * ===========================================\n *\n * Compound program rendering edges as an arrow from the source to the target.\n * @module\n */\nvar edge_1 = require(\"./common/edge\");\nvar edge_arrowHead_1 = __importDefault(require(\"./edge.arrowHead\"));\nvar edge_clamped_1 = __importDefault(require(\"./edge.clamped\"));\nvar EdgeArrowProgram = (0, edge_1.createEdgeCompoundProgram)([edge_clamped_1.default, edge_arrowHead_1.default]);\nexports.default = EdgeArrowProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_1 = require(\"./common/edge\");\nvar edge_arrowHead_vert_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.vert.glsl.js\"));\nvar edge_arrowHead_frag_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\", \"u_sizeRatio\", \"u_correctionRatio\"];\nvar EdgeArrowHeadProgram = /** @class */ (function (_super) {\n    __extends(EdgeArrowHeadProgram, _super);\n    function EdgeArrowHeadProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeArrowHeadProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 3,\n            ARRAY_ITEMS_PER_VERTEX: 9,\n            VERTEX_SHADER_SOURCE: edge_arrowHead_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: edge_arrowHead_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_radius\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_barycentric\", size: 3, type: FLOAT },\n            ],\n        };\n    };\n    EdgeArrowHeadProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var radius = targetData.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 1;\n        array[i++] = 0;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 1;\n        array[i++] = 0;\n        // Third point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i] = 1;\n    };\n    EdgeArrowHeadProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_matrix = _a.u_matrix, u_sizeRatio = _a.u_sizeRatio, u_correctionRatio = _a.u_correctionRatio;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n    };\n    return EdgeArrowHeadProgram;\n}(edge_1.EdgeProgram));\nexports.default = EdgeArrowHeadProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Program\n * =====================================\n *\n * Program rendering edges as thick lines but with a twist: the end of edge\n * does not sit in the middle of target node but instead stays by some margin.\n *\n * This is useful when combined with arrows to draw directed edges.\n * @module\n */\nvar edge_rectangle_1 = __importDefault(require(\"./edge.rectangle\"));\nvar edge_clamped_vert_glsl_1 = __importDefault(require(\"../shaders/edge.clamped.vert.glsl.js\"));\nvar utils_1 = require(\"../../../utils\");\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar EdgeClampedProgram = /** @class */ (function (_super) {\n    __extends(EdgeClampedProgram, _super);\n    function EdgeClampedProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeClampedProgram.prototype.getDefinition = function () {\n        return __assign(__assign({}, _super.prototype.getDefinition.call(this)), { ARRAY_ITEMS_PER_VERTEX: 6, VERTEX_SHADER_SOURCE: edge_clamped_vert_glsl_1.default, ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_radius\", size: 1, type: FLOAT },\n            ] });\n    };\n    EdgeClampedProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var radius = targetData.size || 1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = radius;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i] = -radius;\n    };\n    return EdgeClampedProgram;\n}(edge_rectangle_1.default));\nexports.default = EdgeClampedProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_1 = require(\"./common/edge\");\nvar edge_rectangle_vert_glsl_1 = __importDefault(require(\"../shaders/edge.rectangle.vert.glsl.js\"));\nvar edge_rectangle_frag_glsl_1 = __importDefault(require(\"../shaders/edge.rectangle.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_matrix\", \"u_zoomRatio\", \"u_sizeRatio\", \"u_correctionRatio\"];\nvar EdgeRectangleProgram = /** @class */ (function (_super) {\n    __extends(EdgeRectangleProgram, _super);\n    function EdgeRectangleProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EdgeRectangleProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 4,\n            ARRAY_ITEMS_PER_VERTEX: 5,\n            VERTEX_SHADER_SOURCE: edge_rectangle_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: edge_rectangle_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_normal\", size: 2, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n            ],\n        };\n    };\n    EdgeRectangleProgram.prototype.reallocateIndices = function () {\n        var l = this.verticesCount;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeRectangleProgram.prototype.processVisibleItem = function (i, sourceData, targetData, data) {\n        var thickness = data.size || 1;\n        var x1 = sourceData.x;\n        var y1 = sourceData.y;\n        var x2 = targetData.x;\n        var y2 = targetData.y;\n        var color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1;\n        var dy = y2 - y1;\n        var len = dx * dx + dy * dy;\n        var n1 = 0;\n        var n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i] = color;\n    };\n    EdgeRectangleProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_matrix = _a.u_matrix, u_zoomRatio = _a.u_zoomRatio, u_correctionRatio = _a.u_correctionRatio, u_sizeRatio = _a.u_sizeRatio;\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.uniform1f(u_zoomRatio, params.zoomRatio);\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        if (!this.indicesArray)\n            throw new Error(\"EdgeRectangleProgram: indicesArray should be allocated when drawing!\");\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeRectangleProgram;\n}(edge_1.EdgeProgram));\nexports.default = EdgeRectangleProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_1 = require(\"./common/node\");\nvar node_circle_vert_glsl_1 = __importDefault(require(\"../shaders/node.circle.vert.glsl.js\"));\nvar node_circle_frag_glsl_1 = __importDefault(require(\"../shaders/node.circle.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_sizeRatio\", \"u_correctionRatio\", \"u_matrix\"];\nvar NodeCircleProgram = /** @class */ (function (_super) {\n    __extends(NodeCircleProgram, _super);\n    function NodeCircleProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodeCircleProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 3,\n            ARRAY_ITEMS_PER_VERTEX: 5,\n            VERTEX_SHADER_SOURCE: node_circle_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: node_circle_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n                { name: \"a_angle\", size: 1, type: FLOAT },\n            ],\n        };\n    };\n    NodeCircleProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        var color = (0, utils_1.floatColor)(data.color);\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i++] = NodeCircleProgram.ANGLE_1;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i++] = NodeCircleProgram.ANGLE_2;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i++] = color;\n        array[i] = NodeCircleProgram.ANGLE_3;\n    };\n    NodeCircleProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_sizeRatio = _a.u_sizeRatio, u_correctionRatio = _a.u_correctionRatio, u_matrix = _a.u_matrix;\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_correctionRatio, params.correctionRatio);\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n    };\n    NodeCircleProgram.ANGLE_1 = 0;\n    NodeCircleProgram.ANGLE_2 = (2 * Math.PI) / 3;\n    NodeCircleProgram.ANGLE_3 = (4 * Math.PI) / 3;\n    return NodeCircleProgram;\n}(node_1.NodeProgram));\nexports.default = NodeCircleProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_1 = require(\"./common/node\");\nvar node_point_vert_glsl_1 = __importDefault(require(\"../shaders/node.point.vert.glsl.js\"));\nvar node_point_frag_glsl_1 = __importDefault(require(\"../shaders/node.point.frag.glsl.js\"));\nvar UNSIGNED_BYTE = WebGLRenderingContext.UNSIGNED_BYTE, FLOAT = WebGLRenderingContext.FLOAT;\nvar UNIFORMS = [\"u_sizeRatio\", \"u_pixelRatio\", \"u_matrix\"];\nvar NodePointProgram = /** @class */ (function (_super) {\n    __extends(NodePointProgram, _super);\n    function NodePointProgram() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NodePointProgram.prototype.getDefinition = function () {\n        return {\n            VERTICES: 1,\n            ARRAY_ITEMS_PER_VERTEX: 4,\n            VERTEX_SHADER_SOURCE: node_point_vert_glsl_1.default,\n            FRAGMENT_SHADER_SOURCE: node_point_frag_glsl_1.default,\n            UNIFORMS: UNIFORMS,\n            ATTRIBUTES: [\n                { name: \"a_position\", size: 2, type: FLOAT },\n                { name: \"a_size\", size: 1, type: FLOAT },\n                { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n            ],\n        };\n    };\n    NodePointProgram.prototype.processVisibleItem = function (i, data) {\n        var array = this.array;\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i] = (0, utils_1.floatColor)(data.color);\n    };\n    NodePointProgram.prototype.draw = function (params) {\n        var gl = this.gl;\n        var _a = this.uniformLocations, u_sizeRatio = _a.u_sizeRatio, u_pixelRatio = _a.u_pixelRatio, u_matrix = _a.u_matrix;\n        gl.uniform1f(u_sizeRatio, params.sizeRatio);\n        gl.uniform1f(u_pixelRatio, params.pixelRatio);\n        gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n        gl.drawArrays(gl.POINTS, 0, this.verticesCount);\n    };\n    return NodePointProgram;\n}(node_1.NodeProgram));\nexports.default = NodePointProgram;\n","(()=>{\"use strict\";var e={d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(a,n)=>{for(var t in n)e.o(n,t)&&!e.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:n[t]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},a={};e.r(a),e.d(a,{default:()=>n});const n=\"attribute vec2 a_position;\\nattribute vec2 a_normal;\\nattribute float a_radius;\\nattribute vec4 a_color;\\nattribute vec3 a_barycentric;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadWidthLengthRatio = 0.66;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl and\\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\\n  // happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n  float webGLArrowHeadHalfWidth = webGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\\n\\n  float da = a_barycentric.x;\\n  float db = a_barycentric.y;\\n  float dc = a_barycentric.z;\\n\\n  vec2 delta = vec2(\\n      da * (webGLNodeRadius * unitNormal.y)\\n    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadHalfWidth * unitNormal.x)\\n    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadHalfWidth * unitNormal.x),\\n\\n      da * (-webGLNodeRadius * unitNormal.x)\\n    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadHalfWidth * unitNormal.y)\\n    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadHalfWidth * unitNormal.y)\\n  );\\n\\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\\n\\n  gl_Position = vec4(position, 0, 1);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=a})();","(()=>{\"use strict\";var e={d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>n});const n=\"attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\nattribute float a_radius;\\n\\nuniform mat3 u_matrix;\\nuniform float u_zoomRatio;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl. Please read it to\\n  // get better comments on what's happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n\\n  // Here, we move the point to leave space for the arrow head:\\n  float direction = sign(a_radius);\\n  float webGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n\\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);\\n\\n  v_thickness = webGLThickness / u_zoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>t});const t=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float feather = 0.001;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_normal) * v_thickness;\\n\\n  float t = smoothstep(\\n    v_thickness - feather,\\n    v_thickness,\\n    dist\\n  );\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o='attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_zoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // We require edges to be at least `minThickness` pixels thick *on screen*\\n  // (so we need to compensate the size ratio):\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n\\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\\n  // referential (in a ([0, 1], [0, 1]) space), using our \"magic\" correction\\n  // ratio:\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness, 1)).xy, 0, 1);\\n\\n  // For the fragment shader though, we need a thickness that takes the \"magic\"\\n  // correction ratio into account (as in webGLThickness), but so that the\\n  // antialiasing effect does not depend on the zoom level. So here\\'s yet\\n  // another thickness version:\\n  v_thickness = webGLThickness / u_zoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n';module.exports=n})();","(()=>{\"use strict\";var e={d:(n,r)=>{for(var t in r)e.o(r,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:r[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\n\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_diffVector) - v_radius;\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var o={d:(n,t)=>{for(var e in t)o.o(t,e)&&!o.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},o:(o,n)=>Object.prototype.hasOwnProperty.call(o,n),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},n={};o.r(n),o.d(n,{default:()=>t});const t=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute float a_angle;\\nattribute vec4 a_color;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_diffVector;\\nvarying float v_radius;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\nconst float marginRatio = 1.05;\\n\\nvoid main() {\\n  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;\\n  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));\\n  vec2 position = a_position + diffVector * marginRatio;\\n  gl_Position = vec4(\\n    (u_matrix * vec3(position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  v_border = u_correctionRatio;\\n  v_diffVector = diffVector;\\n  v_radius = size / 2.0 / marginRatio;\\n\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var e={d:(o,r)=>{for(var n in r)e.o(r,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:r[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nuniform sampler2D u_atlas;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec4 color;\\n\\n  if (v_texture.w > 0.0) {\\n    vec4 texel = texture2D(u_atlas, v_texture.xy + gl_PointCoord * v_texture.zw, -1.0);\\n    color = vec4(mix(v_color, texel, texel.a).rgb, max(texel.a, v_color.a));\\n  } else {\\n    color = v_color;\\n  }\\n\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = length(m);\\n\\n  if (dist < radius - v_border) {\\n    gl_FragColor = color;\\n  } else if (dist < radius) {\\n    gl_FragColor = mix(transparent, color, (radius - dist) / v_border);\\n  } else {\\n    gl_FragColor = transparent;\\n  }\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})}},e={};t.r(e),t.d(e,{default:()=>o});const o=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\nattribute vec4 a_texture;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  // Pass the texture coordinates:\\n  v_texture = a_texture;\\n}\\n\";module.exports=e})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = radius - length(m);\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(transparent, v_color, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var o={d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},t={};o.r(t),o.d(t,{default:()=>e});const e=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=t})();","\"use strict\";\n/**\n * Sigma.js Shader Utils\n * ======================\n *\n * Code used to load sigma's shaders.\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadProgram = exports.loadFragmentShader = exports.loadVertexShader = void 0;\n/**\n * Function used to load a shader.\n */\nfunction loadShader(type, gl, source) {\n    var glType = type === \"VERTEX\" ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;\n    // Creating the shader\n    var shader = gl.createShader(glType);\n    if (shader === null) {\n        throw new Error(\"loadShader: error while creating the shader\");\n    }\n    // Loading source\n    gl.shaderSource(shader, source);\n    // Compiling the shader\n    gl.compileShader(shader);\n    // Retrieving compilation status\n    var successfullyCompiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    // Throwing if something went awry\n    if (!successfullyCompiled) {\n        var infoLog = gl.getShaderInfoLog(shader);\n        gl.deleteShader(shader);\n        throw new Error(\"loadShader: error while compiling the shader:\\n\".concat(infoLog, \"\\n\").concat(source));\n    }\n    return shader;\n}\nfunction loadVertexShader(gl, source) {\n    return loadShader(\"VERTEX\", gl, source);\n}\nexports.loadVertexShader = loadVertexShader;\nfunction loadFragmentShader(gl, source) {\n    return loadShader(\"FRAGMENT\", gl, source);\n}\nexports.loadFragmentShader = loadFragmentShader;\n/**\n * Function used to load a program.\n */\nfunction loadProgram(gl, shaders) {\n    var program = gl.createProgram();\n    if (program === null) {\n        throw new Error(\"loadProgram: error while creating the program.\");\n    }\n    var i, l;\n    // Attaching the shaders\n    for (i = 0, l = shaders.length; i < l; i++)\n        gl.attachShader(program, shaders[i]);\n    gl.linkProgram(program);\n    // Checking status\n    var successfullyLinked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!successfullyLinked) {\n        gl.deleteProgram(program);\n        throw new Error(\"loadProgram: error while linking the program.\");\n    }\n    return program;\n}\nexports.loadProgram = loadProgram;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSettings = exports.validateSettings = exports.DEFAULT_EDGE_PROGRAM_CLASSES = exports.DEFAULT_NODE_PROGRAM_CLASSES = exports.DEFAULT_SETTINGS = void 0;\nvar utils_1 = require(\"./utils\");\nvar label_1 = __importDefault(require(\"./rendering/canvas/label\"));\nvar hover_1 = __importDefault(require(\"./rendering/canvas/hover\"));\nvar edge_label_1 = __importDefault(require(\"./rendering/canvas/edge-label\"));\nvar node_point_1 = __importDefault(require(\"./rendering/webgl/programs/node.point\"));\nvar edge_rectangle_1 = __importDefault(require(\"./rendering/webgl/programs/edge.rectangle\"));\nvar edge_arrow_1 = __importDefault(require(\"./rendering/webgl/programs/edge.arrow\"));\nexports.DEFAULT_SETTINGS = {\n    // Performance\n    hideEdgesOnMove: false,\n    hideLabelsOnMove: false,\n    renderLabels: true,\n    renderEdgeLabels: false,\n    enableEdgeClickEvents: false,\n    enableEdgeWheelEvents: false,\n    enableEdgeHoverEvents: false,\n    // Component rendering\n    defaultNodeColor: \"#999\",\n    defaultNodeType: \"circle\",\n    defaultEdgeColor: \"#ccc\",\n    defaultEdgeType: \"line\",\n    labelFont: \"Arial\",\n    labelSize: 14,\n    labelWeight: \"normal\",\n    labelColor: { color: \"#000\" },\n    edgeLabelFont: \"Arial\",\n    edgeLabelSize: 14,\n    edgeLabelWeight: \"normal\",\n    edgeLabelColor: { attribute: \"color\" },\n    stagePadding: 30,\n    zoomToSizeRatioFunction: Math.sqrt,\n    // Labels\n    labelDensity: 1,\n    labelGridCellSize: 100,\n    labelRenderedSizeThreshold: 6,\n    // Reducers\n    nodeReducer: null,\n    edgeReducer: null,\n    // Features\n    zIndex: false,\n    minCameraRatio: null,\n    maxCameraRatio: null,\n    // Renderers\n    labelRenderer: label_1.default,\n    hoverRenderer: hover_1.default,\n    edgeLabelRenderer: edge_label_1.default,\n    // Lifecycle\n    allowInvalidContainer: false,\n    // Program classes\n    nodeProgramClasses: {},\n    nodeHoverProgramClasses: {},\n    edgeProgramClasses: {},\n};\nexports.DEFAULT_NODE_PROGRAM_CLASSES = {\n    circle: node_point_1.default,\n};\nexports.DEFAULT_EDGE_PROGRAM_CLASSES = {\n    arrow: edge_arrow_1.default,\n    line: edge_rectangle_1.default,\n};\nfunction validateSettings(settings) {\n    if (typeof settings.labelDensity !== \"number\" || settings.labelDensity < 0) {\n        throw new Error(\"Settings: invalid `labelDensity`. Expecting a positive number.\");\n    }\n    var minCameraRatio = settings.minCameraRatio, maxCameraRatio = settings.maxCameraRatio;\n    if (typeof minCameraRatio === \"number\" && typeof maxCameraRatio === \"number\" && maxCameraRatio < minCameraRatio) {\n        throw new Error(\"Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.\");\n    }\n}\nexports.validateSettings = validateSettings;\nfunction resolveSettings(settings) {\n    var resolvedSettings = (0, utils_1.assign)({}, exports.DEFAULT_SETTINGS, settings);\n    resolvedSettings.nodeProgramClasses = (0, utils_1.assign)({}, exports.DEFAULT_NODE_PROGRAM_CLASSES, resolvedSettings.nodeProgramClasses);\n    resolvedSettings.edgeProgramClasses = (0, utils_1.assign)({}, exports.DEFAULT_EDGE_PROGRAM_CLASSES, resolvedSettings.edgeProgramClasses);\n    return resolvedSettings;\n}\nexports.resolveSettings = resolveSettings;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nvar types_1 = require(\"./types\");\nvar utils_1 = require(\"./utils\");\nvar labels_1 = require(\"./core/labels\");\nvar settings_1 = require(\"./settings\");\nvar touch_1 = __importDefault(require(\"./core/captors/touch\"));\nvar matrices_1 = require(\"./utils/matrices\");\nvar edge_collisions_1 = require(\"./utils/edge-collisions\");\n/**\n * Constants.\n */\nvar X_LABEL_MARGIN = 150;\nvar Y_LABEL_MARGIN = 50;\n/**\n * Important functions.\n */\nfunction applyNodeDefaults(settings, key, data) {\n    if (!data.hasOwnProperty(\"x\") || !data.hasOwnProperty(\"y\"))\n        throw new Error(\"Sigma: could not find a valid position (x, y) for node \\\"\".concat(key, \"\\\". All your nodes must have a number \\\"x\\\" and \\\"y\\\". Maybe your forgot to apply a layout or your \\\"nodeReducer\\\" is not returning the correct data?\"));\n    if (!data.color)\n        data.color = settings.defaultNodeColor;\n    if (!data.label && data.label !== \"\")\n        data.label = null;\n    if (data.label !== undefined && data.label !== null)\n        data.label = \"\" + data.label;\n    else\n        data.label = null;\n    if (!data.size)\n        data.size = 2;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"highlighted\"))\n        data.highlighted = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultNodeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\nfunction applyEdgeDefaults(settings, key, data) {\n    if (!data.color)\n        data.color = settings.defaultEdgeColor;\n    if (!data.label)\n        data.label = \"\";\n    if (!data.size)\n        data.size = 0.5;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultEdgeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\n/**\n * Main class.\n *\n * @constructor\n * @param {Graph}       graph     - Graph to render.\n * @param {HTMLElement} container - DOM container in which to render.\n * @param {object}      settings  - Optional settings.\n */\nvar Sigma = /** @class */ (function (_super) {\n    __extends(Sigma, _super);\n    function Sigma(graph, container, settings) {\n        if (settings === void 0) { settings = {}; }\n        var _this = _super.call(this) || this;\n        _this.elements = {};\n        _this.canvasContexts = {};\n        _this.webGLContexts = {};\n        _this.activeListeners = {};\n        _this.quadtree = new quadtree_1.default();\n        _this.labelGrid = new labels_1.LabelGrid();\n        _this.nodeDataCache = {};\n        _this.edgeDataCache = {};\n        _this.nodesWithForcedLabels = [];\n        _this.edgesWithForcedLabels = [];\n        _this.nodeExtent = { x: [0, 1], y: [0, 1] };\n        _this.matrix = (0, matrices_1.identity)();\n        _this.invMatrix = (0, matrices_1.identity)();\n        _this.correctionRatio = 1;\n        _this.customBBox = null;\n        _this.normalizationFunction = (0, utils_1.createNormalizationFunction)({\n            x: [0, 1],\n            y: [0, 1],\n        });\n        // Cache:\n        _this.cameraSizeRatio = 1;\n        // Starting dimensions and pixel ratio\n        _this.width = 0;\n        _this.height = 0;\n        _this.pixelRatio = (0, utils_1.getPixelRatio)();\n        // State\n        _this.displayedNodeLabels = new Set();\n        _this.displayedEdgeLabels = new Set();\n        _this.highlightedNodes = new Set();\n        _this.hoveredNode = null;\n        _this.hoveredEdge = null;\n        _this.renderFrame = null;\n        _this.renderHighlightedNodesFrame = null;\n        _this.needToProcess = false;\n        _this.checkEdgesEventsFrame = null;\n        // Programs\n        _this.nodePrograms = {};\n        _this.nodeHoverPrograms = {};\n        _this.edgePrograms = {};\n        // Resolving settings\n        _this.settings = (0, settings_1.resolveSettings)(settings);\n        // Validating\n        (0, settings_1.validateSettings)(_this.settings);\n        (0, utils_1.validateGraph)(graph);\n        if (!(container instanceof HTMLElement))\n            throw new Error(\"Sigma: container should be an html element.\");\n        // Properties\n        _this.graph = graph;\n        _this.container = container;\n        // Initializing contexts\n        _this.createWebGLContext(\"edges\", { preserveDrawingBuffer: true });\n        _this.createCanvasContext(\"edgeLabels\");\n        _this.createWebGLContext(\"nodes\");\n        _this.createCanvasContext(\"labels\");\n        _this.createCanvasContext(\"hovers\");\n        _this.createWebGLContext(\"hoverNodes\");\n        _this.createCanvasContext(\"mouse\");\n        // Blending\n        for (var key in _this.webGLContexts) {\n            var gl = _this.webGLContexts[key];\n            gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n            gl.enable(gl.BLEND);\n        }\n        // Loading programs\n        for (var type in _this.settings.nodeProgramClasses) {\n            var NodeProgramClass = _this.settings.nodeProgramClasses[type];\n            _this.nodePrograms[type] = new NodeProgramClass(_this.webGLContexts.nodes, _this);\n            var NodeHoverProgram = NodeProgramClass;\n            if (type in _this.settings.nodeHoverProgramClasses) {\n                NodeHoverProgram = _this.settings.nodeHoverProgramClasses[type];\n            }\n            _this.nodeHoverPrograms[type] = new NodeHoverProgram(_this.webGLContexts.hoverNodes, _this);\n        }\n        for (var type in _this.settings.edgeProgramClasses) {\n            var EdgeProgramClass = _this.settings.edgeProgramClasses[type];\n            _this.edgePrograms[type] = new EdgeProgramClass(_this.webGLContexts.edges, _this);\n        }\n        // Initial resize\n        _this.resize();\n        // Initializing the camera\n        _this.camera = new camera_1.default();\n        // Binding camera events\n        _this.bindCameraHandlers();\n        // Initializing captors\n        _this.mouseCaptor = new mouse_1.default(_this.elements.mouse, _this);\n        _this.touchCaptor = new touch_1.default(_this.elements.mouse, _this);\n        // Binding event handlers\n        _this.bindEventHandlers();\n        // Binding graph handlers\n        _this.bindGraphHandlers();\n        // Trigger eventual settings-related things\n        _this.handleSettingsUpdate();\n        // Processing data for the first time & render\n        _this.refresh();\n        return _this;\n    }\n    /**---------------------------------------------------------------------------\n     * Internal methods.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Internal function used to create a canvas element.\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvas = function (id) {\n        var canvas = (0, utils_1.createElement)(\"canvas\", {\n            position: \"absolute\",\n        }, {\n            class: \"sigma-\".concat(id),\n        });\n        this.elements[id] = canvas;\n        this.container.appendChild(canvas);\n        return canvas;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvasContext = function (id) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = {\n            preserveDrawingBuffer: false,\n            antialias: false,\n        };\n        this.canvasContexts[id] = canvas.getContext(\"2d\", contextOptions);\n        return this;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string}  id      - Context's id.\n     * @param  {object?} options - #getContext params to override (optional)\n     * @return {Sigma}\n     */\n    Sigma.prototype.createWebGLContext = function (id, options) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = __assign({ preserveDrawingBuffer: false, antialias: false }, (options || {}));\n        var context;\n        // First we try webgl2 for an easy performance boost\n        context = canvas.getContext(\"webgl2\", contextOptions);\n        // Else we fall back to webgl\n        if (!context)\n            context = canvas.getContext(\"webgl\", contextOptions);\n        // Edge, I am looking right at you...\n        if (!context)\n            context = canvas.getContext(\"experimental-webgl\", contextOptions);\n        this.webGLContexts[id] = context;\n        return this;\n    };\n    /**\n     * Method binding camera handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindCameraHandlers = function () {\n        var _this = this;\n        this.activeListeners.camera = function () {\n            _this.scheduleRender();\n        };\n        this.camera.on(\"updated\", this.activeListeners.camera);\n        return this;\n    };\n    /**\n     * Method that checks whether or not a node collides with a given position.\n     */\n    Sigma.prototype.mouseIsOnNode = function (_a, _b, size) {\n        var x = _a.x, y = _a.y;\n        var nodeX = _b.x, nodeY = _b.y;\n        return (x > nodeX - size &&\n            x < nodeX + size &&\n            y > nodeY - size &&\n            y < nodeY + size &&\n            Math.sqrt(Math.pow(x - nodeX, 2) + Math.pow(y - nodeY, 2)) < size);\n    };\n    /**\n     * Method that returns all nodes in quad at a given position.\n     */\n    Sigma.prototype.getQuadNodes = function (position) {\n        var mouseGraphPosition = this.viewportToFramedGraph(position);\n        return this.quadtree.point(mouseGraphPosition.x, 1 - mouseGraphPosition.y);\n    };\n    /**\n     * Method that returns the closest node to a given position.\n     */\n    Sigma.prototype.getNodeAtPosition = function (position) {\n        var x = position.x, y = position.y;\n        var quadNodes = this.getQuadNodes(position);\n        // We will hover the node whose center is closest to mouse\n        var minDistance = Infinity, nodeAtPosition = null;\n        for (var i = 0, l = quadNodes.length; i < l; i++) {\n            var node = quadNodes[i];\n            var data = this.nodeDataCache[node];\n            var nodePosition = this.framedGraphToViewport(data);\n            var size = this.scaleSize(data.size);\n            if (!data.hidden && this.mouseIsOnNode(position, nodePosition, size)) {\n                var distance = Math.sqrt(Math.pow(x - nodePosition.x, 2) + Math.pow(y - nodePosition.y, 2));\n                // TODO: sort by min size also for cases where center is the same\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    nodeAtPosition = node;\n                }\n            }\n        }\n        return nodeAtPosition;\n    };\n    /**\n     * Method binding event handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindEventHandlers = function () {\n        var _this = this;\n        // Handling window resize\n        this.activeListeners.handleResize = function () {\n            _this.scheduleRender();\n        };\n        window.addEventListener(\"resize\", this.activeListeners.handleResize);\n        // Handling mouse move\n        this.activeListeners.handleMove = function (e) {\n            var baseEvent = {\n                event: e,\n                preventSigmaDefault: function () {\n                    e.preventSigmaDefault();\n                },\n            };\n            var nodeToHover = _this.getNodeAtPosition(e);\n            if (nodeToHover && _this.hoveredNode !== nodeToHover && !_this.nodeDataCache[nodeToHover].hidden) {\n                // Handling passing from one node to the other directly\n                if (_this.hoveredNode)\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: _this.hoveredNode }));\n                _this.hoveredNode = nodeToHover;\n                _this.emit(\"enterNode\", __assign(__assign({}, baseEvent), { node: nodeToHover }));\n                _this.scheduleHighlightedNodesRender();\n                return;\n            }\n            // Checking if the hovered node is still hovered\n            if (_this.hoveredNode) {\n                var data = _this.nodeDataCache[_this.hoveredNode];\n                var pos = _this.framedGraphToViewport(data);\n                var size = _this.scaleSize(data.size);\n                if (!_this.mouseIsOnNode(e, pos, size)) {\n                    var node = _this.hoveredNode;\n                    _this.hoveredNode = null;\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: node }));\n                    _this.scheduleHighlightedNodesRender();\n                    return;\n                }\n            }\n            if (_this.settings.enableEdgeHoverEvents === true) {\n                _this.checkEdgeHoverEvents(baseEvent);\n            }\n            else if (_this.settings.enableEdgeHoverEvents === \"debounce\") {\n                if (!_this.checkEdgesEventsFrame)\n                    _this.checkEdgesEventsFrame = (0, utils_1.requestFrame)(function () {\n                        _this.checkEdgeHoverEvents(baseEvent);\n                        _this.checkEdgesEventsFrame = null;\n                    });\n            }\n        };\n        // Handling click\n        var createMouseListener = function (eventType) {\n            return function (e) {\n                var baseEvent = {\n                    event: e,\n                    preventSigmaDefault: function () {\n                        e.preventSigmaDefault();\n                    },\n                };\n                var isFakeSigmaMouseEvent = e.original.isFakeSigmaMouseEvent;\n                var nodeAtPosition = isFakeSigmaMouseEvent ? _this.getNodeAtPosition(e) : _this.hoveredNode;\n                if (nodeAtPosition)\n                    return _this.emit(\"\".concat(eventType, \"Node\"), __assign(__assign({}, baseEvent), { node: nodeAtPosition }));\n                if (eventType === \"wheel\" ? _this.settings.enableEdgeWheelEvents : _this.settings.enableEdgeClickEvents) {\n                    var edge = _this.getEdgeAtPoint(e.x, e.y);\n                    if (edge)\n                        return _this.emit(\"\".concat(eventType, \"Edge\"), __assign(__assign({}, baseEvent), { edge: edge }));\n                }\n                return _this.emit(\"\".concat(eventType, \"Stage\"), baseEvent);\n            };\n        };\n        this.activeListeners.handleClick = createMouseListener(\"click\");\n        this.activeListeners.handleRightClick = createMouseListener(\"rightClick\");\n        this.activeListeners.handleDoubleClick = createMouseListener(\"doubleClick\");\n        this.activeListeners.handleWheel = createMouseListener(\"wheel\");\n        this.activeListeners.handleDown = createMouseListener(\"down\");\n        this.mouseCaptor.on(\"mousemove\", this.activeListeners.handleMove);\n        this.mouseCaptor.on(\"click\", this.activeListeners.handleClick);\n        this.mouseCaptor.on(\"rightClick\", this.activeListeners.handleRightClick);\n        this.mouseCaptor.on(\"doubleClick\", this.activeListeners.handleDoubleClick);\n        this.mouseCaptor.on(\"wheel\", this.activeListeners.handleWheel);\n        this.mouseCaptor.on(\"mousedown\", this.activeListeners.handleDown);\n        // TODO\n        // Deal with Touch captor events\n        return this;\n    };\n    /**\n     * Method binding graph handlers\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindGraphHandlers = function () {\n        var _this = this;\n        var graph = this.graph;\n        this.activeListeners.graphUpdate = function () {\n            _this.scheduleRefresh();\n        };\n        this.activeListeners.dropNodeGraphUpdate = function (e) {\n            delete _this.nodeDataCache[e.key];\n            if (_this.hoveredNode === e.key)\n                _this.hoveredNode = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.dropEdgeGraphUpdate = function (e) {\n            delete _this.edgeDataCache[e.key];\n            if (_this.hoveredEdge === e.key)\n                _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearEdgesGraphUpdate = function () {\n            _this.edgeDataCache = {};\n            _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearGraphUpdate = function () {\n            _this.nodeDataCache = {};\n            _this.hoveredNode = null;\n            _this.activeListeners.clearEdgesGraphUpdate();\n        };\n        graph.on(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.on(\"nodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.on(\"edgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.on(\"cleared\", this.activeListeners.clearGraphUpdate);\n        return this;\n    };\n    /**\n     * Method used to unbind handlers from the graph.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.unbindGraphHandlers = function () {\n        var graph = this.graph;\n        graph.removeListener(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.removeListener(\"nodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.removeListener(\"edgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.removeListener(\"cleared\", this.activeListeners.clearGraphUpdate);\n    };\n    /**\n     * Method dealing with \"leaveEdge\" and \"enterEdge\" events.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.checkEdgeHoverEvents = function (payload) {\n        var edgeToHover = this.hoveredNode ? null : this.getEdgeAtPoint(payload.event.x, payload.event.y);\n        if (edgeToHover !== this.hoveredEdge) {\n            if (this.hoveredEdge)\n                this.emit(\"leaveEdge\", __assign(__assign({}, payload), { edge: this.hoveredEdge }));\n            if (edgeToHover)\n                this.emit(\"enterEdge\", __assign(__assign({}, payload), { edge: edgeToHover }));\n            this.hoveredEdge = edgeToHover;\n        }\n        return this;\n    };\n    /**\n     * Method looking for an edge colliding with a given point at (x, y). Returns\n     * the key of the edge if any, or null else.\n     */\n    Sigma.prototype.getEdgeAtPoint = function (x, y) {\n        var e_1, _a;\n        var _this = this;\n        var _b = this, edgeDataCache = _b.edgeDataCache, nodeDataCache = _b.nodeDataCache;\n        // Check first that pixel is colored:\n        // Note that mouse positions must be corrected by pixel ratio to correctly\n        // index the drawing buffer.\n        if (!(0, edge_collisions_1.isPixelColored)(this.webGLContexts.edges, x * this.pixelRatio, y * this.pixelRatio))\n            return null;\n        // Check for each edge if it collides with the point:\n        var _c = this.viewportToGraph({ x: x, y: y }), graphX = _c.x, graphY = _c.y;\n        // To translate edge thicknesses to the graph system, we observe by how much\n        // the length of a non-null edge is transformed to between the graph system\n        // and the viewport system:\n        var transformationRatio = 0;\n        this.graph.someEdge(function (key, _, sourceId, targetId, _a, _b) {\n            var xs = _a.x, ys = _a.y;\n            var xt = _b.x, yt = _b.y;\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if (xs !== xt || ys !== yt) {\n                var graphLength = Math.sqrt(Math.pow(xt - xs, 2) + Math.pow(yt - ys, 2));\n                var _c = _this.graphToViewport({ x: xs, y: ys }), vp_xs = _c.x, vp_ys = _c.y;\n                var _d = _this.graphToViewport({ x: xt, y: yt }), vp_xt = _d.x, vp_yt = _d.y;\n                var viewportLength = Math.sqrt(Math.pow(vp_xt - vp_xs, 2) + Math.pow(vp_yt - vp_ys, 2));\n                transformationRatio = graphLength / viewportLength;\n                return true;\n            }\n        });\n        // If no non-null edge has been found, return null:\n        if (!transformationRatio)\n            return null;\n        // Now we can look for matching edges:\n        var edges = this.graph.filterEdges(function (key, edgeAttributes, sourceId, targetId, sourcePosition, targetPosition) {\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if ((0, edge_collisions_1.doEdgeCollideWithPoint)(graphX, graphY, sourcePosition.x, sourcePosition.y, targetPosition.x, targetPosition.y, \n            // Adapt the edge size to the zoom ratio:\n            (edgeDataCache[key].size * transformationRatio) / _this.cameraSizeRatio)) {\n                return true;\n            }\n        });\n        if (edges.length === 0)\n            return null; // no edges found\n        // if none of the edges have a zIndex, selected the most recently created one to match the rendering order\n        var selectedEdge = edges[edges.length - 1];\n        // otherwise select edge with highest zIndex\n        var highestZIndex = -Infinity;\n        try {\n            for (var edges_1 = __values(edges), edges_1_1 = edges_1.next(); !edges_1_1.done; edges_1_1 = edges_1.next()) {\n                var edge = edges_1_1.value;\n                var zIndex = this.graph.getEdgeAttribute(edge, \"zIndex\");\n                if (zIndex >= highestZIndex) {\n                    selectedEdge = edge;\n                    highestZIndex = zIndex;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (edges_1_1 && !edges_1_1.done && (_a = edges_1.return)) _a.call(edges_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return selectedEdge;\n    };\n    /**\n     * Method used to process the whole graph's data.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.process = function () {\n        var _this = this;\n        var graph = this.graph;\n        var settings = this.settings;\n        var dimensions = this.getDimensions();\n        var nodeZExtent = [Infinity, -Infinity];\n        var edgeZExtent = [Infinity, -Infinity];\n        // Clearing the quad\n        this.quadtree.clear();\n        // Resetting the label grid\n        // TODO: it's probably better to do this explicitly or on resizes for layout and anims\n        this.labelGrid.resizeAndClear(dimensions, settings.labelGridCellSize);\n        // Clear the highlightedNodes\n        this.highlightedNodes = new Set();\n        // Computing extents\n        this.nodeExtent = (0, utils_1.graphExtent)(graph);\n        // Resetting `forceLabel` indices\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        // NOTE: it is important to compute this matrix after computing the node's extent\n        // because #.getGraphDimensions relies on it\n        var nullCamera = new camera_1.default();\n        var nullCameraMatrix = (0, utils_1.matrixFromCamera)(nullCamera.getState(), this.getDimensions(), this.getGraphDimensions(), this.getSetting(\"stagePadding\") || 0);\n        // Rescaling function\n        this.normalizationFunction = (0, utils_1.createNormalizationFunction)(this.customBBox || this.nodeExtent);\n        var nodesPerPrograms = {};\n        var nodes = graph.nodes();\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            // Node display data resolution:\n            //   1. First we get the node's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            //   4. We apply the normalization function\n            // We shallow copy node data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getNodeAttributes(node));\n            if (settings.nodeReducer)\n                attr = settings.nodeReducer(node, attr);\n            var data = applyNodeDefaults(this.settings, node, attr);\n            nodesPerPrograms[data.type] = (nodesPerPrograms[data.type] || 0) + 1;\n            this.nodeDataCache[node] = data;\n            this.normalizationFunction.applyTo(data);\n            if (data.forceLabel)\n                this.nodesWithForcedLabels.push(node);\n            if (this.settings.zIndex) {\n                if (data.zIndex < nodeZExtent[0])\n                    nodeZExtent[0] = data.zIndex;\n                if (data.zIndex > nodeZExtent[1])\n                    nodeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.nodePrograms) {\n            if (!this.nodePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(type, \"\\\"!\"));\n            }\n            this.nodePrograms[type].reallocate(nodesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            nodesPerPrograms[type] = 0;\n        }\n        // Handling node z-index\n        // TODO: z-index needs us to compute display data before hand\n        if (this.settings.zIndex && nodeZExtent[0] !== nodeZExtent[1])\n            nodes = (0, utils_1.zIndexOrdering)(nodeZExtent, function (node) { return _this.nodeDataCache[node].zIndex; }, nodes);\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            var data = this.nodeDataCache[node];\n            this.quadtree.add(node, data.x, 1 - data.y, data.size / this.width);\n            if (typeof data.label === \"string\" && !data.hidden)\n                this.labelGrid.add(node, data.size, this.framedGraphToViewport(data, { matrix: nullCameraMatrix }));\n            var nodeProgram = this.nodePrograms[data.type];\n            if (!nodeProgram)\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(data.type, \"\\\"!\"));\n            nodeProgram.process(nodesPerPrograms[data.type]++, data);\n            // Save the node in the highlighted set if needed\n            if (data.highlighted && !data.hidden)\n                this.highlightedNodes.add(node);\n        }\n        this.labelGrid.organize();\n        var edgesPerPrograms = {};\n        var edges = graph.edges();\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            // Edge display data resolution:\n            //   1. First we get the edge's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            // We shallow copy edge data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getEdgeAttributes(edge));\n            if (settings.edgeReducer)\n                attr = settings.edgeReducer(edge, attr);\n            var data = applyEdgeDefaults(this.settings, edge, attr);\n            edgesPerPrograms[data.type] = (edgesPerPrograms[data.type] || 0) + 1;\n            this.edgeDataCache[edge] = data;\n            if (data.forceLabel && !data.hidden)\n                this.edgesWithForcedLabels.push(edge);\n            if (this.settings.zIndex) {\n                if (data.zIndex < edgeZExtent[0])\n                    edgeZExtent[0] = data.zIndex;\n                if (data.zIndex > edgeZExtent[1])\n                    edgeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.edgePrograms) {\n            if (!this.edgePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for edge type \\\"\".concat(type, \"\\\"!\"));\n            }\n            this.edgePrograms[type].reallocate(edgesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            edgesPerPrograms[type] = 0;\n        }\n        // Handling edge z-index\n        if (this.settings.zIndex && edgeZExtent[0] !== edgeZExtent[1])\n            edges = (0, utils_1.zIndexOrdering)(edgeZExtent, function (edge) { return _this.edgeDataCache[edge].zIndex; }, edges);\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            var data = this.edgeDataCache[edge];\n            var extremities = graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]];\n            this.edgePrograms[data.type].process(edgesPerPrograms[data.type]++, sourceData, targetData, data);\n        }\n        return this;\n    };\n    /**\n     * Method that backports potential settings updates where it's needed.\n     * @private\n     */\n    Sigma.prototype.handleSettingsUpdate = function () {\n        this.camera.minRatio = this.settings.minCameraRatio;\n        this.camera.maxRatio = this.settings.maxCameraRatio;\n        this.camera.setState(this.camera.validateState(this.camera.getState()));\n        return this;\n    };\n    /**\n     * Method used to render labels.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderLabels = function () {\n        if (!this.settings.renderLabels)\n            return this;\n        var cameraState = this.camera.getState();\n        // Selecting labels to draw\n        var labelsToDisplay = this.labelGrid.getLabelsToDisplay(cameraState.ratio, this.settings.labelDensity);\n        (0, extend_1.default)(labelsToDisplay, this.nodesWithForcedLabels);\n        this.displayedNodeLabels = new Set();\n        // Drawing labels\n        var context = this.canvasContexts.labels;\n        for (var i = 0, l = labelsToDisplay.length; i < l; i++) {\n            var node = labelsToDisplay[i];\n            var data = this.nodeDataCache[node];\n            // If the node was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            // NOTE: we can do better probably\n            if (this.displayedNodeLabels.has(node))\n                continue;\n            // If the node is hidden, we don't need to display its label obviously\n            if (data.hidden)\n                continue;\n            var _a = this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            // NOTE: we can cache the labels we need to render until the camera's ratio changes\n            var size = this.scaleSize(data.size);\n            // Is node big enough?\n            if (!data.forceLabel && size < this.settings.labelRenderedSizeThreshold)\n                continue;\n            // Is node actually on screen (with some margin)\n            // NOTE: we used to rely on the quadtree for this, but the coordinates\n            // conversion make it unreliable and at that point we already converted\n            // to viewport coordinates and since the label grid already culls the\n            // number of potential labels to display this looks like a good\n            // performance compromise.\n            // NOTE: labelGrid.getLabelsToDisplay could probably optimize by not\n            // considering cells obviously outside of the range of the current\n            // view rectangle.\n            if (x < -X_LABEL_MARGIN ||\n                x > this.width + X_LABEL_MARGIN ||\n                y < -Y_LABEL_MARGIN ||\n                y > this.height + Y_LABEL_MARGIN)\n                continue;\n            // Because displayed edge labels depend directly on actually rendered node\n            // labels, we need to only add to this.displayedNodeLabels nodes whose label\n            // is rendered.\n            // This makes this.displayedNodeLabels depend on viewport, which might become\n            // an issue once we start memoizing getLabelsToDisplay.\n            this.displayedNodeLabels.add(node);\n            this.settings.labelRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), this.settings);\n        }\n        return this;\n    };\n    /**\n     * Method used to render edge labels, based on which node labels were\n     * rendered.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderEdgeLabels = function () {\n        if (!this.settings.renderEdgeLabels)\n            return this;\n        var context = this.canvasContexts.edgeLabels;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        var edgeLabelsToDisplay = (0, labels_1.edgeLabelsToDisplayFromNodes)({\n            graph: this.graph,\n            hoveredNode: this.hoveredNode,\n            displayedNodeLabels: this.displayedNodeLabels,\n            highlightedNodes: this.highlightedNodes,\n        }).concat(this.edgesWithForcedLabels);\n        var displayedLabels = new Set();\n        for (var i = 0, l = edgeLabelsToDisplay.length; i < l; i++) {\n            var edge = edgeLabelsToDisplay[i], extremities = this.graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]], edgeData = this.edgeDataCache[edge];\n            // If the edge was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            if (displayedLabels.has(edge))\n                continue;\n            // If the edge is hidden we don't need to display its label\n            // NOTE: the test on sourceData & targetData is probably paranoid at this point?\n            if (edgeData.hidden || sourceData.hidden || targetData.hidden) {\n                continue;\n            }\n            this.settings.edgeLabelRenderer(context, __assign(__assign({ key: edge }, edgeData), { size: this.scaleSize(edgeData.size) }), __assign(__assign(__assign({ key: extremities[0] }, sourceData), this.framedGraphToViewport(sourceData)), { size: this.scaleSize(sourceData.size) }), __assign(__assign(__assign({ key: extremities[1] }, targetData), this.framedGraphToViewport(targetData)), { size: this.scaleSize(targetData.size) }), this.settings);\n            displayedLabels.add(edge);\n        }\n        this.displayedEdgeLabels = displayedLabels;\n        return this;\n    };\n    /**\n     * Method used to render the highlighted nodes.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderHighlightedNodes = function () {\n        var _this = this;\n        var context = this.canvasContexts.hovers;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        // Rendering\n        var render = function (node) {\n            var data = _this.nodeDataCache[node];\n            var _a = _this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            var size = _this.scaleSize(data.size);\n            _this.settings.hoverRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), _this.settings);\n        };\n        var nodesToRender = [];\n        if (this.hoveredNode && !this.nodeDataCache[this.hoveredNode].hidden) {\n            nodesToRender.push(this.hoveredNode);\n        }\n        this.highlightedNodes.forEach(function (node) {\n            // The hovered node has already been highlighted\n            if (node !== _this.hoveredNode)\n                nodesToRender.push(node);\n        });\n        // Draw labels:\n        nodesToRender.forEach(function (node) { return render(node); });\n        // Draw WebGL nodes on top of the labels:\n        var nodesPerPrograms = {};\n        // 1. Count nodes per type:\n        nodesToRender.forEach(function (node) {\n            var type = _this.nodeDataCache[node].type;\n            nodesPerPrograms[type] = (nodesPerPrograms[type] || 0) + 1;\n        });\n        // 2. Allocate for each type for the proper number of nodes\n        for (var type in this.nodeHoverPrograms) {\n            this.nodeHoverPrograms[type].reallocate(nodesPerPrograms[type] || 0);\n            // Also reset count, to use when rendering:\n            nodesPerPrograms[type] = 0;\n        }\n        // 3. Process all nodes to render:\n        nodesToRender.forEach(function (node) {\n            var data = _this.nodeDataCache[node];\n            _this.nodeHoverPrograms[data.type].process(nodesPerPrograms[data.type]++, data);\n        });\n        // 4. Clear hovered nodes layer:\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        // 5. Render:\n        for (var type in this.nodeHoverPrograms) {\n            var program = this.nodeHoverPrograms[type];\n            program.render({\n                matrix: this.matrix,\n                width: this.width,\n                height: this.height,\n                pixelRatio: this.pixelRatio,\n                zoomRatio: this.camera.ratio,\n                sizeRatio: this.settings.zoomToSizeRatioFunction(this.camera.ratio),\n                correctionRatio: this.correctionRatio,\n            });\n        }\n    };\n    /**\n     * Method used to schedule a hover render.\n     *\n     */\n    Sigma.prototype.scheduleHighlightedNodesRender = function () {\n        var _this = this;\n        if (this.renderHighlightedNodesFrame || this.renderFrame)\n            return;\n        this.renderHighlightedNodesFrame = (0, utils_1.requestFrame)(function () {\n            // Resetting state\n            _this.renderHighlightedNodesFrame = null;\n            // Rendering\n            _this.renderHighlightedNodes();\n            _this.renderEdgeLabels();\n        });\n    };\n    /**\n     * Method used to render.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.render = function () {\n        var _this = this;\n        this.emit(\"beforeRender\");\n        var exitRender = function () {\n            _this.emit(\"afterRender\");\n            return _this;\n        };\n        // If a render was scheduled, we cancel it\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n        }\n        // First we need to resize\n        this.resize();\n        // Recomputing useful camera-related values:\n        this.updateCachedValues();\n        // Do we need to reprocess data?\n        if (this.needToProcess)\n            this.process();\n        this.needToProcess = false;\n        // Clearing the canvases\n        this.clear();\n        // If we have no nodes we can stop right there\n        if (!this.graph.order)\n            return exitRender();\n        // TODO: improve this heuristic or move to the captor itself?\n        // TODO: deal with the touch captor here as well\n        var mouseCaptor = this.mouseCaptor;\n        var moving = this.camera.isAnimated() ||\n            mouseCaptor.isMoving ||\n            mouseCaptor.draggedEvents ||\n            mouseCaptor.currentWheelDirection;\n        // Then we need to extract a matrix from the camera\n        var cameraState = this.camera.getState();\n        var viewportDimensions = this.getDimensions();\n        var graphDimensions = this.getGraphDimensions();\n        var padding = this.getSetting(\"stagePadding\") || 0;\n        this.matrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding);\n        this.invMatrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding, true);\n        this.correctionRatio = (0, utils_1.getMatrixImpact)(this.matrix, cameraState, viewportDimensions);\n        var params = {\n            matrix: this.matrix,\n            width: this.width,\n            height: this.height,\n            pixelRatio: this.pixelRatio,\n            zoomRatio: this.camera.ratio,\n            sizeRatio: this.settings.zoomToSizeRatioFunction(this.camera.ratio),\n            correctionRatio: this.correctionRatio,\n        };\n        // Drawing nodes\n        for (var type in this.nodePrograms) {\n            var program = this.nodePrograms[type];\n            program.render(params);\n        }\n        // Drawing edges\n        if (!this.settings.hideEdgesOnMove || !moving) {\n            for (var type in this.edgePrograms) {\n                var program = this.edgePrograms[type];\n                program.render(params);\n            }\n        }\n        // Do not display labels on move per setting\n        if (this.settings.hideLabelsOnMove && moving)\n            return exitRender();\n        this.renderLabels();\n        this.renderEdgeLabels();\n        this.renderHighlightedNodes();\n        return exitRender();\n    };\n    /**\n     * Internal method used to update expensive and therefore cached values\n     * each time the camera state is updated.\n     */\n    Sigma.prototype.updateCachedValues = function () {\n        var ratio = this.camera.getState().ratio;\n        this.cameraSizeRatio = this.settings.zoomToSizeRatioFunction(ratio);\n    };\n    /**---------------------------------------------------------------------------\n     * Public API.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Method returning the renderer's camera.\n     *\n     * @return {Camera}\n     */\n    Sigma.prototype.getCamera = function () {\n        return this.camera;\n    };\n    /**\n     * Method returning the container DOM element.\n     *\n     * @return {HTMLElement}\n     */\n    Sigma.prototype.getContainer = function () {\n        return this.container;\n    };\n    /**\n     * Method returning the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.getGraph = function () {\n        return this.graph;\n    };\n    /**\n     * Method used to set the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.setGraph = function (graph) {\n        if (graph === this.graph)\n            return;\n        // Unbinding handlers on the current graph\n        this.unbindGraphHandlers();\n        // Clearing the graph data caches\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        // Cleaning renderer state tied to the current graph\n        this.displayedNodeLabels.clear();\n        this.displayedEdgeLabels.clear();\n        this.highlightedNodes.clear();\n        this.hoveredNode = null;\n        this.hoveredEdge = null;\n        this.nodesWithForcedLabels.length = 0;\n        this.edgesWithForcedLabels.length = 0;\n        if (this.checkEdgesEventsFrame !== null) {\n            (0, utils_1.cancelFrame)(this.checkEdgesEventsFrame);\n            this.checkEdgesEventsFrame = null;\n        }\n        // Installing new graph\n        this.graph = graph;\n        // Binding new handlers\n        this.bindGraphHandlers();\n        // Re-rendering now to avoid discrepancies from now to next frame\n        this.refresh();\n    };\n    /**\n     * Method returning the mouse captor.\n     *\n     * @return {MouseCaptor}\n     */\n    Sigma.prototype.getMouseCaptor = function () {\n        return this.mouseCaptor;\n    };\n    /**\n     * Method returning the touch captor.\n     *\n     * @return {TouchCaptor}\n     */\n    Sigma.prototype.getTouchCaptor = function () {\n        return this.touchCaptor;\n    };\n    /**\n     * Method returning the current renderer's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getDimensions = function () {\n        return { width: this.width, height: this.height };\n    };\n    /**\n     * Method returning the current graph's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getGraphDimensions = function () {\n        var extent = this.customBBox || this.nodeExtent;\n        return {\n            width: extent.x[1] - extent.x[0] || 1,\n            height: extent.y[1] - extent.y[0] || 1,\n        };\n    };\n    /**\n     * Method used to get all the sigma node attributes.\n     * It's usefull for example to get the position of a node\n     * and to get values that are set by the nodeReducer\n     *\n     * @param  {string} key - The node's key.\n     * @return {NodeDisplayData | undefined} A copy of the desired node's attribute or undefined if not found\n     */\n    Sigma.prototype.getNodeDisplayData = function (key) {\n        var node = this.nodeDataCache[key];\n        return node ? Object.assign({}, node) : undefined;\n    };\n    /**\n     * Method used to get all the sigma edge attributes.\n     * It's usefull for example to get values that are set by the edgeReducer.\n     *\n     * @param  {string} key - The edge's key.\n     * @return {EdgeDisplayData | undefined} A copy of the desired edge's attribute or undefined if not found\n     */\n    Sigma.prototype.getEdgeDisplayData = function (key) {\n        var edge = this.edgeDataCache[key];\n        return edge ? Object.assign({}, edge) : undefined;\n    };\n    /**\n     * Method used to get the set of currently displayed node labels.\n     *\n     * @return {Set<string>} A set of node keys whose label is displayed.\n     */\n    Sigma.prototype.getNodeDisplayedLabels = function () {\n        return new Set(this.displayedNodeLabels);\n    };\n    /**\n     * Method used to get the set of currently displayed edge labels.\n     *\n     * @return {Set<string>} A set of edge keys whose label is displayed.\n     */\n    Sigma.prototype.getEdgeDisplayedLabels = function () {\n        return new Set(this.displayedEdgeLabels);\n    };\n    /**\n     * Method returning a copy of the settings collection.\n     *\n     * @return {Settings} A copy of the settings collection.\n     */\n    Sigma.prototype.getSettings = function () {\n        return __assign({}, this.settings);\n    };\n    /**\n     * Method returning the current value for a given setting key.\n     *\n     * @param  {string} key - The setting key to get.\n     * @return {any} The value attached to this setting key or undefined if not found\n     */\n    Sigma.prototype.getSetting = function (key) {\n        return this.settings[key];\n    };\n    /**\n     * Method setting the value of a given setting key. Note that this will schedule\n     * a new render next frame.\n     *\n     * @param  {string} key - The setting key to set.\n     * @param  {any}    value - The value to set.\n     * @return {Sigma}\n     */\n    Sigma.prototype.setSetting = function (key, value) {\n        this.settings[key] = value;\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method updating the value of a given setting key using the provided function.\n     * Note that this will schedule a new render next frame.\n     *\n     * @param  {string}   key     - The setting key to set.\n     * @param  {function} updater - The update function.\n     * @return {Sigma}\n     */\n    Sigma.prototype.updateSetting = function (key, updater) {\n        this.settings[key] = updater(this.settings[key]);\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to resize the renderer.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.resize = function () {\n        var previousWidth = this.width, previousHeight = this.height;\n        this.width = this.container.offsetWidth;\n        this.height = this.container.offsetHeight;\n        this.pixelRatio = (0, utils_1.getPixelRatio)();\n        if (this.width === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.width = 1;\n            else\n                throw new Error(\"Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        if (this.height === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.height = 1;\n            else\n                throw new Error(\"Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        // If nothing has changed, we can stop right here\n        if (previousWidth === this.width && previousHeight === this.height)\n            return this;\n        this.emit(\"resize\");\n        // Sizing dom elements\n        for (var id in this.elements) {\n            var element = this.elements[id];\n            element.style.width = this.width + \"px\";\n            element.style.height = this.height + \"px\";\n        }\n        // Sizing canvas contexts\n        for (var id in this.canvasContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            if (this.pixelRatio !== 1)\n                this.canvasContexts[id].scale(this.pixelRatio, this.pixelRatio);\n        }\n        // Sizing WebGL contexts\n        for (var id in this.webGLContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            this.webGLContexts[id].viewport(0, 0, this.width * this.pixelRatio, this.height * this.pixelRatio);\n        }\n        return this;\n    };\n    /**\n     * Method used to clear all the canvases.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.clear = function () {\n        this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT);\n        this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT);\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        this.canvasContexts.labels.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.hovers.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.edgeLabels.clearRect(0, 0, this.width, this.height);\n        return this;\n    };\n    /**\n     * Method used to refresh, i.e. force the renderer to fully reprocess graph\n     * data and render.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.refresh = function () {\n        this.needToProcess = true;\n        this.render();\n        return this;\n    };\n    /**\n     * Method used to schedule a render at the next available frame.\n     * This method can be safely called on a same frame because it basically\n     * debounce refresh to the next frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.scheduleRender = function () {\n        var _this = this;\n        if (!this.renderFrame) {\n            this.renderFrame = (0, utils_1.requestFrame)(function () {\n                _this.render();\n            });\n        }\n        return this;\n    };\n    /**\n     * Method used to schedule a refresh (i.e. fully reprocess graph data and render)\n     * at the next available frame.\n     * This method can be safely called on a same frame because it basically\n     * debounce refresh to the next frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.scheduleRefresh = function () {\n        this.needToProcess = true;\n        this.scheduleRender();\n        return this;\n    };\n    /**\n     * Method used to (un)zoom, while preserving the position of a viewport point.\n     * Used for instance to zoom \"on the mouse cursor\".\n     *\n     * @param viewportTarget\n     * @param newRatio\n     * @return {CameraState}\n     */\n    Sigma.prototype.getViewportZoomedState = function (viewportTarget, newRatio) {\n        var _a = this.camera.getState(), ratio = _a.ratio, angle = _a.angle, x = _a.x, y = _a.y;\n        // TODO: handle max zoom\n        var ratioDiff = newRatio / ratio;\n        var center = {\n            x: this.width / 2,\n            y: this.height / 2,\n        };\n        var graphMousePosition = this.viewportToFramedGraph(viewportTarget);\n        var graphCenterPosition = this.viewportToFramedGraph(center);\n        return {\n            angle: angle,\n            x: (graphMousePosition.x - graphCenterPosition.x) * (1 - ratioDiff) + x,\n            y: (graphMousePosition.y - graphCenterPosition.y) * (1 - ratioDiff) + y,\n            ratio: newRatio,\n        };\n    };\n    /**\n     * Method returning the abstract rectangle containing the graph according\n     * to the camera's state.\n     *\n     * @return {object} - The view's rectangle.\n     */\n    Sigma.prototype.viewRectangle = function () {\n        // TODO: reduce relative margin?\n        var marginX = (0 * this.width) / 8, marginY = (0 * this.height) / 8;\n        var p1 = this.viewportToFramedGraph({ x: 0 - marginX, y: 0 - marginY }), p2 = this.viewportToFramedGraph({ x: this.width + marginX, y: 0 - marginY }), h = this.viewportToFramedGraph({ x: 0, y: this.height + marginY });\n        return {\n            x1: p1.x,\n            y1: p1.y,\n            x2: p2.x,\n            y2: p2.y,\n            height: p2.y - h.y,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the framed graph system to the viewport system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.framedGraphToViewport = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !!override.graphDimensions;\n        var matrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0)\n                : this.matrix;\n        var viewportPos = (0, matrices_1.multiplyVec2)(matrix, coordinates);\n        return {\n            x: ((1 + viewportPos.x) * this.width) / 2,\n            y: ((1 - viewportPos.y) * this.height) / 2,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the viewport system to the framed graph system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.viewportToFramedGraph = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !override.graphDimensions;\n        var invMatrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0, true)\n                : this.invMatrix;\n        var res = (0, matrices_1.multiplyVec2)(invMatrix, {\n            x: (coordinates.x / this.width) * 2 - 1,\n            y: 1 - (coordinates.y / this.height) * 2,\n        });\n        if (isNaN(res.x))\n            res.x = 0;\n        if (isNaN(res.y))\n            res.y = 0;\n        return res;\n    };\n    /**\n     * Method used to translate a point's coordinates from the viewport system (pixel distance from the top-left of the\n     * stage) to the graph system (the reference system of data as they are in the given graph instance).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  viewportPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.viewportToGraph = function (viewportPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.normalizationFunction.inverse(this.viewportToFramedGraph(viewportPoint, override));\n    };\n    /**\n     * Method used to translate a point's coordinates from the graph system (the reference system of data as they are in\n     * the given graph instance) to the viewport system (pixel distance from the top-left of the stage).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  graphPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.graphToViewport = function (graphPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.framedGraphToViewport(this.normalizationFunction(graphPoint), override);\n    };\n    /**\n     * Method returning the graph's bounding box.\n     *\n     * @return {{ x: Extent, y: Extent }}\n     */\n    Sigma.prototype.getBBox = function () {\n        return (0, utils_1.graphExtent)(this.graph);\n    };\n    /**\n     * Method returning the graph's custom bounding box, if any.\n     *\n     * @return {{ x: Extent, y: Extent } | null}\n     */\n    Sigma.prototype.getCustomBBox = function () {\n        return this.customBBox;\n    };\n    /**\n     * Method used to override the graph's bounding box with a custom one. Give `null` as the argument to stop overriding.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.setCustomBBox = function (customBBox) {\n        this.customBBox = customBBox;\n        this.scheduleRender();\n        return this;\n    };\n    /**\n     * Method used to shut the container & release event listeners.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.kill = function () {\n        // Emitting \"kill\" events so that plugins and such can cleanup\n        this.emit(\"kill\");\n        // Releasing events\n        this.removeAllListeners();\n        // Releasing camera handlers\n        this.camera.removeListener(\"updated\", this.activeListeners.camera);\n        // Releasing DOM events & captors\n        window.removeEventListener(\"resize\", this.activeListeners.handleResize);\n        this.mouseCaptor.kill();\n        this.touchCaptor.kill();\n        // Releasing graph handlers\n        this.unbindGraphHandlers();\n        // Releasing cache & state\n        this.quadtree = new quadtree_1.default();\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        this.highlightedNodes.clear();\n        // Clearing frames\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n        }\n        if (this.renderHighlightedNodesFrame) {\n            (0, utils_1.cancelFrame)(this.renderHighlightedNodesFrame);\n            this.renderHighlightedNodesFrame = null;\n        }\n        // Destroying canvases\n        var container = this.container;\n        while (container.firstChild)\n            container.removeChild(container.firstChild);\n    };\n    /**\n     * Method used to scale the given size according to the camera's ratio, i.e.\n     * zooming state.\n     *\n     * @param  {number} size - The size to scale (node size, edge thickness etc.).\n     * @return {number}      - The scaled size.\n     */\n    Sigma.prototype.scaleSize = function (size) {\n        return size / this.cameraSizeRatio;\n    };\n    /**\n     * Method that returns the collection of all used canvases.\n     * At the moment, the instantiated canvases are the following, and in the\n     * following order in the DOM:\n     * - `edges`\n     * - `nodes`\n     * - `edgeLabels`\n     * - `labels`\n     * - `hovers`\n     * - `hoverNodes`\n     * - `mouse`\n     *\n     * @return {PlainObject<HTMLCanvasElement>} - The collection of canvases.\n     */\n    Sigma.prototype.getCanvases = function () {\n        return __assign({}, this.elements);\n    };\n    return Sigma;\n}(types_1.TypedEventEmitter));\nexports.default = Sigma;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypedEventEmitter = void 0;\n/**\n * Sigma.js Types\n * ===============\n *\n * Various type declarations used throughout the library.\n * @module\n */\nvar events_1 = require(\"events\");\nvar TypedEventEmitter = /** @class */ (function (_super) {\n    __extends(TypedEventEmitter, _super);\n    function TypedEventEmitter() {\n        var _this = _super.call(this) || this;\n        _this.rawEmitter = _this;\n        return _this;\n    }\n    return TypedEventEmitter;\n}(events_1.EventEmitter));\nexports.TypedEventEmitter = TypedEventEmitter;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.animateNodes = exports.ANIMATE_DEFAULTS = void 0;\nvar index_1 = require(\"./index\");\nvar easings_1 = __importDefault(require(\"./easings\"));\nexports.ANIMATE_DEFAULTS = {\n    easing: \"quadraticInOut\",\n    duration: 150,\n};\n/**\n * Function used to animate the nodes.\n */\nfunction animateNodes(graph, targets, opts, callback) {\n    var options = Object.assign({}, exports.ANIMATE_DEFAULTS, opts);\n    var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n    var start = Date.now();\n    var startPositions = {};\n    for (var node in targets) {\n        var attrs = targets[node];\n        startPositions[node] = {};\n        for (var k in attrs)\n            startPositions[node][k] = graph.getNodeAttribute(node, k);\n    }\n    var frame = null;\n    var step = function () {\n        frame = null;\n        var p = (Date.now() - start) / options.duration;\n        if (p >= 1) {\n            // Animation is done\n            for (var node in targets) {\n                var attrs = targets[node];\n                // We use given values to avoid precision issues and for convenience\n                for (var k in attrs)\n                    graph.setNodeAttribute(node, k, attrs[k]);\n            }\n            if (typeof callback === \"function\")\n                callback();\n            return;\n        }\n        p = easing(p);\n        for (var node in targets) {\n            var attrs = targets[node];\n            var s = startPositions[node];\n            for (var k in attrs)\n                graph.setNodeAttribute(node, k, attrs[k] * p + s[k] * (1 - p));\n        }\n        frame = (0, index_1.requestFrame)(step);\n    };\n    step();\n    return function () {\n        if (frame)\n            (0, index_1.cancelFrame)(frame);\n    };\n}\nexports.animateNodes = animateNodes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTML_COLORS = void 0;\nexports.HTML_COLORS = {\n    black: \"#000000\",\n    silver: \"#C0C0C0\",\n    gray: \"#808080\",\n    grey: \"#808080\",\n    white: \"#FFFFFF\",\n    maroon: \"#800000\",\n    red: \"#FF0000\",\n    purple: \"#800080\",\n    fuchsia: \"#FF00FF\",\n    green: \"#008000\",\n    lime: \"#00FF00\",\n    olive: \"#808000\",\n    yellow: \"#FFFF00\",\n    navy: \"#000080\",\n    blue: \"#0000FF\",\n    teal: \"#008080\",\n    aqua: \"#00FFFF\",\n    darkblue: \"#00008B\",\n    mediumblue: \"#0000CD\",\n    darkgreen: \"#006400\",\n    darkcyan: \"#008B8B\",\n    deepskyblue: \"#00BFFF\",\n    darkturquoise: \"#00CED1\",\n    mediumspringgreen: \"#00FA9A\",\n    springgreen: \"#00FF7F\",\n    cyan: \"#00FFFF\",\n    midnightblue: \"#191970\",\n    dodgerblue: \"#1E90FF\",\n    lightseagreen: \"#20B2AA\",\n    forestgreen: \"#228B22\",\n    seagreen: \"#2E8B57\",\n    darkslategray: \"#2F4F4F\",\n    darkslategrey: \"#2F4F4F\",\n    limegreen: \"#32CD32\",\n    mediumseagreen: \"#3CB371\",\n    turquoise: \"#40E0D0\",\n    royalblue: \"#4169E1\",\n    steelblue: \"#4682B4\",\n    darkslateblue: \"#483D8B\",\n    mediumturquoise: \"#48D1CC\",\n    indigo: \"#4B0082\",\n    darkolivegreen: \"#556B2F\",\n    cadetblue: \"#5F9EA0\",\n    cornflowerblue: \"#6495ED\",\n    rebeccapurple: \"#663399\",\n    mediumaquamarine: \"#66CDAA\",\n    dimgray: \"#696969\",\n    dimgrey: \"#696969\",\n    slateblue: \"#6A5ACD\",\n    olivedrab: \"#6B8E23\",\n    slategray: \"#708090\",\n    slategrey: \"#708090\",\n    lightslategray: \"#778899\",\n    lightslategrey: \"#778899\",\n    mediumslateblue: \"#7B68EE\",\n    lawngreen: \"#7CFC00\",\n    chartreuse: \"#7FFF00\",\n    aquamarine: \"#7FFFD4\",\n    skyblue: \"#87CEEB\",\n    lightskyblue: \"#87CEFA\",\n    blueviolet: \"#8A2BE2\",\n    darkred: \"#8B0000\",\n    darkmagenta: \"#8B008B\",\n    saddlebrown: \"#8B4513\",\n    darkseagreen: \"#8FBC8F\",\n    lightgreen: \"#90EE90\",\n    mediumpurple: \"#9370DB\",\n    darkviolet: \"#9400D3\",\n    palegreen: \"#98FB98\",\n    darkorchid: \"#9932CC\",\n    yellowgreen: \"#9ACD32\",\n    sienna: \"#A0522D\",\n    brown: \"#A52A2A\",\n    darkgray: \"#A9A9A9\",\n    darkgrey: \"#A9A9A9\",\n    lightblue: \"#ADD8E6\",\n    greenyellow: \"#ADFF2F\",\n    paleturquoise: \"#AFEEEE\",\n    lightsteelblue: \"#B0C4DE\",\n    powderblue: \"#B0E0E6\",\n    firebrick: \"#B22222\",\n    darkgoldenrod: \"#B8860B\",\n    mediumorchid: \"#BA55D3\",\n    rosybrown: \"#BC8F8F\",\n    darkkhaki: \"#BDB76B\",\n    mediumvioletred: \"#C71585\",\n    indianred: \"#CD5C5C\",\n    peru: \"#CD853F\",\n    chocolate: \"#D2691E\",\n    tan: \"#D2B48C\",\n    lightgray: \"#D3D3D3\",\n    lightgrey: \"#D3D3D3\",\n    thistle: \"#D8BFD8\",\n    orchid: \"#DA70D6\",\n    goldenrod: \"#DAA520\",\n    palevioletred: \"#DB7093\",\n    crimson: \"#DC143C\",\n    gainsboro: \"#DCDCDC\",\n    plum: \"#DDA0DD\",\n    burlywood: \"#DEB887\",\n    lightcyan: \"#E0FFFF\",\n    lavender: \"#E6E6FA\",\n    darksalmon: \"#E9967A\",\n    violet: \"#EE82EE\",\n    palegoldenrod: \"#EEE8AA\",\n    lightcoral: \"#F08080\",\n    khaki: \"#F0E68C\",\n    aliceblue: \"#F0F8FF\",\n    honeydew: \"#F0FFF0\",\n    azure: \"#F0FFFF\",\n    sandybrown: \"#F4A460\",\n    wheat: \"#F5DEB3\",\n    beige: \"#F5F5DC\",\n    whitesmoke: \"#F5F5F5\",\n    mintcream: \"#F5FFFA\",\n    ghostwhite: \"#F8F8FF\",\n    salmon: \"#FA8072\",\n    antiquewhite: \"#FAEBD7\",\n    linen: \"#FAF0E6\",\n    lightgoldenrodyellow: \"#FAFAD2\",\n    oldlace: \"#FDF5E6\",\n    magenta: \"#FF00FF\",\n    deeppink: \"#FF1493\",\n    orangered: \"#FF4500\",\n    tomato: \"#FF6347\",\n    hotpink: \"#FF69B4\",\n    coral: \"#FF7F50\",\n    darkorange: \"#FF8C00\",\n    lightsalmon: \"#FFA07A\",\n    orange: \"#FFA500\",\n    lightpink: \"#FFB6C1\",\n    pink: \"#FFC0CB\",\n    gold: \"#FFD700\",\n    peachpuff: \"#FFDAB9\",\n    navajowhite: \"#FFDEAD\",\n    moccasin: \"#FFE4B5\",\n    bisque: \"#FFE4C4\",\n    mistyrose: \"#FFE4E1\",\n    blanchedalmond: \"#FFEBCD\",\n    papayawhip: \"#FFEFD5\",\n    lavenderblush: \"#FFF0F5\",\n    seashell: \"#FFF5EE\",\n    cornsilk: \"#FFF8DC\",\n    lemonchiffon: \"#FFFACD\",\n    floralwhite: \"#FFFAF0\",\n    snow: \"#FFFAFA\",\n    lightyellow: \"#FFFFE0\",\n    ivory: \"#FFFFF0\",\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cubicInOut = exports.cubicOut = exports.cubicIn = exports.quadraticInOut = exports.quadraticOut = exports.quadraticIn = exports.linear = void 0;\n/**\n * Sigma.js Easings\n * =================\n *\n * Handy collection of easing functions.\n * @module\n */\nvar linear = function (k) { return k; };\nexports.linear = linear;\nvar quadraticIn = function (k) { return k * k; };\nexports.quadraticIn = quadraticIn;\nvar quadraticOut = function (k) { return k * (2 - k); };\nexports.quadraticOut = quadraticOut;\nvar quadraticInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k;\n    return -0.5 * (--k * (k - 2) - 1);\n};\nexports.quadraticInOut = quadraticInOut;\nvar cubicIn = function (k) { return k * k * k; };\nexports.cubicIn = cubicIn;\nvar cubicOut = function (k) { return --k * k * k + 1; };\nexports.cubicOut = cubicOut;\nvar cubicInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k * k;\n    return 0.5 * ((k -= 2) * k * k + 2);\n};\nexports.cubicInOut = cubicInOut;\nvar easings = {\n    linear: exports.linear,\n    quadraticIn: exports.quadraticIn,\n    quadraticOut: exports.quadraticOut,\n    quadraticInOut: exports.quadraticInOut,\n    cubicIn: exports.cubicIn,\n    cubicOut: exports.cubicOut,\n    cubicInOut: exports.cubicInOut,\n};\nexports.default = easings;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.doEdgeCollideWithPoint = exports.isPixelColored = void 0;\n/**\n * This helper returns true is the pixel at (x,y) in the given WebGL context is\n * colored, and false else.\n */\nfunction isPixelColored(gl, x, y) {\n    var pixels = new Uint8Array(4);\n    gl.readPixels(x, gl.drawingBufferHeight - y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return pixels[3] > 0;\n}\nexports.isPixelColored = isPixelColored;\n/**\n * This helper checks whether or not a point (x, y) collides with an\n * edge, connecting a source (xS, yS) to a target (xT, yT) with a thickness in\n * pixels.\n */\nfunction doEdgeCollideWithPoint(x, y, xS, yS, xT, yT, thickness) {\n    // Check first if point is out of the rectangle which opposite corners are the\n    // source and the target, rectangle we expand by `thickness` in every\n    // directions:\n    if (x < xS - thickness && x < xT - thickness)\n        return false;\n    if (y < yS - thickness && y < yT - thickness)\n        return false;\n    if (x > xS + thickness && x > xT + thickness)\n        return false;\n    if (y > yS + thickness && y > yT + thickness)\n        return false;\n    // Check actual collision now: Since we now the point is in this big rectangle\n    // we \"just\" need to check that the distance between the point and the line\n    // connecting the source and the target is less than `thickness`:\n    // https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n    var distance = Math.abs((xT - xS) * (yS - y) - (xS - x) * (yT - yS)) / Math.sqrt(Math.pow(xT - xS, 2) + Math.pow(yT - yS, 2));\n    return distance < thickness / 2;\n}\nexports.doEdgeCollideWithPoint = doEdgeCollideWithPoint;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateGraph = exports.canUse32BitsIndices = exports.extractPixel = exports.getMatrixImpact = exports.matrixFromCamera = exports.getCorrectionRatio = exports.floatColor = exports.floatArrayColor = exports.parseColor = exports.zIndexOrdering = exports.createNormalizationFunction = exports.graphExtent = exports.getPixelRatio = exports.createElement = exports.cancelFrame = exports.requestFrame = exports.assignDeep = exports.assign = exports.isPlainObject = void 0;\nvar is_graph_1 = __importDefault(require(\"graphology-utils/is-graph\"));\nvar matrices_1 = require(\"./matrices\");\nvar data_1 = require(\"./data\");\n/**\n * Checks whether the given value is a plain object.\n *\n * @param  {mixed}   value - Target value.\n * @return {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction isPlainObject(value) {\n    return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nexports.isPlainObject = isPlainObject;\n/**\n * Helper to use Object.assign with more than two objects.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assign(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        Object.assign(target, o);\n    }\n    return target;\n}\nexports.assign = assign;\n/**\n * Very simple recursive Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assignDeep(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        for (var k in o) {\n            if (isPlainObject(o[k])) {\n                target[k] = assignDeep(target[k], o[k]);\n            }\n            else {\n                target[k] = o[k];\n            }\n        }\n    }\n    return target;\n}\nexports.assignDeep = assignDeep;\n/**\n * Just some dirty trick to make requestAnimationFrame and cancelAnimationFrame \"work\" in Node.js, for unit tests:\n */\nexports.requestFrame = typeof requestAnimationFrame !== \"undefined\"\n    ? function (callback) { return requestAnimationFrame(callback); }\n    : function (callback) { return setTimeout(callback, 0); };\nexports.cancelFrame = typeof cancelAnimationFrame !== \"undefined\"\n    ? function (requestID) { return cancelAnimationFrame(requestID); }\n    : function (requestID) { return clearTimeout(requestID); };\n/**\n * Function used to create DOM elements easily.\n *\n * @param  {string} tag        - Tag name of the element to create.\n * @param  {object} style      - Styles map.\n * @param  {object} attributes - Attributes map.\n * @return {HTMLElement}\n */\nfunction createElement(tag, style, attributes) {\n    var element = document.createElement(tag);\n    if (style) {\n        for (var k in style) {\n            element.style[k] = style[k];\n        }\n    }\n    if (attributes) {\n        for (var k in attributes) {\n            element.setAttribute(k, attributes[k]);\n        }\n    }\n    return element;\n}\nexports.createElement = createElement;\n/**\n * Function returning the browser's pixel ratio.\n *\n * @return {number}\n */\nfunction getPixelRatio() {\n    if (typeof window.devicePixelRatio !== \"undefined\")\n        return window.devicePixelRatio;\n    return 1;\n}\nexports.getPixelRatio = getPixelRatio;\n/**\n * Function returning the graph's node extent in x & y.\n *\n * @param  {Graph}\n * @return {object}\n */\nfunction graphExtent(graph) {\n    if (!graph.order)\n        return { x: [0, 1], y: [0, 1] };\n    var xMin = Infinity;\n    var xMax = -Infinity;\n    var yMin = Infinity;\n    var yMax = -Infinity;\n    graph.forEachNode(function (_, attr) {\n        var x = attr.x, y = attr.y;\n        if (x < xMin)\n            xMin = x;\n        if (x > xMax)\n            xMax = x;\n        if (y < yMin)\n            yMin = y;\n        if (y > yMax)\n            yMax = y;\n    });\n    return { x: [xMin, xMax], y: [yMin, yMax] };\n}\nexports.graphExtent = graphExtent;\nfunction createNormalizationFunction(extent) {\n    var _a = __read(extent.x, 2), minX = _a[0], maxX = _a[1], _b = __read(extent.y, 2), minY = _b[0], maxY = _b[1];\n    var ratio = Math.max(maxX - minX, maxY - minY), dX = (maxX + minX) / 2, dY = (maxY + minY) / 2;\n    if (ratio === 0 || Math.abs(ratio) === Infinity || isNaN(ratio))\n        ratio = 1;\n    if (isNaN(dX))\n        dX = 0;\n    if (isNaN(dY))\n        dY = 0;\n    var fn = function (data) {\n        return {\n            x: 0.5 + (data.x - dX) / ratio,\n            y: 0.5 + (data.y - dY) / ratio,\n        };\n    };\n    // TODO: possibility to apply this in batch over array of indices\n    fn.applyTo = function (data) {\n        data.x = 0.5 + (data.x - dX) / ratio;\n        data.y = 0.5 + (data.y - dY) / ratio;\n    };\n    fn.inverse = function (data) {\n        return {\n            x: dX + ratio * (data.x - 0.5),\n            y: dY + ratio * (data.y - 0.5),\n        };\n    };\n    fn.ratio = ratio;\n    return fn;\n}\nexports.createNormalizationFunction = createNormalizationFunction;\n/**\n * Function ordering the given elements in reverse z-order so they drawn\n * the correct way.\n *\n * @param  {number}   extent   - [min, max] z values.\n * @param  {function} getter   - Z attribute getter function.\n * @param  {array}    elements - The array to sort.\n * @return {array} - The sorted array.\n */\nfunction zIndexOrdering(extent, getter, elements) {\n    // If k is > n, we'll use a standard sort\n    return elements.sort(function (a, b) {\n        var zA = getter(a) || 0, zB = getter(b) || 0;\n        if (zA < zB)\n            return -1;\n        if (zA > zB)\n            return 1;\n        return 0;\n    });\n    // TODO: counting sort optimization\n}\nexports.zIndexOrdering = zIndexOrdering;\n/**\n * WebGL utils\n * ===========\n */\n/**\n * Memoized function returning a float-encoded color from various string\n * formats describing colors.\n */\nvar INT8 = new Int8Array(4);\nvar INT32 = new Int32Array(INT8.buffer, 0, 1);\nvar FLOAT32 = new Float32Array(INT8.buffer, 0, 1);\nvar RGBA_TEST_REGEX = /^\\s*rgba?\\s*\\(/;\nvar RGBA_EXTRACT_REGEX = /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)(?:\\s*,\\s*(.*)?)?\\)\\s*$/;\nfunction parseColor(val) {\n    var r = 0; // byte\n    var g = 0; // byte\n    var b = 0; // byte\n    var a = 1; // float\n    // Handling hexadecimal notation\n    if (val[0] === \"#\") {\n        if (val.length === 4) {\n            r = parseInt(val.charAt(1) + val.charAt(1), 16);\n            g = parseInt(val.charAt(2) + val.charAt(2), 16);\n            b = parseInt(val.charAt(3) + val.charAt(3), 16);\n        }\n        else {\n            r = parseInt(val.charAt(1) + val.charAt(2), 16);\n            g = parseInt(val.charAt(3) + val.charAt(4), 16);\n            b = parseInt(val.charAt(5) + val.charAt(6), 16);\n        }\n        if (val.length === 9) {\n            a = parseInt(val.charAt(7) + val.charAt(8), 16) / 255;\n        }\n    }\n    // Handling rgb notation\n    else if (RGBA_TEST_REGEX.test(val)) {\n        var match = val.match(RGBA_EXTRACT_REGEX);\n        if (match) {\n            r = +match[1];\n            g = +match[2];\n            b = +match[3];\n            if (match[4])\n                a = +match[4];\n        }\n    }\n    return { r: r, g: g, b: b, a: a };\n}\nexports.parseColor = parseColor;\nvar FLOAT_COLOR_CACHE = {};\nfor (var htmlColor in data_1.HTML_COLORS) {\n    FLOAT_COLOR_CACHE[htmlColor] = floatColor(data_1.HTML_COLORS[htmlColor]);\n    // Replicating cache for hex values for free\n    FLOAT_COLOR_CACHE[data_1.HTML_COLORS[htmlColor]] = FLOAT_COLOR_CACHE[htmlColor];\n}\nfunction floatArrayColor(val) {\n    val = data_1.HTML_COLORS[val] || val;\n    // NOTE: this variant is not cached because it is mostly used for uniforms\n    var _a = parseColor(val), r = _a.r, g = _a.g, b = _a.b, a = _a.a;\n    return new Float32Array([r / 255, g / 255, b / 255, a]);\n}\nexports.floatArrayColor = floatArrayColor;\nfunction floatColor(val) {\n    // If the color is already computed, we yield it\n    if (typeof FLOAT_COLOR_CACHE[val] !== \"undefined\")\n        return FLOAT_COLOR_CACHE[val];\n    var parsed = parseColor(val);\n    var r = parsed.r, g = parsed.g, b = parsed.b;\n    var a = parsed.a;\n    a = (a * 255) | 0;\n    INT32[0] = ((a << 24) | (b << 16) | (g << 8) | r) & 0xfeffffff;\n    var color = FLOAT32[0];\n    FLOAT_COLOR_CACHE[val] = color;\n    return color;\n}\nexports.floatColor = floatColor;\n/**\n * In sigma, the graph is normalized into a [0, 1], [0, 1] square, before being given to the various renderers. This\n * helps dealing with quadtree in particular.\n * But at some point, we need to rescale it so that it takes the best place in the screen, ie. we always want to see two\n * nodes \"touching\" opposite sides of the graph, with the camera being at its default state.\n *\n * This function determines this ratio.\n */\nfunction getCorrectionRatio(viewportDimensions, graphDimensions) {\n    var viewportRatio = viewportDimensions.height / viewportDimensions.width;\n    var graphRatio = graphDimensions.height / graphDimensions.width;\n    // If the stage and the graphs are in different directions (such as the graph being wider that tall while the stage\n    // is taller than wide), we can stop here to have indeed nodes touching opposite sides:\n    if ((viewportRatio < 1 && graphRatio > 1) || (viewportRatio > 1 && graphRatio < 1)) {\n        return 1;\n    }\n    // Else, we need to fit the graph inside the stage:\n    // 1. If the graph is \"squarer\" (ie. with a ratio closer to 1), we need to make the largest sides touch;\n    // 2. If the stage is \"squarer\", we need to make the smallest sides touch.\n    return Math.min(Math.max(graphRatio, 1 / graphRatio), Math.max(1 / viewportRatio, viewportRatio));\n}\nexports.getCorrectionRatio = getCorrectionRatio;\n/**\n * Function returning a matrix from the current state of the camera.\n */\n// TODO: it's possible to optimize this drastically!\nfunction matrixFromCamera(state, viewportDimensions, graphDimensions, padding, inverse) {\n    var angle = state.angle, ratio = state.ratio, x = state.x, y = state.y;\n    var width = viewportDimensions.width, height = viewportDimensions.height;\n    var matrix = (0, matrices_1.identity)();\n    var smallestDimension = Math.min(width, height) - 2 * padding;\n    var correctionRatio = getCorrectionRatio(viewportDimensions, graphDimensions);\n    if (!inverse) {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 2 * (smallestDimension / width) * correctionRatio, 2 * (smallestDimension / height) * correctionRatio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), -angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 1 / ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), -x, -y));\n    }\n    else {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), x, y));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), width / smallestDimension / 2 / correctionRatio, height / smallestDimension / 2 / correctionRatio));\n    }\n    return matrix;\n}\nexports.matrixFromCamera = matrixFromCamera;\n/**\n * All these transformations we apply on the matrix to get it rescale the graph\n * as we want make it very hard to get pixel-perfect distances in WebGL. This\n * function returns a factor that properly cancels the matrix effect on lengths.\n *\n * [jacomyal]\n * To be fully honest, I can't really explain happens here... I notice that the\n * following ratio works (ie. it correctly compensates the matrix impact on all\n * camera states I could try):\n * > `R = size(V) / size(M * V) / W`\n * as long as `M * V` is in the direction of W (ie. parallel to (Ox)). It works\n * as well with H and a vector that transforms into something parallel to (Oy).\n *\n * Also, note that we use `angle` and not `-angle` (that would seem logical,\n * since we want to anticipate the rotation), because of the fact that in WebGL,\n * the image is vertically swapped.\n */\nfunction getMatrixImpact(matrix, cameraState, viewportDimensions) {\n    var _a = (0, matrices_1.multiplyVec2)(matrix, { x: Math.cos(cameraState.angle), y: Math.sin(cameraState.angle) }, 0), x = _a.x, y = _a.y;\n    return 1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2)) / viewportDimensions.width;\n}\nexports.getMatrixImpact = getMatrixImpact;\n/**\n * Function extracting the color at the given pixel.\n */\nfunction extractPixel(gl, x, y, array) {\n    var data = array || new Uint8Array(4);\n    gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    return data;\n}\nexports.extractPixel = extractPixel;\n/**\n * Function used to know whether given webgl context can use 32 bits indices.\n */\nfunction canUse32BitsIndices(gl) {\n    var webgl2 = typeof WebGL2RenderingContext !== \"undefined\" && gl instanceof WebGL2RenderingContext;\n    return webgl2 || !!gl.getExtension(\"OES_element_index_uint\");\n}\nexports.canUse32BitsIndices = canUse32BitsIndices;\n/**\n * Check if the graph variable is a valid graph, and if sigma can render it.\n */\nfunction validateGraph(graph) {\n    // check if it's a valid graphology instance\n    if (!(0, is_graph_1.default)(graph))\n        throw new Error(\"Sigma: invalid graph instance.\");\n    // check if nodes have x/y attributes\n    graph.forEachNode(function (key, attributes) {\n        if (!Number.isFinite(attributes.x) || !Number.isFinite(attributes.y)) {\n            throw new Error(\"Sigma: Coordinates of node \".concat(key, \" are invalid. A node must have a numeric 'x' and 'y' attribute.\"));\n        }\n    });\n}\nexports.validateGraph = validateGraph;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiplyVec2 = exports.multiply = exports.translate = exports.rotate = exports.scale = exports.identity = void 0;\nfunction identity() {\n    return Float32Array.of(1, 0, 0, 0, 1, 0, 0, 0, 1);\n}\nexports.identity = identity;\n// TODO: optimize\nfunction scale(m, x, y) {\n    m[0] = x;\n    m[4] = typeof y === \"number\" ? y : x;\n    return m;\n}\nexports.scale = scale;\nfunction rotate(m, r) {\n    var s = Math.sin(r), c = Math.cos(r);\n    m[0] = c;\n    m[1] = s;\n    m[3] = -s;\n    m[4] = c;\n    return m;\n}\nexports.rotate = rotate;\nfunction translate(m, x, y) {\n    m[6] = x;\n    m[7] = y;\n    return m;\n}\nexports.translate = translate;\nfunction multiply(a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2];\n    var a10 = a[3], a11 = a[4], a12 = a[5];\n    var a20 = a[6], a21 = a[7], a22 = a[8];\n    var b00 = b[0], b01 = b[1], b02 = b[2];\n    var b10 = b[3], b11 = b[4], b12 = b[5];\n    var b20 = b[6], b21 = b[7], b22 = b[8];\n    a[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    a[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    a[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    a[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    a[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    a[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    a[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    a[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    a[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return a;\n}\nexports.multiply = multiply;\nfunction multiplyVec2(a, b, z) {\n    if (z === void 0) { z = 1; }\n    var a00 = a[0];\n    var a01 = a[1];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a20 = a[6];\n    var a21 = a[7];\n    var b0 = b.x;\n    var b1 = b.y;\n    return { x: b0 * a00 + b1 * a10 + a20 * z, y: b0 * a01 + b1 * a11 + a21 * z };\n}\nexports.multiplyVec2 = multiplyVec2;\n","/* TODO:\n- fix switch entity on unselected node does not recenter graph / recenter not applied on reloading on comics\n- make labels on multiple lines\n- load good mono font on mobile\n- stick action buttons to bottom with switch\n- add star on family that focuses sentence in help\n- check bad data marvel :\n  - http://gateway.marvel.com/v1/public/stories/186542/creators incoherent with https://www.marvel.com/comics/issue/84372/damage_control_2022_1\n  - check why Tiomothy Truman has no comic\n  - filter creator \"Title\"\n  - merge Curt Conners => Lizard\n  - check gweenpool & jeff missing\n  - http://localhost:3000/#/creators/?creator=Gail+Simone&comics=73419 should have Braga not Pacheco\n  - check why zoom on Spiderman 1602 only zooms on regular spiderman\n  - test new spatialization graphology\n  - test FA2 + louvain after sparsification\n => scraper comics as counter-truth? :\n  - select good creators fields\n  - take from scraping good image url if /clean within (example https://www.marvel.com/comics/issue/51567/captain_britain_and_the_mighty_defenders_2015_1)\n  - handle or drop missing dates?\n  - rebuild characters network from comics instead of stories, ex: Silk\n  - rebuild creators network from cleaned comics instead\n  - filter imprint marvel\n  - add cover artist in comics list, not in links used\n => one more check with takoyaki on authors/characters labels + readjust louvain after\n- update screenshots + make gif\n- update README\n- auto data updates\n- reorga dossiers\nIDEAS:\n- build gif of all versions of the app\n- add more cases to legend\n- improve touch tooltips :\n  - touchmove should follow across tooltips like histogram's\n  - better positioning away from the finger\n- test large histogram\n- add urlrooting for modal? and play?\n- install app button?\n- swipe images with actual slide effect?\n- handle old browsers where nodeImages are full black (ex: old iPad)\n- handle alternate phone browsers where sigma does not work, ex Samsung Internet on Android 8\n- test bipartite network between authors and characters filtered by category of author\n- build data on movies and add a switch?\n*/\n\nimport Papa from \"papaparse\";\nimport Graph from \"graphology\";\nimport { Sigma } from \"sigma\";\nimport { Coordinates } from \"sigma/types\";\nimport {\n  logDebug,\n  hasClass, addClass, rmClass, switchClass,\n  fixImage,\n  formatNumber, formatMonth,\n  lightenColor,\n  meanArray,\n  divWidth, divHeight,\n  isTouchDevice, webGLSupport,\n  rotatePosition,\n  uncompress,\n  buildComicsList\n} from \"./utils\";\nimport {\n  startYear, curYear, totalYears,\n  picturesLoadingDelay, playComicsDelay,\n  creatorsRoles, clusters,\n  extraPalette,\n  sigmaSettings\n} from \"./settings\";\n\n\n/* -- Init global state -- */\n\nlet entity = \"\",\n  selectedNode = null,\n  selectedNodeType = null,\n  selectedNodeLabel = null,\n  sigmaDim = null,\n  renderer = null,\n  camera = null,\n  currentReducers = {nodes: null, edges: null},\n  animation = null,\n  clustersLayer = null,\n  resizeClusterLabels = function() {},\n  histograms = {\n    characters: {},\n    creators: {}\n  },\n  suggestions = [],\n  allSuggestions = [],\n  comicsReady = null,\n  comicsBarView = false,\n  shift = 0,\n  preventAutoScroll = false,\n  minComicLiHeight = 100,\n  hoveredComic = null,\n  selectedComic = null,\n  networksLoaded = 0,\n  playing = null,\n  sortComics = \"date\";\n\nconst conf = {},\n  networks = {},\n  picturesRenderingDelay = {},\n  allComics = [],\n  allComicsMap = {},\n  allCharacters = {\"-1\": \"missing info\"},\n  allCreators = {\"-1\": \"missing info\"},\n  crossMap = {creators: {}, characters: {}},\n  charactersComics = {},\n  creatorsComics = {};\n\n// Init global vars for each view variant\n[\"creators\", \"characters\"].forEach(e => {\n  picturesRenderingDelay[e] = picturesLoadingDelay;\n  networks[e] = {\n    communities: {},\n    counts: {},\n    clusters: {}\n  }\n  for (let cl in clusters[e]) {\n    networks[e].clusters[cl] = {};\n    for (let at in clusters[e][cl])\n      networks[e].clusters[cl][at] = clusters[e][cl][at];\n  }\n});\n\n// Useful DOM elements\nconst container = document.getElementById(\"sigma-container\") as HTMLElement,\n  legend = document.getElementById(\"legend\") as HTMLElement,\n  controls = document.getElementById(\"controls\") as HTMLElement,\n  loader = document.getElementById(\"loader\") as HTMLElement,\n  loaderComics = document.getElementById(\"loader-comics\") as HTMLElement,\n  loaderList = document.getElementById(\"loader-list\") as HTMLElement,\n  helpButton = document.getElementById(\"help\") as HTMLElement,\n  helpModal = document.getElementById(\"help-modal\") as HTMLElement,\n  helpBox = document.getElementById(\"help-box\") as HTMLElement,\n  modal = document.getElementById(\"modal\") as HTMLElement,\n  modalImg = document.getElementById(\"modal-img\") as HTMLImageElement,\n  modalImgMissing = document.getElementById(\"modal-img-missing\") as HTMLImageElement,\n  modalNext = document.getElementById(\"modal-next\") as HTMLButtonElement,\n  modalPrev = document.getElementById(\"modal-previous\") as HTMLButtonElement,\n  modalPlay = document.getElementById(\"modal-play\") as HTMLButtonElement,\n  modalPause = document.getElementById(\"modal-pause\") as HTMLButtonElement,\n  comicsActions = document.getElementById(\"comics-actions\") as HTMLButtonElement,\n  comicsNext = document.getElementById(\"comics-next\") as HTMLButtonElement,\n  comicsPrev = document.getElementById(\"comics-prev\") as HTMLButtonElement,\n  comicsPlay = document.getElementById(\"comics-play\") as HTMLButtonElement,\n  comicsPause = document.getElementById(\"comics-pause\") as HTMLButtonElement,\n  filterComics = document.getElementById(\"comics-filter\") as HTMLButtonElement,\n  filterSearch = document.getElementById(\"filter-comics\") as HTMLButtonElement,\n  filterInput = document.getElementById(\"filter-input\") as HTMLButtonElement,\n  sortAlpha = document.getElementById(\"comics-sort-alpha\") as HTMLButtonElement,\n  sortDate = document.getElementById(\"comics-sort-date\") as HTMLButtonElement,\n  sideBar = document.getElementById(\"sidebar\") as HTMLImageElement,\n  explanations = document.getElementById(\"explanations\") as HTMLElement,\n  viewNodeButton = document.getElementById(\"view-node\") as HTMLElement,\n  viewComicsButton = document.getElementById(\"view-comics\") as HTMLElement,\n  viewAllComicsButton = document.getElementById(\"view-all-comics\") as HTMLElement,\n  orderSpan = document.getElementById(\"order\") as HTMLElement,\n  nodeDetails = document.getElementById(\"node-details\") as HTMLElement,\n  nodeLabel = document.getElementById(\"node-label\") as HTMLElement,\n  nodeImg = document.getElementById(\"node-img\") as HTMLImageElement,\n  nodeExtra = document.getElementById(\"node-extra\") as HTMLElement,\n  nodeHistogram = document.getElementById(\"node-histogram\") as HTMLElement,\n  fullHistogram = document.getElementById(\"full-histogram\") as HTMLElement,\n  comicsHistogram = document.getElementById(\"comics-histogram\") as HTMLElement,\n  comicsBar = document.getElementById(\"comics-bar\") as HTMLImageElement,\n  comicsDiv = document.getElementById(\"comics\") as HTMLImageElement,\n  comicsTitle = document.getElementById(\"comics-title\") as HTMLElement,\n  comicsSubtitle = document.getElementById(\"comics-subtitle\") as HTMLElement,\n  comicsSubtitleList = document.getElementById(\"comics-subtitle-list\") as HTMLElement,\n  comicsList = document.getElementById(\"comics-list\") as HTMLElement,\n  comicsCache = document.getElementById(\"comics-cache\") as HTMLElement,\n  comicTitle = document.getElementById(\"comic-title\") as HTMLLinkElement,\n  comicUrl = document.getElementById(\"comic-url\") as HTMLLinkElement,\n  comicImg = document.getElementById(\"comic-img\") as HTMLImageElement,\n  comicDesc = document.getElementById(\"comic-desc\") as HTMLLinkElement,\n  comicEntities = document.querySelectorAll(\".comic-entities\") as NodeListOf<HTMLElement>,\n  comicCreators = document.getElementById(\"comic-creators\") as HTMLElement,\n  comicCharacters = document.getElementById(\"comic-characters\") as HTMLElement,\n  searchInput = document.getElementById(\"search-input\") as HTMLInputElement,\n  searchIcon = document.getElementById(\"search-icon\") as HTMLInputElement,\n  searchSuggestions = document.getElementById(\"suggestions\") as HTMLDataListElement,\n  selectSuggestions = document.getElementById(\"suggestions-select\") as HTMLSelectElement,\n  switchNodeType = document.getElementById(\"node-type-switch\") as HTMLInputElement,\n  switchTypeLabel = document.getElementById(\"switch-type\") as HTMLInputElement,\n  globalTooltip = document.getElementById(\"tooltip\") as HTMLElement,\n  entitySpans = document.querySelectorAll(\".entity\") as NodeListOf<HTMLElement>,\n  charactersDetailsSpans = document.querySelectorAll(\".characters-details\") as NodeListOf<HTMLElement>,\n  creatorsDetailsSpans = document.querySelectorAll(\".creators-details\") as NodeListOf<HTMLElement>;\n\n\n/* -- Load & prepare data -- */\n\nfunction loadNetwork(ent, callback = null, waitForComics = false) {\n  if (networks[ent].loaded && (!waitForComics || comicsReady))\n    return callback ? setTimeout(callback, 0) : null;\n\n  if (callback || (waitForComics && !comicsReady))\n    showLoader();\n\n  if (networks[ent].loading) {\n    if (callback) {\n      const waiter = setInterval(() => {\n        if (!networks[ent].loaded || (waitForComics && !comicsReady))\n          return;\n        clearInterval(waiter);\n        return setTimeout(callback, 0);\n      }, 50);\n    }\n    return;\n  }\n\n  logDebug(\"LOAD NETWORK\", {ent});\n  networks[ent].loading = true;\n  return fetch(\"./data/Marvel_\" + ent + \"_by_stories_full\" + \".json.gz\")\n    .then(res => res.arrayBuffer())\n    .then(content => buildNetwork(content, ent, callback, waitForComics));\n}\n\nfunction computeNodeSize(count) {\n  return (2/3 + Math.pow(count, 0.2)\n    * (entity === \"characters\" ? 1.75 : 1.25)\n    * 1.25) * sigmaDim / 1000;\n};\n\nfunction buildNetwork(networkData, ent, callback, waitForComics) {\n  logDebug(\"BUILD GRAPH\", {ent});\n  const data = networks[ent];\n  // Parse pako zipped graphology serialized network JSON\n  uncompress(networkData, \"inflate\", graphData => {\n    data.graph = Graph.from(JSON.parse(graphData));\n\n    // Identify community ids of main hardcoded colors\n    data.graph.forEachNode((node, {x, y, label, community}) => {\n      for (var cluster in data.clusters)\n        if (data.clusters[cluster].match.indexOf(label) !== -1) {\n          if (ent === \"creators\") {\n            data.clusters[cluster].label = cluster;\n            data.clusters[cluster].id = cluster.toLowerCase().replace(/ .*$/, \"\");\n            if (!data.clusters[cluster].positions)\n              data.clusters[cluster].positions = [{x: x, y: y}];\n            else data.clusters[cluster].positions.push({x: x, y: y});\n          } else {\n            data.clusters[cluster].community = community;\n            data.communities[community] = data.clusters[cluster];\n            data.communities[community].label = cluster.replace(/([a-z&]) ([a-z])/ig, \"$1&nbsp;$2\");\n            data.communities[community].community = community;\n          }\n        }\n    });\n\n    // Adjust nodes visual attributes for rendering (size, color)\n    data.graph.forEachNode((node, {label, x, y, stories, image, artist, writer, community}) => {\n      const artist_ratio = (ent === \"creators\" ? artist / (writer + artist) : null),\n        role = artist_ratio !== null\n          ? (artist_ratio > 0.65\n            ? \"artist\"\n            : (artist_ratio < 0.34\n              ? \"writer\"\n              : \"both\"\n            )\n          ) : null,\n        color = (ent === \"characters\"\n          ? (data.communities[community] || {color: extraPalette[community % extraPalette.length]}).color\n          : creatorsRoles[role]\n        ),\n        key = ent === \"characters\" ? community : role;\n      if (!data.counts[key])\n        data.counts[key] = 0;\n      data.counts[key]++;\n      const size = computeNodeSize(stories);\n      data.graph.mergeNodeAttributes(node, {\n        type: \"circle\",\n        image: /available/i.test(image) ? \"\" : image,\n        size: size,\n        color: lightenColor(color, 25),\n        borderColor: lightenColor(color, 25),\n        borderSize: sigmaDim / 1500,\n        haloSize: size * 5,\n        haloIntensity: 0.05 * Math.log(stories),\n        haloColor: lightenColor(color, 75)\n      });\n      if (ent === \"creators\")\n        allCreators[node] = label;\n      else allCharacters[node] = label;\n    });\n\n    if (ent === \"creators\") {\n      // Calculate positions of ages labels\n      for (const cluster in data.clusters) {\n        data.clusters[cluster].x = meanArray(data.clusters[cluster].positions.map(n => n.x));\n        data.clusters[cluster].y = meanArray(data.clusters[cluster].positions.map(n => n.y));\n      }\n    }\n    networks[ent].loaded = true;\n    networksLoaded += 1;\n    if (networksLoaded === 2)\n      loaderComics.style.display = \"none\";\n    if (callback) {\n      if (waitForComics && !comicsReady) {\n        const waiter = setInterval(() => {\n        if (waitForComics && !comicsReady)\n          return;\n        clearInterval(waiter);\n        return setTimeout(callback, 0);\n        }, 50);\n      } else return setTimeout(callback, 0);\n    }\n  });\n}\n\nfunction loadComics() {\n  loaderComics.style.display = \"block\";\n  logDebug(\"LOAD COMICS\");\n  fetch(\"./data/Marvel_comics.csv.gz\")\n    .then((res) => res.arrayBuffer())\n    .then((data) => uncompress(data, \"ungzip\", buildComics));\n}\n\nfunction buildComics(comicsData) {\n  Papa.parse(comicsData, {\n    worker: true,\n    header: true,\n    skipEmptyLines: \"greedy\",\n    step: function(c) {\n      c = c.data;\n      // Filter comics with missing date\n      if (!(new Date(c.date)).getFullYear())\n        return;\n      allComics.push(c);\n      allComicsMap[c.id] = c;\n\n      c.characters = c.characters.split(\"|\").filter(x => x);\n      c.characters.forEach(ch => {\n        if (!charactersComics[ch])\n          charactersComics[ch] = [];\n        charactersComics[ch].push(c);\n      });\n\n      const artistsIds = {};\n      c.artists = c.artists.split(\"|\").filter(x => x);\n      c.writers = c.writers.split(\"|\").filter(x => x);\n      c.creators = c.writers.concat(c.artists);\n\n      c.artists.forEach(cr => {\n        if (!creatorsComics[cr])\n          creatorsComics[cr] = [];\n        creatorsComics[cr].push({...c, \"role\": \"artist\"});\n        artistsIds[cr] = creatorsComics[cr].length - 1;\n      });\n\n      c.writers.forEach(cr => {\n        if (!creatorsComics[cr])\n          creatorsComics[cr] = [];\n        if (artistsIds[cr])\n          creatorsComics[cr][artistsIds[cr]].role = \"both\";\n        else creatorsComics[cr].push({...c, \"role\": \"writer\"});\n      });\n\n      c.creators.forEach(cr => {\n        c.characters.forEach(ch => {\n          if (!crossMap.creators[ch])\n            crossMap.creators[ch] = {};\n          if (!crossMap.creators[ch][cr])\n            crossMap.creators[ch][cr] = 0;\n          crossMap.creators[ch][cr]++;\n          if (!crossMap.characters[cr])\n            crossMap.characters[cr] = {};\n          if (!crossMap.characters[cr][ch])\n            crossMap.characters[cr][ch] = 0;\n          crossMap.characters[cr][ch]++;\n        });\n      });\n    },\n    complete: function() {\n      comicsReady = true;\n      if (selectedNode)\n        setViewComicsButton(selectedNode);\n      else {\n        renderHistogram(fullHistogram);\n        showViewComicsButton();\n      }\n      resize(true);\n      [\"creators\", \"characters\"].forEach(\n        e => loadNetwork(e)\n      );\n    }\n  });\n}\n\n\n/* -- Graphs display -- */\n\nfunction renderNetwork(shouldComicsBarView) {\n  logDebug(\"RENDER\", {entity, selectedNode, selectedNodeType, selectedNodeLabel, shouldComicsBarView, comicsBarView, selectedComic});\n  const data = networks[entity];\n\n  // Feed communities size to explanations\n  orderSpan.innerHTML = formatNumber(data.graph.order);\n  if (entity === \"creators\") {\n    Object.keys(creatorsRoles).forEach(k => {\n      const role = document.getElementById(k + \"-color\");\n      role.style.color = lightenColor(creatorsRoles[k]);\n      role.innerHTML = k + \" (\" + formatNumber(data.counts[k]) + \")\";\n    })\n  } else document.getElementById(\"clusters-legend\").innerHTML = Object.keys(data.clusters)\n    .filter(k => !data.clusters[k].hide)\n    .map(k =>\n      '<b style=\"color: ' + lightenColor(data.clusters[k].color, 25) + '\">'\n      + k.split(\" \").map(x => '<span>' + x + '</span>').join(\" \")\n      + ' (<span class=\"color\">' + formatNumber(data.counts[data.clusters[k].community]) + '</span>)</b>'\n    ).join(\", \");\n\n  // Instantiate sigma:\n  const sigmaDims = container.getBoundingClientRect();\n  sigmaDim = Math.min(sigmaDims.height, sigmaDims.width);\n  if (!renderer) {\n    renderer = new Sigma(data.graph as any, container, sigmaSettings);\n\n    // insert the clusters layer underneath the hovers layer\n    clustersLayer = document.createElement(\"div\");\n    clustersLayer.id = \"clusters-layer\";\n    clustersLayer.style.display = \"none\";\n    container.insertBefore(clustersLayer, document.getElementsByClassName(\"sigma-hovers\")[0]);\n\n    // Clusters labels position needs to be updated on each render\n    renderer.on(\"afterRender\", () => {\n      if (entity === \"characters\") return;\n      resizeClusterLabels();\n    });\n\n    // Add pointer on hovering nodes\n    renderer.on(\"enterNode\", () => container.style.cursor = \"pointer\");\n    renderer.on(\"leaveNode\", () => container.style.cursor = \"default\");\n\n    // Handle clicks on nodes\n    renderer.on(\"clickNode\", (event) => clickNode(event.node));\n    renderer.on(\"clickStage\", () => {\n      if (comicsBarView && selectedComic)\n        setURL(entity, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n      else if (comicsBarView)\n        setURL(entity, selectedNodeLabel, selectedNodeType);\n      else setSearchQuery();\n    });\n\n    // Bind zoom manipulation buttons\n    camera = renderer.getCamera();\n    document.getElementById(\"zoom-in\").onclick =\n      () => camera.animatedZoom({ duration: 600 });\n    document.getElementById(\"zoom-out\").onclick =\n      () => camera.animatedUnzoom({ duration: 600 });\n    document.getElementById(\"zoom-reset\").onclick =\n      () => camera.animatedReset({ duration: 300 });\n  } else {\n    renderer.setSetting(\"nodeReducer\", (n, attrs) => attrs);\n    renderer.setSetting(\"edgeReducer\", (edge, attrs) => attrs);\n\n    renderer.setGraph(data.graph);\n  }\n  renderer.setSetting(\"minCameraRatio\", entity === \"creators\" ? 0.035 : 0.07);\n\n  // Render clusters labels layer on top of sigma for creators\n  if (entity === \"creators\") {\n    let clusterLabelsDoms = \"\";\n    for (const cluster in data.clusters) {\n      const c = data.clusters[cluster];\n      // adapt the position to viewport coordinates\n      const viewportPos = renderer.graphToViewport(c as Coordinates);\n      clusterLabelsDoms += '<div id=\"community-' + c.id + '\" class=\"cluster-label\" style=\"top: ' + viewportPos.y + 'px; left: ' + viewportPos.x + 'px; color: ' + c.color + '\">' + c.label + '</div>';\n    }\n    clustersLayer.innerHTML = clusterLabelsDoms;\n\n    resizeClusterLabels = () => {\n      const sigmaDims = container.getBoundingClientRect();\n      clustersLayer.style.width = sigmaDims.width + \"px\";\n\n      for (const cluster in data.clusters) {\n        const c = data.clusters[cluster];\n        const clusterLabel = document.getElementById(\"community-\" + c.id);\n        if (!clusterLabel) return;\n        // update position from the viewport\n        const viewportPos = renderer.graphToViewport(c as Coordinates);\n        if (viewportPos.x < 5 * cluster.length + 7 || viewportPos.x > sigmaDims.width - 5 * cluster.length - 7 || viewportPos.y > sigmaDims.height - 15)\n          clusterLabel.style.display = \"none\";\n        else {\n          clusterLabel.style.display = \"block\";\n          clusterLabel.style[\"min-width\"] = (10 * cluster.length) + \"px\";\n          clusterLabel.style.top = viewportPos.y + 'px';\n          clusterLabel.style.left = viewportPos.x + 'px';\n        }\n      }\n    };\n  }\n\n  // Prepare list of nodes for search/select suggestions\n  allSuggestions = data.graph.nodes()\n    .map((node) => ({\n      node: node,\n      label: data.graph.getNodeAttribute(node, \"label\")\n    }))\n    .sort((a, b) => a.label < b.label ? -1 : 1);\n  function feedAllSuggestions() {\n    suggestions = allSuggestions.map(x => x);\n  }\n  feedAllSuggestions();\n\n  // Feed all nodes to select for touchscreens\n  selectSuggestions.innerHTML = \"<option>search…</option>\" + allSuggestions\n    .map((node) => \"<option>\" + node.label + \"</option>\")\n    .join(\"\\n\");\n  selectSuggestions.onchange = () => {\n    const idx = selectSuggestions.selectedIndex;\n    clickNode(idx ? allSuggestions[idx - 1].node : null, true, true);\n  };\n\n  function fillSuggestions() {\n    searchSuggestions.innerHTML = suggestions\n      .sort((a, b) => a.label < b.label ? -1 : 1)\n      .map((node) => \"<option>\" + node.label + \"</option>\")\n      .join(\"\\n\");\n  }\n  fillSuggestions();\n\n  // Setup nodes input search for web browsers\n  function setSearchQuery(query=\"\") {\n    feedAllSuggestions();\n    if (searchInput.value !== query)\n      searchInput.value = query;\n\n    if (query) {\n      const lcQuery = query.toLowerCase();\n      suggestions = [];\n      data.graph.forEachNode((node, {label}) => {\n        if (label.toLowerCase().includes(lcQuery))\n          suggestions.push({node: node, label: label});\n      });\n\n      const suggestionsMatch = suggestions.filter(x => x.label === query);\n      if (suggestionsMatch.length === 1) {\n        clickNode(suggestionsMatch[0].node, true, true);\n        suggestions = [];\n      } else if (selectedNode) {\n        clickNode(null, true, true);\n      }\n    } else if (selectedNode) {\n      clickNode(null, true, true);\n      feedAllSuggestions();\n    }\n    fillSuggestions();\n  }\n  searchInput.oninput = () => {\n    setSearchQuery(searchInput.value || \"\");\n  };\n  searchInput.onblur = () => {\n    if (!selectedNode)\n      setSearchQuery();\n  };\n\n  // If a comic is selected we reload the list with it within it\n  function conditionalOpenComicsBar() {\n    if (shouldComicsBarView) {\n      if (!comicsBarView)\n        displayComics(selectedNode, true, true);\n      else if (selectedComic) {\n        selectedComic = allComicsMap[selectedComic] || selectedComic;\n        selectComic(selectedComic, true, true);\n      } else unselectComic();\n    }\n    hideLoader();\n    enableSwitchButtons();\n  }\n\n  const sigmaWidth = divWidth(\"sigma-container\");\n  function finalizeGraph() {\n    renderer.setSetting(\"nodeReducer\", (n, attrs) => attrs);\n    // If a node is selected we refocus it\n    if (selectedNodeLabel && selectedNodeType !== entity)\n      return loadNetwork(selectedNodeType, () => {\n        showCanvases();\n        clickNode(networks[selectedNodeType].graph.findNode((n, {label}) => label === selectedNodeLabel), false, true);\n        conditionalOpenComicsBar();\n      }, true);\n    const node = selectedNodeLabel\n      ? data.graph.findNode((n, {label}) => label === selectedNodeLabel)\n      : null;\n    showCanvases();\n    clickNode(node, false, true);\n    conditionalOpenComicsBar();\n  }\n\n  resize();\n  showLoader();\n  // Zoom in graph on first init network\n  if (!data.rendered) {\n    camera.x = 0.5 + (shift / (2 * sigmaWidth));\n    camera.y = 0.5;\n    camera.ratio = Math.pow(1.5, 10);\n    camera.angle = 0;\n    showCanvases(false);\n    setTimeout(() => camera.animate(\n      {ratio: sigmaWidth / (sigmaWidth - shift)},\n      {duration: 1500},\n      () => {\n        data.graph.forEachNode((node) =>\n          data.graph.setNodeAttribute(node, \"type\", \"image\")\n        );\n        finalizeGraph();\n        // Load comics data after first network rendered\n        if (comicsReady === null) {\n          comicsReady = false;\n          setTimeout(loadComics, 50);\n        }\n      }\n    ), 50);\n    data.rendered = true;\n  } else finalizeGraph();\n}\n\nsearchIcon.onclick = () => searchInput.focus();\n\nfunction updateShift() {\n  shift = comicsBarView\n    ? (comicsBar.getBoundingClientRect()[\"x\"]\n      ? divWidth(\"comics-bar\")\n      : divWidth(\"sidebar\") - divWidth(\"comics-bar\")\n    ) : 0;\n}\n\n// Center the camera on the selected node and its neighbors or a selected list of nodes\nfunction centerNode(node, neighbors = null, force = true) {\n  // cancel pending centering\n  if (animation)\n    clearTimeout(animation);\n  // stop already running centering by requesting an idle animation\n  if (camera.isAnimated())\n    camera.animate(\n      camera.getState,\n      {duration: 0},\n    // then only compute positions to run new centering after a delay to filter out too close calls\n      () => animation = setTimeout(() => runCentering(node, neighbors, force), 50)\n    );\n  else animation = setTimeout(() => runCentering(node, neighbors, force), 0);\n}\n\nfunction runCentering(node, neighbors = null, force = true) {\n  logDebug(\"CENTER ON\", {node, neighbors, force, shift, animation, animated: camera.isAnimated()});\n  const data = networks[entity];\n  if (!camera || (!node && !neighbors)) return;\n  if (!neighbors && data.graph.hasNode(node))\n    neighbors = data.graph.neighbors(node);\n  if (node && neighbors.indexOf(node) === -1)\n    neighbors.push(node);\n  if (!neighbors.length) {\n    hideLoader();\n    return;\n  }\n\n  let x0 = null, x1 = null, y0 = null, y1 = null;\n  neighbors.forEach(n => {\n      const pos = renderer.getNodeDisplayData(n);\n      if (!pos) return;\n      if (x0 === null || x0 > pos.x) x0 = pos.x;\n      if (x1 === null || x1 < pos.x) x1 = pos.x;\n      if (y0 === null || y0 > pos.y) y0 = pos.y;\n      if (y1 === null || y1 < pos.y) y1 = pos.y;\n    });\n  const minCorner = rotatePosition(renderer.framedGraphToViewport({x: x0, y: y0}), camera.angle),\n    maxCorner = rotatePosition(renderer.framedGraphToViewport({x: x1, y: y1}), camera.angle),\n    viewPortPosition = renderer.framedGraphToViewport({\n      x: (x0 + x1) / 2,\n      y: (y0 + y1) / 2\n    }),\n    sigmaDims = container.getBoundingClientRect();\n\n  // Handle comicsbar hiding part of the graph\n  updateShift();\n  sigmaDims.width -= shift;\n  // Evaluate required zoom ratio\n  let ratio = Math.min(\n    50 / camera.ratio,\n    Math.max(\n      1.5 * renderer.getSetting(\"minCameraRatio\") / camera.ratio,\n      1.5 / Math.min(\n        sigmaDims.width / Math.abs(maxCorner.x - minCorner.x),\n        sigmaDims.height / Math.abs(minCorner.y - maxCorner.y)\n      )\n    )\n  );\n\n  // Evaluate acceptable window\n  const minWin = rotatePosition({\n    x: 0,\n    y: 0\n  }, camera.angle),\n  maxWin = rotatePosition({\n    x: sigmaDims.width,\n    y: sigmaDims.height\n  }, camera.angle),\n  minPos = rotatePosition({\n    x: sigmaDims.width / 6,\n    y: sigmaDims.height / 6\n  }, camera.angle),\n  maxPos = rotatePosition({\n    x: 5 * sigmaDims.width / 6,\n    y: 5 * sigmaDims.height / 6\n  }, camera.angle);\n\n  // Zoom on node only if force, if nodes outside full window, if nodes are too close together, or if more than 1 node and outside acceptable window\n  if (force ||\n    minCorner.x < minWin.x || maxCorner.x > maxWin.x || maxCorner.y < minWin.y || minCorner.y > maxWin.y ||\n    (ratio !== 0 && (ratio < 0.7 || ratio > 1.55)) ||\n    (neighbors.length > 1 && (minCorner.x < minPos.x || maxCorner.x > maxPos.x || maxCorner.y < minPos.y || minCorner.y > maxPos.y))\n  ) {\n    viewPortPosition.x += ratio * shift / 2;\n    const newCam = renderer.viewportToFramedGraph(viewPortPosition);\n    newCam[\"ratio\"] = camera.ratio * ratio;\n    camera.animate(\n      newCam,\n      {duration: 300},\n      hideLoader\n    );\n  } else hideLoader();\n}\n\n\n/* -- Graph interactions -- */\n\nfunction clickNode(node, updateURL = true, center = false) {\n  logDebug(\"CLICK NODE\", {selectedNode, selectedNodeType, selectedNodeLabel, node, updateURL, center, comicsBarView, selectedComic});\n  let data = networks[entity];\n  if (!data.graph || !renderer) return;\n\n  // Unhiglight previous node\n  const sameNode = (node === selectedNode);\n  if (selectedNode) {\n    if (data.graph.hasNode(selectedNode))\n      data.graph.setNodeAttribute(selectedNode, \"highlighted\", false)\n  }\n  stopPlayComics();\n\n  if (!node || !sameNode) {\n    nodeImg.src = \"\";\n    modalImg.src = \"\";\n    modalImgMissing.style.display = \"none\";\n  }\n  // Reset unselected node view\n  renderer.setSetting(\"nodeReducer\", (n, attrs) => attrs);\n  renderer.setSetting(\"edgeReducer\", (edge, attrs) => attrs);\n  if (!node) {\n    selectedNode = null;\n    selectedNodeType = null;\n    selectedNodeLabel = null;\n    nodeLabel.style.display = \"none\";\n    resize(true);\n    if (updateURL)\n      setURL(entity, null, null, selectedComic, sortComics);\n    selectSuggestions.selectedIndex = 0;\n    defaultSidebar();\n    if (comicsBarView && !sameNode)\n      displayComics(null, true);\n    return;\n  }\n\n  let relatedNodes = null,\n    comicsRatio = 0,\n    nodeEntity = entity;\n  if (selectedNodeType && selectedNodeType !== entity) {\n    if (data.graph.hasNode(node))\n      selectedNodeType = entity;\n    else {\n      nodeEntity = selectedNodeType;\n      data = networks[selectedNodeType];\n      relatedNodes = crossMap[entity][node] || {};\n      comicsRatio = allComics.length / (3 * (Object.values(relatedNodes).reduce((sum: number, cur: number) => sum + cur, 0) as number));\n      logDebug(\"KEEP NODE\", {selectedNode, selectedNodeType, selectedNodeLabel, node, nodeEntity, relatedNodes, comicsRatio});\n    }\n  }\n\n  if (!data.graph.hasNode(node))\n    return setURL(entity, null, null, selectedComic, sortComics);\n\n  if (updateURL && !sameNode) {\n    legend.style.display = \"none\";\n    setURL(entity, data.graph.getNodeAttribute(node, \"label\"), entity, selectedComic, sortComics);\n  }\n\n  // Fill sidebar with selected node's details\n  const attrs = data.graph.getNodeAttributes(node);\n  selectedNode = node;\n  selectedNodeLabel = attrs.label;\n  nodeLabel.style.display = \"inline\";\n  explanations.style.display = \"none\";\n  nodeDetails.style.display = \"block\";\n  if (!sameNode) {\n    nodeDetails.scrollTo(0, 0);\n    nodeLabel.innerHTML = attrs.label;\n    nodeImg.src = fixImage(attrs.image_url)\n    nodeImg.onclick = () => {\n      modalImg.src = fixImage(attrs.image_url);\n      stopPlayComics();\n      modal.style.display = \"block\";\n      modalPrev.style.opacity = \"0\";\n      modalNext.style.opacity = \"0\";\n      modalPlay.style.display = \"none\";\n      modalPause.style.display = \"none\";\n    };\n  }\n  resize(true);\n  nodeExtra.innerHTML = \"\";\n  if (attrs.description)\n    nodeExtra.innerHTML += \"<p>\" + attrs.description + \"</p>\";\n  nodeExtra.innerHTML += \"<p>\" +\n    (nodeEntity === \"creators\" ? \"Credit\" : \"Account\") + \"ed \" +\n      \"in <b>\" + attrs.stories + \" stories</b> \" +\n    (entity === nodeEntity\n      ? \"shared&nbsp;with<br/>\" +\n        \"<b>\" + data.graph.degree(node) + \" other \" + nodeEntity + \"</b>\"\n      : (entity === \"creators\" ? \"authored&nbsp;by<br/>\" : \"featuring<br/>\") +\n        \"<b>\" + Object.keys(relatedNodes).length + \" \" + entity + \"</b>\"\n    ) + \"</p>\";\n\n  if (entity === nodeEntity) {\n    // Display roles in stories for creators\n    if (entity === \"creators\") {\n      if (attrs.writer === 0 && attrs.artist)\n        nodeExtra.innerHTML += '<p>Always as <b style=\"color: ' + lightenColor(creatorsRoles.artist) + '\">artist (' + attrs.artist + ')</b></p>';\n      else if (attrs.artist === 0 && attrs.writer)\n        nodeExtra.innerHTML += '<p>Always as <b style=\"color: ' + lightenColor(creatorsRoles.writer) + '\">writer (' + attrs.writer + ')</b></p>';\n      else nodeExtra.innerHTML += '<p>Including <b style=\"color: ' + lightenColor(creatorsRoles.writer) + '\">' + attrs.writer + ' as writer</b><br/>and <b style=\"color: ' + lightenColor(creatorsRoles.artist) + '\">' + attrs.artist + \" as artist</b></p>\";\n    }\n    // Or communities if we have it for characters\n    else if (data.communities[attrs.community])\n      nodeExtra.innerHTML += '<p>Attached to the <b style=\"color: ' + lightenColor(data.communities[attrs.community].color, 25) + '\">' + data.communities[attrs.community].label + '</b> <i>family</i></p>';\n  } else\n    nodeExtra.innerHTML += '<p>The size of the node reflects how often ' +\n      'the ' + entity + ' are ' +\n      (nodeEntity === \"creators\"\n        ? \"featured in stories authored by\"\n        : \"credited in stories featuring\"\n      ) + \" \" + selectedNodeLabel +\n       \" within Marvel API's data.</p>\";\n  if (attrs.url)\n    nodeExtra.innerHTML += '<p><a href=\"' + attrs.url + '\" target=\"_blank\">More on Marvel.com…</a></p>';\n  if (comicsReady)\n    setViewComicsButton(node);\n\n  selectSuggestions.selectedIndex = allSuggestions.map(x => x.label).indexOf(selectedNodeLabel) + 1;\n\n  const comicEntities = selectedComic && selectedComic[selectedNodeType || entity];\n  if (!comicsBarView || !(selectedComic && comicEntities && comicEntities.indexOf(node) !== -1)) {\n    if (relatedNodes === null) {\n      // Highlight clicked node, make it bigger and hide unconnected ones\n      data.graph.setNodeAttribute(node, \"highlighted\", true);\n      renderer.setSetting(\n        \"nodeReducer\", (n, attrs) => n === node\n          ? { ...attrs,\n              zIndex: 2,\n              size: attrs.size * 1.75,\n              haloSize: attrs.size * 3.5,\n              haloIntensity: 0.75,\n            }\n          : data.graph.hasEdge(n, node)\n            ? { ...attrs,\n                haloSize: attrs.size * 2,\n                haloIntensity: 0.65,\n                zIndex: 1\n              }\n            : { ...attrs,\n                zIndex: 0,\n                type: \"circle\",\n                haloIntensity: 0,\n                color: \"#2A2A2A\",\n                size: sigmaDim < 500 ? 1 : 2,\n                label: null\n              }\n      );\n      // Hide unrelated links and highlight, weight and color as the target the node's links\n      renderer.setSetting(\n        \"edgeReducer\", (edge, attrs) =>\n          data.graph.hasExtremity(edge, node)\n            ? { ...attrs,\n                zIndex: 0,\n                color: lightenColor(data.graph.getNodeAttribute(data.graph.opposite(node, edge), 'color'), 25),\n                size: Math.max(sigmaDim < 500 ? 1 : 2, Math.log(data.graph.getEdgeAttribute(edge, 'weight')) * sigmaDim / 10000)\n              }\n            : { ...attrs,\n                zIndex: 0,\n                color: \"#FFF\",\n                hidden: true\n              }\n      );\n    } else {\n      // Display the alternate entity graph for the selected node\n      renderer.setSetting(\n        \"nodeReducer\", (n, attrs) => relatedNodes[n] !== undefined\n          ? { ...attrs,\n              size: computeNodeSize(Math.pow(relatedNodes[n] * comicsRatio, 1.3)),\n              haloSize: 5 * computeNodeSize(Math.pow(relatedNodes[n] * comicsRatio, 1.3)),\n              haloIntensity: 0.05 * Math.log(relatedNodes[n] * comicsRatio),\n              zIndex: 2\n            }\n          : { ...attrs,\n              zIndex: 0,\n              type: \"circle\",\n              haloIntensity: 0,\n              color: \"#2A2A2A\",\n              size: sigmaDim < 500 ? 1 : 2,\n              label: null\n            }\n      );\n      renderer.setSetting(\n        \"edgeReducer\", (edge, attrs) =>\n          relatedNodes[networks[entity].graph.source(edge)] !== undefined &&\n          relatedNodes[networks[entity].graph.target(edge)] !== undefined\n            ? { ...attrs,\n                zIndex: 0,\n                color: '#444',\n                size: 1\n              }\n            : { ...attrs,\n                zIndex: 0,\n                color: \"#FFF\",\n                hidden: true\n              }\n      );\n    }\n  }\n\n  if (comicsBarView) {\n    if (!sameNode)\n      displayComics(node, true);\n    else if (selectedComic)\n      selectComic(selectedComic, true, true);\n  }\n  if (!(comicsBarView && selectedComic) && (!updateURL || center)) {\n    if (relatedNodes)\n      centerNode(null, Object.keys(relatedNodes));\n    else centerNode(node);\n  } else hideLoader();\n\n  if (!sameNode)\n    comicsDiv.scrollTo(0, 0);\n};\n\nfunction getNodeComics(node) {\n  const comicsList = node === null\n    ? allComics\n    : charactersComics[node] || creatorsComics[node] || [];\n  if (hasClass(filterComics, \"selected\") && filterInput.value)\n    return comicsList.filter(\n      c => c.title.toLowerCase().indexOf(filterInput.value.toLowerCase()) !== -1\n    );\n  return comicsList;\n  //.filter(c => (entity === \"characters\" && c.characters.length) || (entity === \"creators\" && c.creators.length));\n}\n\nfunction displayComics(node = null, autoReselect = false, resetTitle = true) {\n  logDebug(\"DISPLAY COMICS\", {selectedNode, node, autoReselect, resetTitle, selectedComic, selectedNodeLabel, sortComics, filter: filterInput.value});\n\n  if (comicsBarView && node === selectedNode && !autoReselect && !resetTitle)\n    return selectedComic ? scrollComicsList() : null;\n\n  if (selectedNodeLabel && selectedNodeType && !selectedNode)\n    clickNode(node, false, false);\n\n  if (!selectedComic)\n    selectedComic = \"\";\n\n  comicsBarView = true;\n  comicsBar.style.transform = \"scaleX(1)\";\n  hideViewComicsButton();\n  disableSwitchButtons();\n  comicsCache.style.display = \"none\";\n  setTimeout(() => resize(true), 300);\n\n  if (resetTitle) {\n    comicsTitle.innerHTML = \"... comics\";\n    if (selectedNodeLabel)\n      comicsTitle.innerHTML += \"&nbsp;\" + (selectedNodeType === \"creators\" ? \"by\" : \"with\") + \" \" + selectedNodeLabel.replace(/ /g, \"&nbsp;\");\n    comicsSubtitleList.innerHTML = \"\";\n  }\n  comicsSubtitle.style.display = (selectedNode && creatorsComics[selectedNode] ? \"inline\" : \"none\");\n\n  comicsList.innerHTML = \"\";\n  if (!comicsReady) {\n    loaderList.style.display = \"block\";\n    const waiter = setInterval(() => {\n      if (!comicsReady)\n        return;\n      clearInterval(waiter);\n      return setTimeout(() => actuallyDisplayComics(node, autoReselect), 0);\n    }, 50);\n  } else actuallyDisplayComics(node, autoReselect);\n}\n\nfunction actuallyDisplayComics(node = null, autoReselect = false) {\n  const graph = networks[entity].graph,\n    comics = getNodeComics(node)\n      .sort(sortComics === \"date\" ? sortByDate : sortByTitle);\n\n  if (!comics)\n    comicsTitle.innerHTML = \"\";\n\n  if ((selectedNode && creatorsComics[selectedNode]) || (!selectedNode && entity === \"creators\"))\n    document.getElementById(\"clusters-layer\").style.display = \"none\";\n\n  if (comics && comics.length > 500)\n    loaderList.style.display = \"block\";\n\n  selectedComic = allComicsMap[selectedComic] || selectedComic;\n  if (autoReselect) {\n    const comicEntities = selectedComic && selectedComic[selectedNodeType || entity];\n    if (selectedNode && comicEntities && comicEntities.indexOf(selectedNode) === -1)\n      setURL(entity, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n    else selectComic(allComicsMap[selectedComic] || selectedComic, true, autoReselect);\n  }\n\n  setTimeout(() => {\n    renderHistogram(\n      selectedNode ? nodeHistogram : fullHistogram,\n      selectedNode,\n      comics\n    );\n\n    comicsTitle.innerHTML = formatNumber(comics.length) + \" comic\" + (comics.length > 1 ? \"s\" : \"\");\n    if (selectedNodeLabel) comicsTitle.innerHTML += \"&nbsp;\" + (selectedNodeType === \"creators\" ? \"by\" : \"with\") + \" \" + selectedNodeLabel.replace(/ /g, \"&nbsp;\");\n    comicsSubtitle.style.display = (selectedNode && creatorsComics[selectedNode] ? \"inline\" : \"none\");\n\n    if (selectedNodeLabel && creatorsComics[selectedNode])\n      comicsSubtitleList.innerHTML = Object.keys(creatorsRoles)\n        .map(x => '<span style=\"color: ' + lightenColor(creatorsRoles[x]) + '\">' + x + '</span>')\n        .join(\"&nbsp;\")\n        .replace(/&nbsp;([^&]+)$/, \" or $1\");\n\n    if (!comics.length) {\n      comicsList.innerHTML = \"<b>no comic-book found</b>\";\n      loaderList.style.display = \"none\";\n      resize(true);\n      enableSwitchButtons();\n    } else setTimeout(() => {\n      const now = new Date() as any;\n      buildComicsList({\n        comics: comics,\n        color: selectedNodeLabel && creatorsComics[selectedNode],\n        creatorsRoles: creatorsRoles,\n        selectedComic: selectedComic\n      }, comicsListData => {\n        resize(true);\n        if ((new Date() as any) - now > 100)\n          showLoader();\n\n        setTimeout(() => {\n          if (comicsBarView)\n            comicsList.innerHTML = comicsListData.join(\"\");\n          if (comicsBarView && autoReselect) {\n            if (selectedComic) scrollComicsList();\n            comicsCache.style.display = \"none\";\n          }\n          hideLoader();\n          enableSwitchButtons();\n          loaderList.style.display = \"none\";\n\n          minComicLiHeight = 100;\n          setTimeout(() => comicsBarView && comics.filter(c => {\n            const comicLi = document.getElementById(\"comic-\" + c.id) as any;\n            minComicLiHeight = Math.min(minComicLiHeight, comicLi.getBoundingClientRect().height);\n            comicLi.comic = c;\n            comicLi.onmouseup = () => {\n              preventAutoScroll = true;\n              setURL(entity, selectedNodeLabel, selectedNodeType, (selectedComic.id === comicLi.comic.id ? \"\" : comicLi.comic), sortComics);\n            };\n            comicLi.onmouseenter = () => selectComic(c);\n          }), 50);\n        }, 50);\n      });\n    }, 200);\n  }, 200);\n}\n\nviewAllComicsButton.onclick = () => {\n  addClass(viewAllComicsButton, \"hidden\");\n  fullHistogram.style.display = \"none\";\n  setURL(entity, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n};\ndocument.getElementById(\"close-bar\").onclick =\n  () => setURL(entity, selectedNodeLabel, selectedNodeType);\n\nfunction clearComicDetails() {\n  comicTitle.innerHTML = \"\";\n  comicImg.src = \"\";\n  comicDesc.innerHTML = \"\";\n  comicEntities.forEach(el => el.style.display = \"none\");\n  comicCreators.innerHTML = \"\";\n  comicCharacters.innerHTML = \"\";\n  comicUrl.style.display = \"none\";\n}\n\nfunction unselectComic() {\n  logDebug(\"UNSELECT COMIC\", {selectedComic, selectedNodeLabel});\n  const graph = networks[entity].graph;\n  hoveredComic = null;\n  selectComic(\"\", true);\n  clearComicDetails();\n  document.querySelectorAll(\"#comics-list li.selected\").forEach(\n    el => rmClass(el, \"selected\")\n  );\n  if (selectedNode)\n    clickNode(selectedNode, false, true);\n  else clickNode(null, false);\n}\n\nfunction selectComic(comic, keep = false, autoReselect = false) {\n  logDebug(\"SELECT COMIC\", {selectedComic, comic, keep, autoReselect, selectedNodeLabel, selectedNodeType});\n\n  const graph = networks[entity].graph;\n  if (!graph || !renderer) return;\n\n  if (!autoReselect && (!comic || !hoveredComic || comic.id !== hoveredComic.id))\n      clearComicDetails()\n\n  if (keep) {\n    selectedComic = comic;\n    document.querySelectorAll(\"#comics-list li.selected\").forEach(\n      el => rmClass(el, \"selected\")\n    );\n    const comicLi = document.getElementById(\"comic-\" + (comic ? comic.id : \"\"));\n    if (comicLi) {\n      addClass(comicLi, \"selected\");\n      comicsCache.style.display = \"block\";\n      modalPrev.style.opacity = comicLi.previousElementSibling === null ? \"0\" : \"1\";\n      modalNext.style.opacity = comicLi.nextElementSibling === null ? \"0\" : \"1\";\n    }\n  } else hoveredComic = comic;\n\n  if (comic && selectedNode && graph.hasNode(selectedNode))\n    graph.setNodeAttribute(selectedNode, \"highlighted\", false)\n\n  if (!comic || !selectedComic || comic.id !== selectedComic.id)\n    document.getElementById(\"comic-details\").scrollTo(0, 0);\n\n  if (!comic) {\n    if (!keep && selectedComic && autoReselect)\n      selectComic(selectedComic);\n    return;\n  }\n\n  comicTitle.innerHTML = formatMonth(comic.date);\n  comicImg.src = fixImage(comic.image_url);\n  modalImg.src = fixImage(comic.image_url, modal.style.display === \"block\" && modalImgMissing);\n  comicImg.onclick = () => {\n    modalImg.src = fixImage(comic.image_url, modalImgMissing);\n    modal.style.display = \"block\";\n    modalPlay.style.display = playing ? \"none\" : \"inline-block\";\n    modalPause.style.display = playing ? \"inline-block\" : \"none\";\n    const comicLi = document.getElementById(\"comic-\" + comic.id);\n    modalPrev.style.opacity = comicLi.previousElementSibling === null ? \"0\" : \"1\";\n    modalNext.style.opacity = comicLi.nextElementSibling === null ? \"0\" : \"1\";\n  }\n  comicDesc.innerHTML = comic.description;\n  comicUrl.style.display = \"inline\";\n  comicUrl.href = comic.url;\n\n  comicEntities.forEach(el => el.style.display = \"block\");\n  comicCreators.innerHTML = (comic.writers.length ? comic.writers : [\"-1\"])\n    .map(x => allCreators[x]\n      ? '<li id=\"creator-' + x + '\" ' +\n        (x !== \"-1\" ? `class=\"entity-link tooltip\" tooltip=\"explore the comics authored by '` + allCreators[x] + `'\"` : '') +\n        'title=\"writer\" ' +\n        'style=\"color: ' + lightenColor(creatorsRoles[\"writer\"]) + '\">' +\n        allCreators[x] + \"</li>\"\n      : \"\"\n    ).join(\"\");\n  comicCreators.innerHTML += (comic.artists.length ? comic.artists : [\"-1\"])\n    .map(x => allCreators[x]\n      ? '<li id=\"creator-' + x + '\" ' +\n        (x !== \"-1\" ? `class=\"entity-link tooltip\" tooltip=\"explore the comics authored by '` + allCreators[x] + `'\"` : '') +\n        'title=\"artist\" ' +\n        'style=\"color: ' + lightenColor(creatorsRoles[\"artist\"]) + '\">' +\n        allCreators[x] + \"</li>\"\n      : \"\"\n    ).join(\"\");\n  comicCharacters.innerHTML = (comic.characters.length ? comic.characters : [\"-1\"])\n    .map(x => allCharacters[x]\n      ? '<li id=\"character-' + x + '\" ' +\n        (x !== \"-1\" ? `class=\"entity-link tooltip\" tooltip=\"explore the comics featuring '` + allCharacters[x] + `'\"` : '') + '>' +\n        allCharacters[x] + \"</li>\"\n      : \"\"\n    ).join(\"\");\n\n  comic.creators.forEach(c => {\n    if (!allCreators[c]) return;\n    const entityLi = document.getElementById(\"creator-\" + c) as HTMLElement;\n    entityLi.onclick = () => setURL(entity, allCreators[c], \"creators\", selectedComic, sortComics);\n  });\n  comic.characters.forEach(c => {\n    if (!allCharacters[c]) return;\n    const entityLi = document.getElementById(\"character-\" + c) as HTMLElement;\n    entityLi.onclick = () => setURL(entity, allCharacters[c], \"characters\", selectedComic, sortComics);\n  });\n  (document.querySelectorAll(\".entity-link\") as NodeListOf<HTMLElement>).forEach(setupTooltip);\n\n  renderer.setSetting(\n    \"nodeReducer\", (n, attrs) => comic[entity].indexOf(n) !== -1\n      ? { ...attrs,\n          zIndex: 2,\n          size: attrs.size * 1.75,\n          haloSize: attrs.size * 3,\n          haloIntensity: 0.75\n        }\n      : { ...attrs,\n          type: \"circle\",\n          haloIntensity: 0,\n          zIndex: 0,\n          color: \"#2A2A2A\",\n          size: sigmaDim < 500 ? 1 : 2,\n          label: null\n        }\n  );\n  renderer.setSetting(\n    \"edgeReducer\", (edge, attrs) =>\n      comic[entity].indexOf(graph.source(edge)) !== -1 && comic[entity].indexOf(graph.target(edge)) !== -1\n      ? { ...attrs,\n          zIndex: 0,\n          color: '#666',\n          size: sigmaDim < 500 ? 1 : 3\n        }\n      : { ...attrs,\n          zIndex: 0,\n          color: \"#FFF\",\n          hidden: true\n        }\n  );\n\n  if (!preventAutoScroll && keep)\n    scrollComicsList();\n  preventAutoScroll = false;\n\n  centerNode(null, comic[entity].filter(n => graph.hasNode(n)), false);\n}\n\n// Random node button\nviewNodeButton.onclick = () => {\n  const graph = networks[entity].graph;\n  if (!graph || !renderer)\n    return;\n  const node = graph.nodes()[Math.floor(Math.random() * graph.order)];\n  if (selectedComic) unselectComic();\n  clickNode(node, true, true);\n}\n\n// Fullscreen button\nconst win = document.documentElement as any,\n  fullScreenBtn = document.getElementById(\"fullscreen\") as HTMLButtonElement,\n  regScreenBtn = document.getElementById(\"regscreen\") as HTMLButtonElement;\n\nfullScreenBtn.onclick = () => {\n  if (win.requestFullscreen) {\n    win.requestFullscreen();\n  } else if (win.webkitRequestFullscreen) { /* Safari */\n    win.webkitRequestFullscreen();\n  } else if (win.msRequestFullscreen) { /* IE11 */\n    win.msRequestFullscreen();\n  }\n  fullScreenBtn.style.display = \"none\";\n  regScreenBtn.style.display = \"block\";\n};\n\n// Exit Fullscreen button\nregScreenBtn.onclick = () => {\n  if ((document as any).exitFullscreen) {\n    (document as any).exitFullscreen();\n  } else if ((document as any).webkitExitFullscreen) { /* Safari */\n    (document as any).webkitExitFullscreen();\n  } else if ((document as any).msExitFullscreen) { /* IE11 */\n    (document as any).msExitFullscreen();\n  }\n  regScreenBtn.style.display = \"none\";\n  fullScreenBtn.style.display = \"block\";\n};\n\n// Network switch buttons\nfunction disableSwitchButtons() {\n  switchNodeType.disabled = true;\n  (document.querySelectorAll('#view-node, #view-comics, #view-all-comics, #choices, .left, .right') as NodeListOf<HTMLElement>).forEach(\n    el => addClass(el, \"selected\")\n  );\n}\n\nfunction enableSwitchButtons() {\n  if (comicsBarView && !comicsReady) return;\n  switchNodeType.disabled = false;\n  (document.querySelectorAll('#view-node, #view-comics, #view-all-comics, #choices, .left, .right') as NodeListOf<HTMLElement>).forEach(\n    el => rmClass(el, \"selected\")\n  );\n}\n\nswitchNodeType.onchange = (event) => {\n  disableSwitchButtons();\n  explanations.style.opacity = \"0\";\n  setURL(switchNodeType.checked ? \"creators\" : \"characters\", selectedNodeLabel, selectedNodeType, selectedComic, sortComics);\n};\n\n\n/* -- Interface display -- */\n\n(document.querySelectorAll(\".reset-graph\") as NodeListOf<HTMLElement>).forEach(el => {\n  el.setAttribute(\"tooltip\", \"reset graph\");\n  addClass(el, \"tooltip\");\n  el.onclick = () => {\n    if (!renderer) return;\n    hideComicsBar();\n    setURL(entity);\n    setTimeout(() => camera.animate({x: 0.5, y: 0.5, ratio: 1, angle: 0}, {duration: 250}), 100);\n  }\n});\n\nfunction showCanvases(showClustersLayer = true) {\n  (document.querySelectorAll(\".sigma-container canvas\") as NodeListOf<HTMLElement>).forEach(canvas => canvas.style.display = \"block\");\n  if (showClustersLayer && clustersLayer && entity === \"creators\")\n    clustersLayer.style.display = \"block\";\n}\n\nfunction showLoader() {\n  loader.style.display = \"block\";\n  loader.style.opacity = \"0.5\";\n  controls.style.opacity = \"0.25\";\n  legend.style.opacity = \"0.25\";\n  comicsActions.style.opacity = \"0.25\";\n}\n\nfunction hideLoader() {\n  if (comicsBarView && !comicsReady)\n    return;\n  return setTimeout(() => {\n    actuallyHideLoader();\n    picturesRenderingDelay[entity] = Math.min(picturesRenderingDelay[entity], picturesLoadingDelay / 2);\n  }, picturesRenderingDelay[entity]);\n}\nfunction actuallyHideLoader() {\n  loader.style.display = \"none\";\n  loader.style.opacity = \"0\";\n  controls.style.opacity = \"1\";\n  legend.style.opacity = \"1\";\n  comicsActions.style.opacity = \"1\";\n}\n\nfunction defaultSidebar() {\n  explanations.style.display = \"block\";\n  nodeDetails.style.display = \"none\";\n  modal.style.display = \"none\";\n  modalImg.src = \"\";\n  modalImgMissing.style.display = \"none\";\n  if (comicsReady)\n    renderHistogram(\n      selectedNode ? nodeHistogram : fullHistogram,\n      selectedNode\n    );\n}\n\nfunction hideComicsBar() {\n  if (hasClass(filterComics, \"selected\")) {\n    rmClass(filterComics, \"selected\");\n    filterComics.setAttribute(\"tooltip\", \"search comics\")\n    filterSearch.style.display = \"none\";\n    renderHistogram(\n      selectedNode ? nodeHistogram : fullHistogram,\n      selectedNode\n    );\n  }\n  comicsCache.style.display = \"none\";\n  comicsBarView = false;\n  comicsBar.style.transform = \"scaleX(0)\";\n  modalNext.style.opacity = \"0\";\n  modalPrev.style.opacity = \"0\";\n  showViewComicsButton();\n  rmClass(viewComicsButton, \"hidden\");\n  rmClass(viewAllComicsButton, \"hidden\");\n  unselectComic();\n  selectedComic = null;\n  if (entity === \"creators\" && clustersLayer)\n    clustersLayer.style.display = \"block\";\n}\n\nfunction setViewComicsButton(node) {\n  switchClass(viewComicsButton, \"hidden\", comicsBarView);\n  viewComicsButton.onclick = () => {\n    addClass(viewComicsButton, \"hidden\");\n    nodeHistogram.style.display = \"none\";\n    setURL(entity, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n  };\n  renderHistogram(nodeHistogram, node);\n}\n\nfunction showViewComicsButton() {\n  switchClass(viewComicsButton, \"hidden\", !comicsReady || comicsBarView);\n  switchClass(viewAllComicsButton, \"hidden\", !comicsReady || comicsBarView);\n  if (!comicsBarView) {\n    nodeHistogram.style.display = \"block\";\n    fullHistogram.style.display = \"block\";\n  }\n  resize(true);\n}\n\nfunction hideViewComicsButton() {\n  addClass(viewComicsButton, \"hidden\");\n  addClass(viewAllComicsButton, \"hidden\");\n  nodeHistogram.style.display = \"none\";\n  fullHistogram.style.display = \"none\";\n  resize(true);\n}\n\n// Help Box\nlet preventClick = false;\nhelpButton.onclick = () => {\n  helpModal.style.display = \"block\";\n  setTimeout(() => helpBox.style.transform = \"scale(1)\", 0);\n}\nhelpModal.onclick = () => {\n  if (preventClick) {\n    preventClick = false;\n    return;\n  }\n  preventClick = false;\n  helpBox.style.transform = \"scale(0)\";\n  setTimeout(() => helpModal.style.display = \"none\", 300);\n}\nhelpBox.onclick = (e) => {\n  preventClick = true;\n}\ndocument.getElementById(\"close-help\").onclick = helpModal.onclick;\n\n// Handle tooltips\nfunction clearTooltip(e, tooltipId=\"tooltip\") {\n  const tooltip = document.getElementById(tooltipId) as HTMLElement;\n  tooltip.innerHTML = \"\";\n  tooltip.style.display = \"none\";\n};\n\nfunction setupTooltip(element) {\n  element.onmouseenter = e => {\n    if (isTouchDevice() && (!e.touches || hasClass(element, \"network-switch-label\"))) return;\n    const tooltip = element.getAttribute(\"tooltip\");\n    if (!tooltip ||\n      (hasClass(element, \"reset-graph\") && !(selectedNode || selectedComic)) ||\n      ((element.attributes[\"type\"] || {}).value === \"search\" && element === document.activeElement) ||\n      (hasClass(element, \"selected\") && element.id.indexOf(\"comics\") !== 0)\n    ) return clearTooltip(e);\n    globalTooltip.innerHTML = tooltip.replace(/'entity'/g, entity.replace(/s$/, ''))\n      .replace(/'([^']+)'/g, (g0, g1) => '<span class=\"lightred\">' + g1.replace(/ /g, '&nbsp;') + '</span>')\n      .replace('in the graph', 'in&nbsp;the&nbsp;graph');\n    globalTooltip.style.display = \"block\";\n    const dims = globalTooltip.getBoundingClientRect(),\n      clientX = e.touches ? e.touches[0].clientX : e.clientX,\n      clientY = e.touches ? e.touches[0].clientY : e.clientY,\n      pos = {\n        x: e.touches && clientY < 100 ?\n          clientX + (clientX > 250 ? -dims.width - 50 : 50) :\n          clientX - dims.width / 2,\n        y: clientY + (clientY < 100 ? (e.touches ? -dims.height / -dims.height / 2 : 25) : -dims.height - (e.touches ? 40 : 15))\n      };\n    globalTooltip.style.top = pos.y + \"px\";\n    globalTooltip.style.left = Math.min(window.innerWidth - dims.width, Math.max(0, pos.x)) + \"px\";\n  };\n  element.onmousemove = element.onmouseenter;\n  element.onmouseleave = clearTooltip;\n  element.ontouchstart = element.onmouseenter;\n}\n\n(document.querySelectorAll(\".tooltip\") as NodeListOf<HTMLElement>).forEach(setupTooltip);\ndocument.onclick = clearTooltip;\ndocument.ontouchend = clearTooltip;\n\n\n/* -- Comics bar interactions -- */\n\n// Next/Previous/Play/Pause comics buttons handling\nfunction scrollComicsList() {\n  preventAutoScroll = false;\n  setTimeout(() => {\n    const offset = document.querySelector(\"#comics-list li.selected\") as HTMLElement;\n    if (!offset) return;\n    const listHeight = divHeight(\"comics\");\n    let diff = listHeight < 5 * minComicLiHeight\n      ? listHeight + minComicLiHeight\n      : listHeight / 2 + minComicLiHeight;\n    comicsDiv.scrollTo(0, offset.offsetTop - diff);\n  }, 10);\n}\n\nfunction selectAndScroll(el) {\n  if (!el) return;\n  setURL(entity, selectedNodeLabel, selectedNodeType, el.comic, sortComics);\n  scrollComicsList();\n}\n\nfunction selectAndScrollSibling(typ, loop = false) {\n  if (!comicsBarView) return;\n  const selected = document.querySelector(\"#comics-list li.selected\") as any;\n  let target = selected && selected[typ + \"ElementSibling\"] as any;\n  if (loop && !target)\n    target = document.querySelector(\"#comics-list li:\" + (typ === \"next\" ? \"first\" : \"last\") + \"-child\") as any;\n  selectAndScroll(target);\n  if (typ === \"next\" && playing && !target && !loop)\n    modalPause.onclick(null);\n}\n\nfunction playComics() {\n  comicsPlay.style.display = \"none\";\n  comicsPause.style.display = \"inline-block\";\n  modalPlay.style.display = \"none\";\n  modalPause.style.display = \"inline-block\";\n  if (playing) clearInterval(playing);\n  selectAndScrollSibling(\"next\", true);\n  playing = setInterval(() => selectAndScrollSibling(\"next\"), playComicsDelay);\n}\n\nfunction stopPlayComics() {\n  comicsPause.style.display = \"none\";\n  comicsPlay.style.display = \"inline-block\";\n  modalPause.style.display = \"none\";\n  modalPlay.style.display = \"inline-block\";\n  if (playing) clearInterval(playing);\n  playing = false;\n}\n\n// Comics list actions\ncomicsPlay.onclick = playComics;\ncomicsPause.onclick = stopPlayComics;\ncomicsPrev.onclick = () => selectAndScrollSibling(\"previous\", true);\ncomicsNext.onclick = () => selectAndScrollSibling(\"next\", true);\n\n// Modal actions\nmodalNext.onclick = () => {\n  preventClick = true;\n  selectAndScrollSibling(\"next\");\n};\nmodalPrev.onclick = () => {\n  preventClick = true;\n  selectAndScrollSibling(\"previous\");\n};\nmodalPlay.onclick = () => {\n  preventClick = true;\n  playComics()\n}\nmodalPause.onclick = () => {\n  preventClick = true;\n  stopPlayComics();\n}\nmodal.onclick = () => {\n  if (preventClick) return preventClick = false;\n  preventClick = false;\n  modal.style.display = \"none\";\n  modalImgMissing.style.display = \"none\";\n  comicsCache.style.display = \"none\";\n};\nmodalImg.onclick = modal.onclick;\ndocument.getElementById(\"close-modal\").onclick = modal.onclick;\n\n// Comics list scroll blocker after click handling\ncomicsList.onmouseleave = () => {\n  if (selectedComic)\n    selectComic(selectedComic);\n  else unselectComic();\n};\n\ncomicsCache.onwheel = () => comicsCache.style.display = \"none\";\ncomicsCache.onmousedown = comicsCache.onwheel;\ncomicsCache.onmouseout = comicsCache.onwheel;\n\n// Sort comics buttons\nconst sortableTitle = s => s.replace(/^(.* \\(\\d+\\)).*$/, \"$1 / \") + s.replace(/^.*#(\\d+.*)$/, \"$1\").padStart(8, \"0\"),\n  sortByTitle = (a, b) => sortableTitle(a.title).localeCompare(sortableTitle(b.title)),\n  sortByDate = (a, b) => a.date < b.date ? -1 : (a.date === b.date ? 0 : 1);\n\nsortAlpha.onclick = () => {\n  setURL(entity, selectedNodeLabel, selectedNodeType, selectedComic, \"alpha\");\n};\n\nsortDate.onclick = () => {\n  setURL(entity, selectedNodeLabel, selectedNodeType, selectedComic, \"date\");\n};\n\n// Search comics input\nlet filterTimeout = null;\n\nfunction refreshFilter() {\n  if (filterTimeout)\n    clearTimeout(filterTimeout);\n  filterTimeout = setTimeout(() => {\n    displayComics(selectedNode, true, false);\n    filterTimeout = null;\n  }, 200);\n}\n\nfilterComics.onclick = () => {\n  if (hasClass(filterComics, \"selected\")) {\n    rmClass(filterComics, \"selected\");\n    filterComics.setAttribute(\"tooltip\", \"search comics\");\n    filterSearch.style.display = \"none\";\n  } else {\n    addClass(filterComics, \"selected\");\n    filterComics.setAttribute(\"tooltip\", \"clear comics filter\");\n    filterSearch.style.display = \"block\";\n    filterInput.focus();\n  }\n  resize(true);\n  if (filterInput.value)\n    refreshFilter();\n}\n\nfilterInput.oninput = refreshFilter;\n\n\n/* -- Keystrokes (Esc & Arrow keys) handling -- */\n\ndocument.onkeydown = function(e) {\n  const graph = networks[entity].graph;\n  if (!graph || !renderer) return\n\n  if (searchInput === document.activeElement || filterInput === document.activeElement)\n    return\n  if (modal.style.display === \"block\" && e.which === 27) {\n    modal.style.display = \"none\";\n    modalImgMissing.style.display = \"none\";\n    comicsCache.style.display = \"none\";\n  } else if (selectedComic) {\n    switch(e.which) {\n      case 37: // left\n        selectAndScrollSibling(\"previous\");\n        break;\n      case 38: // up\n        selectAndScrollSibling(\"previous\");\n        break;\n\n      case 39: // right\n        selectAndScrollSibling(\"next\");\n        break;\n      case 40: // down\n        selectAndScrollSibling(\"next\");\n        break;\n\n      case 27: // esc\n        setURL(entity, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n        break;\n\n      default: return; // exit this handler for other keys\n    }\n  } else if (comicsBarView) {\n    if (e.which === 37 || e.which === 38)\n      selectAndScroll(document.querySelector(\"#comics-list li:last-child\") as any);\n    else if (e.which === 39 || e.which === 40)\n      selectAndScroll(document.querySelector(\"#comics-list li:first-child\") as any);\n    else if (e.which === 27)\n      setURL(entity, selectedNodeLabel, selectedNodeType);\n    else return;\n  }  else if (selectedNode && e.which === 27)\n    clickNode(null);\n  else return;\n  e.preventDefault(); // prevent the default action (scroll / move caret)\n};\n\n\n/* -- Swipe touch handling -- */\n\nlet touches = {x: [0, 0], y: [0, 0]};\n\nfunction touchStart(e) {\n  touches.x[0] = e.changedTouches[0].screenX;\n  touches.y[0] = e.changedTouches[0].screenY;\n};\nmodal.ontouchstart = touchStart;\nmodalImgMissing.ontouchstart = touchStart;\ncomicImg.ontouchstart = touchStart;\nswitchTypeLabel.ontouchstart = touchStart;\n\nfunction touchEnd(e, threshold = 100) {\n  touches.x[1] = e.changedTouches[0].screenX;\n  touches.y[1] = e.changedTouches[0].screenY;\n  const horizontalDifference = touches.x[1] - touches.x[0],\n    verticalDifference = touches.y[1] - touches.y[0];\n  // Horizontal difference dominates\n  if (Math.abs(horizontalDifference) > Math.abs(verticalDifference)) {\n    if (horizontalDifference >= threshold)\n      return \"left\";\n    else if (horizontalDifference <= -threshold)\n      return \"right\";\n  // Vertical difference dominates\n  } else if (verticalDifference >= threshold)\n    return \"up\";\n  else if (verticalDifference <= -threshold)\n    return \"down\";\n  return \"\";\n};\n\nmodal.ontouchend = e => {\n  const typ = touchEnd(e);\n  if (typ === \"left\" || typ === \"up\")\n    selectAndScrollSibling(\"previous\");\n  else if (typ === \"right\" || typ === \"down\")\n    selectAndScrollSibling(\"next\");\n};\nmodalImgMissing.ontouchend = modal.ontouchend;\n\ncomicImg.ontouchend = e => {\n  const typ = touchEnd(e, 30);\n  if (typ === \"left\")\n    selectAndScrollSibling(\"previous\");\n  else if (typ === \"right\")\n    selectAndScrollSibling(\"next\");\n};\n\nswitchTypeLabel.ontouchend = e => {\n  const typ = touchEnd(e, 20);\n  if ((typ === \"left\" || typ === \"right\") && !switchNodeType.disabled) {\n    switchNodeType.checked = !switchNodeType.checked;\n    switchNodeType.onchange(e);\n  }\n};\n\n\n/* -- Comics histogram timeline -- */\n\nfunction buildLegendItem(year, ref = \"\") {\n  let className = '',\n    color = '';\n  if (ref !== \"start\" && year !== startYear && year !== curYear && year !== 1980)\n    className = ' class=\"hidable\"';\n  if (ref === \"start\")\n    color = '; color: var(--marvel-red-light)';\n  else if (ref === \"old\")\n    color = '; color: #555';\n  return '<div style=\"left: calc((100% - 30px) * ' + Math.round(1000 * (year - startYear) / totalYears) / 1000 + ')' +\n    color + '\"' + className + '>' + year + '</div>';\n}\n\nfunction buildHistogram(node, comics) {\n  if (histograms[entity][node] && !comics)\n    return histograms[entity][node];\n  const histo = {\n    values: new Array(totalYears).fill(0),\n    entityYearMap: {},\n    start: curYear,\n    end: startYear,\n    sum: 0\n  };\n  (comics || getNodeComics(node)).forEach(c => {\n    const comicYear = (new Date(c.date)).getFullYear();\n    c[entity].forEach(e => {\n      if (!histo.entityYearMap[comicYear]) histo.entityYearMap[comicYear] = {};\n      if (!histo.entityYearMap[comicYear][e])\n        histo.entityYearMap[comicYear][e] = 0;\n      histo.entityYearMap[comicYear][e]++;\n    });\n    histo.values[comicYear - startYear] += 1;\n    histo.start = Math.min(histo.start, comicYear);\n    histo.end = Math.max(histo.end, comicYear);\n    histo.sum += 1\n  });\n  if (!comics)\n    histograms[entity][node] = histo;\n  return histo;\n}\n\nfunction renderHistogram(element, node = null, comics = null) {\n  const histogram = buildHistogram(node, comics);\n\n  const maxWidth = divWidth(comicsBarView ? \"comics-bar\" : \"sidebar\"),\n    heightRatio = 25 / Math.max.apply(Math, histogram.values),\n    barWidth = Math.round(1000 * maxWidth / totalYears) / 1000;\n\n  fullHistogram.innerHTML = \"\";\n  nodeHistogram.innerHTML = \"\";\n  comicsHistogram.innerHTML = \"\";\n  let histogramDiv = '';\n  if (!comicsBarView)\n    histogramDiv += '<div id=\"histogram-title\">' + formatNumber(histogram.sum) + \" comics between \" + histogram.start + \"&nbsp;&amp;&nbsp;\" + histogram.end + '</div>';\n\n  histogramDiv += '<div id=\"histogram\">';\n  histogram.values.forEach((y, idx) => histogramDiv +=\n    '<span class=\"histobar\" ' +\n      'style=\"width: ' + (100 / totalYears) + '%; ' +\n        'height: ' + Math.round(y * heightRatio) + 'px\">' +\n    '</span>'\n  );\n\n  histogramDiv += '</div><div id=\"histogram-hover\">';\n  histogram.values.forEach((y, idx) => histogramDiv +=\n    '<span class=\"histobar-hover\" year=\"' + (startYear + idx) + '\" ' +\n      'tooltip=\"' + (y ? y + '&nbsp;comic' + (y > 1 ? 's' : '') + '&nbsp;in&nbsp;' : '') + (startYear + idx) + '\" ' +\n      'style=\"width: ' + (100 / totalYears) + '%\">' +\n    '</span>'\n  );\n\n  histogramDiv += '</div><div id=\"histo-legend\">';\n\n  const legendYears = [startYear, 1960, 1980, 2000, curYear];\n  if (legendYears.indexOf(histogram.start) === -1)\n    legendYears.push(histogram.start);\n  legendYears.sort().forEach(y => {\n    if (y + 12 < histogram.start)\n      histogramDiv += buildLegendItem(y, \"old\")\n    else if (y - 12 > histogram.start)\n      histogramDiv += buildLegendItem(y);\n    else if (y === histogram.start)\n      histogramDiv += buildLegendItem(histogram.start,\n        node === null && (!comics || comics.length === allComics.length)? \"\" : \"start\");\n  });\n  histogramDiv += '</div><div id=\"histogram-tooltip\">';\n  const histoDiv = (comicsBarView ? comicsHistogram : element);\n  histoDiv.innerHTML = histogramDiv;\n\n  histoDiv.onmouseenter = e => {\n    currentReducers = {\n      nodes: renderer.getSetting(\"nodeReducer\"),\n      edges: renderer.getSetting(\"edgeReducer\")\n    };\n  };\n  histoDiv.onmouseleave = e => {\n    renderer.setSetting(\"nodeReducer\", currentReducers.nodes);\n    renderer.setSetting(\"edgeReducer\", currentReducers.edges);\n  };\n  const histoTooltip = document.getElementById(\"histogram-tooltip\") as HTMLElement;\n  (document.querySelectorAll(\".histobar-hover\") as NodeListOf<HTMLElement>).forEach(bar => {\n    bar.onmouseenter = e => {\n      const tooltip = bar.getAttribute(\"tooltip\"),\n        year = bar.getAttribute(\"year\");\n      if (!tooltip)\n        return clearTooltip(e, \"histogram-tooltip\");\n      histoTooltip.innerHTML = tooltip;\n      histoTooltip.style.display = \"inline-block\";\n      const dims = bar.getBoundingClientRect(),\n        tooltipWidth = divWidth(\"histogram-tooltip\"),\n        leftPos = (comicsBarView ? comicsHistogram : element).getBoundingClientRect().x,\n        maxWidth = divWidth(comicsBarView ? \"comics-bar\" : \"sidebar\");\n      histoTooltip.style.top = (dims.bottom + (comicsBarView ? -1 : 2)) + \"px\";\n      histoTooltip.style.left = Math.min(maxWidth - tooltipWidth - 3, Math.max(3, dims.x - leftPos - tooltipWidth / 2)) + \"px\";\n      if (histogram.entityYearMap[year]) {\n        const comicsRatio = allComics.length / histogram.sum;\n        renderer.setSetting(\n          \"nodeReducer\", (n, attrs) => histogram.entityYearMap[year][n] !== undefined\n            ? { ...attrs,\n                size: 1.5 * computeNodeSize(Math.pow(histogram.entityYearMap[year][n] * comicsRatio, 1.3)),\n                haloSize: 3.5 * computeNodeSize(Math.pow(histogram.entityYearMap[year][n] * comicsRatio, 1.3)),\n                haloIntensity: 0.15 * Math.log(histogram.entityYearMap[year][n] * comicsRatio),\n                zIndex: 2\n              }\n            : { ...attrs,\n                zIndex: 0,\n                type: \"circle\",\n                haloIntensity: 0,\n                color: \"#2A2A2A\",\n                size: sigmaDim < 500 ? 1 : 2,\n                label: null\n              }\n        );\n        renderer.setSetting(\n          \"edgeReducer\", (edge, attrs) =>\n            histogram.entityYearMap[year][networks[entity].graph.source(edge)] !== undefined &&\n            histogram.entityYearMap[year][networks[entity].graph.target(edge)] !== undefined\n              ? { ...attrs,\n                  zIndex: 0,\n                  color: '#444',\n                  size: 1\n                }\n              : { ...attrs,\n                  zIndex: 0,\n                  color: \"#FFF\",\n                  hidden: true\n                }\n        );\n      }\n    };\n    bar.ontouchstart = e => {\n      e.preventDefault();\n      document.querySelectorAll(\".histobar-hover.highlighted\").forEach(b => rmClass(b, \"highlighted\"));\n      const touch = e.touches[0];\n      if (!touch) return;\n      const x = touch.clientX,\n        y = touch.clientY;\n      (document.querySelectorAll(\".histobar-hover\") as NodeListOf<HTMLElement>).forEach(b => {\n        const bDims = b.getBoundingClientRect();\n        if (\n          x >= bDims.left && x <= bDims.right &&\n          y >= bDims.top  && y <= bDims.bottom\n        ) {\n          addClass(b, \"highlighted\");\n          b.onmouseenter(e as any);\n        }\n      });\n    };\n    bar.ontouchmove = bar.ontouchstart;\n  });\n  document.getElementById(\"histogram-hover\").onmouseleave = e => clearTooltip(e, \"histogram-tooltip\");\n  sideBar.ontouchstart = e => {\n    const touch = (e.touches || e.changedTouches)[0];\n    if (!touch) return;\n    const dims = (comicsBarView ? comicsHistogram : element).getBoundingClientRect(),\n      x = touch.clientX,\n      y = touch.clientY;\n    if (\n      x < dims.left || x > dims.right ||\n      y < dims.top  || y > dims.bottom\n    ) {\n      clearTooltip(e, \"histogram-tooltip\");\n      document.querySelectorAll(\".histobar-hover.highlighted\").forEach(b => rmClass(b, \"highlighted\"));\n    }\n  };\n  comicsBar.ontouchstart = sideBar.ontouchstart;\n}\n\n\n/* -- Responsiveness handling -- */\n\nlet resizing = null;\n\nfunction resize(fast = false) {\n  logDebug(\"RESIZE\");\n  if (!fast) resizing = true;\n\n  const graph = entity ? networks[entity].graph : null,\n    freeHeight = (divHeight(\"sidebar\") - divHeight(\"header\") - divHeight(\"choices\") - divHeight(\"credits\") - 1) + \"px\";\n  explanations.style.opacity = \"1\"\n  explanations.style.height = freeHeight;\n  explanations.style[\"min-height\"] = freeHeight;\n  nodeDetails.style.height = freeHeight;\n  nodeDetails.style[\"min-height\"] = freeHeight;\n  comicsDiv.style.height = divHeight(\"comics-bar\") - divHeight(\"comics-header\") - divHeight(\"comic-details\") - 11 + \"px\";\n  loader.style.transform = (comicsBarView && comicsBar.getBoundingClientRect().x !== 0 ? \"translateX(-\" + divWidth(\"comics-bar\") / 2 + \"px)\" : \"\");\n\n  const comicsDims = comicsDiv.getBoundingClientRect();\n  [\"width\", \"height\", \"top\"].forEach(k =>\n    comicsCache.style[k] = comicsDims[k] + \"px\"\n  );\n  const sigmaDims = container.getBoundingClientRect();\n  sigmaDim = Math.min(sigmaDims.height, sigmaDims.width);\n  updateShift();\n\n  const legendLeft = divWidth(\"sidebar\") + divWidth(\"controls\") + 10;\n  legend.style.left = legendLeft + \"px\";\n  legend.style.width = \"calc(100% - \" +\n    (27 + legendLeft +\n      (comicsBarView && comicsBar.getBoundingClientRect().x !== 0\n        ? divWidth(\"comics-bar\")\n        : 0)\n    ) + \"px)\";\n\n  if (!fast && renderer) {\n    let maxSize = 0;\n    graph.forEachNode((node, {stories}) => {\n      const size = computeNodeSize(stories);\n      maxSize = Math.max(maxSize, size);\n      graph.mergeNodeAttributes(node, {\n        size: size,\n        borderSize: sigmaDim / 1500,\n        haloSize: size * 5\n      });\n    });\n    renderer.setSetting(\"labelRenderedSizeThreshold\", maxSize - 5);\n  }\n  if (!fast) resizing = false;\n}\n\nwindow.onresize = () => {\n  if (resizing === true) return;\n  if (resizing) clearTimeout(resizing);\n  resizing = setTimeout(resize, 0);\n};\n\n\n/* -- URL actions routing -- */\n\nfunction setURL(ent, sel = null, selType = null, comics = null, sort = \"date\") {\n  const opts = [];\n  if (sel !== null && !(ent === selType && !(networks[ent].graph && networks[ent].graph.findNode((node, {label}) => label === sel))))\n    opts.push((selType || ent).replace(/s$/, \"\") + \"=\" + sel.replace(/ /g, \"+\"));\n  if (comics !== null) {\n    opts.push(\"comics\" + (comics ? \"=\" + comics.id : \"\"));\n    if (sort === \"alpha\")\n      opts.push(\"sort=\" + sort);\n  }\n\n  window.location.hash = \"/\" + ent + \"/\" + (opts.length ? \"?\" + opts.join(\"&\") : \"\");\n}\n\nfunction readURL() {\n  const args = window.location.hash\n    .replace(/^#\\//, '')\n    .split(/\\/\\??/);\n  if (args.length !== 2\n    || [\"characters\", \"creators\"].indexOf(args[0]) === -1\n  ) return setURL(\"characters\");\n  const opts = Object.fromEntries(\n    args[1].split(\"&\")\n    .map(o => /=/.test(o) ? o.split(\"=\") : [o, \"\"])\n    .filter(o => [\"creator\", \"character\", \"comics\", \"sort\"].indexOf(o[0]) !== -1)\n  );\n\n  const ent = args[0],\n    reload = ent !== entity;\n\n  const oldNodeLabel = selectedNodeLabel;\n  selectedNodeLabel = null;\n  searchInput.value = \"\";\n  [\"character\", \"creator\"].forEach(e => {\n    if (opts[e]) {\n      selectedNodeType = e + \"s\";\n      selectedNodeLabel = decodeURIComponent(opts[e].replace(/\\+/g, \" \"));\n      searchInput.value = selectedNodeLabel;\n    }\n  });\n  const clickn = selectedNodeLabel !== oldNodeLabel;\n\n  const oldComic = selectedComic,\n    oldSort = sortComics,\n    shouldComicsBarView = opts[\"comics\"] !== undefined;\n  selectedComic = shouldComicsBarView ? allComicsMap[opts[\"comics\"]] || opts[\"comics\"] || \"\" : null;\n  sortComics = opts[\"sort\"] || \"date\";\n  switchClass(sortDate, \"selected\", sortComics === \"date\");\n  switchClass(sortAlpha, \"selected\", sortComics === \"alpha\");\n\n  const dispc = (shouldComicsBarView && !comicsBarView) || selectedComic !== oldComic || sortComics !== oldSort;\n\n  logDebug(\"READ URL\", {args, ent, opts, reload, clickn, oldNodeLabel, selectedNodeLabel, dispc, oldComic, selectedComic, shouldComicsBarView, oldSort, sortComics});\n\n  // Update titles\n  let title = \"Marvel's \" + ent + \" \" +\n    (ent === \"creators\" ? \"credited\" : \"featured\") +\n    \" together within same&nbsp;comics\";\n  if (selectedNodeLabel)\n    title += \" \" + (selectedNodeType === ent\n      ? \"as\"\n      : (selectedNodeType === \"creators\"\n        ? \"from\"\n        : \"casting\")) + \" \";\n  document.querySelector(\"title\").innerHTML = \"MARVEL graphs &mdash; Map of \" + title + (selectedNodeLabel || \"\");\n  document.getElementById(\"title\").innerHTML = title.replace(ent, '<span class=\"red\">' + ent + '</span>');\n  nodeLabel.style.display = (selectedNodeLabel ? \"inline\" : \"none\");\n  nodeLabel.innerHTML = selectedNodeLabel;\n  resize(true);\n\n  if (reload) {\n    // Hide canvases\n    (document.querySelectorAll(\".sigma-container canvas\") as NodeListOf<HTMLElement>).forEach(canvas => canvas.style.display = \"none\");\n    if (clustersLayer) {\n      clustersLayer.innerHTML = \"\";\n      clustersLayer.style.display = \"none\";\n    }\n    showLoader();\n    loader.style.opacity = \"1\";\n\n    // Clear highlighted node from previous graph so it won't remain further on\n    if (entity && selectedNode) {\n      const prevGraph = networks[entity].graph;\n      if (prevGraph && prevGraph.hasNode(selectedNode))\n        prevGraph.setNodeAttribute(selectedNode, \"highlighted\", false);\n    }\n\n    // Setup Sidebar default content\n    orderSpan.innerHTML = '...';\n\n    if (ent === \"creators\")\n      Object.keys(creatorsRoles).forEach(k => {\n        const role = document.getElementById(k + \"-color\");\n        role.style.color = lightenColor(creatorsRoles[k]);\n        role.innerHTML = k + \" (...)\";\n      });\n    else document.querySelectorAll(\"#clusters-legend .color\")\n      .forEach(el => el.innerHTML = \"...\");\n  }\n\n  // Setup Node type switch\n  switchNodeType.checked = ent === \"creators\";\n  entity = ent;\n  entitySpans.forEach(span => span.innerHTML = entity);\n  charactersDetailsSpans.forEach(span => span.style.display = (entity === \"characters\" ? \"inline\" : \"none\"));\n  creatorsDetailsSpans.forEach(span => span.style.display = (entity === \"creators\" ? \"inline\" : \"none\"));\n  document.getElementById(\"cooccurrence-threshold\").innerHTML = conf[\"cooccurrence_threshold_for_\" + entity];\n\n  // Update tooltips\n  viewComicsButton.setAttribute(\"tooltip\",\n    \"browse the list of comics listed as \" +\n    (selectedNodeLabel === \"creators\" ? \"authored by\" : \"featuring\") +\n    \" '\" + selectedNodeLabel + \"'\"\n  );\n  searchInput.setAttribute(\"tooltip\", (selectedNodeLabel\n    ? \"change focused 'entity'\"\n    : \"search a specific 'entity' in the graph\")\n  );\n  switchTypeLabel.setAttribute(\"tooltip\", \"switch to the network of '\" +\n    (entity === \"creators\" ? \"characters\" : \"creators\") + \"'\" +\n    (!selectedNodeLabel ? \"\" : \" \" +\n      (entity === \"creators\" ? \"featured\" : \"credited\") +\n      \" in comics \" +\n      (selectedNodeType === \"creators\" ? \"from\" : \"with\") +\n      \" '\" + selectedNodeLabel + \"'\")\n  );\n  if (sortComics === \"date\") {\n    sortDate.setAttribute(\"tooltip\", \"comics are ordered by 'publication date'\");\n    sortAlpha.setAttribute(\"tooltip\", \"sort comics by 'title &amp; issue number'\");\n  } else {\n    sortDate.setAttribute(\"tooltip\", \"sort comics by 'publication date'\");\n    sortAlpha.setAttribute(\"tooltip\", \"comics are ordered by 'title and issue number'\");\n  }\n\n  const graph = networks[entity].graph;\n  if (reload)\n    setTimeout(() => {\n      // If graph already loaded, just render it\n      stopPlayComics();\n      if (graph)\n        renderNetwork(shouldComicsBarView);\n      // Otherwise load network file\n      else loadNetwork(entity, () => renderNetwork(shouldComicsBarView));\n    }, 0);\n  else if (clickn) {\n    stopPlayComics();\n    let network = networks[entity];\n    if (selectedNodeType !== entity) {\n      loadNetwork(selectedNodeType, () => {\n        clickNode(networks[selectedNodeType].graph.findNode((n, {label}) => label === selectedNodeLabel), false);\n      }, true);\n    } else clickNode(graph.findNode((n, {label}) =>label === selectedNodeLabel), false);\n  } else if (dispc) {\n    if (!shouldComicsBarView)\n      hideComicsBar();\n    else if (!comicsBarView || oldSort !== sortComics)\n      displayComics(selectedNode, true, oldSort === sortComics);\n    else if (selectedComic)\n      selectComic(selectedComic, true);\n    else unselectComic();\n    hideLoader();\n  }\n}\n\n\n/* -- Init app -- */\n\n// Collect algo's metadata to feed explanations\ndisableSwitchButtons();\nfetch(\"./config.yml.example\")\n.then((res) => res.text())\n.then((confData) => {\n  confData.split(\"\\n\").forEach(line => {\n    const keyval = line.split(/:\\s*/);\n    conf[keyval[0]] = keyval[1];\n  });\n\n  // Check WebGL\n  if (!webGLSupport()) {\n    document.getElementById(\"webgl-disclaimer\").style.display = \"block\";\n    return;\n  }\n\n  // Init graph with first url\n  defaultSidebar();\n  window.onhashchange = readURL;\n  readURL();\n});\n","// Forked from @Yomguithereal's sigma-experiments programs: https://github.com/Yomguithereal/sigma-experiments/blob/master/renderers/src/node/node.halo.ts\n\n// A node renderer using one triangle to render a blurry halo useful to render\n// a basic heatmap with variable color, size and intensity\n// NOTE: the ignoreZoom uniform is not in use but could be accessed through\n// a factory.\n\nimport type { NodeDisplayData, RenderParams } from \"sigma/types\";\nimport { NodeProgram } from \"sigma/rendering/webgl/programs/common/node\";\nimport NodeCircleProgram from \"sigma/rendering/webgl/programs/node.circle\";\nimport { floatColor } from \"sigma/utils\";\n\ninterface NodeDisplayDataWithHalo extends NodeDisplayData {\n  haloColor?: string;\n  haloIntensity?: number;\n  haloSize?: number;\n}\n\nconst VERTEX_SHADER_SOURCE = /*glsl*/ `\nattribute vec2 a_position;\nattribute float a_size;\nattribute float a_angle;\nattribute vec4 a_color;\nattribute float a_intensity;\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\nuniform float u_ignoreZoom;\nvarying vec4 v_color;\nvarying vec2 v_diffVector;\nvarying float v_radius;\nvarying float v_border;\nvarying float v_intensity;\nconst float bias = 255.0 / 254.0;\nconst float marginRatio = 1.05;\nvoid main() {\n  float size = a_size * u_correctionRatio / u_sizeRatio * u_ignoreZoom * 4.0;\n  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));\n  vec2 position = a_position + diffVector * marginRatio;\n  gl_Position = vec4(\n    (u_matrix * vec3(position, 1)).xy,\n    0,\n    1\n  );\n  v_border = u_correctionRatio;\n  v_diffVector = diffVector;\n  v_radius = size / 2.0 / marginRatio;\n  v_color = a_color;\n  v_color.a *= bias;\n  v_intensity = a_intensity;\n}\n`;\n\nconst FRAGMENT_SHADER_SOURCE = /*glsl*/ `\nprecision highp float;\nvarying vec4 v_color;\nvarying vec2 v_diffVector;\nvarying float v_radius;\nvarying float v_border;\nvarying float v_intensity;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\nvoid main(void) {\n  float dist = length(v_diffVector);\n  float intensity = v_intensity * (v_radius - dist) / v_radius;\n  if (dist < v_radius) {\n    gl_FragColor = vec4(v_color * intensity);\n  }\n  else {\n    gl_FragColor = transparent;\n  }\n}\n`;\n\nconst UNIFORMS = [\"u_sizeRatio\", \"u_correctionRatio\", \"u_matrix\", \"u_ignoreZoom\"] as const;\n\nconst { FLOAT, UNSIGNED_BYTE } = WebGLRenderingContext;\n\nexport default class NodeHaloProgram extends NodeProgram<typeof UNIFORMS[number]> {\n  getDefinition() {\n    return {\n      VERTICES: 3,\n      ARRAY_ITEMS_PER_VERTEX: 6,\n      VERTEX_SHADER_SOURCE,\n      FRAGMENT_SHADER_SOURCE,\n      UNIFORMS,\n      ATTRIBUTES: [\n        { name: \"a_position\", size: 2, type: FLOAT },\n        { name: \"a_size\", size: 1, type: FLOAT },\n        { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n        { name: \"a_angle\", size: 1, type: FLOAT },\n        { name: \"a_intensity\", size: 1, type: FLOAT },\n      ],\n    };\n  }\n\n  processVisibleItem(i: number, data: NodeDisplayDataWithHalo) {\n    const array = this.array;\n\n    const color = floatColor(data.haloColor || data.color);\n    const intensity = typeof data.haloIntensity === \"number\" ? data.haloIntensity : 1;\n    const size = Math.max(typeof data.haloSize === \"number\" ? data.haloSize : 0, data.size);\n\n    array[i++] = data.x;\n    array[i++] = data.y;\n    array[i++] = size;\n    array[i++] = color;\n    array[i++] = NodeCircleProgram.ANGLE_1;\n    array[i++] = intensity;\n\n    array[i++] = data.x;\n    array[i++] = data.y;\n    array[i++] = size;\n    array[i++] = color;\n    array[i++] = NodeCircleProgram.ANGLE_2;\n    array[i++] = intensity;\n\n    array[i++] = data.x;\n    array[i++] = data.y;\n    array[i++] = size;\n    array[i++] = color;\n    array[i++] = NodeCircleProgram.ANGLE_3;\n    array[i++] = intensity;\n  }\n\n  draw(params: RenderParams): void {\n    const gl = this.gl;\n\n    const { u_sizeRatio, u_correctionRatio, u_matrix, u_ignoreZoom } = this.uniformLocations;\n\n    gl.uniform1f(u_ignoreZoom, 1);\n    // NOTE: uncomment next line to disable zoom impact.\n    // gl.uniform1f(u_ignoreZoom, 1 / params.sizeRatio);\n    gl.uniform1f(u_sizeRatio, params.sizeRatio);\n    gl.uniform1f(u_correctionRatio, params.correctionRatio);\n    gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n\n    gl.drawArrays(gl.TRIANGLES, 0, this.verticesCount);\n  }\n}\n","// Forked from Sigma.js to handle node border attributes used by @Yomguithereal's NodePointWithBorderProgram from sigma-experiments: https://github.com/Yomguithereal/sigma-experiments/blob/master/renderers/src/node/node.point.border.ts\n\n/* Sigma.js WebGL Renderer Node Program\n * =====================================\n *\n * Program rendering nodes using GL_POINTS, but that draws an image on top of\n * the classic colored disc.\n * @module\n */\nimport Sigma from \"sigma\";\nimport { Coordinates, Dimensions, NodeDisplayData, RenderParams } from \"sigma/types\";\nimport { floatColor } from \"sigma/utils\";\nimport VERTEX_SHADER_SOURCE from \"sigma/rendering/webgl/shaders/node.image.vert.glsl\";\nimport FRAGMENT_SHADER_SOURCE from \"sigma/rendering/webgl/shaders/node.image.frag.glsl\";\nimport { NodeProgram, NodeProgramConstructor } from \"sigma/rendering/webgl/programs/common/node\";\n\ninterface NodeDisplayDataWithBorder extends NodeDisplayData {\n  borderColor?: string;\n  borderRatio?: number;\n  borderSize?: number;\n}\n\n// maximum size of single texture in atlas\nconst MAX_TEXTURE_SIZE = 192;\n// maximum width of atlas texture (limited by browser)\n// low setting of 3072 works on phones & tablets\nconst MAX_CANVAS_WIDTH = 3072;\n\ntype ImageLoading = { status: \"loading\" };\ntype ImageError = { status: \"error\" };\ntype ImagePending = { status: \"pending\"; image: HTMLImageElement };\ntype ImageReady = { status: \"ready\" } & Coordinates & Dimensions;\ntype ImageType = ImageLoading | ImageError | ImagePending | ImageReady;\n\n/**\n * To share the texture between the program instances of the graph and the\n * hovered nodes (to prevent some flickering, mostly), this program must be\n * \"built\" for each sigma instance:\n */\nexport default function getNodeImageProgram(): NodeProgramConstructor {\n  /**\n   * These attributes are shared between all instances of this exact class,\n   * returned by this call to getNodeProgramImage:\n   */\n  const rebindTextureFns: (() => void)[] = [];\n  const images: Record<string, ImageType> = {};\n  let textureImage: ImageData;\n  let hasReceivedImages = false;\n  let pendingImagesFrameID: number | undefined = undefined;\n\n  // next write position in texture\n  let writePositionX = 0;\n  let writePositionY = 0;\n  // height of current row\n  let writeRowHeight = 0;\n\n  interface PendingImage {\n    image: HTMLImageElement;\n    id: string;\n    size: number;\n  }\n\n  /**\n   * Helper to load an image:\n   */\n  function loadImage(imageSource: string): void {\n    if (images[imageSource]) return;\n\n    const image = new Image();\n    image.addEventListener(\"load\", () => {\n      images[imageSource] = {\n        status: \"pending\",\n        image,\n      };\n\n      if (typeof pendingImagesFrameID !== \"number\") {\n        pendingImagesFrameID = requestAnimationFrame(() => finalizePendingImages());\n      }\n    });\n    image.addEventListener(\"error\", () => {\n      images[imageSource] = { status: \"error\" };\n    });\n    images[imageSource] = { status: \"loading\" };\n\n    // Load image:\n    image.setAttribute(\"crossOrigin\", \"\");\n    image.src = imageSource;\n  }\n\n  /**\n   * Helper that takes all pending images and adds them into the texture:\n   */\n  function finalizePendingImages(): void {\n    pendingImagesFrameID = undefined;\n\n    const pendingImages: PendingImage[] = [];\n\n    // List all pending images:\n    for (const id in images) {\n      const state = images[id];\n      if (state.status === \"pending\") {\n        pendingImages.push({\n          id,\n          image: state.image,\n          size: Math.min(state.image.width, state.image.height) || 1,\n        });\n      }\n    }\n\n    // Add images to texture:\n    const canvas = document.createElement(\"canvas\");\n    const ctx = canvas.getContext(\"2d\", { willReadFrequently: true }) as CanvasRenderingContext2D;\n\n    // limit canvas size to avoid browser and platform limits\n    let totalWidth = hasReceivedImages ? textureImage.width : 0;\n    let totalHeight = hasReceivedImages ? textureImage.height : 0;\n\n    // initialize image drawing offsets with current write position\n    let xOffset = writePositionX;\n    let yOffset = writePositionY;\n\n    /**\n     * Draws a (full or partial) row of images into the atlas texture\n     * @param pendingImages\n     */\n    const drawRow = (pendingImages: PendingImage[]) => {\n      // update canvas size before drawing\n      if (canvas.width !== totalWidth || canvas.height !== totalHeight) {\n        canvas.width = Math.min(MAX_CANVAS_WIDTH, totalWidth);\n        canvas.height = totalHeight;\n\n        // draw previous texture into resized canvas\n        if (hasReceivedImages) {\n          ctx.putImageData(textureImage, 0, 0);\n        }\n      }\n\n      pendingImages.forEach(({ id, image, size }) => {\n        const imageSizeInTexture = Math.min(MAX_TEXTURE_SIZE, size);\n\n        // Crop image, to only keep the biggest square, centered:\n        let dx = 0,\n          dy = 0;\n        if ((image.width || 0) > (image.height || 0)) {\n          dx = (image.width - image.height) / 2;\n        } else {\n          dy = (image.height - image.width) / 2;\n        }\n        ctx.drawImage(image, dx, dy, size, size, xOffset, yOffset, imageSizeInTexture, imageSizeInTexture);\n\n        // Update image state:\n        images[id] = {\n          status: \"ready\",\n          x: xOffset,\n          y: yOffset,\n          width: imageSizeInTexture,\n          height: imageSizeInTexture,\n        };\n\n        xOffset += imageSizeInTexture;\n      });\n\n      hasReceivedImages = true;\n      textureImage = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    };\n\n    let rowImages: PendingImage[] = [];\n    pendingImages.forEach((image) => {\n      const { size } = image;\n      const imageSizeInTexture = Math.min(size, MAX_TEXTURE_SIZE);\n\n      if (writePositionX + imageSizeInTexture > MAX_CANVAS_WIDTH) {\n        // existing row is full: flush row and continue on next line\n        if (rowImages.length > 0) {\n          totalWidth = Math.max(writePositionX, totalWidth);\n          totalHeight = Math.max(writePositionY + writeRowHeight, totalHeight);\n          drawRow(rowImages);\n\n          rowImages = [];\n          writeRowHeight = 0;\n        }\n\n        writePositionX = 0;\n        writePositionY = totalHeight;\n        xOffset = 0;\n        yOffset = totalHeight;\n      }\n\n      // add image to row\n      rowImages.push(image);\n\n      // advance write position and update maximum row height\n      writePositionX += imageSizeInTexture;\n      writeRowHeight = Math.max(writeRowHeight, imageSizeInTexture);\n    });\n\n    // flush pending images in row - keep write position (and drawing cursor)\n    totalWidth = Math.max(writePositionX, totalWidth);\n    totalHeight = Math.max(writePositionY + writeRowHeight, totalHeight);\n    drawRow(rowImages);\n    rowImages = [];\n\n    rebindTextureFns.forEach((fn) => fn());\n  }\n\n  const { UNSIGNED_BYTE, FLOAT } = WebGLRenderingContext;\n\n  const UNIFORMS = [\"u_sizeRatio\", \"u_pixelRatio\", \"u_matrix\", \"u_atlas\"] as const;\n\n  return class NodeImageProgram extends NodeProgram<typeof UNIFORMS[number]> {\n    getDefinition() {\n      return {\n        VERTICES: 1,\n        ARRAY_ITEMS_PER_VERTEX: 8,\n        VERTEX_SHADER_SOURCE,\n        FRAGMENT_SHADER_SOURCE,\n        UNIFORMS,\n        ATTRIBUTES: [\n          { name: \"a_position\", size: 2, type: FLOAT },\n          { name: \"a_size\", size: 1, type: FLOAT },\n          { name: \"a_color\", size: 4, type: UNSIGNED_BYTE, normalized: true },\n          { name: \"a_texture\", size: 4, type: FLOAT },\n        ],\n      };\n    }\n\n    texture: WebGLTexture;\n    latestRenderParams?: RenderParams;\n\n    constructor(gl: WebGLRenderingContext, renderer: Sigma) {\n      super(gl, renderer);\n\n      rebindTextureFns.push(() => {\n        if (this && this.rebindTexture) this.rebindTexture();\n        if (renderer && renderer.refresh) renderer.refresh();\n      });\n\n      textureImage = new ImageData(1, 1);\n\n      this.texture = gl.createTexture() as WebGLTexture;\n      gl.bindTexture(gl.TEXTURE_2D, this.texture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([0, 0, 0, 0]));\n    }\n\n    rebindTexture() {\n      const gl = this.gl;\n\n      gl.bindTexture(gl.TEXTURE_2D, this.texture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureImage);\n      gl.generateMipmap(gl.TEXTURE_2D);\n\n      if (this.latestRenderParams) this.render(this.latestRenderParams);\n    }\n\n    processVisibleItem(i: number, data: NodeDisplayDataWithBorder & { image?: string }): void {\n      const array = this.array;\n\n      const imageSource = data.image;\n      const imageState = imageSource && images[imageSource];\n      if (typeof imageSource === \"string\" && !imageState) loadImage(imageSource);\n\n      array[i++] = data.x;\n      array[i++] = data.y;\n      array[i++] = data.borderRatio\n        ? (1 - data.borderRatio) * data.size\n        : data.borderSize\n          ? data.size - data.borderSize\n          : data.size;\n      array[i++] = floatColor(data.color);\n\n      // Reference texture:\n      if (imageState && imageState.status === \"ready\") {\n        const { width, height } = textureImage;\n        array[i++] = imageState.x / width;\n        array[i++] = imageState.y / height;\n        array[i++] = imageState.width / width;\n        array[i++] = imageState.height / height;\n      } else {\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i++] = 0;\n      }\n    }\n\n    draw(params: RenderParams): void {\n      this.latestRenderParams = params;\n\n      const gl = this.gl;\n\n      const { u_sizeRatio, u_pixelRatio, u_matrix, u_atlas } = this.uniformLocations;\n\n      gl.uniform1f(u_sizeRatio, params.sizeRatio);\n      gl.uniform1f(u_pixelRatio, params.pixelRatio);\n      gl.uniformMatrix3fv(u_matrix, false, params.matrix);\n      gl.uniform1i(u_atlas, 0);\n\n      gl.drawArrays(gl.POINTS, 0, this.verticesCount);\n    }\n  };\n}\n","import { createNodeCompoundProgram } from 'sigma/rendering/webgl/programs/common/node';\nimport NodePointProgram from 'sigma/rendering/webgl/programs/node.point';\nimport NodePointWithBorderProgram from '@yomguithereal/sigma-experiments-renderers/node/node.point.border';\nimport NodeHaloProgram from \"./node.halo\";\nimport getNodeProgramImage from \"./node.image\";\n\n\nconst startYear = 1939,\n  curYear = (new Date).getFullYear(),\n  totalYears = curYear - startYear + 1,\n  picturesLoadingDelay = 1500,\n  playComicsDelay = 1500,\n  creatorsRoles = {\n    writer: \"#234fac\",\n    artist: \"#2b6718\",\n    both: \"#d4a129\"\n  },\n  clusters = {\n    creators: {\n      \"Silver Age\": {\n        match: [\"Stan Lee\", \"Steve Ditko\", \"Jack Kirby\"],\n        color: \"#DDDDDD\"\n      },\n      \"Bronze Age\": {\n        match: [\"Chris Claremont\", \"John Byrne\", \"Jim Starlin\"],\n        color: \"#ff993e\"\n      },\n      \"Modern Age\": {\n        match: [\"Jeph Loeb\", \"Kurt Busiek\", \"Peter David\", \"Mark Waid\"],\n        color: \"#bce25b\"\n      },\n      \"Millenium Age\": {\n        match: [\"Kelly Thompson\", \"Brian Michael Bendis\", \"Dan Slott\"],\n        color: \"#5fb1ff\"\n      }\n    },\n    characters: {\n      \"Avengers\": {\n        match: [\"Avengers\"],\n        color: \"#57b23d\"\n      },\n      \"X-Men\": {\n        match: [\"X-Men\"],\n        color: \"#d4a129\"\n      },\n      \"Spider-Man & Marvel Knights\": {\n        match: [\"Spider-Man (Peter Parker)\"],\n        color: \"#822e23\"\n      },\n      \"Ultimate Universe\": {\n        match: [\"Ultimates\"],\n        color: \"#b2ff9d\"\n      },\n      \"Fantastic Four & Cosmic heroes\": {\n        match: [\"Fantastic Four\"],\n        color: \"#234fac\"\n      },\n      \"Alpha Flight\": {\n        match: [\"Alpha Flight\"],\n        hide: true,\n        color: \"#8d32a7\"\n      },\n      \"Starjammers\": {\n        match: [\"Corsair\"],\n        hide: true,\n        color: \"#bce25b\"\n      },\n      \"Heroes for Hire\": {\n        match: [\"Fat Cobra\"],\n        hide: true,\n        color: \"#c45ecf\"\n      },\n      \"Diverse Heroes\": {\n        match: [\"Gorilla Man\"],\n        hide: true,\n        color: \"#bce25b\"\n      },\n      \"New Mutants & Young X-Men\": {\n        match: [\"Rockslide\"],\n        hide: true,\n        color: \"#ff993e\"\n      },\n      \"X-Statix\": {\n        match: [\"Dead Girl\"],\n        hide: true,\n        color: \"#5fb1ff\"\n      }\n    }\n  },\n  extraPalette = [\n    \"#bce25b\",\n    \"#0051c4\",\n    \"#d52f3f\",\n    \"#ded03f\",\n    \"#2cc143\",\n    \"#8b4a98\",\n    \"#5fb1ff\",\n    \"#ff993e\",\n    \"#904f13\",\n    \"#c45ecf\"\n  ],\n  NodeProgramImage = getNodeProgramImage(),\n  sigmaSettings = {\n    maxCameraRatio: 75,\n    defaultEdgeColor: '#000',\n    labelFont: '\"DejaVu Sans Mono\", monospace',\n    labelColor: {color: '#AAA'},\n    labelWeight: 'bold',\n    labelDensity: 0.5,\n    labelGridCellSize: 200,\n    zoomToSizeRatioFunction: ratio => Math.pow(ratio, 0.75),\n    nodeProgramClasses: {\n      circle: createNodeCompoundProgram([\n        NodeHaloProgram,\n        NodePointProgram\n      ]),\n      image: createNodeCompoundProgram([\n        NodeHaloProgram,\n        NodePointWithBorderProgram,\n        NodeProgramImage\n      ])\n    },\n    nodeHoverProgramClasses: {\n      circle: createNodeCompoundProgram([\n        NodePointProgram\n      ]),\n      image: createNodeCompoundProgram([\n        NodePointWithBorderProgram,\n        NodeProgramImage\n      ])\n    }\n  };\n\nexport {\n  startYear, curYear, totalYears,\n  picturesLoadingDelay, playComicsDelay,\n  creatorsRoles, clusters,\n  extraPalette,\n  sigmaSettings\n};\n","const DEBUG = false;\n\nfunction logDebug(action, vars = {}) {\n  if (DEBUG)\n    console.log(\" -> \" + action, vars);\n}\n\nfunction hasClass(element, clss) {\n  const classes = new Set(element.className.split(/\\s+/));\n  return classes.has(clss);\n}\n\nfunction addClass(element, clss) {\n  const classes = new Set(element.className.split(/\\s+/));\n  classes.add(clss);\n  element.className = Array.from(classes).join(\" \");\n}\n\nfunction rmClass(element, clss) {\n  const classes = new Set(element.className.split(/\\s+/));\n  if (classes.has(clss))\n    classes.delete(clss);\n  element.className = Array.from(classes).join(\" \");\n}\n\nfunction switchClass(element, clss, condition) {\n  const classes = new Set(element.className.split(/\\s+/));\n  if (classes.has(clss))\n    classes.delete(clss);\n  if (condition)\n    classes.add(clss);\n  element.className = Array.from(classes).join(\" \");\n}\n\nfunction fixImage(url, replacement=null) {\n  if (/image_not_available/.test(url)) {\n    if (replacement)\n      replacement.style.display = \"block\";\n    return '';\n  }\n  if (replacement)\n    replacement.style.display = \"none\";\n  return url.replace(/^http:/, '');\n}\n\nfunction formatNumber(x) {\n  return (x + \"\")\n    .replace(/(.)(.{3})$/, '<span class=\"shifted\">$1</span>$2');\n}\n\nconst monthNames = [\"january\", \"february\", \"march\", \"april\", \"may\", \"june\", \"july\", \"august\", \"september\", \"october\", \"november\", \"december\"];\nfunction formatMonth(dat) {\n  const d = new Date(dat);\n  return monthNames[new Date(dat).getMonth()] + \" \" + dat.slice(0, 4);\n}\n\n// Lighten colors function copied from Chris Coyier https://css-tricks.com/snippets/javascript/lighten-darken-color/\nfunction lightenColor(col, amt=50) {\n  var usePound = false;\n  if (col[0] === \"#\") {\n    col = col.slice(1);\n    usePound = true;\n  }\n  var num = parseInt(col,16);\n  var r = (num >> 16) + amt;\n  if (r > 255) r = 255;\n  else if  (r < 0) r = 0;\n  var b = ((num >> 8) & 0x00FF) + amt;\n  if (b > 255) b = 255;\n  else if  (b < 0) b = 0;\n  var g = (num & 0x0000FF) + amt;\n  if (g > 255) g = 255;\n  else if (g < 0) g = 0;\n  return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\nfunction meanArray(arr) {\n  return arr.reduce((a, b) => a + b, 0) / arr.length;\n}\n\nfunction divWidth(divId) {\n  return document.getElementById(divId).getBoundingClientRect().width;\n}\n\nfunction divHeight(divId) {\n  return document.getElementById(divId).getBoundingClientRect().height;\n}\n\nfunction isTouchDevice() {\n  return (('ontouchstart' in window) ||\n     (navigator.maxTouchPoints > 0) ||\n     (navigator[\"msMaxTouchPoints\"] > 0));\n}\n\nfunction webGLSupport() {\n  try {\n   var canvas = document.createElement('canvas');\n   return !!window.WebGLRenderingContext &&\n     (canvas.getContext('webgl') || canvas.getContext('experimental-webgl'));\n  } catch(e) {\n    return false;\n  }\n};\n\nfunction rotatePosition(pos, angle) {\n  return {\n    x: pos.x * Math.cos(-angle) - pos.y * Math.sin(-angle),\n    y: pos.y * Math.cos(-angle) + pos.x * Math.sin(-angle)\n  };\n};\n\nfunction useWebWorker(script, inputData, callback) {\n  const worker_blob = new Blob([script], { type: \"application/javascript\" });\n  const worker_url = URL.createObjectURL(worker_blob);\n  const worker = new Worker(worker_url);\n  worker.onmessage = ({ data }) => {\n    callback(data);\n    worker.terminate();\n  };\n  worker.postMessage(inputData);\n};\n\nfunction uncompress(compressed, method, callback) {\n  useWebWorker(`\n    importScripts(\"${window.location.origin}/pako_inflate.min.js\");\n    self.onmessage = async (evt) => {\n      const file = evt.data;\n      const decompressed = pako.${method}(file, {to: \"string\"});\n      self.postMessage(decompressed);\n    };\n  `, compressed, callback);\n};\n\nfunction buildComicsList(data, callback) {\n  useWebWorker(`\n    self.onmessage = async (evt) => {\n      const data = evt.data;\n      const lightenColor = ${lightenColor.toString()};\n      const list = data.comics.map(\n        x => '<li id=\"comic-' + x.id + '\"' +\n          (data.color\n            ? ' style=\"color: ' + lightenColor(data.creatorsRoles[x.role]) + '\"'\n            : \"\"\n          ) + (data.selectedComic && x.id === data.selectedComic.id\n            ? ' class=\"selected\"'\n            : \"\"\n          ) + '>' + x.title + '</li>'\n      );\n      self.postMessage(list);\n    };\n  `, data, callback);\n}\n\nexport {\n  logDebug,\n  hasClass, addClass, rmClass, switchClass,\n  fixImage,\n  formatNumber, formatMonth,\n  lightenColor,\n  meanArray,\n  divWidth, divHeight,\n  isTouchDevice, webGLSupport,\n  rotatePosition,\n  uncompress,\n  buildComicsList\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(8492);\n"],"names":["module","exports","array","values","l2","length","l1","i","extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","n","arguments","apply","__importDefault","mod","__esModule","node_point_1","utils_1","FLOAT","WebGLRenderingContext","UNSIGNED_BYTE","NodePointWithBorderProgram","_super","getDefinition","ARRAY_ITEMS_PER_VERTEX","VERTEX_SHADER_SOURCE","FRAGMENT_SHADER_SOURCE","ATTRIBUTES","name","size","type","normalized","processVisibleItem","data","borderRatio","borderSize","x","y","floatColor","color","borderColor","ReflectOwnKeys","R","Reflect","ReflectApply","target","receiver","args","Function","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","once","emitter","Promise","resolve","reject","errorListener","err","removeListener","resolver","slice","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","prepend","m","events","existing","warning","newListener","emit","unshift","push","warned","w","Error","count","console","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","unwrapListeners","arrayClone","listenerCount","copy","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","len","listeners","addListener","prependListener","prependOnceListener","list","position","originalListener","shift","index","pop","spliceOne","off","removeAllListeners","key","keys","rawListeners","eventNames","addUndirectedEdgeWithKey","dropNode","multi","e","Symbol","iterator","r","construct","sham","Proxy","Boolean","valueOf","o","a","Map","toString","indexOf","has","writable","configurable","c","ReferenceError","u","_nodes","out","undirected","h","f","l","attributes","isArray","g","v","U","k","_","G","E","A","L","D","S","N","next","of","done","empty","fromSequence","is","O","j","ARRAY_BUFFER_SUPPORT","ArrayBuffer","SYMBOL_SUPPORT","C","M","z","W","P","isView","K","T","B","captureStackTrace","F","I","Y","clear","q","J","V","source","H","_edges","inDegree","outDegree","undirectedDegree","undirectedLoops","directedLoops","in","attach","attachMulti","previous","detach","detachMulti","Q","attacher","X","Z","$","tt","et","direction","nt","rt","it","edge","sourceAttributes","targetAttributes","ot","at","ct","ut","from","undirectedSize","directedSize","dt","st","ht","pt","ft","lt","gt","yt","wt","vt","bt","mt","wrap","kt","neighbor","xt","Et","At","Lt","St","Math","floor","random","Dt","Set","Ut","Nt","allowSelfLoops","Ot","NodeDataClass","jt","_edgeKeyGenerator","_undirectedSelfLoopCount","_directedSelfLoopCount","_undirectedSize","_directedSize","Ct","Mt","delete","zt","forEach","_options","_resetInstanceCounters","hasNode","hasDirectedEdge","hasUndirectedEdge","hasEdge","directedEdge","undirectedEdge","areDirectedNeighbors","areOutNeighbors","areInNeighbors","areUndirectedNeighbors","areNeighbors","areInboundNeighbors","areOutboundNeighbors","directedDegree","inboundDegree","outboundDegree","degree","inDegreeWithoutSelfLoops","outDegreeWithoutSelfLoops","directedDegreeWithoutSelfLoops","undirectedDegreeWithoutSelfLoops","inboundDegreeWithoutSelfLoops","outboundDegreeWithoutSelfLoops","degreeWithoutSelfLoops","extremities","opposite","hasExtremity","isUndirected","isDirected","isSelfLoop","addNode","mergeNode","updateNode","dropEdge","dropDirectedEdge","dropUndirectedEdge","clearEdges","getAttribute","_attributes","getAttributes","hasAttribute","setAttribute","updateAttribute","removeAttribute","replaceAttributes","mergeAttributes","updateAttributes","updateEachNodeAttributes","hints","updateEachEdgeAttributes","forEachAdjacencyEntry","forEachAdjacencyEntryWithOrphans","forEachAssymetricAdjacencyEntry","forEachAssymetricAdjacencyEntryWithOrphans","nodes","forEachNode","findNode","mapNodes","order","someNode","everyNode","filterNodes","reduceNodes","nodeEntries","node","export","options","edges","import","forEachEdge","mergeUndirectedEdgeWithKey","mergeDirectedEdgeWithKey","addDirectedEdgeWithKey","mergeUndirectedEdge","mergeDirectedEdge","addUndirectedEdge","addDirectedEdge","nullCopy","emptyCopy","toJSON","inspect","startsWith","for","generateKey","toUpperCase","_t","Gt","Wt","Pt","Rt","Kt","Tt","Bt","Graph","DirectedGraph","UndirectedGraph","MultiGraph","MultiDirectedGraph","MultiUndirectedGraph","InvalidArgumentsGraphError","NotFoundGraphError","UsageGraphError","self","window","document","postMessage","test","location","protocol","parse","dynamicTyping","dynamicTypingFunction","transform","worker","WORKERS_SUPPORTED","URL","webkitURL","BLOB_URL","createObjectURL","Blob","Worker","onmessage","id","userStep","step","userChunk","chunk","userComplete","complete","userError","input","config","workerId","NODE_STREAM_INPUT","download","readable","read","File","stream","unparse","delimiter","BAD_DELIMITERS","filter","quotes","skipEmptyLines","newline","quoteChar","header","columns","escapeChar","escapeFormulae","RegExp","JSON","fields","meta","join","trim","Date","stringify","replace","charAt","RECORD_SEP","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","fn","each","prop","attr","toLowerCase","FileReader","files","file","inputElem","instanceConfig","extend","before","action","reason","splice","_handle","_finished","_completed","_halted","_input","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","chunkSize","parseInt","streamer","_config","parseChunk","beforeFirstChunk","paused","aborted","cursor","substring","preview","results","WORKER_ID","finished","_sendError","_readChunk","_chunkLoaded","XMLHttpRequest","withCredentials","onload","onerror","_chunkError","open","downloadRequestBody","downloadRequestHeaders","setRequestHeader","send","status","readyState","responseText","getResponseHeader","lastIndexOf","statusText","webkitSlice","mozSlice","FileReaderSync","min","readAsText","encoding","result","pause","resume","_streamData","_streamEnd","_streamError","_checkIsFinished","_streamCleanUp","pow","abort","transformHeader","map","parseFloat","code","row","split","comments","abs","successful","bestDelimiter","delimitersToGuess","getCharIndex","setTimeout","fastMode","substr","linebreak","truncated","terminate","animate_1","easings_1","types_1","DEFAULT_ZOOMING_RATIO","Camera","_this","angle","ratio","minRatio","maxRatio","nextFrame","previousState","enabled","getState","setState","enable","disable","hasState","getPreviousState","getBoundedRatio","max","validateState","validatedState","isAnimated","validState","updateState","updater","animate","opts","callback","ANIMATE_DEFAULTS","easing","default","start","now","initialState","duration","animationCallback","coefficient","newState","requestFrame","cancelFrame","animatedZoom","factorOrOptions","factor","animatedUnzoom","animatedReset","TypedEventEmitter","getWheelDelta","getTouchCoords","getTouchesArray","getWheelCoords","getMouseCoords","getPosition","dom","bbox","getBoundingClientRect","clientX","left","clientY","top","res","sigmaDefaultPrevented","preventSigmaDefault","original","touches","deltaY","detail","delta","touch","Captor","container","renderer","__createBinding","k2","__setModuleDefault","__importStar","captor_1","MouseCaptor","draggedEvents","downStartTime","lastMouseX","lastMouseY","isMouseDown","isMoving","movingTimeout","startCameraState","clicks","doubleClickTimeout","currentWheelDirection","handleClick","handleRightClick","handleDown","handleUp","handleMove","handleWheel","handleOut","kill","clearTimeout","handleDoubleClick","preventDefault","stopPropagation","mouseCoords","camera","getCamera","newRatio","getViewportZoomedState","button","_a","cameraState","previousCameraState","refresh","eX","eY","lastMouse","viewportToFramedGraph","mouse","offsetX","offsetY","wheelCoords","ratioDiff","wheelDirection","lastWheelTriggerTime","MOUSE_ZOOM_DURATION","__read","ar","TouchCaptor","hasMoved","touchMode","startTouchesPositions","handleStart","handleLeave","getDimensions","width","offsetWidth","height","offsetHeight","dispatchRelatedMouseEvent","mousePosition","mouseEvent","MouseEvent","altKey","ctrlKey","isFakeSigmaMouseEvent","dispatchEvent","lastTouches","lastTouchesPositions","_b","x0","y0","_c","x1","y1","startTouchesAngle","atan2","startTouchesDistance","sqrt","touchesPositions","some","idx","startPosition","xStart","yStart","newCameraState","_d","_e","angleDiff","hypot","dimensions","touchGraphPosition","smallestDimension","dx","cos","sin","edgeLabelsToDisplayFromNodes","LabelGrid","LabelCandidate","compare","first","second","cellSize","rows","cells","resizeAndClear","ceil","getIndex","pos","xIndex","add","candidate","cell","organize","sort","getLabelsToDisplay","density","cellArea","scaledDensity","labelsToDisplayPerCell","labels","params","graph","hoveredNode","highlightedNodes","displayedNodeLabels","worthyEdges","rectangleCollidesWithQuad","squareCollidesWithQuad","getCircumscribedAlignedRectangle","isRectangleAligned","extend_1","hasWarnedTooMuchOutside","rect","x2","y2","heightVector","tl","tr","bl","br","xL","xR","yT","qx","qy","qw","qh","pointIsInQuad","QuadTree","containers","OUTSIDE_BLOCK","cache","lastRectangle","Float32Array","boundaries","resize","maxLevel","level","block","topLeftBlock","topRightBlock","bottomLeftBlock","bottomRightBlock","collidingWithTopLeft","collidingWithTopRight","collidingWithBottomLeft","collidingWithBottomRight","collisions","reduce","acc","current","insertNode","stack","hw","hh","buildQuadrants","point","rectangle","lr","collectedNodes","getNodesInAxisAlignedRectangleArea","Sigma","sigma_1","camera_1","quadtree_1","mouse_1","edgeData","sourceData","targetData","settings","edgeLabelSize","font","edgeLabelFont","weight","edgeLabelWeight","edgeLabelColor","attribute","label","fillStyle","cx","cy","sSize","tSize","sx","sy","tx","ty","dy","textLength","measureText","acos","asin","PI","save","translate","rotate","fillText","restore","label_1","labelSize","labelFont","labelWeight","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","textWidth","boxWidth","round","boxHeight","radius","angleRadian","xDeltaCoord","beginPath","moveTo","lineTo","arc","closePath","fill","labelColor","createEdgeCompoundProgram","EdgeProgram","AbstractEdgeProgram","program_1","AbstractProgram","process","offset","STRIDE","hidden","Program","programClasses","EdgeCompoundProgram","gl","programs","reallocate","capacity","program","render","createNodeCompoundProgram","NodeProgram","AbstractNodeProgram","NodeCompoundProgram","utils_2","SIZE_FACTOR_PER_ATTRIBUTE_TYPE","WebGL2RenderingContext","BOOL","BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","_gl","_renderer","indicesArray","uniformLocations","attributeLocations","verticesCount","definition","VERTICES","UNIFORMS","buffer","createBuffer","indicesBuffer","vertexShader","loadVertexShader","fragmentShader","loadFragmentShader","loadProgram","canUse32BitsIndices","indicesType","IndicesArray","Uint32Array","Uint16Array","uniformName","getUniformLocation","getAttribLocation","attributeName","bindBuffer","ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER","enableVertexAttribArray","vertexAttribPointer","BYTES_PER_ELEMENT","sizeFactor","bufferData","DYNAMIC_DRAW","STATIC_DRAW","reallocateIndices","hasNothingToRender","useProgram","draw","edge_1","edge_arrowHead_1","edge_clamped_1","EdgeArrowProgram","edge_arrowHead_vert_glsl_1","edge_arrowHead_frag_glsl_1","EdgeArrowHeadProgram","thickness","n1","n2","u_matrix","u_sizeRatio","u_correctionRatio","uniformMatrix3fv","matrix","uniform1f","sizeRatio","correctionRatio","drawArrays","TRIANGLES","edge_rectangle_1","edge_clamped_vert_glsl_1","EdgeClampedProgram","edge_rectangle_vert_glsl_1","edge_rectangle_frag_glsl_1","EdgeRectangleProgram","indices","u_zoomRatio","zoomRatio","drawElements","node_1","node_circle_vert_glsl_1","node_circle_frag_glsl_1","NodeCircleProgram","ANGLE_1","ANGLE_2","ANGLE_3","node_point_vert_glsl_1","node_point_frag_glsl_1","NodePointProgram","u_pixelRatio","pixelRatio","POINTS","toStringTag","loadShader","glType","VERTEX_SHADER","FRAGMENT_SHADER","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","infoLog","getShaderInfoLog","deleteShader","shaders","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","deleteProgram","resolveSettings","validateSettings","DEFAULT_EDGE_PROGRAM_CLASSES","DEFAULT_NODE_PROGRAM_CLASSES","DEFAULT_SETTINGS","hover_1","edge_label_1","edge_arrow_1","hideEdgesOnMove","hideLabelsOnMove","renderLabels","renderEdgeLabels","enableEdgeClickEvents","enableEdgeWheelEvents","enableEdgeHoverEvents","defaultNodeColor","defaultNodeType","defaultEdgeColor","defaultEdgeType","stagePadding","zoomToSizeRatioFunction","labelDensity","labelGridCellSize","labelRenderedSizeThreshold","nodeReducer","edgeReducer","zIndex","minCameraRatio","maxCameraRatio","labelRenderer","hoverRenderer","edgeLabelRenderer","allowInvalidContainer","nodeProgramClasses","nodeHoverProgramClasses","edgeProgramClasses","circle","arrow","line","resolvedSettings","__values","labels_1","settings_1","touch_1","matrices_1","edge_collisions_1","applyNodeDefaults","highlighted","forceLabel","applyEdgeDefaults","elements","canvasContexts","webGLContexts","activeListeners","quadtree","labelGrid","nodeDataCache","edgeDataCache","nodesWithForcedLabels","edgesWithForcedLabels","nodeExtent","identity","invMatrix","customBBox","normalizationFunction","createNormalizationFunction","cameraSizeRatio","getPixelRatio","displayedEdgeLabels","hoveredEdge","renderFrame","renderHighlightedNodesFrame","needToProcess","checkEdgesEventsFrame","nodePrograms","nodeHoverPrograms","edgePrograms","validateGraph","HTMLElement","createWebGLContext","preserveDrawingBuffer","createCanvasContext","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","BLEND","NodeProgramClass","NodeHoverProgram","hoverNodes","EdgeProgramClass","bindCameraHandlers","mouseCaptor","touchCaptor","bindEventHandlers","bindGraphHandlers","handleSettingsUpdate","createCanvas","canvas","createElement","class","appendChild","getContext","antialias","contextOptions","scheduleRender","mouseIsOnNode","nodeX","nodeY","getQuadNodes","mouseGraphPosition","getNodeAtPosition","quadNodes","minDistance","Infinity","nodeAtPosition","nodePosition","framedGraphToViewport","scaleSize","distance","handleResize","baseEvent","event","nodeToHover","scheduleHighlightedNodesRender","checkEdgeHoverEvents","createMouseListener","eventType","getEdgeAtPoint","graphUpdate","scheduleRefresh","dropNodeGraphUpdate","dropEdgeGraphUpdate","clearEdgesGraphUpdate","clearGraphUpdate","unbindGraphHandlers","payload","edgeToHover","e_1","isPixelColored","viewportToGraph","graphX","graphY","transformationRatio","someEdge","sourceId","targetId","xs","ys","graphLength","graphToViewport","vp_xs","vp_ys","vp_xt","vp_yt","viewportLength","filterEdges","edgeAttributes","sourcePosition","targetPosition","doEdgeCollideWithPoint","selectedEdge","highestZIndex","edges_1","edges_1_1","getEdgeAttribute","e_1_1","return","nodeZExtent","edgeZExtent","graphExtent","nullCamera","nullCameraMatrix","matrixFromCamera","getGraphDimensions","getSetting","nodesPerPrograms","getNodeAttributes","applyTo","zIndexOrdering","nodeProgram","edgesPerPrograms","getEdgeAttributes","labelsToDisplay","edgeLabels","clearRect","edgeLabelsToDisplay","displayedLabels","renderHighlightedNodes","hovers","nodesToRender","COLOR_BUFFER_BIT","exitRender","updateCachedValues","moving","viewportDimensions","graphDimensions","padding","getMatrixImpact","getContainer","getGraph","setGraph","getMouseCaptor","getTouchCaptor","extent","getNodeDisplayData","getEdgeDisplayData","getNodeDisplayedLabels","getEdgeDisplayedLabels","getSettings","setSetting","updateSetting","previousWidth","previousHeight","element","style","scale","viewport","viewportTarget","center","graphMousePosition","graphCenterPosition","viewRectangle","marginX","marginY","p1","p2","coordinates","override","recomputeMatrix","viewportPos","multiplyVec2","viewportPoint","inverse","graphPoint","getBBox","getCustomBBox","setCustomBBox","firstChild","removeChild","getCanvases","rawEmitter","animateNodes","index_1","targets","startPositions","attrs","getNodeAttribute","frame","setNodeAttribute","HTML_COLORS","black","silver","gray","grey","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","darkblue","mediumblue","darkgreen","darkcyan","deepskyblue","darkturquoise","mediumspringgreen","springgreen","cyan","midnightblue","dodgerblue","lightseagreen","forestgreen","seagreen","darkslategray","darkslategrey","limegreen","mediumseagreen","turquoise","royalblue","steelblue","darkslateblue","mediumturquoise","indigo","darkolivegreen","cadetblue","cornflowerblue","rebeccapurple","mediumaquamarine","dimgray","dimgrey","slateblue","olivedrab","slategray","slategrey","lightslategray","lightslategrey","mediumslateblue","lawngreen","chartreuse","aquamarine","skyblue","lightskyblue","blueviolet","darkred","darkmagenta","saddlebrown","darkseagreen","lightgreen","mediumpurple","darkviolet","palegreen","darkorchid","yellowgreen","sienna","brown","darkgray","darkgrey","lightblue","greenyellow","paleturquoise","lightsteelblue","powderblue","firebrick","darkgoldenrod","mediumorchid","rosybrown","darkkhaki","mediumvioletred","indianred","peru","chocolate","tan","lightgray","lightgrey","thistle","orchid","goldenrod","palevioletred","crimson","gainsboro","plum","burlywood","lightcyan","lavender","darksalmon","violet","palegoldenrod","lightcoral","khaki","aliceblue","honeydew","azure","sandybrown","wheat","beige","whitesmoke","mintcream","ghostwhite","salmon","antiquewhite","linen","lightgoldenrodyellow","oldlace","magenta","deeppink","orangered","tomato","hotpink","coral","darkorange","lightsalmon","orange","lightpink","pink","gold","peachpuff","navajowhite","moccasin","bisque","mistyrose","blanchedalmond","papayawhip","lavenderblush","seashell","cornsilk","lemonchiffon","floralwhite","snow","lightyellow","ivory","cubicInOut","cubicOut","cubicIn","quadraticInOut","quadraticOut","quadraticIn","linear","easings","pixels","Uint8Array","readPixels","drawingBufferHeight","RGBA","xS","yS","xT","extractPixel","getCorrectionRatio","floatArrayColor","parseColor","assignDeep","isPlainObject","is_graph_1","data_1","objects","_i","requestAnimationFrame","cancelAnimationFrame","requestID","tag","devicePixelRatio","xMin","xMax","yMin","yMax","minX","maxX","minY","maxY","dX","dY","getter","zA","zB","INT8","Int8Array","INT32","Int32Array","FLOAT32","RGBA_TEST_REGEX","RGBA_EXTRACT_REGEX","val","match","FLOAT_COLOR_CACHE","htmlColor","parsed","viewportRatio","graphRatio","multiply","getExtension","isFinite","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","b0","b1","entity","selectedNode","selectedNodeType","selectedNodeLabel","sigmaDim","currentReducers","animation","clustersLayer","resizeClusterLabels","histograms","characters","creators","suggestions","allSuggestions","comicsReady","comicsBarView","preventAutoScroll","minComicLiHeight","hoveredComic","selectedComic","networksLoaded","playing","sortComics","conf","networks","picturesRenderingDelay","allComics","allComicsMap","allCharacters","allCreators","crossMap","charactersComics","creatorsComics","cl","picturesLoadingDelay","communities","counts","clusters","getElementById","legend","controls","loader","loaderComics","loaderList","helpButton","helpModal","helpBox","modal","modalImg","modalImgMissing","modalNext","modalPrev","modalPlay","modalPause","comicsActions","comicsNext","comicsPrev","comicsPlay","comicsPause","filterComics","filterSearch","filterInput","sortAlpha","sortDate","sideBar","explanations","viewNodeButton","viewComicsButton","viewAllComicsButton","orderSpan","nodeDetails","nodeLabel","nodeImg","nodeExtra","nodeHistogram","fullHistogram","comicsHistogram","comicsBar","comicsDiv","comicsTitle","comicsSubtitle","comicsSubtitleList","comicsList","comicsCache","comicTitle","comicUrl","comicImg","comicDesc","comicEntities","querySelectorAll","comicCreators","comicCharacters","searchInput","searchIcon","searchSuggestions","selectSuggestions","switchNodeType","switchTypeLabel","globalTooltip","entitySpans","charactersDetailsSpans","creatorsDetailsSpans","loadNetwork","ent","waitForComics","loaded","showLoader","loading","logDebug","fetch","then","arrayBuffer","content","networkData","uncompress","graphData","community","cluster","positions","stories","image","artist","writer","artist_ratio","role","extraPalette","creatorsRoles","computeNodeSize","mergeNodeAttributes","lightenColor","haloSize","haloIntensity","log","haloColor","meanArray","display","setInterval","clearInterval","buildNetwork","loadComics","buildComics","comicsData","date","getFullYear","ch","artistsIds","artists","writers","cr","setViewComicsButton","renderHistogram","showViewComicsButton","renderNetwork","shouldComicsBarView","innerHTML","formatNumber","hide","sigmaDims","sigmaSettings","insertBefore","getElementsByClassName","clickNode","setURL","setSearchQuery","onclick","clusterLabelsDoms","clusterLabel","feedAllSuggestions","fillSuggestions","query","includes","suggestionsMatch","conditionalOpenComicsBar","selectComic","unselectComic","displayComics","hideLoader","enableSwitchButtons","onchange","selectedIndex","oninput","onblur","sigmaWidth","divWidth","finalizeGraph","showCanvases","rendered","updateShift","centerNode","neighbors","force","runCentering","animated","minCorner","rotatePosition","maxCorner","viewPortPosition","minWin","maxWin","minPos","maxPos","newCam","updateURL","sameNode","stopPlayComics","src","defaultSidebar","relatedNodes","comicsRatio","nodeEntity","sum","cur","scrollTo","fixImage","image_url","opacity","description","url","getNodeComics","hasClass","title","autoReselect","resetTitle","scrollComicsList","addClass","disableSwitchButtons","actuallyDisplayComics","comics","sortByDate","sortByTitle","buildComicsList","comicsListData","comicLi","comic","onmouseup","onmouseenter","clearComicDetails","el","rmClass","keep","previousElementSibling","nextElementSibling","formatMonth","href","setupTooltip","focus","win","documentElement","fullScreenBtn","regScreenBtn","disabled","showClustersLayer","hideComicsBar","switchClass","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","msExitFullscreen","checked","preventClick","clearTooltip","tooltipId","tooltip","isTouchDevice","activeElement","g0","g1","dims","innerWidth","onmousemove","onmouseleave","ontouchstart","querySelector","listHeight","divHeight","diff","offsetTop","selectAndScroll","selectAndScrollSibling","typ","loop","selected","playComics","playComicsDelay","ontouchend","onwheel","onmousedown","onmouseout","sortableTitle","padStart","localeCompare","filterTimeout","refreshFilter","onkeydown","which","touchStart","changedTouches","screenX","screenY","touchEnd","threshold","horizontalDifference","verticalDifference","buildLegendItem","year","ref","className","startYear","curYear","totalYears","histogram","histo","entityYearMap","end","comicYear","buildHistogram","maxWidth","heightRatio","histogramDiv","legendYears","histoDiv","histoTooltip","bar","tooltipWidth","leftPos","bottom","bDims","right","ontouchmove","resizing","fast","freeHeight","comicsDims","legendLeft","sel","selType","hash","readURL","fromEntries","reload","oldNodeLabel","decodeURIComponent","clickn","oldComic","oldSort","dispc","prevGraph","span","onresize","text","confData","keyval","webGLSupport","onhashchange","intensity","u_ignoreZoom","textureImage","rebindTextureFns","images","hasReceivedImages","pendingImagesFrameID","writePositionX","writePositionY","writeRowHeight","rebindTexture","ImageData","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","generateMipmap","latestRenderParams","imageSource","imageState","Image","pendingImages","ctx","willReadFrequently","totalWidth","totalHeight","xOffset","yOffset","drawRow","putImageData","imageSizeInTexture","drawImage","getImageData","rowImages","finalizePendingImages","loadImage","u_atlas","uniform1i","NodeProgramImage","both","vars","clss","classes","condition","replacement","monthNames","col","amt","usePound","num","useWebWorker","script","inputData","worker_blob","worker_url","dat","getMonth","divId","navigator","maxTouchPoints","compressed","method","origin","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}