{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://MARVEL graphs/./sigma.js/core/camera.js","webpack://MARVEL graphs/./sigma.js/core/captors/captor.js","webpack://MARVEL graphs/./sigma.js/core/captors/mouse.js","webpack://MARVEL graphs/./sigma.js/core/captors/touch.js","webpack://MARVEL graphs/./sigma.js/core/labels.js","webpack://MARVEL graphs/./sigma.js/core/quadtree.js","webpack://MARVEL graphs/./sigma.js/index.js","webpack://MARVEL graphs/./sigma.js/rendering/canvas/edge-label.js","webpack://MARVEL graphs/./sigma.js/rendering/canvas/hover.js","webpack://MARVEL graphs/./sigma.js/rendering/canvas/label.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/programs/common/edge.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/programs/common/node.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/programs/common/program.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/programs/edge.arrow.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/programs/edge.arrowHead.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/programs/edge.clamped.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/programs/edge.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/programs/node.fast.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/programs/node.image.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/shaders/edge.arrowHead.frag.glsl.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/shaders/edge.arrowHead.vert.glsl.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/shaders/edge.clamped.vert.glsl.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/shaders/edge.frag.glsl.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/shaders/edge.vert.glsl.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/shaders/node.fast.frag.glsl.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/shaders/node.fast.vert.glsl.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/shaders/node.image.frag.glsl.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/shaders/node.image.vert.glsl.js","webpack://MARVEL graphs/./sigma.js/rendering/webgl/shaders/utils.js","webpack://MARVEL graphs/./sigma.js/settings.js","webpack://MARVEL graphs/./sigma.js/sigma.js","webpack://MARVEL graphs/./sigma.js/types.js","webpack://MARVEL graphs/./sigma.js/utils/animate.js","webpack://MARVEL graphs/./sigma.js/utils/data.js","webpack://MARVEL graphs/./sigma.js/utils/easings.js","webpack://MARVEL graphs/./sigma.js/utils/edge-collisions.js","webpack://MARVEL graphs/./sigma.js/utils/index.js","webpack://MARVEL graphs/./sigma.js/utils/matrices.js","webpack://MARVEL graphs/./node_modules/graphology/dist/graphology.umd.min.js","webpack://MARVEL graphs/./node_modules/papaparse/papaparse.min.js","webpack://MARVEL graphs/./index.ts","webpack://MARVEL graphs/./settings.ts","webpack://MARVEL graphs/./utils.ts","webpack://MARVEL graphs/./sigma.js/node_modules/@yomguithereal/helpers/extend.js","webpack://MARVEL graphs/./sigma.js/node_modules/events/events.js","webpack://MARVEL graphs/./sigma.js/node_modules/graphology-utils/is-graph.js","webpack://MARVEL graphs/webpack/bootstrap","webpack://MARVEL graphs/webpack/startup"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js Camera Class\n * ======================\n *\n * Class designed to store camera information & used to update it.\n * @module\n */\nvar animate_1 = require(\"../utils/animate\");\nvar easings_1 = __importDefault(require(\"../utils/easings\"));\nvar utils_1 = require(\"../utils\");\nvar types_1 = require(\"../types\");\n/**\n * Defaults.\n */\nvar DEFAULT_ZOOMING_RATIO = 1.5;\n/**\n * Camera class\n *\n * @constructor\n */\nvar Camera = /** @class */ (function (_super) {\n    __extends(Camera, _super);\n    function Camera() {\n        var _this = _super.call(this) || this;\n        _this.x = 0.5;\n        _this.y = 0.5;\n        _this.angle = 0;\n        _this.ratio = 1;\n        _this.minRatio = null;\n        _this.maxRatio = null;\n        _this.nextFrame = null;\n        _this.previousState = null;\n        _this.enabled = true;\n        // State\n        _this.previousState = _this.getState();\n        return _this;\n    }\n    /**\n     * Static method used to create a Camera object with a given state.\n     *\n     * @param state\n     * @return {Camera}\n     */\n    Camera.from = function (state) {\n        var camera = new Camera();\n        return camera.setState(state);\n    };\n    /**\n     * Method used to enable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.enable = function () {\n        this.enabled = true;\n        return this;\n    };\n    /**\n     * Method used to disable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.disable = function () {\n        this.enabled = false;\n        return this;\n    };\n    /**\n     * Method used to retrieve the camera's current state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getState = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            angle: this.angle,\n            ratio: this.ratio,\n        };\n    };\n    /**\n     * Method used to check whether the camera has the given state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.hasState = function (state) {\n        return this.x === state.x && this.y === state.y && this.ratio === state.ratio && this.angle === state.angle;\n    };\n    /**\n     * Method used to retrieve the camera's previous state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getPreviousState = function () {\n        var state = this.previousState;\n        if (!state)\n            return null;\n        return {\n            x: state.x,\n            y: state.y,\n            angle: state.angle,\n            ratio: state.ratio,\n        };\n    };\n    /**\n     * Method used to check minRatio and maxRatio values.\n     *\n     * @param ratio\n     * @return {number}\n     */\n    Camera.prototype.getBoundedRatio = function (ratio) {\n        var r = ratio;\n        if (typeof this.minRatio === \"number\")\n            r = Math.max(r, this.minRatio);\n        if (typeof this.maxRatio === \"number\")\n            r = Math.min(r, this.maxRatio);\n        return r;\n    };\n    /**\n     * Method used to check various things to return a legit state candidate.\n     *\n     * @param state\n     * @return {object}\n     */\n    Camera.prototype.validateState = function (state) {\n        var validatedState = {};\n        if (typeof state.x === \"number\")\n            validatedState.x = state.x;\n        if (typeof state.y === \"number\")\n            validatedState.y = state.y;\n        if (typeof state.angle === \"number\")\n            validatedState.angle = state.angle;\n        if (typeof state.ratio === \"number\")\n            validatedState.ratio = this.getBoundedRatio(state.ratio);\n        return validatedState;\n    };\n    /**\n     * Method used to check whether the camera is currently being animated.\n     *\n     * @return {boolean}\n     */\n    Camera.prototype.isAnimated = function () {\n        return !!this.nextFrame;\n    };\n    /**\n     * Method used to set the camera's state.\n     *\n     * @param  {object} state - New state.\n     * @return {Camera}\n     */\n    Camera.prototype.setState = function (state) {\n        if (!this.enabled)\n            return this;\n        // TODO: update by function\n        // Keeping track of last state\n        this.previousState = this.getState();\n        var validState = this.validateState(state);\n        if (typeof validState.x === \"number\")\n            this.x = validState.x;\n        if (typeof validState.y === \"number\")\n            this.y = validState.y;\n        if (typeof validState.angle === \"number\")\n            this.angle = validState.angle;\n        if (typeof validState.ratio === \"number\")\n            this.ratio = validState.ratio;\n        // Emitting\n        if (!this.hasState(this.previousState))\n            this.emit(\"updated\", this.getState());\n        return this;\n    };\n    /**\n     * Method used to update the camera's state using a function.\n     *\n     * @param  {function} updater - Updated function taking current state and\n     *                              returning next state.\n     * @return {Camera}\n     */\n    Camera.prototype.updateState = function (updater) {\n        this.setState(updater(this.getState()));\n        return this;\n    };\n    /**\n     * Method used to animate the camera.\n     *\n     * @param  {object}                    state      - State to reach eventually.\n     * @param  {object}                    opts       - Options:\n     * @param  {number}                      duration - Duration of the animation.\n     * @param  {string | number => number}   easing   - Easing function or name of an existing one\n     * @param  {function}                  callback   - Callback\n     */\n    Camera.prototype.animate = function (state, opts, callback) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var options = Object.assign({}, animate_1.ANIMATE_DEFAULTS, opts);\n        var validState = this.validateState(state);\n        var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n        // State\n        var start = Date.now(), initialState = this.getState();\n        // Function performing the animation\n        var fn = function () {\n            var t = (Date.now() - start) / options.duration;\n            // The animation is over:\n            if (t >= 1) {\n                _this.nextFrame = null;\n                _this.setState(validState);\n                if (_this.animationCallback) {\n                    _this.animationCallback.call(null);\n                    _this.animationCallback = undefined;\n                }\n                return;\n            }\n            var coefficient = easing(t);\n            var newState = {};\n            if (typeof validState.x === \"number\")\n                newState.x = initialState.x + (validState.x - initialState.x) * coefficient;\n            if (typeof validState.y === \"number\")\n                newState.y = initialState.y + (validState.y - initialState.y) * coefficient;\n            if (typeof validState.angle === \"number\")\n                newState.angle = initialState.angle + (validState.angle - initialState.angle) * coefficient;\n            if (typeof validState.ratio === \"number\")\n                newState.ratio = initialState.ratio + (validState.ratio - initialState.ratio) * coefficient;\n            _this.setState(newState);\n            _this.nextFrame = (0, utils_1.requestFrame)(fn);\n        };\n        if (this.nextFrame) {\n            (0, utils_1.cancelFrame)(this.nextFrame);\n            if (this.animationCallback)\n                this.animationCallback.call(null);\n            this.nextFrame = (0, utils_1.requestFrame)(fn);\n        }\n        else {\n            fn();\n        }\n        this.animationCallback = callback;\n    };\n    /**\n     * Method used to zoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     * @return {function}\n     */\n    Camera.prototype.animatedZoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio / DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio / factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio / (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to unzoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     */\n    Camera.prototype.animatedUnzoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio * DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio * factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio * (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to reset the camera.\n     *\n     * @param  {object} options - Options.\n     */\n    Camera.prototype.animatedReset = function (options) {\n        this.animate({\n            x: 0.5,\n            y: 0.5,\n            ratio: 1,\n            angle: 0,\n        }, options);\n    };\n    /**\n     * Returns a new Camera instance, with the same state as the current camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.copy = function () {\n        return Camera.from(this.getState());\n    };\n    return Camera;\n}(types_1.TypedEventEmitter));\nexports.default = Camera;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWheelDelta = exports.getTouchCoords = exports.getTouchesArray = exports.getWheelCoords = exports.getMouseCoords = exports.getPosition = void 0;\n/**\n * Sigma.js Captor Class\n * ======================\n * @module\n */\nvar types_1 = require(\"../../types\");\n/**\n * Captor utils functions\n * ======================\n */\n/**\n * Extract the local X and Y coordinates from a mouse event or touch object. If\n * a DOM element is given, it uses this element's offset to compute the position\n * (this allows using events that are not bound to the container itself and\n * still have a proper position).\n *\n * @param  {event}       e - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {number}      The local Y value of the mouse.\n */\nfunction getPosition(e, dom) {\n    var bbox = dom.getBoundingClientRect();\n    return {\n        x: e.clientX - bbox.left,\n        y: e.clientY - bbox.top,\n    };\n}\nexports.getPosition = getPosition;\n/**\n * Convert mouse coords to sigma coords.\n *\n * @param  {event}       e   - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getMouseCoords(e, dom) {\n    var res = __assign(__assign({}, getPosition(e, dom)), { sigmaDefaultPrevented: false, preventSigmaDefault: function () {\n            res.sigmaDefaultPrevented = true;\n        }, original: e });\n    return res;\n}\nexports.getMouseCoords = getMouseCoords;\n/**\n * Convert mouse wheel event coords to sigma coords.\n *\n * @param  {event}       e   - A wheel mouse event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getWheelCoords(e, dom) {\n    return __assign(__assign({}, getMouseCoords(e, dom)), { delta: getWheelDelta(e) });\n}\nexports.getWheelCoords = getWheelCoords;\nvar MAX_TOUCHES = 2;\nfunction getTouchesArray(touches) {\n    var arr = [];\n    for (var i = 0, l = Math.min(touches.length, MAX_TOUCHES); i < l; i++)\n        arr.push(touches[i]);\n    return arr;\n}\nexports.getTouchesArray = getTouchesArray;\n/**\n * Convert touch coords to sigma coords.\n *\n * @param  {event}       e   - A touch event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getTouchCoords(e, dom) {\n    return {\n        touches: getTouchesArray(e.touches).map(function (touch) { return getPosition(touch, dom); }),\n        original: e,\n    };\n}\nexports.getTouchCoords = getTouchCoords;\n/**\n * Extract the wheel delta from a mouse event or touch object.\n *\n * @param  {event}  e - A mouse event or touch object.\n * @return {number}     The wheel delta of the mouse.\n */\nfunction getWheelDelta(e) {\n    // TODO: check those ratios again to ensure a clean Chrome/Firefox compat\n    if (typeof e.deltaY !== \"undefined\")\n        return (e.deltaY * -3) / 360;\n    if (typeof e.detail !== \"undefined\")\n        return e.detail / -9;\n    throw new Error(\"Captor: could not extract delta from event.\");\n}\nexports.getWheelDelta = getWheelDelta;\n/**\n * Abstract class representing a captor like the user's mouse or touch controls.\n */\nvar Captor = /** @class */ (function (_super) {\n    __extends(Captor, _super);\n    function Captor(container, renderer) {\n        var _this = _super.call(this) || this;\n        // Properties\n        _this.container = container;\n        _this.renderer = renderer;\n        return _this;\n    }\n    return Captor;\n}(types_1.TypedEventEmitter));\nexports.default = Captor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\n/**\n * Constants.\n */\nvar DRAG_TIMEOUT = 100;\nvar DRAGGED_EVENTS_TOLERANCE = 3;\nvar MOUSE_INERTIA_DURATION = 200;\nvar MOUSE_INERTIA_RATIO = 3;\nvar MOUSE_ZOOM_DURATION = 250;\nvar ZOOMING_RATIO = 1.7;\nvar DOUBLE_CLICK_TIMEOUT = 300;\nvar DOUBLE_CLICK_ZOOMING_RATIO = 2.2;\nvar DOUBLE_CLICK_ZOOMING_DURATION = 200;\n/**\n * Mouse captor class.\n *\n * @constructor\n */\nvar MouseCaptor = /** @class */ (function (_super) {\n    __extends(MouseCaptor, _super);\n    function MouseCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        // State\n        _this.enabled = true;\n        _this.draggedEvents = 0;\n        _this.downStartTime = null;\n        _this.lastMouseX = null;\n        _this.lastMouseY = null;\n        _this.isMouseDown = false;\n        _this.isMoving = false;\n        _this.movingTimeout = null;\n        _this.startCameraState = null;\n        _this.clicks = 0;\n        _this.doubleClickTimeout = null;\n        _this.currentWheelDirection = 0;\n        // Binding methods\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleRightClick = _this.handleRightClick.bind(_this);\n        _this.handleDown = _this.handleDown.bind(_this);\n        _this.handleUp = _this.handleUp.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        _this.handleWheel = _this.handleWheel.bind(_this);\n        _this.handleOut = _this.handleOut.bind(_this);\n        // Binding events\n        container.addEventListener(\"click\", _this.handleClick, false);\n        container.addEventListener(\"contextmenu\", _this.handleRightClick, false);\n        container.addEventListener(\"mousedown\", _this.handleDown, false);\n        container.addEventListener(\"wheel\", _this.handleWheel, false);\n        container.addEventListener(\"mouseout\", _this.handleOut, false);\n        document.addEventListener(\"mousemove\", _this.handleMove, false);\n        document.addEventListener(\"mouseup\", _this.handleUp, false);\n        return _this;\n    }\n    MouseCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"click\", this.handleClick);\n        container.removeEventListener(\"contextmenu\", this.handleRightClick);\n        container.removeEventListener(\"mousedown\", this.handleDown);\n        container.removeEventListener(\"wheel\", this.handleWheel);\n        container.removeEventListener(\"mouseout\", this.handleOut);\n        document.removeEventListener(\"mousemove\", this.handleMove);\n        document.removeEventListener(\"mouseup\", this.handleUp);\n    };\n    MouseCaptor.prototype.handleClick = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        this.clicks++;\n        if (this.clicks === 2) {\n            this.clicks = 0;\n            if (typeof this.doubleClickTimeout === \"number\") {\n                clearTimeout(this.doubleClickTimeout);\n                this.doubleClickTimeout = null;\n            }\n            return this.handleDoubleClick(e);\n        }\n        setTimeout(function () {\n            _this.clicks = 0;\n            _this.doubleClickTimeout = null;\n        }, DOUBLE_CLICK_TIMEOUT);\n        // NOTE: this is here to prevent click events on drag\n        if (this.draggedEvents < DRAGGED_EVENTS_TOLERANCE)\n            this.emit(\"click\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleRightClick = function (e) {\n        if (!this.enabled)\n            return;\n        this.emit(\"rightClick\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleDoubleClick = function (e) {\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        this.emit(\"doubleClick\", mouseCoords);\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // default behavior\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio / DOUBLE_CLICK_ZOOMING_RATIO);\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticInOut\",\n            duration: DOUBLE_CLICK_ZOOMING_DURATION,\n        });\n    };\n    MouseCaptor.prototype.handleDown = function (e) {\n        if (!this.enabled)\n            return;\n        // We only start dragging on left button\n        if (e.button === 0) {\n            this.startCameraState = this.renderer.getCamera().getState();\n            var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n            this.lastMouseX = x;\n            this.lastMouseY = y;\n            this.draggedEvents = 0;\n            this.downStartTime = Date.now();\n            this.isMouseDown = true;\n        }\n        this.emit(\"mousedown\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleUp = function (e) {\n        var _this = this;\n        if (!this.enabled || !this.isMouseDown)\n            return;\n        var camera = this.renderer.getCamera();\n        this.isMouseDown = false;\n        if (typeof this.movingTimeout === \"number\") {\n            clearTimeout(this.movingTimeout);\n            this.movingTimeout = null;\n        }\n        var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n        var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n        if (this.isMoving) {\n            camera.animate({\n                x: cameraState.x + MOUSE_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                y: cameraState.y + MOUSE_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n            }, {\n                duration: MOUSE_INERTIA_DURATION,\n                easing: \"quadraticOut\",\n            });\n        }\n        else if (this.lastMouseX !== x || this.lastMouseY !== y) {\n            camera.setState({\n                x: cameraState.x,\n                y: cameraState.y,\n            });\n        }\n        this.isMoving = false;\n        setTimeout(function () {\n            _this.draggedEvents = 0;\n            // NOTE: this refresh is here to make sure `hideEdgesOnMove` can work\n            // when someone releases camera pan drag after having stopped moving.\n            // See commit: https://github.com/jacomyal/sigma.js/commit/cfd9197f70319109db6b675dd7c82be493ca95a2\n            // See also issue: https://github.com/jacomyal/sigma.js/issues/1290\n            // It could be possible to render instead of scheduling a refresh but for\n            // now it seems good enough.\n            _this.renderer.refresh();\n        }, 0);\n        this.emit(\"mouseup\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleMove = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        // Always trigger a \"mousemovebody\" event, so that it is possible to develop\n        // a drag-and-drop effect that works even when the mouse is out of the\n        // container:\n        this.emit(\"mousemovebody\", mouseCoords);\n        // Only trigger the \"mousemove\" event when the mouse is actually hovering\n        // the container, to avoid weirdly hovering nodes and/or edges when the\n        // mouse is not hover the container:\n        if (e.target === this.container) {\n            this.emit(\"mousemove\", mouseCoords);\n        }\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // Handle the case when \"isMouseDown\" all the time, to allow dragging the\n        // stage while the mouse is not hover the container:\n        if (this.isMouseDown) {\n            this.isMoving = true;\n            this.draggedEvents++;\n            if (typeof this.movingTimeout === \"number\") {\n                clearTimeout(this.movingTimeout);\n            }\n            this.movingTimeout = window.setTimeout(function () {\n                _this.movingTimeout = null;\n                _this.isMoving = false;\n            }, DRAG_TIMEOUT);\n            var camera = this.renderer.getCamera();\n            var _a = (0, captor_1.getPosition)(e, this.container), eX = _a.x, eY = _a.y;\n            var lastMouse = this.renderer.viewportToFramedGraph({\n                x: this.lastMouseX,\n                y: this.lastMouseY,\n            });\n            var mouse = this.renderer.viewportToFramedGraph({ x: eX, y: eY });\n            var offsetX = lastMouse.x - mouse.x, offsetY = lastMouse.y - mouse.y;\n            var cameraState = camera.getState();\n            var x = cameraState.x + offsetX, y = cameraState.y + offsetY;\n            camera.setState({ x: x, y: y });\n            this.lastMouseX = eX;\n            this.lastMouseY = eY;\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    };\n    MouseCaptor.prototype.handleWheel = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var delta = (0, captor_1.getWheelDelta)(e);\n        if (!delta)\n            return;\n        var wheelCoords = (0, captor_1.getWheelCoords)(e, this.container);\n        this.emit(\"wheel\", wheelCoords);\n        if (wheelCoords.sigmaDefaultPrevented)\n            return;\n        // Default behavior\n        var ratioDiff = delta > 0 ? 1 / ZOOMING_RATIO : ZOOMING_RATIO;\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio * ratioDiff);\n        var wheelDirection = delta > 0 ? 1 : -1;\n        var now = Date.now();\n        // Cancel events that are too close too each other and in the same direction:\n        if (this.currentWheelDirection === wheelDirection &&\n            this.lastWheelTriggerTime &&\n            now - this.lastWheelTriggerTime < MOUSE_ZOOM_DURATION / 5) {\n            return;\n        }\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticOut\",\n            duration: MOUSE_ZOOM_DURATION,\n        }, function () {\n            _this.currentWheelDirection = 0;\n        });\n        this.currentWheelDirection = wheelDirection;\n        this.lastWheelTriggerTime = now;\n    };\n    MouseCaptor.prototype.handleOut = function () {\n        // TODO: dispatch event\n    };\n    return MouseCaptor;\n}(captor_1.default));\nexports.default = MouseCaptor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\nvar DRAG_TIMEOUT = 200;\nvar TOUCH_INERTIA_RATIO = 3;\nvar TOUCH_INERTIA_DURATION = 200;\n/**\n * Touch captor class.\n *\n * @constructor\n */\nvar TouchCaptor = /** @class */ (function (_super) {\n    __extends(TouchCaptor, _super);\n    function TouchCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        _this.enabled = true;\n        _this.isMoving = false;\n        _this.hasMoved = false;\n        _this.touchMode = 0; // number of touches down\n        _this.startTouchesPositions = [];\n        // Binding methods:\n        _this.handleStart = _this.handleStart.bind(_this);\n        _this.handleLeave = _this.handleLeave.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        // Binding events\n        container.addEventListener(\"touchstart\", _this.handleStart, false);\n        container.addEventListener(\"touchend\", _this.handleLeave, false);\n        container.addEventListener(\"touchcancel\", _this.handleLeave, false);\n        container.addEventListener(\"touchmove\", _this.handleMove, false);\n        return _this;\n    }\n    TouchCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"touchstart\", this.handleStart);\n        container.removeEventListener(\"touchend\", this.handleLeave);\n        container.removeEventListener(\"touchcancel\", this.handleLeave);\n        container.removeEventListener(\"touchmove\", this.handleMove);\n    };\n    TouchCaptor.prototype.getDimensions = function () {\n        return {\n            width: this.container.offsetWidth,\n            height: this.container.offsetHeight,\n        };\n    };\n    TouchCaptor.prototype.dispatchRelatedMouseEvent = function (type, e, touch, emitter) {\n        var mousePosition = touch || e.touches[0];\n        var mouseEvent = new MouseEvent(type, {\n            clientX: mousePosition.clientX,\n            clientY: mousePosition.clientY,\n            altKey: e.altKey,\n            ctrlKey: e.ctrlKey,\n        });\n        mouseEvent.isFakeSigmaMouseEvent = true;\n        (emitter || this.container).dispatchEvent(mouseEvent);\n    };\n    TouchCaptor.prototype.handleStart = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousedown\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        this.touchMode = touches.length;\n        this.startCameraState = this.renderer.getCamera().getState();\n        this.startTouchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouches = touches;\n        this.lastTouchesPositions = this.startTouchesPositions;\n        // When there are two touches down, let's record distance and angle as well:\n        if (this.touchMode === 2) {\n            var _a = __read(this.startTouchesPositions, 2), _b = _a[0], x0 = _b.x, y0 = _b.y, _c = _a[1], x1 = _c.x, y1 = _c.y;\n            this.startTouchesAngle = Math.atan2(y1 - y0, x1 - x0);\n            this.startTouchesDistance = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n        }\n        this.emit(\"touchdown\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleLeave = function (e) {\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 0 && this.lastTouches && this.lastTouches.length) {\n            this.dispatchRelatedMouseEvent(\"mouseup\", e, this.lastTouches[0], document);\n            // ... and only click if no move was made\n            if (!this.hasMoved) {\n                this.dispatchRelatedMouseEvent(\"click\", e, this.lastTouches[0]);\n            }\n        }\n        if (this.movingTimeout) {\n            this.isMoving = false;\n            clearTimeout(this.movingTimeout);\n        }\n        switch (this.touchMode) {\n            case 2:\n                if (e.touches.length === 1) {\n                    this.handleStart(e);\n                    e.preventDefault();\n                    break;\n                }\n            /* falls through */\n            case 1:\n                // TODO\n                // Dispatch event\n                if (this.isMoving) {\n                    var camera = this.renderer.getCamera();\n                    var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n                    camera.animate({\n                        x: cameraState.x + TOUCH_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                        y: cameraState.y + TOUCH_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n                    }, {\n                        duration: TOUCH_INERTIA_DURATION,\n                        easing: \"quadraticOut\",\n                    });\n                }\n                this.hasMoved = false;\n                this.isMoving = false;\n                this.touchMode = 0;\n                break;\n        }\n        this.emit(\"touchup\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleMove = function (e) {\n        var _a;\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousemove\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        var touchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouches = touches;\n        this.lastTouchesPositions = touchesPositions;\n        // If a move was initiated at some point and we get back to startpoint,\n        // we should still consider that we did move (which also happens after a\n        // multiple touch when only one touch remains in which case handleStart\n        // is recalled within handleLeave).\n        // Now, some mobile browsers report zero-distance moves so we also check that\n        // one of the touches did actually move from the origin position.\n        this.hasMoved || (this.hasMoved = touchesPositions.some(function (position, idx) {\n            var startPosition = _this.startTouchesPositions[idx];\n            return position.x !== startPosition.x || position.y !== startPosition.y;\n        }));\n        // If there was no move, do not trigger touch moves behavior\n        if (!this.hasMoved) {\n            return;\n        }\n        this.isMoving = true;\n        if (this.movingTimeout)\n            clearTimeout(this.movingTimeout);\n        this.movingTimeout = window.setTimeout(function () {\n            _this.isMoving = false;\n        }, DRAG_TIMEOUT);\n        var camera = this.renderer.getCamera();\n        var startCameraState = this.startCameraState;\n        switch (this.touchMode) {\n            case 1: {\n                var _b = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0]), xStart = _b.x, yStart = _b.y;\n                var _c = this.renderer.viewportToFramedGraph(touchesPositions[0]), x = _c.x, y = _c.y;\n                camera.setState({\n                    x: startCameraState.x + xStart - x,\n                    y: startCameraState.y + yStart - y,\n                });\n                break;\n            }\n            case 2: {\n                /**\n                 * Here is the thinking here:\n                 *\n                 * 1. We can find the new angle and ratio, by comparing the vector from \"touch one\" to \"touch two\" at the start\n                 *    of the d'n'd and now\n                 *\n                 * 2. We can use `Camera#viewportToGraph` inside formula to retrieve the new camera position, using the graph\n                 *    position of a touch at the beginning of the d'n'd (using `startCamera.viewportToGraph`) and the viewport\n                 *    position of this same touch now\n                 */\n                var newCameraState = {};\n                var _d = touchesPositions[0], x0 = _d.x, y0 = _d.y;\n                var _e = touchesPositions[1], x1 = _e.x, y1 = _e.y;\n                var angleDiff = Math.atan2(y1 - y0, x1 - x0) - this.startTouchesAngle;\n                var ratioDiff = Math.hypot(y1 - y0, x1 - x0) / this.startTouchesDistance;\n                // 1.\n                var newRatio = camera.getBoundedRatio(startCameraState.ratio / ratioDiff);\n                newCameraState.ratio = newRatio;\n                newCameraState.angle = startCameraState.angle + angleDiff;\n                // 2.\n                var dimensions = this.getDimensions();\n                var touchGraphPosition = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0], { cameraState: startCameraState });\n                var smallestDimension = Math.min(dimensions.width, dimensions.height);\n                var dx = smallestDimension / dimensions.width;\n                var dy = smallestDimension / dimensions.height;\n                var ratio = newRatio / smallestDimension;\n                // Align with center of the graph:\n                var x = x0 - smallestDimension / 2 / dx;\n                var y = y0 - smallestDimension / 2 / dy;\n                // Rotate:\n                _a = __read([\n                    x * Math.cos(-newCameraState.angle) - y * Math.sin(-newCameraState.angle),\n                    y * Math.cos(-newCameraState.angle) + x * Math.sin(-newCameraState.angle),\n                ], 2), x = _a[0], y = _a[1];\n                newCameraState.x = touchGraphPosition.x - x * ratio;\n                newCameraState.y = touchGraphPosition.y + y * ratio;\n                camera.setState(newCameraState);\n                break;\n            }\n        }\n        this.emit(\"touchmove\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    return TouchCaptor;\n}(captor_1.default));\nexports.default = TouchCaptor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.edgeLabelsToDisplayFromNodes = exports.LabelGrid = void 0;\n/**\n * Class representing a single candidate for the label grid selection.\n *\n * It also describes a deterministic way to compare two candidates to assess\n * which one is better.\n */\nvar LabelCandidate = /** @class */ (function () {\n    function LabelCandidate(key, size) {\n        this.key = key;\n        this.size = size;\n    }\n    LabelCandidate.compare = function (first, second) {\n        // First we compare by size\n        if (first.size > second.size)\n            return -1;\n        if (first.size < second.size)\n            return 1;\n        // Then since no two nodes can have the same key, we use it to\n        // deterministically tie-break by key\n        if (first.key > second.key)\n            return 1;\n        // NOTE: this comparator cannot return 0\n        return -1;\n    };\n    return LabelCandidate;\n}());\n/**\n * Class representing a 2D spatial grid divided into constant-size cells.\n */\nvar LabelGrid = /** @class */ (function () {\n    function LabelGrid() {\n        this.width = 0;\n        this.height = 0;\n        this.cellSize = 0;\n        this.columns = 0;\n        this.rows = 0;\n        this.cells = {};\n    }\n    LabelGrid.prototype.resizeAndClear = function (dimensions, cellSize) {\n        this.width = dimensions.width;\n        this.height = dimensions.height;\n        this.cellSize = cellSize;\n        this.columns = Math.ceil(dimensions.width / cellSize);\n        this.rows = Math.ceil(dimensions.height / cellSize);\n        this.cells = {};\n    };\n    LabelGrid.prototype.getIndex = function (pos) {\n        var xIndex = Math.floor(pos.x / this.cellSize);\n        var yIndex = Math.floor(pos.y / this.cellSize);\n        return yIndex * this.columns + xIndex;\n    };\n    LabelGrid.prototype.add = function (key, size, pos) {\n        var candidate = new LabelCandidate(key, size);\n        var index = this.getIndex(pos);\n        var cell = this.cells[index];\n        if (!cell) {\n            cell = [];\n            this.cells[index] = cell;\n        }\n        cell.push(candidate);\n    };\n    LabelGrid.prototype.organize = function () {\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            cell.sort(LabelCandidate.compare);\n        }\n    };\n    LabelGrid.prototype.getLabelsToDisplay = function (ratio, density) {\n        // TODO: work on visible nodes to optimize? ^ -> threshold outside so that memoization works?\n        // TODO: adjust threshold lower, but increase cells a bit?\n        // TODO: hunt for geom issue in disguise\n        // TODO: memoize while ratio does not move. method to force recompute\n        var cellArea = this.cellSize * this.cellSize;\n        var scaledCellArea = cellArea / ratio / ratio;\n        var scaledDensity = (scaledCellArea * density) / cellArea;\n        var labelsToDisplayPerCell = Math.ceil(scaledDensity);\n        var labels = [];\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            for (var i = 0; i < Math.min(labelsToDisplayPerCell, cell.length); i++) {\n                labels.push(cell[i].key);\n            }\n        }\n        return labels;\n    };\n    return LabelGrid;\n}());\nexports.LabelGrid = LabelGrid;\n/**\n * Label heuristic selecting edge labels to display, based on displayed node\n * labels\n *\n * @param  {object} params                 - Parameters:\n * @param  {Set}      displayedNodeLabels  - Currently displayed node labels.\n * @param  {Set}      highlightedNodes     - Highlighted nodes.\n * @param  {Graph}    graph                - The rendered graph.\n * @param  {string}   hoveredNode          - Hovered node (optional)\n * @return {Array}                         - The selected labels.\n */\nfunction edgeLabelsToDisplayFromNodes(params) {\n    var graph = params.graph, hoveredNode = params.hoveredNode, highlightedNodes = params.highlightedNodes, displayedNodeLabels = params.displayedNodeLabels;\n    var worthyEdges = [];\n    // TODO: the code below can be optimized using #.forEach and batching the code per adj\n    // We should display an edge's label if:\n    //   - Any of its extremities is highlighted or hovered\n    //   - Both of its extremities has its label shown\n    graph.forEachEdge(function (edge, _, source, target) {\n        if (source === hoveredNode ||\n            target === hoveredNode ||\n            highlightedNodes.has(source) ||\n            highlightedNodes.has(target) ||\n            (displayedNodeLabels.has(source) && displayedNodeLabels.has(target))) {\n            worthyEdges.push(edge);\n        }\n    });\n    return worthyEdges;\n}\nexports.edgeLabelsToDisplayFromNodes = edgeLabelsToDisplayFromNodes;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rectangleCollidesWithQuad = exports.squareCollidesWithQuad = exports.getCircumscribedAlignedRectangle = exports.isRectangleAligned = void 0;\n/**\n * Sigma.js Quad Tree Class\n * =========================\n *\n * Class implementing the quad tree data structure used to solve hovers and\n * determine which elements are currently in the scope of the camera so that\n * we don't waste time rendering things the user cannot see anyway.\n * @module\n */\n/* eslint no-nested-ternary: 0 */\n/* eslint no-constant-condition: 0 */\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\n/**\n * Notes:\n *\n *   - a square can be represented as topleft + width, saying for the quad blocks,\n *     to reduce overall memory usage (which is already pretty low).\n *   - this implementation of a quadtree is often called a MX-CIF quadtree.\n *   - we could explore spatial hashing (hilbert quadtrees, notably).\n */\n/**\n * Constants.\n *\n * Note that since we are representing a static 4-ary tree, the indices of the\n * quadrants are the following:\n *   - TOP_LEFT:     4i + b\n *   - TOP_RIGHT:    4i + 2b\n *   - BOTTOM_LEFT:  4i + 3b\n *   - BOTTOM_RIGHT: 4i + 4b\n */\nvar BLOCKS = 4;\nvar MAX_LEVEL = 5;\n// Outside block is max block index + 1, i.e.:\n// BLOCKS * ((4 * (4 ** MAX_LEVEL) - 1) / 3)\nvar OUTSIDE_BLOCK = 5460;\nvar X_OFFSET = 0;\nvar Y_OFFSET = 1;\nvar WIDTH_OFFSET = 2;\nvar HEIGHT_OFFSET = 3;\nvar TOP_LEFT = 1;\nvar TOP_RIGHT = 2;\nvar BOTTOM_LEFT = 3;\nvar BOTTOM_RIGHT = 4;\nvar hasWarnedTooMuchOutside = false;\n/**\n * Geometry helpers.\n */\n/**\n * Function returning whether the given rectangle is axis-aligned.\n *\n * @param  {Rectangle} rect\n * @return {boolean}\n */\nfunction isRectangleAligned(rect) {\n    return rect.x1 === rect.x2 || rect.y1 === rect.y2;\n}\nexports.isRectangleAligned = isRectangleAligned;\n/**\n * Function returning the smallest rectangle that contains the given rectangle, and that is aligned with the axis.\n *\n * @param {Rectangle} rect\n * @return {Rectangle}\n */\nfunction getCircumscribedAlignedRectangle(rect) {\n    var width = Math.sqrt(Math.pow(rect.x2 - rect.x1, 2) + Math.pow(rect.y2 - rect.y1, 2));\n    var heightVector = {\n        x: ((rect.y1 - rect.y2) * rect.height) / width,\n        y: ((rect.x2 - rect.x1) * rect.height) / width,\n    };\n    // Compute all corners:\n    var tl = { x: rect.x1, y: rect.y1 };\n    var tr = { x: rect.x2, y: rect.y2 };\n    var bl = {\n        x: rect.x1 + heightVector.x,\n        y: rect.y1 + heightVector.y,\n    };\n    var br = {\n        x: rect.x2 + heightVector.x,\n        y: rect.y2 + heightVector.y,\n    };\n    var xL = Math.min(tl.x, tr.x, bl.x, br.x);\n    var xR = Math.max(tl.x, tr.x, bl.x, br.x);\n    var yT = Math.min(tl.y, tr.y, bl.y, br.y);\n    var yB = Math.max(tl.y, tr.y, bl.y, br.y);\n    return {\n        x1: xL,\n        y1: yT,\n        x2: xR,\n        y2: yT,\n        height: yB - yT,\n    };\n}\nexports.getCircumscribedAlignedRectangle = getCircumscribedAlignedRectangle;\n/**\n *\n * @param x1\n * @param y1\n * @param w\n * @param qx\n * @param qy\n * @param qw\n * @param qh\n */\nfunction squareCollidesWithQuad(x1, y1, w, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + w > qy;\n}\nexports.squareCollidesWithQuad = squareCollidesWithQuad;\nfunction rectangleCollidesWithQuad(x1, y1, w, h, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + h > qy;\n}\nexports.rectangleCollidesWithQuad = rectangleCollidesWithQuad;\nfunction pointIsInQuad(x, y, qx, qy, qw, qh) {\n    var xmp = qx + qw / 2, ymp = qy + qh / 2, top = y < ymp, left = x < xmp;\n    return top ? (left ? TOP_LEFT : TOP_RIGHT) : left ? BOTTOM_LEFT : BOTTOM_RIGHT;\n}\n/**\n * Helper functions that are not bound to the class so an external user\n * cannot mess with them.\n */\nfunction buildQuadrants(maxLevel, data) {\n    // [block, level]\n    var stack = [0, 0];\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var x = data[block + X_OFFSET], y = data[block + Y_OFFSET], width = data[block + WIDTH_OFFSET], height = data[block + HEIGHT_OFFSET], hw = width / 2, hh = height / 2;\n        data[topLeftBlock + X_OFFSET] = x;\n        data[topLeftBlock + Y_OFFSET] = y;\n        data[topLeftBlock + WIDTH_OFFSET] = hw;\n        data[topLeftBlock + HEIGHT_OFFSET] = hh;\n        data[topRightBlock + X_OFFSET] = x + hw;\n        data[topRightBlock + Y_OFFSET] = y;\n        data[topRightBlock + WIDTH_OFFSET] = hw;\n        data[topRightBlock + HEIGHT_OFFSET] = hh;\n        data[bottomLeftBlock + X_OFFSET] = x;\n        data[bottomLeftBlock + Y_OFFSET] = y + hh;\n        data[bottomLeftBlock + WIDTH_OFFSET] = hw;\n        data[bottomLeftBlock + HEIGHT_OFFSET] = hh;\n        data[bottomRightBlock + X_OFFSET] = x + hw;\n        data[bottomRightBlock + Y_OFFSET] = y + hh;\n        data[bottomRightBlock + WIDTH_OFFSET] = hw;\n        data[bottomRightBlock + HEIGHT_OFFSET] = hh;\n        if (level < maxLevel - 1) {\n            stack.push(bottomRightBlock, level + 1);\n            stack.push(bottomLeftBlock, level + 1);\n            stack.push(topRightBlock, level + 1);\n            stack.push(topLeftBlock, level + 1);\n        }\n    }\n}\nfunction insertNode(maxLevel, data, containers, key, x, y, size) {\n    var x1 = x - size, y1 = y - size, w = size * 2;\n    var level = 0, block = 0;\n    while (true) {\n        // If we reached max level\n        if (level >= maxLevel) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = squareCollidesWithQuad(x1, y1, w, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = squareCollidesWithQuad(x1, y1, w, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = squareCollidesWithQuad(x1, y1, w, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = squareCollidesWithQuad(x1, y1, w, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        var collisions = [\n            collidingWithTopLeft,\n            collidingWithTopRight,\n            collidingWithBottomLeft,\n            collidingWithBottomRight,\n        ].reduce(function (acc, current) {\n            if (current)\n                return acc + 1;\n            else\n                return acc;\n        }, 0);\n        // If we have no collision at root level, inject node in the outside block\n        if (collisions === 0 && level === 0) {\n            containers[OUTSIDE_BLOCK].push(key);\n            if (!hasWarnedTooMuchOutside && containers[OUTSIDE_BLOCK].length >= 5) {\n                hasWarnedTooMuchOutside = true;\n                console.warn(\"sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. \" +\n                    \"You might have a problem with the normalization function or the custom bounding box.\");\n            }\n            return;\n        }\n        // If we don't have at least a collision but deeper, there is an issue\n        if (collisions === 0)\n            throw new Error(\"sigma/quadtree.insertNode: no collision (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have 3 collisions, we have a geometry problem obviously\n        if (collisions === 3)\n            throw new Error(\"sigma/quadtree.insertNode: 3 impossible collisions (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have more that one collision, we stop here and store the node\n        // in the relevant containers\n        if (collisions > 1) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        else {\n            level++;\n        }\n        // Else we recurse into the correct quads\n        if (collidingWithTopLeft)\n            block = topLeftBlock;\n        if (collidingWithTopRight)\n            block = topRightBlock;\n        if (collidingWithBottomLeft)\n            block = bottomLeftBlock;\n        if (collidingWithBottomRight)\n            block = bottomRightBlock;\n    }\n}\nfunction getNodesInAxisAlignedRectangleArea(maxLevel, data, containers, x1, y1, w, h) {\n    // [block, level]\n    var stack = [0, 0];\n    var collectedNodes = [];\n    var container;\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        // Collecting nodes\n        container = containers[block];\n        if (container)\n            (0, extend_1.default)(collectedNodes, container);\n        // If we reached max level\n        if (level >= maxLevel)\n            continue;\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = rectangleCollidesWithQuad(x1, y1, w, h, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        if (collidingWithTopLeft)\n            stack.push(topLeftBlock, level + 1);\n        if (collidingWithTopRight)\n            stack.push(topRightBlock, level + 1);\n        if (collidingWithBottomLeft)\n            stack.push(bottomLeftBlock, level + 1);\n        if (collidingWithBottomRight)\n            stack.push(bottomRightBlock, level + 1);\n    }\n    return collectedNodes;\n}\n/**\n * QuadTree class.\n *\n * @constructor\n * @param {object} boundaries - The graph boundaries.\n */\nvar QuadTree = /** @class */ (function () {\n    function QuadTree(params) {\n        var _a;\n        if (params === void 0) { params = {}; }\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        this.cache = null;\n        this.lastRectangle = null;\n        // Allocating the underlying byte array\n        var L = Math.pow(4, MAX_LEVEL);\n        this.data = new Float32Array(BLOCKS * ((4 * L - 1) / 3));\n        if (params.boundaries)\n            this.resize(params.boundaries);\n        else\n            this.resize({\n                x: 0,\n                y: 0,\n                width: 1,\n                height: 1,\n            });\n    }\n    QuadTree.prototype.add = function (key, x, y, size) {\n        insertNode(MAX_LEVEL, this.data, this.containers, key, x, y, size);\n        return this;\n    };\n    QuadTree.prototype.resize = function (boundaries) {\n        this.clear();\n        // Building the quadrants\n        this.data[X_OFFSET] = boundaries.x;\n        this.data[Y_OFFSET] = boundaries.y;\n        this.data[WIDTH_OFFSET] = boundaries.width;\n        this.data[HEIGHT_OFFSET] = boundaries.height;\n        buildQuadrants(MAX_LEVEL, this.data);\n    };\n    QuadTree.prototype.clear = function () {\n        var _a;\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        return this;\n    };\n    QuadTree.prototype.point = function (x, y) {\n        var nodes = this.containers[OUTSIDE_BLOCK].slice();\n        var block = 0, level = 0;\n        do {\n            if (this.containers[block])\n                (0, extend_1.default)(nodes, this.containers[block]);\n            var quad = pointIsInQuad(x, y, this.data[block + X_OFFSET], this.data[block + Y_OFFSET], this.data[block + WIDTH_OFFSET], this.data[block + HEIGHT_OFFSET]);\n            block = 4 * block + quad * BLOCKS;\n            level++;\n        } while (level <= MAX_LEVEL);\n        return nodes;\n    };\n    QuadTree.prototype.rectangle = function (x1, y1, x2, y2, height) {\n        var lr = this.lastRectangle;\n        if (lr && x1 === lr.x1 && x2 === lr.x2 && y1 === lr.y1 && y2 === lr.y2 && height === lr.height) {\n            return this.cache;\n        }\n        this.lastRectangle = {\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            height: height,\n        };\n        // If the rectangle is shifted, we use the smallest aligned rectangle that contains the shifted one:\n        if (!isRectangleAligned(this.lastRectangle))\n            this.lastRectangle = getCircumscribedAlignedRectangle(this.lastRectangle);\n        this.cache = getNodesInAxisAlignedRectangleArea(MAX_LEVEL, this.data, this.containers, x1, y1, Math.abs(x1 - x2) || Math.abs(y1 - y2), height);\n        // Add all the nodes in the outside block, since they might be relevant, and since they should be very few:\n        (0, extend_1.default)(this.cache, this.containers[OUTSIDE_BLOCK]);\n        return this.cache;\n    };\n    return QuadTree;\n}());\nexports.default = QuadTree;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sigma = exports.MouseCaptor = exports.QuadTree = exports.Camera = void 0;\n/**\n * Sigma.js Library Endpoint\n * =========================\n *\n * The library endpoint.\n * @module\n */\nvar sigma_1 = __importDefault(require(\"./sigma\"));\nexports.Sigma = sigma_1.default;\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nexports.Camera = camera_1.default;\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nexports.QuadTree = quadtree_1.default;\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nexports.MouseCaptor = mouse_1.default;\nexports.default = sigma_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawEdgeLabel(context, edgeData, sourceData, targetData, settings) {\n    var size = settings.edgeLabelSize, font = settings.edgeLabelFont, weight = settings.edgeLabelWeight, color = settings.edgeLabelColor.attribute\n        ? edgeData[settings.edgeLabelColor.attribute] || settings.edgeLabelColor.color || \"#000\"\n        : settings.edgeLabelColor.color;\n    var label = edgeData.label;\n    if (!label)\n        return;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Computing positions without considering nodes sizes:\n    var sSize = sourceData.size;\n    var tSize = targetData.size;\n    var sx = sourceData.x;\n    var sy = sourceData.y;\n    var tx = targetData.x;\n    var ty = targetData.y;\n    var cx = (sx + tx) / 2;\n    var cy = (sy + ty) / 2;\n    var dx = tx - sx;\n    var dy = ty - sy;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    if (d < sSize + tSize)\n        return;\n    // Adding nodes sizes:\n    sx += (dx * sSize) / d;\n    sy += (dy * sSize) / d;\n    tx -= (dx * tSize) / d;\n    ty -= (dy * tSize) / d;\n    cx = (sx + tx) / 2;\n    cy = (sy + ty) / 2;\n    dx = tx - sx;\n    dy = ty - sy;\n    d = Math.sqrt(dx * dx + dy * dy);\n    // Handling ellipsis\n    var textLength = context.measureText(label).width;\n    if (textLength > d) {\n        var ellipsis = \"…\";\n        label = label + ellipsis;\n        textLength = context.measureText(label).width;\n        while (textLength > d && label.length > 1) {\n            label = label.slice(0, -2) + ellipsis;\n            textLength = context.measureText(label).width;\n        }\n        if (label.length < 4)\n            return;\n    }\n    var angle;\n    if (dx > 0) {\n        if (dy > 0)\n            angle = Math.acos(dx / d);\n        else\n            angle = Math.asin(dy / d);\n    }\n    else {\n        if (dy > 0)\n            angle = Math.acos(dx / d) + Math.PI;\n        else\n            angle = Math.asin(dx / d) + Math.PI / 2;\n    }\n    context.save();\n    context.translate(cx, cy);\n    context.rotate(angle);\n    context.fillText(label, -textLength / 2, edgeData.size / 2 + size);\n    context.restore();\n}\nexports.default = drawEdgeLabel;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar label_1 = __importDefault(require(\"./label\"));\n/**\n * Draw an hovered node.\n * - if there is no label => display a shadow on the node\n * - if the label box is bigger than node size => display a label box that contains the node with a shadow\n * - else node with shadow and the label box\n */\nfunction drawHover(context, data, settings) {\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Then we draw the label background\n    context.fillStyle = \"#FFF\";\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 8;\n    context.shadowColor = \"#000\";\n    var PADDING = 2;\n    if (typeof data.label === \"string\") {\n        var textWidth = context.measureText(data.label).width, boxWidth = Math.round(textWidth + 5), boxHeight = Math.round(size + 2 * PADDING), radius = Math.max(data.size, size / 2) + PADDING;\n        var angleRadian = Math.asin(boxHeight / 2 / radius);\n        var xDeltaCoord = Math.sqrt(Math.abs(Math.pow(radius, 2) - Math.pow(boxHeight / 2, 2)));\n        context.beginPath();\n        context.moveTo(data.x + xDeltaCoord, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y - boxHeight / 2);\n        context.lineTo(data.x + xDeltaCoord, data.y - boxHeight / 2);\n        context.arc(data.x, data.y, radius, angleRadian, -angleRadian);\n        context.closePath();\n        context.fill();\n    }\n    else {\n        context.beginPath();\n        context.arc(data.x, data.y, data.size + PADDING, 0, Math.PI * 2);\n        context.closePath();\n        context.fill();\n    }\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 0;\n    // And finally we draw the label\n    (0, label_1.default)(context, data, settings);\n}\nexports.default = drawHover;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawLabel(context, data, settings) {\n    if (!data.label)\n        return;\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight, color = settings.labelColor.attribute\n        ? data[settings.labelColor.attribute] || settings.labelColor.color || \"#000\"\n        : settings.labelColor.color;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    context.fillText(data.label, data.x + data.size + 3, data.y + size / 3);\n}\nexports.default = drawLabel;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createEdgeCompoundProgram = exports.AbstractEdgeProgram = void 0;\n/**\n * Sigma.js WebGL Abstract Edge Program\n * =====================================\n *\n * @module\n */\nvar program_1 = require(\"./program\");\n/**\n * Edge Program class.\n *\n * @constructor\n */\nvar AbstractEdgeProgram = /** @class */ (function (_super) {\n    __extends(AbstractEdgeProgram, _super);\n    function AbstractEdgeProgram(gl, vertexShaderSource, fragmentShaderSource, points, attributes) {\n        return _super.call(this, gl, vertexShaderSource, fragmentShaderSource, points, attributes) || this;\n    }\n    return AbstractEdgeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractEdgeProgram = AbstractEdgeProgram;\nfunction createEdgeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function EdgeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (ProgramClass) { return new ProgramClass(gl, renderer); });\n        }\n        EdgeCompoundProgram.prototype.bufferData = function () {\n            this.programs.forEach(function (program) { return program.bufferData(); });\n        };\n        EdgeCompoundProgram.prototype.allocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.allocate(capacity); });\n        };\n        EdgeCompoundProgram.prototype.bind = function () {\n            // nothing todo, it's already done in each program constructor\n        };\n        EdgeCompoundProgram.prototype.computeIndices = function () {\n            this.programs.forEach(function (program) { return program.computeIndices(); });\n        };\n        EdgeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) {\n                program.bind();\n                program.bufferData();\n                program.render(params);\n            });\n        };\n        EdgeCompoundProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n            this.programs.forEach(function (program) { return program.process(sourceData, targetData, data, hidden, offset); });\n        };\n        return EdgeCompoundProgram;\n    }());\n}\nexports.createEdgeCompoundProgram = createEdgeCompoundProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createNodeCompoundProgram = exports.AbstractNodeProgram = void 0;\n/**\n * Sigma.js WebGL Abstract Node Program\n * =====================================\n *\n * @module\n */\nvar program_1 = require(\"./program\");\n/**\n * Node Program class.\n *\n * @constructor\n */\nvar AbstractNodeProgram = /** @class */ (function (_super) {\n    __extends(AbstractNodeProgram, _super);\n    function AbstractNodeProgram(gl, vertexShaderSource, fragmentShaderSource, points, attributes) {\n        var _this = _super.call(this, gl, vertexShaderSource, fragmentShaderSource, points, attributes) || this;\n        // Locations\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.sizeLocation = gl.getAttribLocation(_this.program, \"a_size\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        // Uniform Location\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"AbstractNodeProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var sizeRatioLocation = gl.getUniformLocation(_this.program, \"u_sizeRatio\");\n        if (sizeRatioLocation === null)\n            throw new Error(\"AbstractNodeProgram: error while getting sizeRatioLocation\");\n        _this.sizeRatioLocation = sizeRatioLocation;\n        var pixelRatioLocation = gl.getUniformLocation(_this.program, \"u_pixelRatio\");\n        if (pixelRatioLocation === null)\n            throw new Error(\"AbstractNodeProgram: error while getting pixelRatioLocation\");\n        _this.pixelRatioLocation = pixelRatioLocation;\n        return _this;\n    }\n    AbstractNodeProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.uniform1f(this.sizeRatioLocation, params.sizeRatio);\n        gl.uniform1f(this.pixelRatioLocation, params.pixelRatio);\n        gl.drawArrays(gl.TRIANGLES, 0, this.array.length / this.attributes);\n    };\n    AbstractNodeProgram.prototype.bind = function () {\n        var gl = this.gl;\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.sizeLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, this.attributes * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.sizeLocation, 1, gl.FLOAT, false, this.attributes * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, this.attributes * Float32Array.BYTES_PER_ELEMENT, 12);\n    };\n    return AbstractNodeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractNodeProgram = AbstractNodeProgram;\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nfunction createNodeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function NodeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (ProgramClass) { return new ProgramClass(gl, renderer); });\n        }\n        NodeCompoundProgram.prototype.bufferData = function () {\n            this.programs.forEach(function (program) { return program.bufferData(); });\n        };\n        NodeCompoundProgram.prototype.allocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.allocate(capacity); });\n        };\n        NodeCompoundProgram.prototype.bind = function () {\n            // nothing todo, it's already done in each program constructor\n        };\n        NodeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) {\n                program.bind();\n                program.bufferData();\n                program.render(params);\n            });\n        };\n        NodeCompoundProgram.prototype.process = function (data, hidden, offset) {\n            this.programs.forEach(function (program) { return program.process(data, hidden, offset); });\n        };\n        return NodeCompoundProgram;\n    }());\n}\nexports.createNodeCompoundProgram = createNodeCompoundProgram;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractProgram = void 0;\n/**\n * Sigma.js WebGL Renderer Program\n * ================================\n *\n * Class representing a single WebGL program used by sigma's WebGL renderer.\n * @module\n */\nvar utils_1 = require(\"../../shaders/utils\");\n/**\n * Abstract Program class.\n *\n * @constructor\n */\nvar AbstractProgram = /** @class */ (function () {\n    function AbstractProgram(gl, vertexShaderSource, fragmentShaderSource, points, attributes) {\n        this.array = new Float32Array();\n        this.points = points;\n        this.attributes = attributes;\n        this.gl = gl;\n        this.vertexShaderSource = vertexShaderSource;\n        this.fragmentShaderSource = fragmentShaderSource;\n        var buffer = gl.createBuffer();\n        if (buffer === null)\n            throw new Error(\"AbstractProgram: error while creating the buffer\");\n        this.buffer = buffer;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        this.vertexShader = (0, utils_1.loadVertexShader)(gl, this.vertexShaderSource);\n        this.fragmentShader = (0, utils_1.loadFragmentShader)(gl, this.fragmentShaderSource);\n        this.program = (0, utils_1.loadProgram)(gl, [this.vertexShader, this.fragmentShader]);\n    }\n    AbstractProgram.prototype.bufferData = function () {\n        var gl = this.gl;\n        gl.bufferData(gl.ARRAY_BUFFER, this.array, gl.DYNAMIC_DRAW);\n    };\n    AbstractProgram.prototype.allocate = function (capacity) {\n        this.array = new Float32Array(this.points * this.attributes * capacity);\n    };\n    AbstractProgram.prototype.hasNothingToRender = function () {\n        return this.array.length === 0;\n    };\n    return AbstractProgram;\n}());\nexports.AbstractProgram = AbstractProgram;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Arrow Program\n * ===========================================\n *\n * Compound program rendering edges as an arrow from the source to the target.\n * @module\n */\nvar edge_1 = require(\"./common/edge\");\nvar edge_arrowHead_1 = __importDefault(require(\"./edge.arrowHead\"));\nvar edge_clamped_1 = __importDefault(require(\"./edge.clamped\"));\nvar EdgeArrowProgram = (0, edge_1.createEdgeCompoundProgram)([edge_clamped_1.default, edge_arrowHead_1.default]);\nexports.default = EdgeArrowProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_arrowHead_vert_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.vert.glsl.js\"));\nvar edge_arrowHead_frag_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.frag.glsl.js\"));\nvar edge_1 = require(\"./common/edge\");\nvar POINTS = 3, ATTRIBUTES = 9, STRIDE = POINTS * ATTRIBUTES;\nvar EdgeArrowHeadProgram = /** @class */ (function (_super) {\n    __extends(EdgeArrowHeadProgram, _super);\n    function EdgeArrowHeadProgram(gl) {\n        var _this = _super.call(this, gl, edge_arrowHead_vert_glsl_1.default, edge_arrowHead_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        // Locations\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        _this.normalLocation = gl.getAttribLocation(_this.program, \"a_normal\");\n        _this.radiusLocation = gl.getAttribLocation(_this.program, \"a_radius\");\n        _this.barycentricLocation = gl.getAttribLocation(_this.program, \"a_barycentric\");\n        // Uniform locations\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"EdgeArrowHeadProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var sizeRatioLocation = gl.getUniformLocation(_this.program, \"u_sizeRatio\");\n        if (sizeRatioLocation === null)\n            throw new Error(\"EdgeArrowHeadProgram: error while getting sizeRatioLocation\");\n        _this.sizeRatioLocation = sizeRatioLocation;\n        var correctionRatioLocation = gl.getUniformLocation(_this.program, \"u_correctionRatio\");\n        if (correctionRatioLocation === null)\n            throw new Error(\"EdgeArrowHeadProgram: error while getting correctionRatioLocation\");\n        _this.correctionRatioLocation = correctionRatioLocation;\n        _this.bind();\n        return _this;\n    }\n    EdgeArrowHeadProgram.prototype.bind = function () {\n        var gl = this.gl;\n        // Bindings\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.normalLocation);\n        gl.enableVertexAttribArray(this.radiusLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.enableVertexAttribArray(this.barycentricLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.radiusLocation, 1, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 16);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 20);\n        // TODO: maybe we can optimize here by packing this in a bit mask\n        gl.vertexAttribPointer(this.barycentricLocation, 3, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 24);\n    };\n    EdgeArrowHeadProgram.prototype.computeIndices = function () {\n        // nothing to do\n    };\n    EdgeArrowHeadProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n        if (hidden) {\n            for (var i_1 = offset * STRIDE, l = i_1 + STRIDE; i_1 < l; i_1++)\n                this.array[i_1] = 0;\n            return;\n        }\n        var thickness = data.size || 1, radius = targetData.size || 1, x1 = sourceData.x, y1 = sourceData.y, x2 = targetData.x, y2 = targetData.y, color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1, dy = y2 - y1;\n        var len = dx * dx + dy * dy, n1 = 0, n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var i = POINTS * ATTRIBUTES * offset;\n        var array = this.array;\n        // First point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 1;\n        array[i++] = 0;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 1;\n        array[i++] = 0;\n        // Third point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i] = 1;\n    };\n    EdgeArrowHeadProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        // Binding uniforms\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.uniform1f(this.sizeRatioLocation, params.sizeRatio);\n        gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n        // Drawing:\n        gl.drawArrays(gl.TRIANGLES, 0, this.array.length / ATTRIBUTES);\n    };\n    return EdgeArrowHeadProgram;\n}(edge_1.AbstractEdgeProgram));\nexports.default = EdgeArrowHeadProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar edge_1 = require(\"./common/edge\");\nvar utils_1 = require(\"../../../utils\");\nvar edge_clamped_vert_glsl_1 = __importDefault(require(\"../shaders/edge.clamped.vert.glsl.js\"));\nvar edge_frag_glsl_1 = __importDefault(require(\"../shaders/edge.frag.glsl.js\"));\nvar POINTS = 4, ATTRIBUTES = 6, STRIDE = POINTS * ATTRIBUTES;\nvar EdgeClampedProgram = /** @class */ (function (_super) {\n    __extends(EdgeClampedProgram, _super);\n    function EdgeClampedProgram(gl) {\n        var _this = _super.call(this, gl, edge_clamped_vert_glsl_1.default, edge_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        // Initializing indices buffer\n        var indicesBuffer = gl.createBuffer();\n        if (indicesBuffer === null)\n            throw new Error(\"EdgeClampedProgram: error while getting resolutionLocation\");\n        _this.indicesBuffer = indicesBuffer;\n        // Locations:\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        _this.normalLocation = gl.getAttribLocation(_this.program, \"a_normal\");\n        _this.radiusLocation = gl.getAttribLocation(_this.program, \"a_radius\");\n        // Uniform locations\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"EdgeClampedProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var zoomRatioLocation = gl.getUniformLocation(_this.program, \"u_zoomRatio\");\n        if (zoomRatioLocation === null)\n            throw new Error(\"EdgeClampedProgram: error while getting zoomRatioLocation\");\n        _this.zoomRatioLocation = zoomRatioLocation;\n        var sizeRatioLocation = gl.getUniformLocation(_this.program, \"u_sizeRatio\");\n        if (sizeRatioLocation === null)\n            throw new Error(\"EdgeClampedProgram: error while getting viewportRatioLocation\");\n        _this.sizeRatioLocation = sizeRatioLocation;\n        var correctionRatioLocation = gl.getUniformLocation(_this.program, \"u_correctionRatio\");\n        if (correctionRatioLocation === null)\n            throw new Error(\"EdgeClampedProgram: error while getting correctionRatioLocation\");\n        _this.correctionRatioLocation = correctionRatioLocation;\n        // Enabling the OES_element_index_uint extension\n        // NOTE: on older GPUs, this means that really large graphs won't\n        // have all their edges rendered. But it seems that the\n        // `OES_element_index_uint` is quite everywhere so we'll handle\n        // the potential issue if it really arises.\n        // NOTE: when using webgl2, the extension is enabled by default\n        _this.canUse32BitsIndices = (0, utils_1.canUse32BitsIndices)(gl);\n        _this.IndicesArray = _this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n        _this.indicesArray = new _this.IndicesArray();\n        _this.indicesType = _this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n        _this.bind();\n        return _this;\n    }\n    EdgeClampedProgram.prototype.bind = function () {\n        var gl = this.gl;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n        // Bindings\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.normalLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.enableVertexAttribArray(this.radiusLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 16);\n        gl.vertexAttribPointer(this.radiusLocation, 1, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 20);\n    };\n    EdgeClampedProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n        if (hidden) {\n            for (var i_1 = offset * STRIDE, l = i_1 + STRIDE; i_1 < l; i_1++)\n                this.array[i_1] = 0;\n            return;\n        }\n        var thickness = data.size || 1, x1 = sourceData.x, y1 = sourceData.y, x2 = targetData.x, y2 = targetData.y, radius = targetData.size || 1, color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1, dy = y2 - y1;\n        var len = dx * dx + dy * dy, n1 = 0, n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var i = POINTS * ATTRIBUTES * offset;\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = radius;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i] = -radius;\n    };\n    EdgeClampedProgram.prototype.computeIndices = function () {\n        var l = this.array.length / ATTRIBUTES;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeClampedProgram.prototype.bufferData = function () {\n        _super.prototype.bufferData.call(this);\n        // Indices data\n        var gl = this.gl;\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n    };\n    EdgeClampedProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        // Binding uniforms\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.uniform1f(this.zoomRatioLocation, params.zoomRatio);\n        gl.uniform1f(this.sizeRatioLocation, params.sizeRatio);\n        gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n        // Drawing:\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeClampedProgram;\n}(edge_1.AbstractEdgeProgram));\nexports.default = EdgeClampedProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Program\n * =====================================\n *\n * Program rendering edges as thick lines using four points translated\n * orthogonally from the source & target's centers by half thickness.\n *\n * Rendering two triangles by using only four points is made possible through\n * the use of indices.\n *\n * This method should be faster than the 6 points / 2 triangles approach and\n * should handle thickness better than with gl.LINES.\n *\n * This version of the shader balances geometry computation evenly between\n * the CPU & GPU (normals are computed on the CPU side).\n * @module\n */\nvar utils_1 = require(\"../../../utils\");\nvar edge_vert_glsl_1 = __importDefault(require(\"../shaders/edge.vert.glsl.js\"));\nvar edge_frag_glsl_1 = __importDefault(require(\"../shaders/edge.frag.glsl.js\"));\nvar edge_1 = require(\"./common/edge\");\nvar POINTS = 4, ATTRIBUTES = 5, STRIDE = POINTS * ATTRIBUTES;\nvar EdgeProgram = /** @class */ (function (_super) {\n    __extends(EdgeProgram, _super);\n    function EdgeProgram(gl) {\n        var _this = _super.call(this, gl, edge_vert_glsl_1.default, edge_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        // Initializing indices buffer\n        var indicesBuffer = gl.createBuffer();\n        if (indicesBuffer === null)\n            throw new Error(\"EdgeProgram: error while creating indicesBuffer\");\n        _this.indicesBuffer = indicesBuffer;\n        // Locations\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        _this.normalLocation = gl.getAttribLocation(_this.program, \"a_normal\");\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"EdgeProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var zoomRatioLocation = gl.getUniformLocation(_this.program, \"u_zoomRatio\");\n        if (zoomRatioLocation === null)\n            throw new Error(\"EdgeProgram: error while getting zoomRatioLocation\");\n        _this.zoomRatioLocation = zoomRatioLocation;\n        var sizeRatioLocation = gl.getUniformLocation(_this.program, \"u_sizeRatio\");\n        if (sizeRatioLocation === null)\n            throw new Error(\"EdgeProgram: error while getting sizeRatioLocation\");\n        _this.sizeRatioLocation = sizeRatioLocation;\n        var correctionRatioLocation = gl.getUniformLocation(_this.program, \"u_correctionRatio\");\n        if (correctionRatioLocation === null)\n            throw new Error(\"EdgeProgram: error while getting correctionRatioLocation\");\n        _this.correctionRatioLocation = correctionRatioLocation;\n        // Enabling the OES_element_index_uint extension\n        // NOTE: on older GPUs, this means that really large graphs won't\n        // have all their edges rendered. But it seems that the\n        // `OES_element_index_uint` is quite everywhere so we'll handle\n        // the potential issue if it really arises.\n        // NOTE: when using webgl2, the extension is enabled by default\n        _this.canUse32BitsIndices = (0, utils_1.canUse32BitsIndices)(gl);\n        _this.IndicesArray = _this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n        _this.indicesArray = new _this.IndicesArray();\n        _this.indicesType = _this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n        _this.bind();\n        return _this;\n    }\n    EdgeProgram.prototype.bind = function () {\n        var gl = this.gl;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n        // Bindings\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.normalLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 16);\n    };\n    EdgeProgram.prototype.computeIndices = function () {\n        var l = this.array.length / ATTRIBUTES;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeProgram.prototype.bufferData = function () {\n        _super.prototype.bufferData.call(this);\n        // Indices data\n        var gl = this.gl;\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n    };\n    EdgeProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n        if (hidden) {\n            for (var i_1 = offset * STRIDE, l = i_1 + STRIDE; i_1 < l; i_1++)\n                this.array[i_1] = 0;\n            return;\n        }\n        var thickness = data.size || 1, x1 = sourceData.x, y1 = sourceData.y, x2 = targetData.x, y2 = targetData.y, color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1, dy = y2 - y1;\n        var len = dx * dx + dy * dy, n1 = 0, n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var i = POINTS * ATTRIBUTES * offset;\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i] = color;\n    };\n    EdgeProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.uniform1f(this.zoomRatioLocation, params.zoomRatio);\n        gl.uniform1f(this.sizeRatioLocation, params.sizeRatio);\n        gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n        // Drawing:\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeProgram;\n}(edge_1.AbstractEdgeProgram));\nexports.default = EdgeProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_fast_vert_glsl_1 = __importDefault(require(\"../shaders/node.fast.vert.glsl.js\"));\nvar node_fast_frag_glsl_1 = __importDefault(require(\"../shaders/node.fast.frag.glsl.js\"));\nvar node_1 = require(\"./common/node\");\nvar POINTS = 1, ATTRIBUTES = 4;\nvar NodeFastProgram = /** @class */ (function (_super) {\n    __extends(NodeFastProgram, _super);\n    function NodeFastProgram(gl) {\n        var _this = _super.call(this, gl, node_fast_vert_glsl_1.default, node_fast_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        _this.bind();\n        return _this;\n    }\n    NodeFastProgram.prototype.process = function (data, hidden, offset) {\n        var array = this.array;\n        var i = offset * POINTS * ATTRIBUTES;\n        if (hidden) {\n            array[i++] = 0;\n            array[i++] = 0;\n            array[i++] = 0;\n            array[i++] = 0;\n            return;\n        }\n        var color = (0, utils_1.floatColor)(data.color);\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i] = color;\n    };\n    NodeFastProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        gl.uniform1f(this.sizeRatioLocation, params.sizeRatio);\n        gl.uniform1f(this.pixelRatioLocation, params.pixelRatio);\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.drawArrays(gl.POINTS, 0, this.array.length / ATTRIBUTES);\n    };\n    return NodeFastProgram;\n}(node_1.AbstractNodeProgram));\nexports.default = NodeFastProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_image_vert_glsl_1 = __importDefault(require(\"../shaders/node.image.vert.glsl.js\"));\nvar node_image_frag_glsl_1 = __importDefault(require(\"../shaders/node.image.frag.glsl.js\"));\nvar node_1 = require(\"./common/node\");\nvar POINTS = 1, ATTRIBUTES = 8, \n// maximum size of single texture in atlas\nMAX_TEXTURE_SIZE = 192, \n// maximum width of atlas texture (limited by browser)\n// low setting of 3072 works on phones & tablets\nMAX_CANVAS_WIDTH = 3072;\n// This class only exists for the return typing of `getNodeImageProgram`:\nvar AbstractNodeImageProgram = /** @class */ (function (_super) {\n    __extends(AbstractNodeImageProgram, _super);\n    /* eslint-disable @typescript-eslint/no-empty-function, @typescript-eslint/no-unused-vars */\n    function AbstractNodeImageProgram(gl, renderer) {\n        return _super.call(this, gl, node_image_vert_glsl_1.default, node_image_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n    }\n    AbstractNodeImageProgram.prototype.bind = function () { };\n    AbstractNodeImageProgram.prototype.process = function (data, hidden, offset) { };\n    AbstractNodeImageProgram.prototype.render = function (params) { };\n    AbstractNodeImageProgram.prototype.rebindTexture = function () { };\n    return AbstractNodeImageProgram;\n}(node_1.AbstractNodeProgram));\n/**\n * To share the texture between the program instances of the graph and the\n * hovered nodes (to prevent some flickering, mostly), this program must be\n * \"built\" for each sigma instance:\n */\nfunction getNodeImageProgram() {\n    /**\n     * These attributes are shared between all instances of this exact class,\n     * returned by this call to getNodeProgramImage:\n     */\n    var rebindTextureFns = [];\n    var images = {};\n    var textureImage;\n    var hasReceivedImages = false;\n    var pendingImagesFrameID = undefined;\n    // next write position in texture\n    var writePositionX = 0;\n    var writePositionY = 0;\n    // height of current row\n    var writeRowHeight = 0;\n    /**\n     * Helper to load an image:\n     */\n    function loadImage(imageSource) {\n        if (images[imageSource])\n            return;\n        var image = new Image();\n        image.addEventListener(\"load\", function () {\n            images[imageSource] = {\n                status: \"pending\",\n                image: image,\n            };\n            if (typeof pendingImagesFrameID !== \"number\") {\n                pendingImagesFrameID = requestAnimationFrame(function () { return finalizePendingImages(); });\n            }\n        });\n        image.addEventListener(\"error\", function () {\n            images[imageSource] = { status: \"error\" };\n        });\n        images[imageSource] = { status: \"loading\" };\n        // Load image:\n        image.setAttribute(\"crossOrigin\", \"\");\n        image.src = imageSource;\n    }\n    /**\n     * Helper that takes all pending images and adds them into the texture:\n     */\n    function finalizePendingImages() {\n        pendingImagesFrameID = undefined;\n        var pendingImages = [];\n        // List all pending images:\n        for (var id in images) {\n            var state = images[id];\n            if (state.status === \"pending\") {\n                pendingImages.push({\n                    id: id,\n                    image: state.image,\n                    size: Math.min(state.image.width, state.image.height) || 1,\n                });\n            }\n        }\n        // Add images to texture:\n        var canvas = document.createElement(\"canvas\");\n        var ctx = canvas.getContext(\"2d\", { willReadFrequently: true });\n        // limit canvas size to avoid browser and platform limits\n        var totalWidth = hasReceivedImages ? textureImage.width : 0;\n        var totalHeight = hasReceivedImages ? textureImage.height : 0;\n        // initialize image drawing offsets with current write position\n        var xOffset = writePositionX;\n        var yOffset = writePositionY;\n        /**\n         * Draws a (full or partial) row of images into the atlas texture\n         * @param pendingImages\n         */\n        var drawRow = function (pendingImages) {\n            // update canvas size before drawing\n            if (canvas.width !== totalWidth || canvas.height !== totalHeight) {\n                canvas.width = Math.min(MAX_CANVAS_WIDTH, totalWidth);\n                canvas.height = totalHeight;\n                // draw previous texture into resized canvas\n                if (hasReceivedImages) {\n                    ctx.putImageData(textureImage, 0, 0);\n                }\n            }\n            pendingImages.forEach(function (_a) {\n                var id = _a.id, image = _a.image, size = _a.size;\n                var imageSizeInTexture = Math.min(MAX_TEXTURE_SIZE, size);\n                // Crop image, to only keep the biggest square, centered:\n                var dx = 0, dy = 0;\n                if ((image.width || 0) > (image.height || 0)) {\n                    dx = (image.width - image.height) / 2;\n                }\n                else {\n                    dy = (image.height - image.width) / 2;\n                }\n                ctx.drawImage(image, dx, dy, size, size, xOffset, yOffset, imageSizeInTexture, imageSizeInTexture);\n                // Update image state:\n                images[id] = {\n                    status: \"ready\",\n                    x: xOffset,\n                    y: yOffset,\n                    width: imageSizeInTexture,\n                    height: imageSizeInTexture,\n                };\n                xOffset += imageSizeInTexture;\n            });\n            hasReceivedImages = true;\n            textureImage = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        };\n        var rowImages = [];\n        pendingImages.forEach(function (image) {\n            var size = image.size;\n            var imageSizeInTexture = Math.min(size, MAX_TEXTURE_SIZE);\n            if (writePositionX + imageSizeInTexture > MAX_CANVAS_WIDTH) {\n                // existing row is full: flush row and continue on next line\n                if (rowImages.length > 0) {\n                    totalWidth = Math.max(writePositionX, totalWidth);\n                    totalHeight = Math.max(writePositionY + writeRowHeight, totalHeight);\n                    drawRow(rowImages);\n                    rowImages = [];\n                    writeRowHeight = 0;\n                }\n                writePositionX = 0;\n                writePositionY = totalHeight;\n                xOffset = 0;\n                yOffset = totalHeight;\n            }\n            // add image to row\n            rowImages.push(image);\n            // advance write position and update maximum row height\n            writePositionX += imageSizeInTexture;\n            writeRowHeight = Math.max(writeRowHeight, imageSizeInTexture);\n        });\n        // flush pending images in row - keep write position (and drawing cursor)\n        totalWidth = Math.max(writePositionX, totalWidth);\n        totalHeight = Math.max(writePositionY + writeRowHeight, totalHeight);\n        drawRow(rowImages);\n        rowImages = [];\n        rebindTextureFns.forEach(function (fn) { return fn(); });\n    }\n    return /** @class */ (function (_super) {\n        __extends(NodeImageProgram, _super);\n        function NodeImageProgram(gl, renderer) {\n            var _this = _super.call(this, gl, node_image_vert_glsl_1.default, node_image_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n            rebindTextureFns.push(function () {\n                if (_this && _this.rebindTexture)\n                    _this.rebindTexture();\n                if (renderer && renderer.refresh)\n                    renderer.refresh();\n            });\n            textureImage = new ImageData(1, 1);\n            // Attribute Location\n            _this.textureLocation = gl.getAttribLocation(_this.program, \"a_texture\");\n            // Uniform Location\n            var atlasLocation = gl.getUniformLocation(_this.program, \"u_atlas\");\n            if (atlasLocation === null)\n                throw new Error(\"NodeProgramImage: error while getting atlasLocation\");\n            _this.atlasLocation = atlasLocation;\n            // Initialize WebGL texture:\n            _this.texture = gl.createTexture();\n            gl.bindTexture(gl.TEXTURE_2D, _this.texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([0, 0, 0, 0]));\n            _this.bind();\n            return _this;\n        }\n        NodeImageProgram.prototype.bind = function () {\n            _super.prototype.bind.call(this);\n            var gl = this.gl;\n            gl.enableVertexAttribArray(this.textureLocation);\n            gl.vertexAttribPointer(this.textureLocation, 4, gl.FLOAT, false, this.attributes * Float32Array.BYTES_PER_ELEMENT, 16);\n        };\n        NodeImageProgram.prototype.process = function (data, hidden, offset) {\n            var array = this.array;\n            var i = offset * POINTS * ATTRIBUTES;\n            var imageSource = data.image;\n            var imageState = imageSource && images[imageSource];\n            if (typeof imageSource === \"string\" && !imageState)\n                loadImage(imageSource);\n            if (hidden) {\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                // Texture:\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                return;\n            }\n            array[i++] = data.x;\n            array[i++] = data.y;\n            array[i++] = data.size;\n            array[i++] = (0, utils_1.floatColor)(data.color);\n            // Reference texture:\n            if (imageState && imageState.status === \"ready\") {\n                var width = textureImage.width, height = textureImage.height;\n                array[i++] = imageState.x / width;\n                array[i++] = imageState.y / height;\n                array[i++] = imageState.width / width;\n                array[i++] = imageState.height / height;\n            }\n            else {\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n            }\n        };\n        NodeImageProgram.prototype.render = function (params) {\n            if (this.hasNothingToRender())\n                return;\n            this.latestRenderParams = params;\n            var gl = this.gl;\n            var program = this.program;\n            gl.useProgram(program);\n            gl.uniform1f(this.sizeRatioLocation, params.sizeRatio);\n            gl.uniform1f(this.pixelRatioLocation, params.pixelRatio);\n            gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n            gl.uniform1i(this.atlasLocation, 0);\n            gl.drawArrays(gl.POINTS, 0, this.array.length / ATTRIBUTES);\n        };\n        NodeImageProgram.prototype.rebindTexture = function () {\n            var gl = this.gl;\n            gl.bindTexture(gl.TEXTURE_2D, this.texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureImage);\n            gl.generateMipmap(gl.TEXTURE_2D);\n            if (this.latestRenderParams) {\n                this.bind();\n                this.bufferData();\n                this.render(this.latestRenderParams);\n            }\n        };\n        return NodeImageProgram;\n    }(node_1.AbstractNodeProgram));\n}\nexports.default = getNodeImageProgram;\n","(()=>{\"use strict\";var e={d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(a,n)=>{for(var t in n)e.o(n,t)&&!e.o(a,t)&&Object.defineProperty(a,t,{enumerable:!0,get:n[t]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},a={};e.r(a),e.d(a,{default:()=>n});const n=\"attribute vec2 a_position;\\nattribute vec2 a_normal;\\nattribute float a_radius;\\nattribute vec4 a_color;\\nattribute vec3 a_barycentric;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadWidthLengthRatio = 0.66;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl and\\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\\n  // happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n  float webGLArrowHeadHalfWidth = webGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\\n\\n  float da = a_barycentric.x;\\n  float db = a_barycentric.y;\\n  float dc = a_barycentric.z;\\n\\n  vec2 delta = vec2(\\n      da * (webGLNodeRadius * unitNormal.y)\\n    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadHalfWidth * unitNormal.x)\\n    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadHalfWidth * unitNormal.x),\\n\\n      da * (-webGLNodeRadius * unitNormal.x)\\n    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadHalfWidth * unitNormal.y)\\n    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadHalfWidth * unitNormal.y)\\n  );\\n\\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\\n\\n  gl_Position = vec4(position, 0, 1);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=a})();","(()=>{\"use strict\";var e={d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>n});const n=\"attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\nattribute float a_radius;\\n\\nuniform mat3 u_matrix;\\nuniform float u_zoomRatio;\\nuniform float u_sizeRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl. Please read it to\\n  // get better comments on what's happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n\\n  // Here, we move the point to leave space for the arrow head:\\n  float direction = sign(a_radius);\\n  float webGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n\\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);\\n\\n  v_thickness = webGLThickness / u_zoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>t});const t=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float feather = 0.001;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_normal) * v_thickness;\\n\\n  float t = smoothstep(\\n    v_thickness - feather,\\n    v_thickness,\\n    dist\\n  );\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o='attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sizeRatio;\\nuniform float u_zoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // We require edges to be at least `minThickness` pixels thick *on screen*\\n  // (so we need to compensate the size ratio):\\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\\n\\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\\n  // referential (in a ([0, 1], [0, 1]) space), using our \"magic\" correction\\n  // ratio:\\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness, 1)).xy, 0, 1);\\n\\n  // For the fragment shader though, we need a thickness that takes the \"magic\"\\n  // correction ratio into account (as in webGLThickness), but so that the\\n  // antialiasing effect does not depend on the zoom level. So here\\'s yet\\n  // another thickness version:\\n  v_thickness = webGLThickness / u_zoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n';module.exports=n})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = radius - length(m);\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(transparent, v_color, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var o={d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},t={};o.r(t),o.d(t,{default:()=>e});const e=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=t})();","(()=>{\"use strict\";var e={d:(o,r)=>{for(var n in r)e.o(r,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:r[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nuniform sampler2D u_atlas;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec4 color;\\n\\n  if (v_texture.w > 0.0) {\\n    vec4 texel = texture2D(u_atlas, v_texture.xy + gl_PointCoord * v_texture.zw, -1.0);\\n    color = vec4(mix(v_color, texel, texel.a).rgb, max(texel.a, v_color.a));\\n  } else {\\n    color = v_color;\\n  }\\n\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = length(m);\\n\\n  if (dist < radius - v_border) {\\n    gl_FragColor = color;\\n  } else if (dist < radius) {\\n    gl_FragColor = mix(transparent, color, (radius - dist) / v_border);\\n  } else {\\n    gl_FragColor = transparent;\\n  }\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})}},e={};t.r(e),t.d(e,{default:()=>o});const o=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\nattribute vec4 a_texture;\\n\\nuniform float u_sizeRatio;\\nuniform float u_pixelRatio;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\\n\\n  v_border = (0.5 / a_size) * u_sizeRatio;\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  // Pass the texture coordinates:\\n  v_texture = a_texture;\\n}\\n\";module.exports=e})();","\"use strict\";\n/**\n * Sigma.js Shader Utils\n * ======================\n *\n * Code used to load sigma's shaders.\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadProgram = exports.loadFragmentShader = exports.loadVertexShader = void 0;\n/**\n * Function used to load a shader.\n */\nfunction loadShader(type, gl, source) {\n    var glType = type === \"VERTEX\" ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;\n    // Creating the shader\n    var shader = gl.createShader(glType);\n    if (shader === null) {\n        throw new Error(\"loadShader: error while creating the shader\");\n    }\n    // Loading source\n    gl.shaderSource(shader, source);\n    // Compiling the shader\n    gl.compileShader(shader);\n    // Retrieving compilation status\n    var successfullyCompiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    // Throwing if something went awry\n    if (!successfullyCompiled) {\n        var infoLog = gl.getShaderInfoLog(shader);\n        gl.deleteShader(shader);\n        throw new Error(\"loadShader: error while compiling the shader:\\n\".concat(infoLog, \"\\n\").concat(source));\n    }\n    return shader;\n}\nfunction loadVertexShader(gl, source) {\n    return loadShader(\"VERTEX\", gl, source);\n}\nexports.loadVertexShader = loadVertexShader;\nfunction loadFragmentShader(gl, source) {\n    return loadShader(\"FRAGMENT\", gl, source);\n}\nexports.loadFragmentShader = loadFragmentShader;\n/**\n * Function used to load a program.\n */\nfunction loadProgram(gl, shaders) {\n    var program = gl.createProgram();\n    if (program === null) {\n        throw new Error(\"loadProgram: error while creating the program.\");\n    }\n    var i, l;\n    // Attaching the shaders\n    for (i = 0, l = shaders.length; i < l; i++)\n        gl.attachShader(program, shaders[i]);\n    gl.linkProgram(program);\n    // Checking status\n    var successfullyLinked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!successfullyLinked) {\n        gl.deleteProgram(program);\n        throw new Error(\"loadProgram: error while linking the program.\");\n    }\n    return program;\n}\nexports.loadProgram = loadProgram;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSettings = exports.validateSettings = exports.DEFAULT_EDGE_PROGRAM_CLASSES = exports.DEFAULT_NODE_PROGRAM_CLASSES = exports.DEFAULT_SETTINGS = void 0;\nvar utils_1 = require(\"./utils\");\nvar label_1 = __importDefault(require(\"./rendering/canvas/label\"));\nvar hover_1 = __importDefault(require(\"./rendering/canvas/hover\"));\nvar edge_label_1 = __importDefault(require(\"./rendering/canvas/edge-label\"));\nvar node_fast_1 = __importDefault(require(\"./rendering/webgl/programs/node.fast\"));\nvar edge_1 = __importDefault(require(\"./rendering/webgl/programs/edge\"));\nvar edge_arrow_1 = __importDefault(require(\"./rendering/webgl/programs/edge.arrow\"));\nexports.DEFAULT_SETTINGS = {\n    // Performance\n    hideEdgesOnMove: false,\n    hideLabelsOnMove: false,\n    renderLabels: true,\n    renderEdgeLabels: false,\n    enableEdgeClickEvents: false,\n    enableEdgeWheelEvents: false,\n    enableEdgeHoverEvents: false,\n    // Component rendering\n    defaultNodeColor: \"#999\",\n    defaultNodeType: \"circle\",\n    defaultEdgeColor: \"#ccc\",\n    defaultEdgeType: \"line\",\n    labelFont: \"Arial\",\n    labelSize: 14,\n    labelWeight: \"normal\",\n    labelColor: { color: \"#000\" },\n    edgeLabelFont: \"Arial\",\n    edgeLabelSize: 14,\n    edgeLabelWeight: \"normal\",\n    edgeLabelColor: { attribute: \"color\" },\n    stagePadding: 30,\n    zoomToSizeRatioFunction: Math.sqrt,\n    // Labels\n    labelDensity: 1,\n    labelGridCellSize: 100,\n    labelRenderedSizeThreshold: 6,\n    // Reducers\n    nodeReducer: null,\n    edgeReducer: null,\n    // Features\n    zIndex: false,\n    minCameraRatio: null,\n    maxCameraRatio: null,\n    // Renderers\n    labelRenderer: label_1.default,\n    hoverRenderer: hover_1.default,\n    edgeLabelRenderer: edge_label_1.default,\n    // Lifecycle\n    allowInvalidContainer: false,\n    // Program classes\n    nodeProgramClasses: {},\n    nodeHoverProgramClasses: {},\n    edgeProgramClasses: {},\n};\nexports.DEFAULT_NODE_PROGRAM_CLASSES = {\n    circle: node_fast_1.default,\n};\nexports.DEFAULT_EDGE_PROGRAM_CLASSES = {\n    arrow: edge_arrow_1.default,\n    line: edge_1.default,\n};\nfunction validateSettings(settings) {\n    if (typeof settings.labelDensity !== \"number\" || settings.labelDensity < 0) {\n        throw new Error(\"Settings: invalid `labelDensity`. Expecting a positive number.\");\n    }\n    var minCameraRatio = settings.minCameraRatio, maxCameraRatio = settings.maxCameraRatio;\n    if (typeof minCameraRatio === \"number\" && typeof maxCameraRatio === \"number\" && maxCameraRatio < minCameraRatio) {\n        throw new Error(\"Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.\");\n    }\n}\nexports.validateSettings = validateSettings;\nfunction resolveSettings(settings) {\n    var resolvedSettings = (0, utils_1.assign)({}, exports.DEFAULT_SETTINGS, settings);\n    resolvedSettings.nodeProgramClasses = (0, utils_1.assign)({}, exports.DEFAULT_NODE_PROGRAM_CLASSES, resolvedSettings.nodeProgramClasses);\n    resolvedSettings.edgeProgramClasses = (0, utils_1.assign)({}, exports.DEFAULT_EDGE_PROGRAM_CLASSES, resolvedSettings.edgeProgramClasses);\n    return resolvedSettings;\n}\nexports.resolveSettings = resolveSettings;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nvar types_1 = require(\"./types\");\nvar utils_1 = require(\"./utils\");\nvar labels_1 = require(\"./core/labels\");\nvar settings_1 = require(\"./settings\");\nvar touch_1 = __importDefault(require(\"./core/captors/touch\"));\nvar matrices_1 = require(\"./utils/matrices\");\nvar edge_collisions_1 = require(\"./utils/edge-collisions\");\n/**\n * Constants.\n */\nvar X_LABEL_MARGIN = 150;\nvar Y_LABEL_MARGIN = 50;\n/**\n * Important functions.\n */\nfunction applyNodeDefaults(settings, key, data) {\n    if (!data.hasOwnProperty(\"x\") || !data.hasOwnProperty(\"y\"))\n        throw new Error(\"Sigma: could not find a valid position (x, y) for node \\\"\".concat(key, \"\\\". All your nodes must have a number \\\"x\\\" and \\\"y\\\". Maybe your forgot to apply a layout or your \\\"nodeReducer\\\" is not returning the correct data?\"));\n    if (!data.color)\n        data.color = settings.defaultNodeColor;\n    if (!data.label && data.label !== \"\")\n        data.label = null;\n    if (data.label !== undefined && data.label !== null)\n        data.label = \"\" + data.label;\n    else\n        data.label = null;\n    if (!data.size)\n        data.size = 2;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"highlighted\"))\n        data.highlighted = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultNodeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\nfunction applyEdgeDefaults(settings, key, data) {\n    if (!data.color)\n        data.color = settings.defaultEdgeColor;\n    if (!data.label)\n        data.label = \"\";\n    if (!data.size)\n        data.size = 0.5;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultEdgeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\n/**\n * Main class.\n *\n * @constructor\n * @param {Graph}       graph     - Graph to render.\n * @param {HTMLElement} container - DOM container in which to render.\n * @param {object}      settings  - Optional settings.\n */\nvar Sigma = /** @class */ (function (_super) {\n    __extends(Sigma, _super);\n    function Sigma(graph, container, settings) {\n        if (settings === void 0) { settings = {}; }\n        var _this = _super.call(this) || this;\n        _this.elements = {};\n        _this.canvasContexts = {};\n        _this.webGLContexts = {};\n        _this.activeListeners = {};\n        _this.quadtree = new quadtree_1.default();\n        _this.labelGrid = new labels_1.LabelGrid();\n        _this.nodeDataCache = {};\n        _this.edgeDataCache = {};\n        _this.nodesWithForcedLabels = [];\n        _this.edgesWithForcedLabels = [];\n        _this.nodeExtent = { x: [0, 1], y: [0, 1] };\n        _this.matrix = (0, matrices_1.identity)();\n        _this.invMatrix = (0, matrices_1.identity)();\n        _this.correctionRatio = 1;\n        _this.customBBox = null;\n        _this.normalizationFunction = (0, utils_1.createNormalizationFunction)({\n            x: [0, 1],\n            y: [0, 1],\n        });\n        // Cache:\n        _this.cameraSizeRatio = 1;\n        // Starting dimensions and pixel ratio\n        _this.width = 0;\n        _this.height = 0;\n        _this.pixelRatio = (0, utils_1.getPixelRatio)();\n        // State\n        _this.displayedLabels = new Set();\n        _this.highlightedNodes = new Set();\n        _this.hoveredNode = null;\n        _this.hoveredEdge = null;\n        _this.renderFrame = null;\n        _this.renderHighlightedNodesFrame = null;\n        _this.needToProcess = false;\n        _this.needToSoftProcess = false;\n        _this.checkEdgesEventsFrame = null;\n        // Programs\n        _this.nodePrograms = {};\n        _this.nodeHoverPrograms = {};\n        _this.edgePrograms = {};\n        // Resolving settings\n        _this.settings = (0, settings_1.resolveSettings)(settings);\n        // Validating\n        (0, settings_1.validateSettings)(_this.settings);\n        (0, utils_1.validateGraph)(graph);\n        if (!(container instanceof HTMLElement))\n            throw new Error(\"Sigma: container should be an html element.\");\n        // Properties\n        _this.graph = graph;\n        _this.container = container;\n        // Initializing contexts\n        _this.createWebGLContext(\"edges\", { preserveDrawingBuffer: true });\n        _this.createCanvasContext(\"edgeLabels\");\n        _this.createWebGLContext(\"nodes\");\n        _this.createCanvasContext(\"labels\");\n        _this.createCanvasContext(\"hovers\");\n        _this.createWebGLContext(\"hoverNodes\");\n        _this.createCanvasContext(\"mouse\");\n        // Blending\n        for (var key in _this.webGLContexts) {\n            var gl = _this.webGLContexts[key];\n            gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n            gl.enable(gl.BLEND);\n        }\n        // Loading programs\n        for (var type in _this.settings.nodeProgramClasses) {\n            var NodeProgramClass = _this.settings.nodeProgramClasses[type];\n            _this.nodePrograms[type] = new NodeProgramClass(_this.webGLContexts.nodes, _this);\n            var NodeHoverProgram = NodeProgramClass;\n            if (type in _this.settings.nodeHoverProgramClasses) {\n                NodeHoverProgram = _this.settings.nodeHoverProgramClasses[type];\n            }\n            _this.nodeHoverPrograms[type] = new NodeHoverProgram(_this.webGLContexts.hoverNodes, _this);\n        }\n        for (var type in _this.settings.edgeProgramClasses) {\n            var EdgeProgramClass = _this.settings.edgeProgramClasses[type];\n            _this.edgePrograms[type] = new EdgeProgramClass(_this.webGLContexts.edges, _this);\n        }\n        // Initial resize\n        _this.resize();\n        // Initializing the camera\n        _this.camera = new camera_1.default();\n        // Binding camera events\n        _this.bindCameraHandlers();\n        // Initializing captors\n        _this.mouseCaptor = new mouse_1.default(_this.elements.mouse, _this);\n        _this.touchCaptor = new touch_1.default(_this.elements.mouse, _this);\n        // Binding event handlers\n        _this.bindEventHandlers();\n        // Binding graph handlers\n        _this.bindGraphHandlers();\n        // Trigger eventual settings-related things\n        _this.handleSettingsUpdate();\n        // Processing data for the first time & render\n        _this.process();\n        _this.render();\n        return _this;\n    }\n    /**---------------------------------------------------------------------------\n     * Internal methods.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Internal function used to create a canvas element.\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvas = function (id) {\n        var canvas = (0, utils_1.createElement)(\"canvas\", {\n            position: \"absolute\",\n        }, {\n            class: \"sigma-\".concat(id),\n        });\n        this.elements[id] = canvas;\n        this.container.appendChild(canvas);\n        return canvas;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvasContext = function (id) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = {\n            preserveDrawingBuffer: false,\n            antialias: false,\n        };\n        this.canvasContexts[id] = canvas.getContext(\"2d\", contextOptions);\n        return this;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string}  id      - Context's id.\n     * @param  {object?} options - #getContext params to override (optional)\n     * @return {Sigma}\n     */\n    Sigma.prototype.createWebGLContext = function (id, options) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = __assign({ preserveDrawingBuffer: false, antialias: false }, (options || {}));\n        var context;\n        // First we try webgl2 for an easy performance boost\n        context = canvas.getContext(\"webgl2\", contextOptions);\n        // Else we fall back to webgl\n        if (!context)\n            context = canvas.getContext(\"webgl\", contextOptions);\n        // Edge, I am looking right at you...\n        if (!context)\n            context = canvas.getContext(\"experimental-webgl\", contextOptions);\n        this.webGLContexts[id] = context;\n        return this;\n    };\n    /**\n     * Method binding camera handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindCameraHandlers = function () {\n        var _this = this;\n        this.activeListeners.camera = function () {\n            _this._scheduleRefresh();\n        };\n        this.camera.on(\"updated\", this.activeListeners.camera);\n        return this;\n    };\n    /**\n     * Method that checks whether or not a node collides with a given position.\n     */\n    Sigma.prototype.mouseIsOnNode = function (_a, _b, size) {\n        var x = _a.x, y = _a.y;\n        var nodeX = _b.x, nodeY = _b.y;\n        return (x > nodeX - size &&\n            x < nodeX + size &&\n            y > nodeY - size &&\n            y < nodeY + size &&\n            Math.sqrt(Math.pow(x - nodeX, 2) + Math.pow(y - nodeY, 2)) < size);\n    };\n    /**\n     * Method that returns all nodes in quad at a given position.\n     */\n    Sigma.prototype.getQuadNodes = function (position) {\n        var mouseGraphPosition = this.viewportToFramedGraph(position);\n        return this.quadtree.point(mouseGraphPosition.x, 1 - mouseGraphPosition.y);\n    };\n    /**\n     * Method that returns the closest node to a given position.\n     */\n    Sigma.prototype.getNodeAtPosition = function (position) {\n        var x = position.x, y = position.y;\n        var quadNodes = this.getQuadNodes(position);\n        // We will hover the node whose center is closest to mouse\n        var minDistance = Infinity, nodeAtPosition = null;\n        for (var i = 0, l = quadNodes.length; i < l; i++) {\n            var node = quadNodes[i];\n            var data = this.nodeDataCache[node];\n            var nodePosition = this.framedGraphToViewport(data);\n            var size = this.scaleSize(data.size);\n            if (!data.hidden && this.mouseIsOnNode(position, nodePosition, size)) {\n                var distance = Math.sqrt(Math.pow(x - nodePosition.x, 2) + Math.pow(y - nodePosition.y, 2));\n                // TODO: sort by min size also for cases where center is the same\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    nodeAtPosition = node;\n                }\n            }\n        }\n        return nodeAtPosition;\n    };\n    /**\n     * Method binding event handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindEventHandlers = function () {\n        var _this = this;\n        // Handling window resize\n        this.activeListeners.handleResize = function () {\n            _this.needToSoftProcess = true;\n            _this._scheduleRefresh();\n        };\n        window.addEventListener(\"resize\", this.activeListeners.handleResize);\n        // Handling mouse move\n        this.activeListeners.handleMove = function (e) {\n            var baseEvent = {\n                event: e,\n                preventSigmaDefault: function () {\n                    e.preventSigmaDefault();\n                },\n            };\n            var nodeToHover = _this.getNodeAtPosition(e);\n            if (nodeToHover && _this.hoveredNode !== nodeToHover && !_this.nodeDataCache[nodeToHover].hidden) {\n                // Handling passing from one node to the other directly\n                if (_this.hoveredNode)\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: _this.hoveredNode }));\n                _this.hoveredNode = nodeToHover;\n                _this.emit(\"enterNode\", __assign(__assign({}, baseEvent), { node: nodeToHover }));\n                _this.scheduleHighlightedNodesRender();\n                return;\n            }\n            // Checking if the hovered node is still hovered\n            if (_this.hoveredNode) {\n                var data = _this.nodeDataCache[_this.hoveredNode];\n                var pos = _this.framedGraphToViewport(data);\n                var size = _this.scaleSize(data.size);\n                if (!_this.mouseIsOnNode(e, pos, size)) {\n                    var node = _this.hoveredNode;\n                    _this.hoveredNode = null;\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: node }));\n                    _this.scheduleHighlightedNodesRender();\n                    return;\n                }\n            }\n            if (_this.settings.enableEdgeHoverEvents === true) {\n                _this.checkEdgeHoverEvents(baseEvent);\n            }\n            else if (_this.settings.enableEdgeHoverEvents === \"debounce\") {\n                if (!_this.checkEdgesEventsFrame)\n                    _this.checkEdgesEventsFrame = (0, utils_1.requestFrame)(function () {\n                        _this.checkEdgeHoverEvents(baseEvent);\n                        _this.checkEdgesEventsFrame = null;\n                    });\n            }\n        };\n        // Handling click\n        var createMouseListener = function (eventType) {\n            return function (e) {\n                var baseEvent = {\n                    event: e,\n                    preventSigmaDefault: function () {\n                        e.preventSigmaDefault();\n                    },\n                };\n                var isFakeSigmaMouseEvent = e.original.isFakeSigmaMouseEvent;\n                var nodeAtPosition = isFakeSigmaMouseEvent ? _this.getNodeAtPosition(e) : _this.hoveredNode;\n                if (nodeAtPosition)\n                    return _this.emit(\"\".concat(eventType, \"Node\"), __assign(__assign({}, baseEvent), { node: nodeAtPosition }));\n                if (eventType === \"wheel\" ? _this.settings.enableEdgeWheelEvents : _this.settings.enableEdgeClickEvents) {\n                    var edge = _this.getEdgeAtPoint(e.x, e.y);\n                    if (edge)\n                        return _this.emit(\"\".concat(eventType, \"Edge\"), __assign(__assign({}, baseEvent), { edge: edge }));\n                }\n                return _this.emit(\"\".concat(eventType, \"Stage\"), baseEvent);\n            };\n        };\n        this.activeListeners.handleClick = createMouseListener(\"click\");\n        this.activeListeners.handleRightClick = createMouseListener(\"rightClick\");\n        this.activeListeners.handleDoubleClick = createMouseListener(\"doubleClick\");\n        this.activeListeners.handleWheel = createMouseListener(\"wheel\");\n        this.activeListeners.handleDown = createMouseListener(\"down\");\n        this.mouseCaptor.on(\"mousemove\", this.activeListeners.handleMove);\n        this.mouseCaptor.on(\"click\", this.activeListeners.handleClick);\n        this.mouseCaptor.on(\"rightClick\", this.activeListeners.handleRightClick);\n        this.mouseCaptor.on(\"doubleClick\", this.activeListeners.handleDoubleClick);\n        this.mouseCaptor.on(\"wheel\", this.activeListeners.handleWheel);\n        this.mouseCaptor.on(\"mousedown\", this.activeListeners.handleDown);\n        // TODO\n        // Deal with Touch captor events\n        return this;\n    };\n    /**\n     * Method binding graph handlers\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindGraphHandlers = function () {\n        var _this = this;\n        var graph = this.graph;\n        this.activeListeners.graphUpdate = function () {\n            _this.needToProcess = true;\n            _this._scheduleRefresh();\n        };\n        this.activeListeners.softGraphUpdate = function () {\n            _this.needToSoftProcess = true;\n            _this._scheduleRefresh();\n        };\n        this.activeListeners.dropNodeGraphUpdate = function (e) {\n            delete _this.nodeDataCache[e.key];\n            if (_this.hoveredNode === e.key)\n                _this.hoveredNode = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.dropEdgeGraphUpdate = function (e) {\n            delete _this.edgeDataCache[e.key];\n            if (_this.hoveredEdge === e.key)\n                _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearEdgesGraphUpdate = function () {\n            _this.edgeDataCache = {};\n            _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearGraphUpdate = function () {\n            _this.nodeDataCache = {};\n            _this.hoveredNode = null;\n            _this.activeListeners.clearEdgesGraphUpdate();\n        };\n        graph.on(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.on(\"nodeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.on(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.on(\"edgeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.on(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.on(\"cleared\", this.activeListeners.clearGraphUpdate);\n        return this;\n    };\n    /**\n     * Method used to unbind handlers from the graph.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.unbindGraphHandlers = function () {\n        var graph = this.graph;\n        graph.removeListener(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.removeListener(\"nodeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.removeListener(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.removeListener(\"edgeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.removeListener(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.removeListener(\"cleared\", this.activeListeners.clearGraphUpdate);\n    };\n    /**\n     * Method dealing with \"leaveEdge\" and \"enterEdge\" events.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.checkEdgeHoverEvents = function (payload) {\n        var edgeToHover = this.hoveredNode ? null : this.getEdgeAtPoint(payload.event.x, payload.event.y);\n        if (edgeToHover !== this.hoveredEdge) {\n            if (this.hoveredEdge)\n                this.emit(\"leaveEdge\", __assign(__assign({}, payload), { edge: this.hoveredEdge }));\n            if (edgeToHover)\n                this.emit(\"enterEdge\", __assign(__assign({}, payload), { edge: edgeToHover }));\n            this.hoveredEdge = edgeToHover;\n        }\n        return this;\n    };\n    /**\n     * Method looking for an edge colliding with a given point at (x, y). Returns\n     * the key of the edge if any, or null else.\n     */\n    Sigma.prototype.getEdgeAtPoint = function (x, y) {\n        var e_1, _a;\n        var _this = this;\n        var _b = this, edgeDataCache = _b.edgeDataCache, nodeDataCache = _b.nodeDataCache;\n        // Check first that pixel is colored:\n        // Note that mouse positions must be corrected by pixel ratio to correctly\n        // index the drawing buffer.\n        if (!(0, edge_collisions_1.isPixelColored)(this.webGLContexts.edges, x * this.pixelRatio, y * this.pixelRatio))\n            return null;\n        // Check for each edge if it collides with the point:\n        var _c = this.viewportToGraph({ x: x, y: y }), graphX = _c.x, graphY = _c.y;\n        // To translate edge thicknesses to the graph system, we observe by how much\n        // the length of a non-null edge is transformed to between the graph system\n        // and the viewport system:\n        var transformationRatio = 0;\n        this.graph.someEdge(function (key, _, sourceId, targetId, _a, _b) {\n            var xs = _a.x, ys = _a.y;\n            var xt = _b.x, yt = _b.y;\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if (xs !== xt || ys !== yt) {\n                var graphLength = Math.sqrt(Math.pow(xt - xs, 2) + Math.pow(yt - ys, 2));\n                var _c = _this.graphToViewport({ x: xs, y: ys }), vp_xs = _c.x, vp_ys = _c.y;\n                var _d = _this.graphToViewport({ x: xt, y: yt }), vp_xt = _d.x, vp_yt = _d.y;\n                var viewportLength = Math.sqrt(Math.pow(vp_xt - vp_xs, 2) + Math.pow(vp_yt - vp_ys, 2));\n                transformationRatio = graphLength / viewportLength;\n                return true;\n            }\n        });\n        // If no non-null edge has been found, return null:\n        if (!transformationRatio)\n            return null;\n        // Now we can look for matching edges:\n        var edges = this.graph.filterEdges(function (key, edgeAttributes, sourceId, targetId, sourcePosition, targetPosition) {\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if ((0, edge_collisions_1.doEdgeCollideWithPoint)(graphX, graphY, sourcePosition.x, sourcePosition.y, targetPosition.x, targetPosition.y, \n            // Adapt the edge size to the zoom ratio:\n            (edgeDataCache[key].size * transformationRatio) / _this.cameraSizeRatio)) {\n                return true;\n            }\n        });\n        if (edges.length === 0)\n            return null; // no edges found\n        // if none of the edges have a zIndex, selected the most recently created one to match the rendering order\n        var selectedEdge = edges[edges.length - 1];\n        // otherwise select edge with highest zIndex\n        var highestZIndex = -Infinity;\n        try {\n            for (var edges_1 = __values(edges), edges_1_1 = edges_1.next(); !edges_1_1.done; edges_1_1 = edges_1.next()) {\n                var edge = edges_1_1.value;\n                var zIndex = this.graph.getEdgeAttribute(edge, \"zIndex\");\n                if (zIndex >= highestZIndex) {\n                    selectedEdge = edge;\n                    highestZIndex = zIndex;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (edges_1_1 && !edges_1_1.done && (_a = edges_1.return)) _a.call(edges_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return selectedEdge;\n    };\n    /**\n     * Method used to process the whole graph's data.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.process = function (keepArrays) {\n        var _this = this;\n        if (keepArrays === void 0) { keepArrays = false; }\n        var graph = this.graph;\n        var settings = this.settings;\n        var dimensions = this.getDimensions();\n        var nodeZExtent = [Infinity, -Infinity];\n        var edgeZExtent = [Infinity, -Infinity];\n        // Clearing the quad\n        this.quadtree.clear();\n        // Resetting the label grid\n        // TODO: it's probably better to do this explicitly or on resizes for layout and anims\n        this.labelGrid.resizeAndClear(dimensions, settings.labelGridCellSize);\n        // Clear the highlightedNodes\n        this.highlightedNodes = new Set();\n        // Computing extents\n        this.nodeExtent = (0, utils_1.graphExtent)(graph);\n        // Resetting `forceLabel` indices\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        // NOTE: it is important to compute this matrix after computing the node's extent\n        // because #.getGraphDimensions relies on it\n        var nullCamera = new camera_1.default();\n        var nullCameraMatrix = (0, utils_1.matrixFromCamera)(nullCamera.getState(), this.getDimensions(), this.getGraphDimensions(), this.getSetting(\"stagePadding\") || 0);\n        // Rescaling function\n        this.normalizationFunction = (0, utils_1.createNormalizationFunction)(this.customBBox || this.nodeExtent);\n        var nodesPerPrograms = {};\n        var nodes = graph.nodes();\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            // Node display data resolution:\n            //   1. First we get the node's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            //   4. We apply the normalization function\n            // We shallow copy node data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getNodeAttributes(node));\n            if (settings.nodeReducer)\n                attr = settings.nodeReducer(node, attr);\n            var data = applyNodeDefaults(this.settings, node, attr);\n            nodesPerPrograms[data.type] = (nodesPerPrograms[data.type] || 0) + 1;\n            this.nodeDataCache[node] = data;\n            this.normalizationFunction.applyTo(data);\n            if (data.forceLabel)\n                this.nodesWithForcedLabels.push(node);\n            if (this.settings.zIndex) {\n                if (data.zIndex < nodeZExtent[0])\n                    nodeZExtent[0] = data.zIndex;\n                if (data.zIndex > nodeZExtent[1])\n                    nodeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.nodePrograms) {\n            if (!this.nodePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(type, \"\\\"!\"));\n            }\n            if (!keepArrays)\n                this.nodePrograms[type].allocate(nodesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            nodesPerPrograms[type] = 0;\n        }\n        // Handling node z-index\n        // TODO: z-index needs us to compute display data before hand\n        if (this.settings.zIndex && nodeZExtent[0] !== nodeZExtent[1])\n            nodes = (0, utils_1.zIndexOrdering)(nodeZExtent, function (node) { return _this.nodeDataCache[node].zIndex; }, nodes);\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            var data = this.nodeDataCache[node];\n            this.quadtree.add(node, data.x, 1 - data.y, data.size / this.width);\n            if (typeof data.label === \"string\" && !data.hidden)\n                this.labelGrid.add(node, data.size, this.framedGraphToViewport(data, { matrix: nullCameraMatrix }));\n            var nodeProgram = this.nodePrograms[data.type];\n            if (!nodeProgram)\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(data.type, \"\\\"!\"));\n            nodeProgram.process(data, data.hidden, nodesPerPrograms[data.type]++);\n            // Save the node in the highlighted set if needed\n            if (data.highlighted && !data.hidden)\n                this.highlightedNodes.add(node);\n        }\n        this.labelGrid.organize();\n        var edgesPerPrograms = {};\n        var edges = graph.edges();\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            // Edge display data resolution:\n            //   1. First we get the edge's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            // We shallow copy edge data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getEdgeAttributes(edge));\n            if (settings.edgeReducer)\n                attr = settings.edgeReducer(edge, attr);\n            var data = applyEdgeDefaults(this.settings, edge, attr);\n            edgesPerPrograms[data.type] = (edgesPerPrograms[data.type] || 0) + 1;\n            this.edgeDataCache[edge] = data;\n            if (data.forceLabel && !data.hidden)\n                this.edgesWithForcedLabels.push(edge);\n            if (this.settings.zIndex) {\n                if (data.zIndex < edgeZExtent[0])\n                    edgeZExtent[0] = data.zIndex;\n                if (data.zIndex > edgeZExtent[1])\n                    edgeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.edgePrograms) {\n            if (!this.edgePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for edge type \\\"\".concat(type, \"\\\"!\"));\n            }\n            if (!keepArrays)\n                this.edgePrograms[type].allocate(edgesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            edgesPerPrograms[type] = 0;\n        }\n        // Handling edge z-index\n        if (this.settings.zIndex && edgeZExtent[0] !== edgeZExtent[1])\n            edges = (0, utils_1.zIndexOrdering)(edgeZExtent, function (edge) { return _this.edgeDataCache[edge].zIndex; }, edges);\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            var data = this.edgeDataCache[edge];\n            var extremities = graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]];\n            var hidden = data.hidden || sourceData.hidden || targetData.hidden;\n            this.edgePrograms[data.type].process(sourceData, targetData, data, hidden, edgesPerPrograms[data.type]++);\n        }\n        for (var type in this.edgePrograms) {\n            var program = this.edgePrograms[type];\n            if (!keepArrays && typeof program.computeIndices === \"function\")\n                program.computeIndices();\n        }\n        return this;\n    };\n    /**\n     * Method that backports potential settings updates where it's needed.\n     * @private\n     */\n    Sigma.prototype.handleSettingsUpdate = function () {\n        this.camera.minRatio = this.settings.minCameraRatio;\n        this.camera.maxRatio = this.settings.maxCameraRatio;\n        this.camera.setState(this.camera.validateState(this.camera.getState()));\n        return this;\n    };\n    /**\n     * Method that decides whether to reprocess graph or not, and then render the\n     * graph.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype._refresh = function () {\n        // Do we need to process data?\n        if (this.needToProcess) {\n            this.process();\n        }\n        else if (this.needToSoftProcess) {\n            this.process(true);\n        }\n        // Resetting state\n        this.needToProcess = false;\n        this.needToSoftProcess = false;\n        // Rendering\n        this.render();\n        return this;\n    };\n    /**\n     * Method that schedules a `_refresh` call if none has been scheduled yet. It\n     * will then be processed next available frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype._scheduleRefresh = function () {\n        var _this = this;\n        if (!this.renderFrame) {\n            this.renderFrame = (0, utils_1.requestFrame)(function () {\n                _this._refresh();\n                _this.renderFrame = null;\n            });\n        }\n        return this;\n    };\n    /**\n     * Method used to render labels.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderLabels = function () {\n        if (!this.settings.renderLabels)\n            return this;\n        var cameraState = this.camera.getState();\n        // Selecting labels to draw\n        var labelsToDisplay = this.labelGrid.getLabelsToDisplay(cameraState.ratio, this.settings.labelDensity);\n        (0, extend_1.default)(labelsToDisplay, this.nodesWithForcedLabels);\n        this.displayedLabels = new Set();\n        // Drawing labels\n        var context = this.canvasContexts.labels;\n        for (var i = 0, l = labelsToDisplay.length; i < l; i++) {\n            var node = labelsToDisplay[i];\n            var data = this.nodeDataCache[node];\n            // If the node was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            // NOTE: we can do better probably\n            if (this.displayedLabels.has(node))\n                continue;\n            // If the node is hidden, we don't need to display its label obviously\n            if (data.hidden)\n                continue;\n            var _a = this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            // NOTE: we can cache the labels we need to render until the camera's ratio changes\n            var size = this.scaleSize(data.size);\n            // Is node big enough?\n            if (!data.forceLabel && size < this.settings.labelRenderedSizeThreshold)\n                continue;\n            // Is node actually on screen (with some margin)\n            // NOTE: we used to rely on the quadtree for this, but the coordinates\n            // conversion make it unreliable and at that point we already converted\n            // to viewport coordinates and since the label grid already culls the\n            // number of potential labels to display this looks like a good\n            // performance compromise.\n            // NOTE: labelGrid.getLabelsToDisplay could probably optimize by not\n            // considering cells obviously outside of the range of the current\n            // view rectangle.\n            if (x < -X_LABEL_MARGIN ||\n                x > this.width + X_LABEL_MARGIN ||\n                y < -Y_LABEL_MARGIN ||\n                y > this.height + Y_LABEL_MARGIN)\n                continue;\n            // Because displayed edge labels depend directly on actually rendered node\n            // labels, we need to only add to this.displayedLabels nodes whose label\n            // is rendered.\n            // This makes this.displayedLabels depend on viewport, which might become\n            // an issue once we start memoizing getLabelsToDisplay.\n            this.displayedLabels.add(node);\n            this.settings.labelRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), this.settings);\n        }\n        return this;\n    };\n    /**\n     * Method used to render edge labels, based on which node labels were\n     * rendered.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderEdgeLabels = function () {\n        if (!this.settings.renderEdgeLabels)\n            return this;\n        var context = this.canvasContexts.edgeLabels;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        var edgeLabelsToDisplay = (0, labels_1.edgeLabelsToDisplayFromNodes)({\n            graph: this.graph,\n            hoveredNode: this.hoveredNode,\n            displayedNodeLabels: this.displayedLabels,\n            highlightedNodes: this.highlightedNodes,\n        }).concat(this.edgesWithForcedLabels);\n        var displayedLabels = new Set();\n        for (var i = 0, l = edgeLabelsToDisplay.length; i < l; i++) {\n            var edge = edgeLabelsToDisplay[i], extremities = this.graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]], edgeData = this.edgeDataCache[edge];\n            // If the edge was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            if (displayedLabels.has(edge))\n                continue;\n            // If the edge is hidden we don't need to display its label\n            // NOTE: the test on sourceData & targetData is probably paranoid at this point?\n            if (edgeData.hidden || sourceData.hidden || targetData.hidden) {\n                continue;\n            }\n            this.settings.edgeLabelRenderer(context, __assign(__assign({ key: edge }, edgeData), { size: this.scaleSize(edgeData.size) }), __assign(__assign(__assign({ key: extremities[0] }, sourceData), this.framedGraphToViewport(sourceData)), { size: this.scaleSize(sourceData.size) }), __assign(__assign(__assign({ key: extremities[1] }, targetData), this.framedGraphToViewport(targetData)), { size: this.scaleSize(targetData.size) }), this.settings);\n            displayedLabels.add(edge);\n        }\n        return this;\n    };\n    /**\n     * Method used to render the highlighted nodes.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderHighlightedNodes = function () {\n        var _this = this;\n        var context = this.canvasContexts.hovers;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        // Rendering\n        var render = function (node) {\n            var data = _this.nodeDataCache[node];\n            var _a = _this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            var size = _this.scaleSize(data.size);\n            _this.settings.hoverRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), _this.settings);\n        };\n        var nodesToRender = [];\n        if (this.hoveredNode && !this.nodeDataCache[this.hoveredNode].hidden) {\n            nodesToRender.push(this.hoveredNode);\n        }\n        this.highlightedNodes.forEach(function (node) {\n            // The hovered node has already been highlighted\n            if (node !== _this.hoveredNode)\n                nodesToRender.push(node);\n        });\n        // Draw labels:\n        nodesToRender.forEach(function (node) { return render(node); });\n        // Draw WebGL nodes on top of the labels:\n        var nodesPerPrograms = {};\n        // 1. Count nodes per type:\n        nodesToRender.forEach(function (node) {\n            var type = _this.nodeDataCache[node].type;\n            nodesPerPrograms[type] = (nodesPerPrograms[type] || 0) + 1;\n        });\n        // 2. Allocate for each type for the proper number of nodes\n        for (var type in this.nodeHoverPrograms) {\n            this.nodeHoverPrograms[type].allocate(nodesPerPrograms[type] || 0);\n            // Also reset count, to use when rendering:\n            nodesPerPrograms[type] = 0;\n        }\n        // 3. Process all nodes to render:\n        nodesToRender.forEach(function (node) {\n            var data = _this.nodeDataCache[node];\n            _this.nodeHoverPrograms[data.type].process(data, data.hidden, nodesPerPrograms[data.type]++);\n        });\n        // 4. Clear hovered nodes layer:\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        // 5. Render:\n        for (var type in this.nodeHoverPrograms) {\n            var program = this.nodeHoverPrograms[type];\n            program.bind();\n            program.bufferData();\n            program.render({\n                matrix: this.matrix,\n                width: this.width,\n                height: this.height,\n                pixelRatio: this.pixelRatio,\n                zoomRatio: this.camera.ratio,\n                sizeRatio: this.settings.zoomToSizeRatioFunction(this.camera.ratio),\n                correctionRatio: this.correctionRatio,\n            });\n        }\n    };\n    /**\n     * Method used to schedule a hover render.\n     *\n     */\n    Sigma.prototype.scheduleHighlightedNodesRender = function () {\n        var _this = this;\n        if (this.renderHighlightedNodesFrame || this.renderFrame)\n            return;\n        this.renderHighlightedNodesFrame = (0, utils_1.requestFrame)(function () {\n            // Resetting state\n            _this.renderHighlightedNodesFrame = null;\n            // Rendering\n            _this.renderHighlightedNodes();\n            _this.renderEdgeLabels();\n        });\n    };\n    /**\n     * Method used to render.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.render = function () {\n        var _this = this;\n        this.emit(\"beforeRender\");\n        var exitRender = function () {\n            _this.emit(\"afterRender\");\n            return _this;\n        };\n        // If a render was scheduled, we cancel it\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n            this.needToProcess = false;\n            this.needToSoftProcess = false;\n        }\n        // First we need to resize\n        this.resize();\n        // Clearing the canvases\n        this.clear();\n        // Recomputing useful camera-related values:\n        this.updateCachedValues();\n        // If we have no nodes we can stop right there\n        if (!this.graph.order)\n            return exitRender();\n        // TODO: improve this heuristic or move to the captor itself?\n        // TODO: deal with the touch captor here as well\n        var mouseCaptor = this.mouseCaptor;\n        var moving = this.camera.isAnimated() ||\n            mouseCaptor.isMoving ||\n            mouseCaptor.draggedEvents ||\n            mouseCaptor.currentWheelDirection;\n        // Then we need to extract a matrix from the camera\n        var cameraState = this.camera.getState();\n        var viewportDimensions = this.getDimensions();\n        var graphDimensions = this.getGraphDimensions();\n        var padding = this.getSetting(\"stagePadding\") || 0;\n        this.matrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding);\n        this.invMatrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding, true);\n        this.correctionRatio = (0, utils_1.getMatrixImpact)(this.matrix, cameraState, viewportDimensions);\n        // Drawing nodes\n        for (var type in this.nodePrograms) {\n            var program = this.nodePrograms[type];\n            program.bind();\n            program.bufferData();\n            program.render({\n                matrix: this.matrix,\n                width: this.width,\n                height: this.height,\n                pixelRatio: this.pixelRatio,\n                zoomRatio: this.camera.ratio,\n                sizeRatio: this.settings.zoomToSizeRatioFunction(this.camera.ratio),\n                correctionRatio: this.correctionRatio,\n            });\n        }\n        // Drawing edges\n        if (!this.settings.hideEdgesOnMove || !moving) {\n            for (var type in this.edgePrograms) {\n                var program = this.edgePrograms[type];\n                program.bind();\n                program.bufferData();\n                program.render({\n                    matrix: this.matrix,\n                    width: this.width,\n                    height: this.height,\n                    pixelRatio: this.pixelRatio,\n                    zoomRatio: this.camera.ratio,\n                    sizeRatio: this.settings.zoomToSizeRatioFunction(this.camera.ratio),\n                    correctionRatio: this.correctionRatio,\n                });\n            }\n        }\n        // Do not display labels on move per setting\n        if (this.settings.hideLabelsOnMove && moving)\n            return exitRender();\n        this.renderLabels();\n        this.renderEdgeLabels();\n        this.renderHighlightedNodes();\n        return exitRender();\n    };\n    /**\n     * Internal method used to update expensive and therefore cached values\n     * each time the camera state is updated.\n     */\n    Sigma.prototype.updateCachedValues = function () {\n        var ratio = this.camera.getState().ratio;\n        this.cameraSizeRatio = this.settings.zoomToSizeRatioFunction(ratio);\n    };\n    /**---------------------------------------------------------------------------\n     * Public API.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Method returning the renderer's camera.\n     *\n     * @return {Camera}\n     */\n    Sigma.prototype.getCamera = function () {\n        return this.camera;\n    };\n    /**\n     * Method returning the container DOM element.\n     *\n     * @return {HTMLElement}\n     */\n    Sigma.prototype.getContainer = function () {\n        return this.container;\n    };\n    /**\n     * Method returning the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.getGraph = function () {\n        return this.graph;\n    };\n    /**\n     * Method used to set the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.setGraph = function (graph) {\n        if (graph === this.graph)\n            return;\n        // Unbinding handlers on the current graph\n        this.unbindGraphHandlers();\n        // Clearing the graph data caches\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        // Cleaning renderer state tied to the current graph\n        this.displayedLabels.clear();\n        this.highlightedNodes.clear();\n        this.hoveredNode = null;\n        this.hoveredEdge = null;\n        this.nodesWithForcedLabels.length = 0;\n        this.edgesWithForcedLabels.length = 0;\n        if (this.checkEdgesEventsFrame !== null) {\n            (0, utils_1.cancelFrame)(this.checkEdgesEventsFrame);\n            this.checkEdgesEventsFrame = null;\n        }\n        // Installing new graph\n        this.graph = graph;\n        // Binding new handlers\n        this.bindGraphHandlers();\n        // Re-rendering now to avoid discrepancies from now to next frame\n        this.process();\n        this.render();\n    };\n    /**\n     * Method returning the mouse captor.\n     *\n     * @return {MouseCaptor}\n     */\n    Sigma.prototype.getMouseCaptor = function () {\n        return this.mouseCaptor;\n    };\n    /**\n     * Method returning the touch captor.\n     *\n     * @return {TouchCaptor}\n     */\n    Sigma.prototype.getTouchCaptor = function () {\n        return this.touchCaptor;\n    };\n    /**\n     * Method returning the current renderer's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getDimensions = function () {\n        return { width: this.width, height: this.height };\n    };\n    /**\n     * Method returning the current graph's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getGraphDimensions = function () {\n        var extent = this.customBBox || this.nodeExtent;\n        return {\n            width: extent.x[1] - extent.x[0] || 1,\n            height: extent.y[1] - extent.y[0] || 1,\n        };\n    };\n    /**\n     * Method used to get all the sigma node attributes.\n     * It's usefull for example to get the position of a node\n     * and to get values that are set by the nodeReducer\n     *\n     * @param  {string} key - The node's key.\n     * @return {NodeDisplayData | undefined} A copy of the desired node's attribute or undefined if not found\n     */\n    Sigma.prototype.getNodeDisplayData = function (key) {\n        var node = this.nodeDataCache[key];\n        return node ? Object.assign({}, node) : undefined;\n    };\n    /**\n     * Method used to get all the sigma edge attributes.\n     * It's usefull for example to get values that are set by the edgeReducer.\n     *\n     * @param  {string} key - The edge's key.\n     * @return {EdgeDisplayData | undefined} A copy of the desired edge's attribute or undefined if not found\n     */\n    Sigma.prototype.getEdgeDisplayData = function (key) {\n        var edge = this.edgeDataCache[key];\n        return edge ? Object.assign({}, edge) : undefined;\n    };\n    /**\n     * Method returning a copy of the settings collection.\n     *\n     * @return {Settings} A copy of the settings collection.\n     */\n    Sigma.prototype.getSettings = function () {\n        return __assign({}, this.settings);\n    };\n    /**\n     * Method returning the current value for a given setting key.\n     *\n     * @param  {string} key - The setting key to get.\n     * @return {any} The value attached to this setting key or undefined if not found\n     */\n    Sigma.prototype.getSetting = function (key) {\n        return this.settings[key];\n    };\n    /**\n     * Method setting the value of a given setting key. Note that this will schedule\n     * a new render next frame.\n     *\n     * @param  {string} key - The setting key to set.\n     * @param  {any}    value - The value to set.\n     * @return {Sigma}\n     */\n    Sigma.prototype.setSetting = function (key, value) {\n        this.settings[key] = value;\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.needToProcess = true; // TODO: some keys may work with only needToSoftProcess or even nothing\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method updating the value of a given setting key using the provided function.\n     * Note that this will schedule a new render next frame.\n     *\n     * @param  {string}   key     - The setting key to set.\n     * @param  {function} updater - The update function.\n     * @return {Sigma}\n     */\n    Sigma.prototype.updateSetting = function (key, updater) {\n        this.settings[key] = updater(this.settings[key]);\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.needToProcess = true; // TODO: some keys may work with only needToSoftProcess or even nothing\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to resize the renderer.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.resize = function () {\n        var previousWidth = this.width, previousHeight = this.height;\n        this.width = this.container.offsetWidth;\n        this.height = this.container.offsetHeight;\n        this.pixelRatio = (0, utils_1.getPixelRatio)();\n        if (this.width === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.width = 1;\n            else\n                throw new Error(\"Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        if (this.height === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.height = 1;\n            else\n                throw new Error(\"Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        // If nothing has changed, we can stop right here\n        if (previousWidth === this.width && previousHeight === this.height)\n            return this;\n        this.emit(\"resize\");\n        // Sizing dom elements\n        for (var id in this.elements) {\n            var element = this.elements[id];\n            element.style.width = this.width + \"px\";\n            element.style.height = this.height + \"px\";\n        }\n        // Sizing canvas contexts\n        for (var id in this.canvasContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            if (this.pixelRatio !== 1)\n                this.canvasContexts[id].scale(this.pixelRatio, this.pixelRatio);\n        }\n        // Sizing WebGL contexts\n        for (var id in this.webGLContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            this.webGLContexts[id].viewport(0, 0, this.width * this.pixelRatio, this.height * this.pixelRatio);\n        }\n        return this;\n    };\n    /**\n     * Method used to clear all the canvases.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.clear = function () {\n        this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT);\n        this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT);\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        this.canvasContexts.labels.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.hovers.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.edgeLabels.clearRect(0, 0, this.width, this.height);\n        return this;\n    };\n    /**\n     * Method used to refresh all computed data.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.refresh = function () {\n        this.needToProcess = true;\n        this._refresh();\n        return this;\n    };\n    /**\n     * Method used to refresh all computed data, at the next available frame.\n     * If this method has already been called this frame, then it will only render once at the next available frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.scheduleRefresh = function () {\n        this.needToProcess = true;\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to (un)zoom, while preserving the position of a viewport point.\n     * Used for instance to zoom \"on the mouse cursor\".\n     *\n     * @param viewportTarget\n     * @param newRatio\n     * @return {CameraState}\n     */\n    Sigma.prototype.getViewportZoomedState = function (viewportTarget, newRatio) {\n        var _a = this.camera.getState(), ratio = _a.ratio, angle = _a.angle, x = _a.x, y = _a.y;\n        // TODO: handle max zoom\n        var ratioDiff = newRatio / ratio;\n        var center = {\n            x: this.width / 2,\n            y: this.height / 2,\n        };\n        var graphMousePosition = this.viewportToFramedGraph(viewportTarget);\n        var graphCenterPosition = this.viewportToFramedGraph(center);\n        return {\n            angle: angle,\n            x: (graphMousePosition.x - graphCenterPosition.x) * (1 - ratioDiff) + x,\n            y: (graphMousePosition.y - graphCenterPosition.y) * (1 - ratioDiff) + y,\n            ratio: newRatio,\n        };\n    };\n    /**\n     * Method returning the abstract rectangle containing the graph according\n     * to the camera's state.\n     *\n     * @return {object} - The view's rectangle.\n     */\n    Sigma.prototype.viewRectangle = function () {\n        // TODO: reduce relative margin?\n        var marginX = (0 * this.width) / 8, marginY = (0 * this.height) / 8;\n        var p1 = this.viewportToFramedGraph({ x: 0 - marginX, y: 0 - marginY }), p2 = this.viewportToFramedGraph({ x: this.width + marginX, y: 0 - marginY }), h = this.viewportToFramedGraph({ x: 0, y: this.height + marginY });\n        return {\n            x1: p1.x,\n            y1: p1.y,\n            x2: p2.x,\n            y2: p2.y,\n            height: p2.y - h.y,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the framed graph system to the viewport system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.framedGraphToViewport = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !!override.graphDimensions;\n        var matrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0)\n                : this.matrix;\n        var viewportPos = (0, matrices_1.multiplyVec2)(matrix, coordinates);\n        return {\n            x: ((1 + viewportPos.x) * this.width) / 2,\n            y: ((1 - viewportPos.y) * this.height) / 2,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the viewport system to the framed graph system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.viewportToFramedGraph = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !override.graphDimensions;\n        var invMatrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0, true)\n                : this.invMatrix;\n        var res = (0, matrices_1.multiplyVec2)(invMatrix, {\n            x: (coordinates.x / this.width) * 2 - 1,\n            y: 1 - (coordinates.y / this.height) * 2,\n        });\n        if (isNaN(res.x))\n            res.x = 0;\n        if (isNaN(res.y))\n            res.y = 0;\n        return res;\n    };\n    /**\n     * Method used to translate a point's coordinates from the viewport system (pixel distance from the top-left of the\n     * stage) to the graph system (the reference system of data as they are in the given graph instance).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  viewportPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.viewportToGraph = function (viewportPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.normalizationFunction.inverse(this.viewportToFramedGraph(viewportPoint, override));\n    };\n    /**\n     * Method used to translate a point's coordinates from the graph system (the reference system of data as they are in\n     * the given graph instance) to the viewport system (pixel distance from the top-left of the stage).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  graphPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.graphToViewport = function (graphPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.framedGraphToViewport(this.normalizationFunction(graphPoint), override);\n    };\n    /**\n     * Method returning the graph's bounding box.\n     *\n     * @return {{ x: Extent, y: Extent }}\n     */\n    Sigma.prototype.getBBox = function () {\n        return (0, utils_1.graphExtent)(this.graph);\n    };\n    /**\n     * Method returning the graph's custom bounding box, if any.\n     *\n     * @return {{ x: Extent, y: Extent } | null}\n     */\n    Sigma.prototype.getCustomBBox = function () {\n        return this.customBBox;\n    };\n    /**\n     * Method used to override the graph's bounding box with a custom one. Give `null` as the argument to stop overriding.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.setCustomBBox = function (customBBox) {\n        this.customBBox = customBBox;\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to shut the container & release event listeners.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.kill = function () {\n        // Emitting \"kill\" events so that plugins and such can cleanup\n        this.emit(\"kill\");\n        // Releasing events\n        this.removeAllListeners();\n        // Releasing camera handlers\n        this.camera.removeListener(\"updated\", this.activeListeners.camera);\n        // Releasing DOM events & captors\n        window.removeEventListener(\"resize\", this.activeListeners.handleResize);\n        this.mouseCaptor.kill();\n        this.touchCaptor.kill();\n        // Releasing graph handlers\n        this.unbindGraphHandlers();\n        // Releasing cache & state\n        this.quadtree = new quadtree_1.default();\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        this.highlightedNodes.clear();\n        // Clearing frames\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n        }\n        if (this.renderHighlightedNodesFrame) {\n            (0, utils_1.cancelFrame)(this.renderHighlightedNodesFrame);\n            this.renderHighlightedNodesFrame = null;\n        }\n        // Destroying canvases\n        var container = this.container;\n        while (container.firstChild)\n            container.removeChild(container.firstChild);\n    };\n    /**\n     * Method used to scale the given size according to the camera's ratio, i.e.\n     * zooming state.\n     *\n     * @param  {number} size - The size to scale (node size, edge thickness etc.).\n     * @return {number}      - The scaled size.\n     */\n    Sigma.prototype.scaleSize = function (size) {\n        return size / this.cameraSizeRatio;\n    };\n    /**\n     * Method that returns the collection of all used canvases.\n     * At the moment, the instantiated canvases are the following, and in the\n     * following order in the DOM:\n     * - `edges`\n     * - `nodes`\n     * - `edgeLabels`\n     * - `labels`\n     * - `hovers`\n     * - `hoverNodes`\n     * - `mouse`\n     *\n     * @return {PlainObject<HTMLCanvasElement>} - The collection of canvases.\n     */\n    Sigma.prototype.getCanvases = function () {\n        return __assign({}, this.elements);\n    };\n    return Sigma;\n}(types_1.TypedEventEmitter));\nexports.default = Sigma;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypedEventEmitter = void 0;\n/**\n * Sigma.js Types\n * ===============\n *\n * Various type declarations used throughout the library.\n * @module\n */\nvar events_1 = require(\"events\");\nvar TypedEventEmitter = /** @class */ (function (_super) {\n    __extends(TypedEventEmitter, _super);\n    function TypedEventEmitter() {\n        var _this = _super.call(this) || this;\n        _this.rawEmitter = _this;\n        return _this;\n    }\n    return TypedEventEmitter;\n}(events_1.EventEmitter));\nexports.TypedEventEmitter = TypedEventEmitter;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.animateNodes = exports.ANIMATE_DEFAULTS = void 0;\nvar index_1 = require(\"./index\");\nvar easings_1 = __importDefault(require(\"./easings\"));\nexports.ANIMATE_DEFAULTS = {\n    easing: \"quadraticInOut\",\n    duration: 150,\n};\n/**\n * Function used to animate the nodes.\n */\nfunction animateNodes(graph, targets, opts, callback) {\n    var options = Object.assign({}, exports.ANIMATE_DEFAULTS, opts);\n    var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n    var start = Date.now();\n    var startPositions = {};\n    for (var node in targets) {\n        var attrs = targets[node];\n        startPositions[node] = {};\n        for (var k in attrs)\n            startPositions[node][k] = graph.getNodeAttribute(node, k);\n    }\n    var frame = null;\n    var step = function () {\n        frame = null;\n        var p = (Date.now() - start) / options.duration;\n        if (p >= 1) {\n            // Animation is done\n            for (var node in targets) {\n                var attrs = targets[node];\n                // We use given values to avoid precision issues and for convenience\n                for (var k in attrs)\n                    graph.setNodeAttribute(node, k, attrs[k]);\n            }\n            if (typeof callback === \"function\")\n                callback();\n            return;\n        }\n        p = easing(p);\n        for (var node in targets) {\n            var attrs = targets[node];\n            var s = startPositions[node];\n            for (var k in attrs)\n                graph.setNodeAttribute(node, k, attrs[k] * p + s[k] * (1 - p));\n        }\n        frame = (0, index_1.requestFrame)(step);\n    };\n    step();\n    return function () {\n        if (frame)\n            (0, index_1.cancelFrame)(frame);\n    };\n}\nexports.animateNodes = animateNodes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTML_COLORS = void 0;\nexports.HTML_COLORS = {\n    black: \"#000000\",\n    silver: \"#C0C0C0\",\n    gray: \"#808080\",\n    grey: \"#808080\",\n    white: \"#FFFFFF\",\n    maroon: \"#800000\",\n    red: \"#FF0000\",\n    purple: \"#800080\",\n    fuchsia: \"#FF00FF\",\n    green: \"#008000\",\n    lime: \"#00FF00\",\n    olive: \"#808000\",\n    yellow: \"#FFFF00\",\n    navy: \"#000080\",\n    blue: \"#0000FF\",\n    teal: \"#008080\",\n    aqua: \"#00FFFF\",\n    darkblue: \"#00008B\",\n    mediumblue: \"#0000CD\",\n    darkgreen: \"#006400\",\n    darkcyan: \"#008B8B\",\n    deepskyblue: \"#00BFFF\",\n    darkturquoise: \"#00CED1\",\n    mediumspringgreen: \"#00FA9A\",\n    springgreen: \"#00FF7F\",\n    cyan: \"#00FFFF\",\n    midnightblue: \"#191970\",\n    dodgerblue: \"#1E90FF\",\n    lightseagreen: \"#20B2AA\",\n    forestgreen: \"#228B22\",\n    seagreen: \"#2E8B57\",\n    darkslategray: \"#2F4F4F\",\n    darkslategrey: \"#2F4F4F\",\n    limegreen: \"#32CD32\",\n    mediumseagreen: \"#3CB371\",\n    turquoise: \"#40E0D0\",\n    royalblue: \"#4169E1\",\n    steelblue: \"#4682B4\",\n    darkslateblue: \"#483D8B\",\n    mediumturquoise: \"#48D1CC\",\n    indigo: \"#4B0082\",\n    darkolivegreen: \"#556B2F\",\n    cadetblue: \"#5F9EA0\",\n    cornflowerblue: \"#6495ED\",\n    rebeccapurple: \"#663399\",\n    mediumaquamarine: \"#66CDAA\",\n    dimgray: \"#696969\",\n    dimgrey: \"#696969\",\n    slateblue: \"#6A5ACD\",\n    olivedrab: \"#6B8E23\",\n    slategray: \"#708090\",\n    slategrey: \"#708090\",\n    lightslategray: \"#778899\",\n    lightslategrey: \"#778899\",\n    mediumslateblue: \"#7B68EE\",\n    lawngreen: \"#7CFC00\",\n    chartreuse: \"#7FFF00\",\n    aquamarine: \"#7FFFD4\",\n    skyblue: \"#87CEEB\",\n    lightskyblue: \"#87CEFA\",\n    blueviolet: \"#8A2BE2\",\n    darkred: \"#8B0000\",\n    darkmagenta: \"#8B008B\",\n    saddlebrown: \"#8B4513\",\n    darkseagreen: \"#8FBC8F\",\n    lightgreen: \"#90EE90\",\n    mediumpurple: \"#9370DB\",\n    darkviolet: \"#9400D3\",\n    palegreen: \"#98FB98\",\n    darkorchid: \"#9932CC\",\n    yellowgreen: \"#9ACD32\",\n    sienna: \"#A0522D\",\n    brown: \"#A52A2A\",\n    darkgray: \"#A9A9A9\",\n    darkgrey: \"#A9A9A9\",\n    lightblue: \"#ADD8E6\",\n    greenyellow: \"#ADFF2F\",\n    paleturquoise: \"#AFEEEE\",\n    lightsteelblue: \"#B0C4DE\",\n    powderblue: \"#B0E0E6\",\n    firebrick: \"#B22222\",\n    darkgoldenrod: \"#B8860B\",\n    mediumorchid: \"#BA55D3\",\n    rosybrown: \"#BC8F8F\",\n    darkkhaki: \"#BDB76B\",\n    mediumvioletred: \"#C71585\",\n    indianred: \"#CD5C5C\",\n    peru: \"#CD853F\",\n    chocolate: \"#D2691E\",\n    tan: \"#D2B48C\",\n    lightgray: \"#D3D3D3\",\n    lightgrey: \"#D3D3D3\",\n    thistle: \"#D8BFD8\",\n    orchid: \"#DA70D6\",\n    goldenrod: \"#DAA520\",\n    palevioletred: \"#DB7093\",\n    crimson: \"#DC143C\",\n    gainsboro: \"#DCDCDC\",\n    plum: \"#DDA0DD\",\n    burlywood: \"#DEB887\",\n    lightcyan: \"#E0FFFF\",\n    lavender: \"#E6E6FA\",\n    darksalmon: \"#E9967A\",\n    violet: \"#EE82EE\",\n    palegoldenrod: \"#EEE8AA\",\n    lightcoral: \"#F08080\",\n    khaki: \"#F0E68C\",\n    aliceblue: \"#F0F8FF\",\n    honeydew: \"#F0FFF0\",\n    azure: \"#F0FFFF\",\n    sandybrown: \"#F4A460\",\n    wheat: \"#F5DEB3\",\n    beige: \"#F5F5DC\",\n    whitesmoke: \"#F5F5F5\",\n    mintcream: \"#F5FFFA\",\n    ghostwhite: \"#F8F8FF\",\n    salmon: \"#FA8072\",\n    antiquewhite: \"#FAEBD7\",\n    linen: \"#FAF0E6\",\n    lightgoldenrodyellow: \"#FAFAD2\",\n    oldlace: \"#FDF5E6\",\n    magenta: \"#FF00FF\",\n    deeppink: \"#FF1493\",\n    orangered: \"#FF4500\",\n    tomato: \"#FF6347\",\n    hotpink: \"#FF69B4\",\n    coral: \"#FF7F50\",\n    darkorange: \"#FF8C00\",\n    lightsalmon: \"#FFA07A\",\n    orange: \"#FFA500\",\n    lightpink: \"#FFB6C1\",\n    pink: \"#FFC0CB\",\n    gold: \"#FFD700\",\n    peachpuff: \"#FFDAB9\",\n    navajowhite: \"#FFDEAD\",\n    moccasin: \"#FFE4B5\",\n    bisque: \"#FFE4C4\",\n    mistyrose: \"#FFE4E1\",\n    blanchedalmond: \"#FFEBCD\",\n    papayawhip: \"#FFEFD5\",\n    lavenderblush: \"#FFF0F5\",\n    seashell: \"#FFF5EE\",\n    cornsilk: \"#FFF8DC\",\n    lemonchiffon: \"#FFFACD\",\n    floralwhite: \"#FFFAF0\",\n    snow: \"#FFFAFA\",\n    lightyellow: \"#FFFFE0\",\n    ivory: \"#FFFFF0\",\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cubicInOut = exports.cubicOut = exports.cubicIn = exports.quadraticInOut = exports.quadraticOut = exports.quadraticIn = exports.linear = void 0;\n/**\n * Sigma.js Easings\n * =================\n *\n * Handy collection of easing functions.\n * @module\n */\nvar linear = function (k) { return k; };\nexports.linear = linear;\nvar quadraticIn = function (k) { return k * k; };\nexports.quadraticIn = quadraticIn;\nvar quadraticOut = function (k) { return k * (2 - k); };\nexports.quadraticOut = quadraticOut;\nvar quadraticInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k;\n    return -0.5 * (--k * (k - 2) - 1);\n};\nexports.quadraticInOut = quadraticInOut;\nvar cubicIn = function (k) { return k * k * k; };\nexports.cubicIn = cubicIn;\nvar cubicOut = function (k) { return --k * k * k + 1; };\nexports.cubicOut = cubicOut;\nvar cubicInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k * k;\n    return 0.5 * ((k -= 2) * k * k + 2);\n};\nexports.cubicInOut = cubicInOut;\nvar easings = {\n    linear: exports.linear,\n    quadraticIn: exports.quadraticIn,\n    quadraticOut: exports.quadraticOut,\n    quadraticInOut: exports.quadraticInOut,\n    cubicIn: exports.cubicIn,\n    cubicOut: exports.cubicOut,\n    cubicInOut: exports.cubicInOut,\n};\nexports.default = easings;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.doEdgeCollideWithPoint = exports.isPixelColored = void 0;\n/**\n * This helper returns true is the pixel at (x,y) in the given WebGL context is\n * colored, and false else.\n */\nfunction isPixelColored(gl, x, y) {\n    var pixels = new Uint8Array(4);\n    gl.readPixels(x, gl.drawingBufferHeight - y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return pixels[3] > 0;\n}\nexports.isPixelColored = isPixelColored;\n/**\n * This helper checks whether or not a point (x, y) collides with an\n * edge, connecting a source (xS, yS) to a target (xT, yT) with a thickness in\n * pixels.\n */\nfunction doEdgeCollideWithPoint(x, y, xS, yS, xT, yT, thickness) {\n    // Check first if point is out of the rectangle which opposite corners are the\n    // source and the target, rectangle we expand by `thickness` in every\n    // directions:\n    if (x < xS - thickness && x < xT - thickness)\n        return false;\n    if (y < yS - thickness && y < yT - thickness)\n        return false;\n    if (x > xS + thickness && x > xT + thickness)\n        return false;\n    if (y > yS + thickness && y > yT + thickness)\n        return false;\n    // Check actual collision now: Since we now the point is in this big rectangle\n    // we \"just\" need to check that the distance between the point and the line\n    // connecting the source and the target is less than `thickness`:\n    // https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n    var distance = Math.abs((xT - xS) * (yS - y) - (xS - x) * (yT - yS)) / Math.sqrt(Math.pow(xT - xS, 2) + Math.pow(yT - yS, 2));\n    return distance < thickness / 2;\n}\nexports.doEdgeCollideWithPoint = doEdgeCollideWithPoint;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateGraph = exports.canUse32BitsIndices = exports.extractPixel = exports.getMatrixImpact = exports.matrixFromCamera = exports.getCorrectionRatio = exports.floatColor = exports.floatArrayColor = exports.parseColor = exports.zIndexOrdering = exports.createNormalizationFunction = exports.graphExtent = exports.getPixelRatio = exports.createElement = exports.cancelFrame = exports.requestFrame = exports.assignDeep = exports.assign = exports.isPlainObject = void 0;\nvar is_graph_1 = __importDefault(require(\"graphology-utils/is-graph\"));\nvar matrices_1 = require(\"./matrices\");\nvar data_1 = require(\"./data\");\n/**\n * Checks whether the given value is a plain object.\n *\n * @param  {mixed}   value - Target value.\n * @return {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction isPlainObject(value) {\n    return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nexports.isPlainObject = isPlainObject;\n/**\n * Helper to use Object.assign with more than two objects.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assign(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        Object.assign(target, o);\n    }\n    return target;\n}\nexports.assign = assign;\n/**\n * Very simple recursive Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assignDeep(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        for (var k in o) {\n            if (isPlainObject(o[k])) {\n                target[k] = assignDeep(target[k], o[k]);\n            }\n            else {\n                target[k] = o[k];\n            }\n        }\n    }\n    return target;\n}\nexports.assignDeep = assignDeep;\n/**\n * Just some dirty trick to make requestAnimationFrame and cancelAnimationFrame \"work\" in Node.js, for unit tests:\n */\nexports.requestFrame = typeof requestAnimationFrame !== \"undefined\"\n    ? function (callback) { return requestAnimationFrame(callback); }\n    : function (callback) { return setTimeout(callback, 0); };\nexports.cancelFrame = typeof cancelAnimationFrame !== \"undefined\"\n    ? function (requestID) { return cancelAnimationFrame(requestID); }\n    : function (requestID) { return clearTimeout(requestID); };\n/**\n * Function used to create DOM elements easily.\n *\n * @param  {string} tag        - Tag name of the element to create.\n * @param  {object} style      - Styles map.\n * @param  {object} attributes - Attributes map.\n * @return {HTMLElement}\n */\nfunction createElement(tag, style, attributes) {\n    var element = document.createElement(tag);\n    if (style) {\n        for (var k in style) {\n            element.style[k] = style[k];\n        }\n    }\n    if (attributes) {\n        for (var k in attributes) {\n            element.setAttribute(k, attributes[k]);\n        }\n    }\n    return element;\n}\nexports.createElement = createElement;\n/**\n * Function returning the browser's pixel ratio.\n *\n * @return {number}\n */\nfunction getPixelRatio() {\n    if (typeof window.devicePixelRatio !== \"undefined\")\n        return window.devicePixelRatio;\n    return 1;\n}\nexports.getPixelRatio = getPixelRatio;\n/**\n * Function returning the graph's node extent in x & y.\n *\n * @param  {Graph}\n * @return {object}\n */\nfunction graphExtent(graph) {\n    if (!graph.order)\n        return { x: [0, 1], y: [0, 1] };\n    var xMin = Infinity;\n    var xMax = -Infinity;\n    var yMin = Infinity;\n    var yMax = -Infinity;\n    graph.forEachNode(function (_, attr) {\n        var x = attr.x, y = attr.y;\n        if (x < xMin)\n            xMin = x;\n        if (x > xMax)\n            xMax = x;\n        if (y < yMin)\n            yMin = y;\n        if (y > yMax)\n            yMax = y;\n    });\n    return { x: [xMin, xMax], y: [yMin, yMax] };\n}\nexports.graphExtent = graphExtent;\nfunction createNormalizationFunction(extent) {\n    var _a = __read(extent.x, 2), minX = _a[0], maxX = _a[1], _b = __read(extent.y, 2), minY = _b[0], maxY = _b[1];\n    var ratio = Math.max(maxX - minX, maxY - minY), dX = (maxX + minX) / 2, dY = (maxY + minY) / 2;\n    if (ratio === 0 || Math.abs(ratio) === Infinity || isNaN(ratio))\n        ratio = 1;\n    if (isNaN(dX))\n        dX = 0;\n    if (isNaN(dY))\n        dY = 0;\n    var fn = function (data) {\n        return {\n            x: 0.5 + (data.x - dX) / ratio,\n            y: 0.5 + (data.y - dY) / ratio,\n        };\n    };\n    // TODO: possibility to apply this in batch over array of indices\n    fn.applyTo = function (data) {\n        data.x = 0.5 + (data.x - dX) / ratio;\n        data.y = 0.5 + (data.y - dY) / ratio;\n    };\n    fn.inverse = function (data) {\n        return {\n            x: dX + ratio * (data.x - 0.5),\n            y: dY + ratio * (data.y - 0.5),\n        };\n    };\n    fn.ratio = ratio;\n    return fn;\n}\nexports.createNormalizationFunction = createNormalizationFunction;\n/**\n * Function ordering the given elements in reverse z-order so they drawn\n * the correct way.\n *\n * @param  {number}   extent   - [min, max] z values.\n * @param  {function} getter   - Z attribute getter function.\n * @param  {array}    elements - The array to sort.\n * @return {array} - The sorted array.\n */\nfunction zIndexOrdering(extent, getter, elements) {\n    // If k is > n, we'll use a standard sort\n    return elements.sort(function (a, b) {\n        var zA = getter(a) || 0, zB = getter(b) || 0;\n        if (zA < zB)\n            return -1;\n        if (zA > zB)\n            return 1;\n        return 0;\n    });\n    // TODO: counting sort optimization\n}\nexports.zIndexOrdering = zIndexOrdering;\n/**\n * WebGL utils\n * ===========\n */\n/**\n * Memoized function returning a float-encoded color from various string\n * formats describing colors.\n */\nvar INT8 = new Int8Array(4);\nvar INT32 = new Int32Array(INT8.buffer, 0, 1);\nvar FLOAT32 = new Float32Array(INT8.buffer, 0, 1);\nvar RGBA_TEST_REGEX = /^\\s*rgba?\\s*\\(/;\nvar RGBA_EXTRACT_REGEX = /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)(?:\\s*,\\s*(.*)?)?\\)\\s*$/;\nfunction parseColor(val) {\n    var r = 0; // byte\n    var g = 0; // byte\n    var b = 0; // byte\n    var a = 1; // float\n    // Handling hexadecimal notation\n    if (val[0] === \"#\") {\n        if (val.length === 4) {\n            r = parseInt(val.charAt(1) + val.charAt(1), 16);\n            g = parseInt(val.charAt(2) + val.charAt(2), 16);\n            b = parseInt(val.charAt(3) + val.charAt(3), 16);\n        }\n        else {\n            r = parseInt(val.charAt(1) + val.charAt(2), 16);\n            g = parseInt(val.charAt(3) + val.charAt(4), 16);\n            b = parseInt(val.charAt(5) + val.charAt(6), 16);\n        }\n        if (val.length === 9) {\n            a = parseInt(val.charAt(7) + val.charAt(8), 16) / 255;\n        }\n    }\n    // Handling rgb notation\n    else if (RGBA_TEST_REGEX.test(val)) {\n        var match = val.match(RGBA_EXTRACT_REGEX);\n        if (match) {\n            r = +match[1];\n            g = +match[2];\n            b = +match[3];\n            if (match[4])\n                a = +match[4];\n        }\n    }\n    return { r: r, g: g, b: b, a: a };\n}\nexports.parseColor = parseColor;\nvar FLOAT_COLOR_CACHE = {};\nfor (var htmlColor in data_1.HTML_COLORS) {\n    FLOAT_COLOR_CACHE[htmlColor] = floatColor(data_1.HTML_COLORS[htmlColor]);\n    // Replicating cache for hex values for free\n    FLOAT_COLOR_CACHE[data_1.HTML_COLORS[htmlColor]] = FLOAT_COLOR_CACHE[htmlColor];\n}\nfunction floatArrayColor(val) {\n    val = data_1.HTML_COLORS[val] || val;\n    // NOTE: this variant is not cached because it is mostly used for uniforms\n    var _a = parseColor(val), r = _a.r, g = _a.g, b = _a.b, a = _a.a;\n    return new Float32Array([r / 255, g / 255, b / 255, a]);\n}\nexports.floatArrayColor = floatArrayColor;\nfunction floatColor(val) {\n    // If the color is already computed, we yield it\n    if (typeof FLOAT_COLOR_CACHE[val] !== \"undefined\")\n        return FLOAT_COLOR_CACHE[val];\n    var parsed = parseColor(val);\n    var r = parsed.r, g = parsed.g, b = parsed.b;\n    var a = parsed.a;\n    a = (a * 255) | 0;\n    INT32[0] = ((a << 24) | (b << 16) | (g << 8) | r) & 0xfeffffff;\n    var color = FLOAT32[0];\n    FLOAT_COLOR_CACHE[val] = color;\n    return color;\n}\nexports.floatColor = floatColor;\n/**\n * In sigma, the graph is normalized into a [0, 1], [0, 1] square, before being given to the various renderers. This\n * helps dealing with quadtree in particular.\n * But at some point, we need to rescale it so that it takes the best place in the screen, ie. we always want to see two\n * nodes \"touching\" opposite sides of the graph, with the camera being at its default state.\n *\n * This function determines this ratio.\n */\nfunction getCorrectionRatio(viewportDimensions, graphDimensions) {\n    var viewportRatio = viewportDimensions.height / viewportDimensions.width;\n    var graphRatio = graphDimensions.height / graphDimensions.width;\n    // If the stage and the graphs are in different directions (such as the graph being wider that tall while the stage\n    // is taller than wide), we can stop here to have indeed nodes touching opposite sides:\n    if ((viewportRatio < 1 && graphRatio > 1) || (viewportRatio > 1 && graphRatio < 1)) {\n        return 1;\n    }\n    // Else, we need to fit the graph inside the stage:\n    // 1. If the graph is \"squarer\" (ie. with a ratio closer to 1), we need to make the largest sides touch;\n    // 2. If the stage is \"squarer\", we need to make the smallest sides touch.\n    return Math.min(Math.max(graphRatio, 1 / graphRatio), Math.max(1 / viewportRatio, viewportRatio));\n}\nexports.getCorrectionRatio = getCorrectionRatio;\n/**\n * Function returning a matrix from the current state of the camera.\n */\n// TODO: it's possible to optimize this drastically!\nfunction matrixFromCamera(state, viewportDimensions, graphDimensions, padding, inverse) {\n    var angle = state.angle, ratio = state.ratio, x = state.x, y = state.y;\n    var width = viewportDimensions.width, height = viewportDimensions.height;\n    var matrix = (0, matrices_1.identity)();\n    var smallestDimension = Math.min(width, height) - 2 * padding;\n    var correctionRatio = getCorrectionRatio(viewportDimensions, graphDimensions);\n    if (!inverse) {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 2 * (smallestDimension / width) * correctionRatio, 2 * (smallestDimension / height) * correctionRatio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), -angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 1 / ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), -x, -y));\n    }\n    else {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), x, y));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), width / smallestDimension / 2 / correctionRatio, height / smallestDimension / 2 / correctionRatio));\n    }\n    return matrix;\n}\nexports.matrixFromCamera = matrixFromCamera;\n/**\n * All these transformations we apply on the matrix to get it rescale the graph\n * as we want make it very hard to get pixel-perfect distances in WebGL. This\n * function returns a factor that properly cancels the matrix effect on lengths.\n *\n * [jacomyal]\n * To be fully honest, I can't really explain happens here... I notice that the\n * following ratio works (ie. it correctly compensates the matrix impact on all\n * camera states I could try):\n * > `R = size(V) / size(M * V) / W`\n * as long as `M * V` is in the direction of W (ie. parallel to (Ox)). It works\n * as well with H and a vector that transforms into something parallel to (Oy).\n *\n * Also, note that we use `angle` and not `-angle` (that would seem logical,\n * since we want to anticipate the rotation), because of the fact that in WebGL,\n * the image is vertically swapped.\n */\nfunction getMatrixImpact(matrix, cameraState, viewportDimensions) {\n    var _a = (0, matrices_1.multiplyVec2)(matrix, { x: Math.cos(cameraState.angle), y: Math.sin(cameraState.angle) }, 0), x = _a.x, y = _a.y;\n    return 1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2)) / viewportDimensions.width;\n}\nexports.getMatrixImpact = getMatrixImpact;\n/**\n * Function extracting the color at the given pixel.\n */\nfunction extractPixel(gl, x, y, array) {\n    var data = array || new Uint8Array(4);\n    gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    return data;\n}\nexports.extractPixel = extractPixel;\n/**\n * Function used to know whether given webgl context can use 32 bits indices.\n */\nfunction canUse32BitsIndices(gl) {\n    var webgl2 = typeof WebGL2RenderingContext !== \"undefined\" && gl instanceof WebGL2RenderingContext;\n    return webgl2 || !!gl.getExtension(\"OES_element_index_uint\");\n}\nexports.canUse32BitsIndices = canUse32BitsIndices;\n/**\n * Check if the graph variable is a valid graph, and if sigma can render it.\n */\nfunction validateGraph(graph) {\n    // check if it's a valid graphology instance\n    if (!(0, is_graph_1.default)(graph))\n        throw new Error(\"Sigma: invalid graph instance.\");\n    // check if nodes have x/y attributes\n    graph.forEachNode(function (key, attributes) {\n        if (!Number.isFinite(attributes.x) || !Number.isFinite(attributes.y)) {\n            throw new Error(\"Sigma: Coordinates of node \".concat(key, \" are invalid. A node must have a numeric 'x' and 'y' attribute.\"));\n        }\n    });\n}\nexports.validateGraph = validateGraph;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiplyVec2 = exports.multiply = exports.translate = exports.rotate = exports.scale = exports.identity = void 0;\nfunction identity() {\n    return Float32Array.of(1, 0, 0, 0, 1, 0, 0, 0, 1);\n}\nexports.identity = identity;\n// TODO: optimize\nfunction scale(m, x, y) {\n    m[0] = x;\n    m[4] = typeof y === \"number\" ? y : x;\n    return m;\n}\nexports.scale = scale;\nfunction rotate(m, r) {\n    var s = Math.sin(r), c = Math.cos(r);\n    m[0] = c;\n    m[1] = s;\n    m[3] = -s;\n    m[4] = c;\n    return m;\n}\nexports.rotate = rotate;\nfunction translate(m, x, y) {\n    m[6] = x;\n    m[7] = y;\n    return m;\n}\nexports.translate = translate;\nfunction multiply(a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2];\n    var a10 = a[3], a11 = a[4], a12 = a[5];\n    var a20 = a[6], a21 = a[7], a22 = a[8];\n    var b00 = b[0], b01 = b[1], b02 = b[2];\n    var b10 = b[3], b11 = b[4], b12 = b[5];\n    var b20 = b[6], b21 = b[7], b22 = b[8];\n    a[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    a[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    a[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    a[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    a[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    a[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    a[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    a[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    a[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return a;\n}\nexports.multiply = multiply;\nfunction multiplyVec2(a, b, z) {\n    if (z === void 0) { z = 1; }\n    var a00 = a[0];\n    var a01 = a[1];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a20 = a[6];\n    var a21 = a[7];\n    var b0 = b.x;\n    var b1 = b.y;\n    return { x: b0 * a00 + b1 * a10 + a20 * z, y: b0 * a01 + b1 * a11 + a21 * z };\n}\nexports.multiplyVec2 = multiplyVec2;\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).graphology=e()}(this,(function(){\"use strict\";function t(e){return t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t(e)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function i(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,n){return o=i()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(t){var e=\"function\"==typeof Map?new Map:void 0;return a=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf(\"[native code]\")))return t;var i;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return o(t,arguments,n(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,t)},a(t)}function c(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}var u=function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t};function d(t,e,n,r){var i=t._nodes.get(e),o=null;return i?o=\"mixed\"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:\"directed\"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function s(e){return\"object\"===t(e)&&null!==e&&e.constructor===Object}function h(t){var e;for(e in t)return!1;return!0}function p(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function f(t,e,n){var r={enumerable:!0,configurable:!0};\"function\"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function l(t){return!!s(t)&&!(t.attributes&&!Array.isArray(t.attributes))}\"function\"==typeof Object.assign&&(u=Object.assign);var g,y={exports:{}},w=\"object\"==typeof Reflect?Reflect:null,v=w&&\"function\"==typeof w.apply?w.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};g=w&&\"function\"==typeof w.ownKeys?w.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var b=Number.isNaN||function(t){return t!=t};function m(){m.init.call(this)}y.exports=m,y.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){\"function\"==typeof t.removeListener&&t.removeListener(\"error\",i),n([].slice.call(arguments))}U(t,e,o,{once:!0}),\"error\"!==e&&function(t,e,n){\"function\"==typeof t.on&&U(t,\"error\",e,n)}(t,i,{once:!0})}))},m.EventEmitter=m,m.prototype._events=void 0,m.prototype._eventsCount=0,m.prototype._maxListeners=void 0;var k=10;function _(t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t)}function G(t){return void 0===t._maxListeners?m.defaultMaxListeners:t._maxListeners}function x(t,e,n,r){var i,o,a,c;if(_(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit(\"newListener\",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if(\"function\"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=G(t))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error(\"Possible EventEmitter memory leak detected. \"+a.length+\" \"+String(e)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");u.name=\"MaxListenersExceededWarning\",u.emitter=t,u.type=e,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return t}function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=E.bind(r);return i.listener=n,r.wrapFn=i,i}function L(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):D(i,i.length)}function S(t){var e=this._events;if(void 0!==e){var n=e[t];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function D(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function U(t,e,n,r){if(\"function\"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if(\"function\"!=typeof t.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}function N(t){if(\"function\"!=typeof t)throw new Error(\"obliterator/iterator: expecting a function!\");this.next=t}Object.defineProperty(m,\"defaultMaxListeners\",{enumerable:!0,get:function(){return k},set:function(t){if(\"number\"!=typeof t||t<0||b(t))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+t+\".\");k=t}}),m.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},m.prototype.setMaxListeners=function(t){if(\"number\"!=typeof t||t<0||b(t))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+t+\".\");return this._maxListeners=t,this},m.prototype.getMaxListeners=function(){return G(this)},m.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=\"error\"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw a.context=o,a}var c=i[t];if(void 0===c)return!1;if(\"function\"==typeof c)v(c,this,e);else{var u=c.length,d=D(c,u);for(n=0;n<u;++n)v(d[n],this,e)}return!0},m.prototype.addListener=function(t,e){return x(this,t,e,!1)},m.prototype.on=m.prototype.addListener,m.prototype.prependListener=function(t,e){return x(this,t,e,!0)},m.prototype.once=function(t,e){return _(e),this.on(t,A(this,t,e)),this},m.prototype.prependOnceListener=function(t,e){return _(e),this.prependListener(t,A(this,t,e)),this},m.prototype.removeListener=function(t,e){var n,r,i,o,a;if(_(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit(\"removeListener\",t,n.listener||e));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",t,a||e)}return this},m.prototype.off=m.prototype.removeListener,m.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},m.prototype.listeners=function(t){return L(this,t,!0)},m.prototype.rawListeners=function(t){return L(this,t,!1)},m.listenerCount=function(t,e){return\"function\"==typeof t.listenerCount?t.listenerCount(e):S.call(t,e)},m.prototype.listenerCount=S,m.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]},\"undefined\"!=typeof Symbol&&(N.prototype[Symbol.iterator]=function(){return this}),N.of=function(){var t=arguments,e=t.length,n=0;return new N((function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}}))},N.empty=function(){return new N((function(){return{done:!0}}))},N.fromSequence=function(t){var e=0,n=t.length;return new N((function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}}))},N.is=function(t){return t instanceof N||\"object\"==typeof t&&null!==t&&\"function\"==typeof t.next};var O=N,j={};j.ARRAY_BUFFER_SUPPORT=\"undefined\"!=typeof ArrayBuffer,j.SYMBOL_SUPPORT=\"undefined\"!=typeof Symbol;var C=O,M=j,z=M.ARRAY_BUFFER_SUPPORT,W=M.SYMBOL_SUPPORT;var P=function(t){var e=function(t){return\"string\"==typeof t||Array.isArray(t)||z&&ArrayBuffer.isView(t)?C.fromSequence(t):\"object\"!=typeof t||null===t?null:W&&\"function\"==typeof t[Symbol.iterator]?t[Symbol.iterator]():\"function\"==typeof t.next?t:null}(t);if(!e)throw new Error(\"obliterator: target is not iterable nor a valid iterator.\");return e},R=P,K=function(t,e){for(var n,r=arguments.length>1?e:1/0,i=r!==1/0?new Array(r):[],o=0,a=R(t);;){if(o===r)return i;if((n=a.next()).done)return o!==e&&(i.length=o),i;i[o++]=n.value}},T=function(t){function n(e){var n;return(n=t.call(this)||this).name=\"GraphError\",n.message=e,n}return e(n,t),n}(a(Error)),B=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"InvalidArgumentsGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T),F=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"NotFoundGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T),I=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"UsageGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return e(n,t),n}(T);function Y(t,e){this.key=t,this.attributes=e,this.clear()}function q(t,e){this.key=t,this.attributes=e,this.clear()}function J(t,e){this.key=t,this.attributes=e,this.clear()}function V(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}Y.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},J.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},V.prototype.attach=function(){var t=\"out\",e=\"in\";this.undirected&&(t=e=\"undirected\");var n=this.source.key,r=this.target.key;this.source[t][r]=this,this.undirected&&n===r||(this.target[e][n]=this)},V.prototype.attachMulti=function(){var t=\"out\",e=\"in\",n=this.source.key,r=this.target.key;this.undirected&&(t=e=\"undirected\");var i=this.source[t],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[e][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[e][n]=this},V.prototype.detach=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),delete this.source[n][e],delete this.target[r][t]},V.prototype.detachMulti=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),void 0===this.previous?void 0===this.next?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};function H(t,e,n,r,i,o,a){var c,u,d,s;if(r=\"\"+r,0===n){if(!(c=t._nodes.get(r)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" node in the graph.'));d=i,s=o}else if(3===n){if(i=\"\"+i,!(u=t._edges.get(i)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(i,'\" edge in the graph.'));var h=u.source.key,p=u.target.key;if(r===h)c=u.target;else{if(r!==p)throw new F(\"Graph.\".concat(e,': the \"').concat(r,'\" node is not attached to the \"').concat(i,'\" edge (').concat(h,\", \").concat(p,\").\"));c=u.source}d=o,s=a}else{if(!(u=t._edges.get(r)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" edge in the graph.'));c=1===n?u.source:u.target,d=i,s=o}return[c,d,s]}var Q=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return a.attributes[c]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){return H(this,e,n,t,r)[0].attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return a.attributes.hasOwnProperty(c)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=H(this,e,n,t,r,i,o),c=a[0],u=a[1],d=a[2];return c.attributes[u]=d,this.emit(\"nodeAttributesUpdated\",{key:c.key,type:\"set\",attributes:c.attributes,name:u}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=H(this,e,n,t,r,i,o),c=a[0],u=a[1],d=a[2];if(\"function\"!=typeof d)throw new B(\"Graph.\".concat(e,\": updater should be a function.\"));var s=c.attributes,h=d(s[u]);return s[u]=h,this.emit(\"nodeAttributesUpdated\",{key:c.key,type:\"set\",attributes:c.attributes,name:u}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];return delete a.attributes[c],this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"remove\",attributes:a.attributes,name:c}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(!s(c))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return a.attributes=c,this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"replace\",attributes:a.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(!s(c))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return u(a.attributes,c),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"merge\",attributes:a.attributes,data:c}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=H(this,e,n,t,r,i),a=o[0],c=o[1];if(\"function\"!=typeof c)throw new B(\"Graph.\".concat(e,\": provided updater is not a function.\"));return a.attributes=c(a.attributes),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"update\",attributes:a.attributes}),this}}}];var X=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes[r]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t){var r;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>1){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var i=\"\"+t,o=\"\"+arguments[1];if(!(r=d(this,i,o,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(i,'\" - \"').concat(o,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(r=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return r.attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,c=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,c,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(c,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return o.attributes[r]=i,this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,c=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=d(this,a,c,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(c,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof i)throw new B(\"Graph.\".concat(e,\": updater should be a function.\"));return o.attributes[r]=i(o.attributes[r]),this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return delete i.attributes[r],this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"remove\",attributes:i.attributes,name:r}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!s(r))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return i.attributes=r,this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"replace\",attributes:i.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!s(r))throw new B(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return u(i.attributes,r),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"merge\",attributes:i.attributes,data:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new I(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new I(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=d(this,o,a,n)))throw new F(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new I(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new F(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof r)throw new B(\"Graph.\".concat(e,\": provided updater is not a function.\"));return i.attributes=r(i.attributes),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"update\",attributes:i.attributes}),this}}}];var Z=O,$=P,tt=function(){var t=arguments,e=null,n=-1;return new Z((function(){for(var r=null;;){if(null===e){if(++n>=t.length)return{done:!0};e=$(t[n])}if(!0!==(r=e.next()).done)break;e=null}return r}))},et=[{name:\"edges\",type:\"mixed\"},{name:\"inEdges\",type:\"directed\",direction:\"in\"},{name:\"outEdges\",type:\"directed\",direction:\"out\"},{name:\"inboundEdges\",type:\"mixed\",direction:\"in\"},{name:\"outboundEdges\",type:\"mixed\",direction:\"out\"},{name:\"directedEdges\",type:\"directed\"},{name:\"undirectedEdges\",type:\"undirected\"}];function nt(t,e,n,r){var i=!1;for(var o in e)if(o!==r){var a=e[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),t&&i)return a.key}}function rt(t,e,n,r){var i,o,a,c=!1;for(var u in e)if(u!==r){i=e[u];do{if(o=i.source,a=i.target,c=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),t&&c)return i.key;i=i.next}while(void 0!==i)}}function it(t,e){var n,r=Object.keys(t),i=r.length,o=0;return new O((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===e){n=void 0;continue}n=t[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function ot(t,e,n,r){var i=e[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&t?i.key:void 0}}function at(t,e,n,r){var i=e[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&o)return i.key;i=i.next}while(void 0!==i)}}function ct(t,e){var n=t[e];return void 0!==n.next?new O((function(){if(!n)return{done:!0};var t={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:t}})):O.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function ut(t,e){if(0===t.size)return[];if(\"mixed\"===e||e===t.type)return\"function\"==typeof Array.from?Array.from(t._edges.keys()):K(t._edges.keys(),t._edges.size);for(var n,r,i=\"undirected\"===e?t.undirectedSize:t.directedSize,o=new Array(i),a=\"undirected\"===e,c=t._edges.values(),u=0;!0!==(n=c.next()).done;)(r=n.value).undirected===a&&(o[u++]=r.key);return o}function dt(t,e,n,r){if(0!==e.size)for(var i,o,a=\"mixed\"!==n&&n!==e.type,c=\"undirected\"===n,u=!1,d=e._edges.values();!0!==(i=d.next()).done;)if(o=i.value,!a||o.undirected===c){var s=o,h=s.key,p=s.attributes,f=s.source,l=s.target;if(u=r(h,p,f.key,l.key,f.attributes,l.attributes,o.undirected),t&&u)return h}}function st(t,e){if(0===t.size)return O.empty();var n=\"mixed\"!==e&&e!==t.type,r=\"undirected\"===e,i=t._edges.values();return new O((function(){for(var t,e;;){if((t=i.next()).done)return t;if(e=t.value,!n||e.undirected===r)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}function ht(t,e,n,r,i,o){var a,c=e?rt:nt;if(\"undirected\"!==n){if(\"out\"!==r&&(a=c(t,i.in,o),t&&a))return a;if(\"in\"!==r&&(a=c(t,i.out,o,r?void 0:i.key),t&&a))return a}if(\"directed\"!==n&&(a=c(t,i.undirected,o),t&&a))return a}function pt(t,e,n,r){var i=[];return ht(!1,t,e,n,r,(function(t){i.push(t)})),i}function ft(t,e,n){var r=O.empty();return\"undirected\"!==t&&(\"out\"!==e&&void 0!==n.in&&(r=tt(r,it(n.in))),\"in\"!==e&&void 0!==n.out&&(r=tt(r,it(n.out,e?void 0:n.key)))),\"directed\"!==t&&void 0!==n.undirected&&(r=tt(r,it(n.undirected))),r}function lt(t,e,n,r,i,o,a){var c,u=n?at:ot;if(\"undirected\"!==e){if(void 0!==i.in&&\"out\"!==r&&(c=u(t,i.in,o,a),t&&c))return c;if(void 0!==i.out&&\"in\"!==r&&(r||i.key!==o)&&(c=u(t,i.out,o,a),t&&c))return c}if(\"directed\"!==e&&void 0!==i.undirected&&(c=u(t,i.undirected,o,a),t&&c))return c}function gt(t,e,n,r,i){var o=[];return lt(!1,t,e,n,r,i,(function(t){o.push(t)})),o}function yt(t,e,n,r){var i=O.empty();return\"undirected\"!==t&&(void 0!==n.in&&\"out\"!==e&&r in n.in&&(i=tt(i,ct(n.in,r))),void 0!==n.out&&\"in\"!==e&&r in n.out&&(e||n.key!==r)&&(i=tt(i,ct(n.out,r)))),\"directed\"!==t&&void 0!==n.undirected&&r in n.undirected&&(i=tt(i,ct(n.undirected,r))),i}var wt=[{name:\"neighbors\",type:\"mixed\"},{name:\"inNeighbors\",type:\"directed\",direction:\"in\"},{name:\"outNeighbors\",type:\"directed\",direction:\"out\"},{name:\"inboundNeighbors\",type:\"mixed\",direction:\"in\"},{name:\"outboundNeighbors\",type:\"mixed\",direction:\"out\"},{name:\"directedNeighbors\",type:\"directed\"},{name:\"undirectedNeighbors\",type:\"undirected\"}];function vt(){this.A=null,this.B=null}function bt(t,e,n,r,i){for(var o in r){var a=r[o],c=a.source,u=a.target,d=c===n?u:c;if(!e||!e.has(d.key)){var s=i(d.key,d.attributes);if(t&&s)return d.key}}}function mt(t,e,n,r,i){if(\"mixed\"!==e){if(\"undirected\"===e)return bt(t,null,r,r.undirected,i);if(\"string\"==typeof n)return bt(t,null,r,r[n],i)}var o,a=new vt;if(\"undirected\"!==e){if(\"out\"!==n){if(o=bt(t,null,r,r.in,i),t&&o)return o;a.wrap(r.in)}if(\"in\"!==n){if(o=bt(t,a,r,r.out,i),t&&o)return o;a.wrap(r.out)}}if(\"directed\"!==e&&(o=bt(t,a,r,r.undirected,i),t&&o))return o}function kt(t,e,n){var r=Object.keys(n),i=r.length,o=0;return new O((function(){var a=null;do{if(o>=i)return t&&t.wrap(n),{done:!0};var c=n[r[o++]],u=c.source,d=c.target;a=u===e?d:u,t&&t.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function _t(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new F(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return Object.keys(n.undirected);if(\"string\"==typeof e)return Object.keys(n[e])}var r=[];return mt(!1,t,e,n,(function(t){r.push(t)})),r}(\"mixed\"===r?this.type:r,i,e)}}function Gt(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return kt(null,n,n.undirected);if(\"string\"==typeof e)return kt(null,n,n[e])}var r=O.empty(),i=new vt;return\"undirected\"!==t&&(\"out\"!==e&&(r=tt(r,kt(i,n,n.in))),\"in\"!==e&&(r=tt(r,kt(i,n,n.out)))),\"directed\"!==t&&(r=tt(r,kt(i,n,n.undirected))),r}(\"mixed\"===r?this.type:r,i,e)}}function xt(t,e,n,r,i){for(var o,a,c,u,d,s,h,p=r._nodes.values(),f=r.type;!0!==(o=p.next()).done;){var l=!1;if(a=o.value,\"undirected\"!==f)for(c in u=a.out){d=u[c];do{if(s=d.target,l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h)return d;d=d.next}while(d)}if(\"directed\"!==f)for(c in u=a.undirected)if(!(e&&a.key>c)){d=u[c];do{if((s=d.target).key!==c&&(s=d.source),l=!0,h=i(a.key,s.key,a.attributes,s.attributes,d.key,d.attributes,d.undirected),t&&h)return d;d=d.next}while(d)}if(n&&!l&&(h=i(a.key,null,a.attributes,null,null,null,null),t&&h))return null}}function Et(t){if(!s(t))throw new B('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a \"key\" property.');if(!(\"key\"in t))throw new B(\"Graph.import: serialized node is missing its key.\");if(\"attributes\"in t&&(!s(t.attributes)||null===t.attributes))throw new B(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\")}function At(t){if(!s(t))throw new B('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a \"source\" & \"target\" property.');if(!(\"source\"in t))throw new B(\"Graph.import: serialized edge is missing its source.\");if(!(\"target\"in t))throw new B(\"Graph.import: serialized edge is missing its target.\");if(\"attributes\"in t&&(!s(t.attributes)||null===t.attributes))throw new B(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\");if(\"undirected\"in t&&\"boolean\"!=typeof t.undirected)throw new B(\"Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.\")}vt.prototype.wrap=function(t){null===this.A?this.A=t:null===this.B&&(this.B=t)},vt.prototype.has=function(t){return null!==this.A&&t in this.A||null!==this.B&&t in this.B};var Lt,St=(Lt=255&Math.floor(256*Math.random()),function(){return Lt++}),Dt=new Set([\"directed\",\"undirected\",\"mixed\"]),Ut=new Set([\"domain\",\"_events\",\"_eventsCount\",\"_maxListeners\"]),Nt={allowSelfLoops:!0,multi:!1,type:\"mixed\"};function Ot(t,e,n){var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}function jt(t,e,n,r,i,o,a,c){if(!r&&\"undirected\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.\"));if(c&&!s(c))throw new B(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(c,'\"'));if(o=\"\"+o,a=\"\"+a,c=c||{},!t.allowSelfLoops&&o===a)throw new I(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var u=t._nodes.get(o),d=t._nodes.get(a);if(!u)throw new F(\"Graph.\".concat(e,': source node \"').concat(o,'\" not found.'));if(!d)throw new F(\"Graph.\".concat(e,': target node \"').concat(a,'\" not found.'));var h={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new I(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));if(!t.multi&&(r?void 0!==u.undirected[a]:void 0!==u.out[a]))throw new I(\"Graph.\".concat(e,': an edge linking \"').concat(o,'\" to \"').concat(a,\"\\\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.\"));var p=new V(r,i,u,d,c);t._edges.set(i,p);var f=o===a;return r?(u.undirectedDegree++,d.undirectedDegree++,f&&(u.undirectedLoops++,t._undirectedSelfLoopCount++)):(u.outDegree++,d.inDegree++,f&&(u.directedLoops++,t._directedSelfLoopCount++)),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,h.key=i,t.emit(\"edgeAdded\",h),i}function Ct(t,e,n,r,i,o,a,c,d){if(!r&&\"undirected\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new I(\"Graph.\".concat(e,\": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.\"));if(c)if(d){if(\"function\"!=typeof c)throw new B(\"Graph.\".concat(e,': invalid updater function. Expecting a function but got \"').concat(c,'\"'))}else if(!s(c))throw new B(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(c,'\"'));var h;if(o=\"\"+o,a=\"\"+a,d&&(h=c,c=void 0),!t.allowSelfLoops&&o===a)throw new I(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var p,f,l=t._nodes.get(o),g=t._nodes.get(a);if(!n&&(p=t._edges.get(i))){if(!(p.source.key===o&&p.target.key===a||r&&p.source.key===a&&p.target.key===o))throw new I(\"Graph.\".concat(e,': inconsistency detected when attempting to merge the \"').concat(i,'\" edge with \"').concat(o,'\" source & \"').concat(a,'\" target vs. (\"').concat(p.source.key,'\", \"').concat(p.target.key,'\").'));f=p}if(f||t.multi||!l||(f=r?l.undirected[a]:l.out[a]),f){var y=[f.key,!1,!1,!1];if(d?!h:!c)return y;if(d){var w=f.attributes;f.attributes=h(w),t.emit(\"edgeAttributesUpdated\",{type:\"replace\",key:f.key,attributes:f.attributes})}else u(f.attributes,c),t.emit(\"edgeAttributesUpdated\",{type:\"merge\",key:f.key,attributes:f.attributes,data:c});return y}c=c||{},d&&h&&(c=h(c));var v={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new I(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));var b=!1,m=!1;l||(l=Ot(t,o,{}),b=!0,o===a&&(g=l,m=!0)),g||(g=Ot(t,a,{}),m=!0),p=new V(r,i,l,g,c),t._edges.set(i,p);var k=o===a;return r?(l.undirectedDegree++,g.undirectedDegree++,k&&(l.undirectedLoops++,t._undirectedSelfLoopCount++)):(l.outDegree++,g.inDegree++,k&&(l.directedLoops++,t._directedSelfLoopCount++)),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit(\"edgeAdded\",v),[i,!0,b,m]}function Mt(t,e){t._edges.delete(e.key);var n=e.source,r=e.target,i=e.attributes,o=e.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,a&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),o?t._undirectedSize--:t._directedSize--,t.emit(\"edgeDropped\",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:o})}var zt=function(n){function r(t){var e;if(e=n.call(this)||this,\"boolean\"!=typeof(t=u({},Nt,t)).multi)throw new B(\"Graph.constructor: invalid 'multi' option. Expecting a boolean but got \\\"\".concat(t.multi,'\".'));if(!Dt.has(t.type))throw new B('Graph.constructor: invalid \\'type\\' option. Should be one of \"mixed\", \"directed\" or \"undirected\" but got \"'.concat(t.type,'\".'));if(\"boolean\"!=typeof t.allowSelfLoops)throw new B(\"Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \\\"\".concat(t.allowSelfLoops,'\".'));var r=\"mixed\"===t.type?Y:\"directed\"===t.type?q:J;p(c(e),\"NodeDataClass\",r);var i=\"geid_\"+St()+\"_\",o=0;return p(c(e),\"_attributes\",{}),p(c(e),\"_nodes\",new Map),p(c(e),\"_edges\",new Map),p(c(e),\"_directedSize\",0),p(c(e),\"_undirectedSize\",0),p(c(e),\"_directedSelfLoopCount\",0),p(c(e),\"_undirectedSelfLoopCount\",0),p(c(e),\"_edgeKeyGenerator\",(function(){var t;do{t=i+o++}while(e._edges.has(t));return t})),p(c(e),\"_options\",t),Ut.forEach((function(t){return p(c(e),t,e[t])})),f(c(e),\"order\",(function(){return e._nodes.size})),f(c(e),\"size\",(function(){return e._edges.size})),f(c(e),\"directedSize\",(function(){return e._directedSize})),f(c(e),\"undirectedSize\",(function(){return e._undirectedSize})),f(c(e),\"selfLoopCount\",(function(){return e._directedSelfLoopCount+e._undirectedSelfLoopCount})),f(c(e),\"directedSelfLoopCount\",(function(){return e._directedSelfLoopCount})),f(c(e),\"undirectedSelfLoopCount\",(function(){return e._undirectedSelfLoopCount})),f(c(e),\"multi\",e._options.multi),f(c(e),\"type\",e._options.type),f(c(e),\"allowSelfLoops\",e._options.allowSelfLoops),f(c(e),\"implementation\",(function(){return\"graphology\"})),e}e(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(t){return this._nodes.has(\"\"+t)},i.hasDirectedEdge=function(t,e){if(\"undirected\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);return!!i&&i.out.hasOwnProperty(e)}throw new B(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasUndirectedEdge=function(t,e){if(\"directed\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);return!!i&&i.undirected.hasOwnProperty(e)}throw new B(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasEdge=function(t,e){if(1===arguments.length){var n=\"\"+t;return this._edges.has(n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var r=this._nodes.get(t);return!!r&&(void 0!==r.out&&r.out.hasOwnProperty(e)||void 0!==r.undirected&&r.undirected.hasOwnProperty(e))}throw new B(\"Graph.hasEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.directedEdge=function(t,e){if(\"undirected\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new I(\"Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new F('Graph.directedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.directedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(t,e){if(\"directed\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new I(\"Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new F('Graph.undirectedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.undirectedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}},i.edge=function(t,e){if(this.multi)throw new I(\"Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.\");t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.edge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F('Graph.edge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areDirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)},i.areOutNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areOutNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out},i.areInNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areInNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in},i.areUndirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areUndirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"!==this.type&&e in n.undirected},i.areNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)||\"directed\"!==this.type&&e in n.undirected},i.areInboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areInboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in||\"directed\"!==this.type&&e in n.undirected},i.areOutboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new F('Graph.areOutboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out||\"directed\"!==this.type&&e in n.undirected},i.inDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree},i.outDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree},i.directedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.directedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree},i.undirectedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.undirectedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree},i.inboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree),n},i.outboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.outDegree),n},i.degree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.degree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree),n},i.inDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree-e.directedLoops},i.outDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree-e.directedLoops},i.directedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.directedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree-2*e.directedLoops},i.undirectedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.undirectedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree-2*e.undirectedLoops},i.inboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.inboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.inDegree,r+=e.directedLoops),n-r},i.outboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.outboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.outDegree,r+=e.directedLoops),n-r},i.degreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new F('Graph.degreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var n=0,r=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree,r+=2*e.directedLoops),n-r},i.source=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.source: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source.key},i.target=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.target: could not find the \"'.concat(t,'\" edge in the graph.'));return e.target.key},i.extremities=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.extremities: could not find the \"'.concat(t,'\" edge in the graph.'));return[e.source.key,e.target.key]},i.opposite=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(e);if(!n)throw new F('Graph.opposite: could not find the \"'.concat(e,'\" edge in the graph.'));var r=n.source.key,i=n.target.key;if(t===r)return i;if(t===i)return r;throw new F('Graph.opposite: the \"'.concat(t,'\" node is not attached to the \"').concat(e,'\" edge (').concat(r,\", \").concat(i,\").\"))},i.hasExtremity=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(t);if(!n)throw new F('Graph.hasExtremity: could not find the \"'.concat(t,'\" edge in the graph.'));return n.source.key===e||n.target.key===e},i.isUndirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isUndirected: could not find the \"'.concat(t,'\" edge in the graph.'));return e.undirected},i.isDirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isDirected: could not find the \"'.concat(t,'\" edge in the graph.'));return!e.undirected},i.isSelfLoop=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new F('Graph.isSelfLoop: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source===e.target},i.addNode=function(t,e){var n=function(t,e,n){if(n&&!s(n))throw new B('Graph.addNode: invalid attributes. Expecting an object but got \"'.concat(n,'\"'));if(e=\"\"+e,n=n||{},t._nodes.has(e))throw new I('Graph.addNode: the \"'.concat(e,'\" node already exist in the graph.'));var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}(this,t,e);return n.key},i.mergeNode=function(t,e){if(e&&!s(e))throw new B('Graph.mergeNode: invalid attributes. Expecting an object but got \"'.concat(e,'\"'));t=\"\"+t,e=e||{};var n=this._nodes.get(t);return n?(e&&(u(n.attributes,e),this.emit(\"nodeAttributesUpdated\",{type:\"merge\",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:e}),[t,!0])},i.updateNode=function(t,e){if(e&&\"function\"!=typeof e)throw new B('Graph.updateNode: invalid updater function. Expecting a function but got \"'.concat(e,'\"'));t=\"\"+t;var n=this._nodes.get(t);if(n){if(e){var r=n.attributes;n.attributes=e(r),this.emit(\"nodeAttributesUpdated\",{type:\"replace\",key:t,attributes:n.attributes})}return[t,!1]}var i=e?e({}):{};return n=new this.NodeDataClass(t,i),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:i}),[t,!0]},i.dropNode=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new F('Graph.dropNode: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"!==this.type){for(var r in n.out){e=n.out[r];do{Mt(this,e),e=e.next}while(e)}for(var i in n.in){e=n.in[i];do{Mt(this,e),e=e.next}while(e)}}if(\"directed\"!==this.type)for(var o in n.undirected){e=n.undirected[o];do{Mt(this,e),e=e.next}while(e)}this._nodes.delete(t),this.emit(\"nodeDropped\",{key:t,attributes:n.attributes})},i.dropEdge=function(t){var e;if(arguments.length>1){var n=\"\"+arguments[0],r=\"\"+arguments[1];if(!(e=d(this,n,r,this.type)))throw new F('Graph.dropEdge: could not find the \"'.concat(n,'\" -> \"').concat(r,'\" edge in the graph.'))}else if(t=\"\"+t,!(e=this._edges.get(t)))throw new F('Graph.dropEdge: could not find the \"'.concat(t,'\" edge in the graph.'));return Mt(this,e),this},i.dropDirectedEdge=function(t,e){if(arguments.length<2)throw new I(\"Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new I(\"Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=d(this,t=\"\"+t,e=\"\"+e,\"directed\");if(!n)throw new F('Graph.dropDirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.dropUndirectedEdge=function(t,e){if(arguments.length<2)throw new I(\"Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new I(\"Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=d(this,t,e,\"undirected\");if(!n)throw new F('Graph.dropUndirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit(\"cleared\")},i.clearEdges=function(){for(var t,e=this._nodes.values();!0!==(t=e.next()).done;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit(\"edgesCleared\")},i.getAttribute=function(t){return this._attributes[t]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},i.setAttribute=function(t,e){return this._attributes[t]=e,this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.updateAttribute=function(t,e){if(\"function\"!=typeof e)throw new B(\"Graph.updateAttribute: updater should be a function.\");var n=this._attributes[t];return this._attributes[t]=e(n),this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.removeAttribute=function(t){return delete this._attributes[t],this.emit(\"attributesUpdated\",{type:\"remove\",attributes:this._attributes,name:t}),this},i.replaceAttributes=function(t){if(!s(t))throw new B(\"Graph.replaceAttributes: provided attributes are not a plain object.\");return this._attributes=t,this.emit(\"attributesUpdated\",{type:\"replace\",attributes:this._attributes}),this},i.mergeAttributes=function(t){if(!s(t))throw new B(\"Graph.mergeAttributes: provided attributes are not a plain object.\");return u(this._attributes,t),this.emit(\"attributesUpdated\",{type:\"merge\",attributes:this._attributes,data:t}),this},i.updateAttributes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.updateAttributes: provided updater is not a function.\");return this._attributes=t(this._attributes),this.emit(\"attributesUpdated\",{type:\"update\",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.updateEachNodeAttributes: expecting an updater function.\");if(e&&!l(e))throw new B(\"Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=t(r.key,r.attributes);this.emit(\"eachNodeAttributesUpdated\",{hints:e||null})},i.updateEachEdgeAttributes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.updateEachEdgeAttributes: expecting an updater function.\");if(e&&!l(e))throw new B(\"Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=t(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit(\"eachEdgeAttributesUpdated\",{hints:e||null})},i.forEachAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAdjacencyEntry: expecting a callback.\");xt(!1,!1,!1,this,t)},i.forEachAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.\");xt(!1,!1,!0,this,t)},i.forEachAssymetricAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAssymetricAdjacencyEntry: expecting a callback.\");xt(!1,!0,!1,this,t)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.\");xt(!1,!0,!0,this,t)},i.nodes=function(){return\"function\"==typeof Array.from?Array.from(this._nodes.keys()):K(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.forEachNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)},i.findNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.findNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return n.key},i.mapNodes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.mapNode: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(e=r.next()).done;)n=e.value,i[o++]=t(n.key,n.attributes);return i},i.someNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.someNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return!0;return!1},i.everyNode=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.everyNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(!t((n=e.value).key,n.attributes))return!1;return!0},i.filterNodes=function(t){if(\"function\"!=typeof t)throw new B(\"Graph.filterNodes: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=[];!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(t,e){if(\"function\"!=typeof t)throw new B(\"Graph.reduceNodes: expecting a callback.\");if(arguments.length<2)throw new B(\"Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\");for(var n,r,i=e,o=this._nodes.values();!0!==(n=o.next()).done;)i=t(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var t=this._nodes.values();return new O((function(){var e=t.next();if(e.done)return e;var n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var t=this,e=new Array(this._nodes.size),n=0;this._nodes.forEach((function(t,r){e[n++]=function(t,e){var n={key:t};return h(e.attributes)||(n.attributes=u({},e.attributes)),n}(r,t)}));var r=new Array(this._edges.size);return n=0,this._edges.forEach((function(e,i){r[n++]=function(t,e,n){var r={key:e,source:n.source.key,target:n.target.key};return h(n.attributes)||(r.attributes=u({},n.attributes)),\"mixed\"===t&&n.undirected&&(r.undirected=!0),r}(t.type,i,e)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:e,edges:r}},i.import=function(t){var e,n,i,o,a,c=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t instanceof r)return t.forEachNode((function(t,e){u?c.mergeNode(t,e):c.addNode(t,e)})),t.forEachEdge((function(t,e,n,r,i,o,a){u?a?c.mergeUndirectedEdgeWithKey(t,n,r,e):c.mergeDirectedEdgeWithKey(t,n,r,e):a?c.addUndirectedEdgeWithKey(t,n,r,e):c.addDirectedEdgeWithKey(t,n,r,e)})),this;if(!s(t))throw new B(\"Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.\");if(t.attributes){if(!s(t.attributes))throw new B(\"Graph.import: invalid attributes. Expecting a plain object.\");u?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}if(t.nodes){if(i=t.nodes,!Array.isArray(i))throw new B(\"Graph.import: invalid nodes. Expecting an array.\");for(e=0,n=i.length;e<n;e++){Et(o=i[e]);var d=o,h=d.key,p=d.attributes;u?this.mergeNode(h,p):this.addNode(h,p)}}if(t.edges){var f=!1;if(\"undirected\"===this.type&&(f=!0),i=t.edges,!Array.isArray(i))throw new B(\"Graph.import: invalid edges. Expecting an array.\");for(e=0,n=i.length;e<n;e++){At(a=i[e]);var l=a,g=l.source,y=l.target,w=l.attributes,v=l.undirected,b=void 0===v?f:v;\"key\"in a?(u?b?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:b?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,a.key,g,y,w):(u?b?this.mergeUndirectedEdge:this.mergeDirectedEdge:b?this.addUndirectedEdge:this.addDirectedEdge).call(this,g,y,w)}}return this},i.nullCopy=function(t){var e=new r(u({},this._options,t));return e.replaceAttributes(u({},this.getAttributes())),e},i.emptyCopy=function(t){var e=this.nullCopy(t);return this._nodes.forEach((function(t,n){var r=u({},t.attributes);t=new e.NodeDataClass(n,r),e._nodes.set(n,t)})),e},i.copy=function(t){if(\"string\"==typeof(t=t||{}).type&&t.type!==this.type&&\"mixed\"!==t.type)throw new I('Graph.copy: cannot create an incompatible copy from \"'.concat(this.type,'\" type to \"').concat(t.type,'\" because this would mean losing information about the current graph.'));if(\"boolean\"==typeof t.multi&&t.multi!==this.multi&&!0!==t.multi)throw new I(\"Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.\");if(\"boolean\"==typeof t.allowSelfLoops&&t.allowSelfLoops!==this.allowSelfLoops&&!0!==t.allowSelfLoops)throw new I(\"Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.\");for(var e,n,r=this.emptyCopy(t),i=this._edges.values();!0!==(e=i.next()).done;)jt(r,\"copy\",!1,(n=e.value).undirected,n.key,n.source.key,n.target.key,u({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return\"[object Graph]\"},i.inspect=function(){var e=this,n={};this._nodes.forEach((function(t,e){n[e]=t.attributes}));var r={},i={};this._edges.forEach((function(t,n){var o,a=t.undirected?\"--\":\"->\",c=\"\",u=t.source.key,d=t.target.key;t.undirected&&u>d&&(o=u,u=d,d=o);var s=\"(\".concat(u,\")\").concat(a,\"(\").concat(d,\")\");n.startsWith(\"geid_\")?e.multi&&(void 0===i[s]?i[s]=0:i[s]++,c+=\"\".concat(i[s],\". \")):c+=\"[\".concat(n,\"]: \"),r[c+=s]=t.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Ut.has(a)&&\"function\"!=typeof this[a]&&\"symbol\"!==t(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,p(o,\"constructor\",this.constructor),o},r}(y.exports.EventEmitter);\"undefined\"!=typeof Symbol&&(zt.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=zt.prototype.inspect),[{name:function(t){return\"\".concat(t,\"Edge\")},generateKey:!0},{name:function(t){return\"\".concat(t,\"DirectedEdge\")},generateKey:!0,type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdge\")},generateKey:!0,type:\"undirected\"},{name:function(t){return\"\".concat(t,\"EdgeWithKey\")}},{name:function(t){return\"\".concat(t,\"DirectedEdgeWithKey\")},type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdgeWithKey\")},type:\"undirected\"}].forEach((function(t){[\"add\",\"merge\",\"update\"].forEach((function(e){var n=t.name(e),r=\"add\"===e?jt:Ct;t.generateKey?zt.prototype[n]=function(i,o,a){return r(this,n,!0,\"undirected\"===(t.type||this.type),null,i,o,a,\"update\"===e)}:zt.prototype[n]=function(i,o,a,c){return r(this,n,!1,\"undirected\"===(t.type||this.type),i,o,a,c,\"update\"===e)}}))})),function(t){Q.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Node\"),0),r(t,n(\"Source\"),1),r(t,n(\"Target\"),2),r(t,n(\"Opposite\"),3)}))}(zt),function(t){X.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Edge\"),\"mixed\"),r(t,n(\"DirectedEdge\"),\"directed\"),r(t,n(\"UndirectedEdge\"),\"undirected\")}))}(zt),function(t){et.forEach((function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];if(!arguments.length)return ut(this,r);if(1===arguments.length){t=\"\"+t;var o=this._nodes.get(t);if(void 0===o)throw new F(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return pt(this.multi,\"mixed\"===r?this.type:r,i,o)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new F(\"Graph.\".concat(n,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(n,':  could not find the \"').concat(e,'\" target node in the graph.'));return gt(r,this.multi,i,a,e)}throw new B(\"Graph.\".concat(n,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){if(1===arguments.length)return dt(!1,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ht(!1,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var c=this._nodes.get(t);if(!c)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return lt(!1,r,this.multi,i,c,e,n)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){var t,e=Array.prototype.slice.call(arguments),n=e.pop();if(0===e.length){var i=0;\"directed\"!==r&&(i+=this.undirectedSize),\"undirected\"!==r&&(i+=this.directedSize),t=new Array(i);var a=0;e.push((function(e,r,i,o,c,u,d){t[a++]=n(e,r,i,o,c,u,d)}))}else t=[],e.push((function(e,r,i,o,a,c,u){t.push(n(e,r,i,o,a,c,u))}));return this[o].apply(this,e),t};var c=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=[];return t.push((function(t,r,i,o,a,c,u){e(t,r,i,o,a,c,u)&&n.push(t)})),this[o].apply(this,t),n};var u=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(){var t,e,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new B(\"Graph.\".concat(u,\": invalid number of arguments (expecting 2, 3 or 4 and got \").concat(n.length,\").\"));if(\"function\"==typeof n[n.length-1]&&\"function\"!=typeof n[n.length-2])throw new B(\"Graph.\".concat(u,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));2===n.length?(t=n[0],e=n[1],n=[]):3===n.length?(t=n[1],e=n[2],n=[n[0]]):4===n.length&&(t=n[2],e=n[3],n=[n[0],n[1]]);var r=e;return n.push((function(e,n,i,o,a,c,u){r=t(r,e,n,i,o,a,c,u)})),this[o].apply(this,n),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"find\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return dt(!0,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ht(!0,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var c=this._nodes.get(t);if(!c)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return lt(!0,r,this.multi,i,c,e,n)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))};var a=\"some\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,c){return e(t,n,r,i,o,a,c)})),!!this[o].apply(this,t)};var c=\"every\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[c]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,c){return!e(t,n,r,i,o,a,c)})),!this[o].apply(this,t)}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();if(!arguments.length)return st(this,r);if(1===arguments.length){t=\"\"+t;var n=this._nodes.get(t);if(!n)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return ft(r,i,n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new F(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return yt(r,i,a,e)}throw new B(\"Graph.\".concat(o,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e)}))}(zt),function(t){wt.forEach((function(e){_t(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new F(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));mt(!1,\"mixed\"===r?this.type:r,i,n,e)}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(t,e){var n=[];return this[o](t,(function(t,r){n.push(e(t,r))})),n};var c=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(t,e){var n=[];return this[o](t,(function(t,r){e(t,r)&&n.push(t)})),n};var u=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(t,e,n){if(arguments.length<3)throw new B(\"Graph.\".concat(u,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));var r=n;return this[o](t,(function(t,n){r=e(r,t,n)})),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n[0].toUpperCase()+n.slice(1,-1),a=\"find\"+o;t.prototype[a]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new F(\"Graph.\".concat(a,': could not find the \"').concat(t,'\" node in the graph.'));return mt(!0,\"mixed\"===r?this.type:r,i,n,e)}};var c=\"some\"+o;t.prototype[c]=function(t,e){return!!this[a](t,e)};var u=\"every\"+o;t.prototype[u]=function(t,e){return!this[a](t,(function(t,n){return!e(t,n)}))}}(t,e),Gt(t,e)}))}(zt);var Wt=function(t){function n(e){var n=u({type:\"directed\"},e);if(\"multi\"in n&&!1!==n.multi)throw new B(\"DirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"directed\"!==n.type)throw new B('DirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Pt=function(t){function n(e){var n=u({type:\"undirected\"},e);if(\"multi\"in n&&!1!==n.multi)throw new B(\"UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"undirected\"!==n.type)throw new B('UndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Rt=function(t){function n(e){var n=u({multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiGraph.from: inconsistent indication that the graph should be simple in given options!\");return t.call(this,n)||this}return e(n,t),n}(zt),Kt=function(t){function n(e){var n=u({type:\"directed\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"directed\"!==n.type)throw new B('MultiDirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt),Tt=function(t){function n(e){var n=u({type:\"undirected\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new B(\"MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"undirected\"!==n.type)throw new B('MultiUndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(zt);function Bt(t){t.from=function(e,n){var r=u({},e.options,n),i=new t(r);return i.import(e),i}}return Bt(zt),Bt(Wt),Bt(Pt),Bt(Rt),Bt(Kt),Bt(Tt),zt.Graph=zt,zt.DirectedGraph=Wt,zt.UndirectedGraph=Pt,zt.MultiGraph=Rt,zt.MultiDirectedGraph=Kt,zt.MultiUndirectedGraph=Tt,zt.InvalidArgumentsGraphError=B,zt.NotFoundGraphError=F,zt.UsageGraphError=I,zt}));\n//# sourceMappingURL=graphology.umd.min.js.map\n","/* @license\nPapa Parse\nv5.3.2\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()}(this,function s(){\"use strict\";var f=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=n&&/blob:/i.test((f.location||{}).protocol),a={},h=0,b={parse:function(e,t){var i=(t=t||{}).dynamicTyping||!1;M(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!M(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var r=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(i=f.URL||f.webkitURL||null,r=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob([\"(\",r,\")();\"],{type:\"text/javascript\"})))),t=new f.Worker(e);var i,r;return t.onmessage=_,t.id=h++,a[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=M(t.step),t.chunk=M(t.chunk),t.complete=M(t.complete),t.error=M(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;b.NODE_STREAM_INPUT,\"string\"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&M(e.read)&&M(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,_=!0,m=\",\",y=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1;!function(){if(\"object\"!=typeof t)return;\"string\"!=typeof t.delimiter||b.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter);(\"boolean\"==typeof t.quotes||\"function\"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines);\"string\"==typeof t.newline&&(y=t.newline);\"string\"==typeof t.quoteChar&&(s=t.quoteChar);\"boolean\"==typeof t.header&&(_=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s);(\"boolean\"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(o=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\\-@\\t\\r].*$/)}();var h=new RegExp(j(s),\"g\");\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e,t,i){var r=\"\";\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=v(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=n?e.length:t[o].length,u=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var d=[],l=0;l<h;l++){var c=s?e[l]:l;d.push(t[o][c])}u=\"\"===d.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!f&&(r+=m);var g=n&&s?e[p]:p;r+=v(t[o][g],p)}o<t.length-1&&(!i||0<h&&!f)&&(r+=y)}}return r}function v(e,t){if(null==e)return\"\";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;o&&\"string\"==typeof e&&o.test(e)&&(e=\"'\"+e,i=!0);var r=e.toString().replace(h,a);return(i=i||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(r,b.BAD_DELIMITERS)||-1<r.indexOf(m)||\" \"===r.charAt(0)||\" \"===r.charAt(r.length-1))?s+r+s:r}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK=\"\\ufeff\",b.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=\",\",b.Parser=E,b.ParserHandle=i,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&f.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0!==h.length){var e,t,i,r,n=h[0];if(M(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(M(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){M(a)&&a(e,n.file,n.inputElem),u()},b.parse(n.file,n.instanceConfig)}else M(o.complete)&&o.complete()}function u(){h.splice(0,1),e()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine=\"\";var n=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=r.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(M(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!M(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){M(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var r;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),n||(r.onload=v(this._chunkLoaded,this),r.onerror=v(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i)}try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:r.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader(\"Content-Range\");if(null===t)return-1;return parseInt(t.substring(t.lastIndexOf(\"/\")+1))}(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){var t=r.statusText||e;this._sendError(new Error(t))}}function c(e){var r,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),u.call(this,e);var s=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((r=new FileReader).onload=v(this._chunkLoaded,this),r.onerror=v(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var i=r.readAsText(e,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(r.error)}}function p(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=i.substring(0,t),i=i.substring(t)):(e=i,i=\"\"),this._finished=!i,this.parseChunk(e)}}}function g(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=v(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=v(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=v(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=v(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var a,o,h,r=Math.pow(2,53),n=-r,s=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,u=/^(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))$/,t=this,i=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(M(m.step)){var p=m.step;m.step=function(e){if(c=e,_())g();else{if(g(),0===c.data.length)return;i+=e.data.length,m.preview&&i>m.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function y(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){return c&&h&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+b.DefaultDelimiter+\"'\"),h=!1),m.skipEmptyLines&&(c.data=c.data.filter(function(e){return!y(e)})),_()&&function(){if(!c)return;function e(e,t){M(m.transformHeader)&&(e=m.transformHeader(e,t)),l.push(e)}if(Array.isArray(c.data[0])){for(var t=0;_()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e)}(),function(){if(!c||!m.header&&!m.dynamicTyping&&!m.transform)return c;function e(e,t){var i,r=m.header?{}:[];for(i=0;i<e.length;i++){var n=i,s=e[i];m.header&&(n=i>=l.length?\"__parsed_extra\":l[i]),m.transform&&(s=m.transform(s,n)),s=v(n,s),\"__parsed_extra\"===n?(r[n]=r[n]||[],r[n].push(s)):r[n]=s}return m.header&&(i>l.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+l.length+\" fields but parsed \"+i,f+t):i<l.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+l.length+\" fields but parsed \"+i,f+t)),r}var t=1;!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0);m.header&&c.meta&&(c.meta.fields=l);return f+=t,c}()}function _(){return m.header&&0===l.length}function v(e,t){return i=e,m.dynamicTypingFunction&&void 0===m.dynamicTyping[i]&&(m.dynamicTyping[i]=m.dynamicTypingFunction(i)),!0===(m.dynamicTyping[i]||m.dynamicTyping)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<r)return!0}return!1}(t)?parseFloat(t):u.test(t)?new Date(t):\"\"===t?null:t):t;var i}function k(e,t,i,r){var n={type:e,code:t,message:i};void 0!==r&&(n.row=r),c.errors.push(n)}this.parse=function(e,t,i){var r=m.quoteChar||'\"';if(m.newline||(m.newline=function(e,t){e=e.substring(0,1048576);var i=new RegExp(j(t)+\"([^]*?)\"+j(t),\"gm\"),r=(e=e.replace(i,\"\")).split(\"\\r\"),n=e.split(\"\\n\"),s=1<n.length&&n[0].length<r[0].length;if(1===r.length||s)return\"\\n\";for(var a=0,o=0;o<r.length;o++)\"\\n\"===r[o][0]&&a++;return a>=r.length/2?\"\\r\\n\":\"\\r\"}(e,r)),h=!1,m.delimiter)M(m.delimiter)&&(m.delimiter=m.delimiter(e),c.meta.delimiter=m.delimiter);else{var n=function(e,t,i,r,n){var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",b.RECORD_SEP,b.UNIT_SEP];for(var u=0;u<n.length;u++){var f=n[u],d=0,l=0,c=0;o=void 0;for(var p=new E({comments:r,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&y(p.data[g]))c++;else{var _=p.data[g].length;l+=_,void 0!==o?0<_&&(d+=Math.abs(_-o),o=_):o=_}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===h||h<l)&&1.99<l&&(a=d,s=f,h=l)}return{successful:!!(m.delimiter=s),bestDelimiter:s}}(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);n.successful?m.delimiter=n.bestDelimiter:(h=!0,m.delimiter=b.DefaultDelimiter),c.meta.delimiter=m.delimiter}var s=w(m);return m.preview&&m.header&&s.preview++,a=e,o=new E(s),c=o.parse(a,t,i),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=M(m.chunk)?\"\":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,M(m.complete)&&m.complete(c),a=\"\"}}function j(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function E(e){var S,O=(e=e||{}).delimiter,x=e.newline,I=e.comments,T=e.step,D=e.preview,A=e.fastMode,L=S=void 0===e.quoteChar||null===e.quoteChar?'\"':e.quoteChar;if(void 0!==e.escapeChar&&(L=e.escapeChar),(\"string\"!=typeof O||-1<b.BAD_DELIMITERS.indexOf(O))&&(O=\",\"),I===O)throw new Error(\"Comment character same as delimiter\");!0===I?I=\"#\":(\"string\"!=typeof I||-1<b.BAD_DELIMITERS.indexOf(I))&&(I=!1),\"\\n\"!==x&&\"\\r\"!==x&&\"\\r\\n\"!==x&&(x=\"\\n\");var F=0,z=!1;this.parse=function(r,t,i){if(\"string\"!=typeof r)throw new Error(\"Input must be a string\");var n=r.length,e=O.length,s=x.length,a=I.length,o=M(T),h=[],u=[],f=[],d=F=0;if(!r)return C();if(A||!1!==A&&-1===r.indexOf(S)){for(var l=r.split(x),c=0;c<l.length;c++){if(f=l[c],F+=f.length,c!==l.length-1)F+=x.length;else if(i)return C();if(!I||f.substring(0,a)!==I){if(o){if(h=[],k(f.split(O)),R(),z)return C()}else k(f.split(O));if(D&&D<=c)return h=h.slice(0,D),C(!0)}}return C()}for(var p=r.indexOf(O,F),g=r.indexOf(x,F),_=new RegExp(j(L)+j(S),\"g\"),m=r.indexOf(S,F);;)if(r[F]!==S)if(I&&0===f.length&&r.substring(F,F+a)===I){if(-1===g)return C();F=g+s,g=r.indexOf(x,F),p=r.indexOf(O,F)}else if(-1!==p&&(p<g||-1===g))f.push(r.substring(F,p)),F=p+e,p=r.indexOf(O,F);else{if(-1===g)break;if(f.push(r.substring(F,g)),w(g+s),o&&(R(),z))return C();if(D&&h.length>=D)return C(!0)}else for(m=F,F++;;){if(-1===(m=r.indexOf(S,m+1)))return i||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:F}),E();if(m===n-1)return E(r.substring(F,m).replace(_,S));if(S!==L||r[m+1]!==L){if(S===L||0===m||r[m-1]!==L){-1!==p&&p<m+1&&(p=r.indexOf(O,m+1)),-1!==g&&g<m+1&&(g=r.indexOf(x,m+1));var y=b(-1===g?p:Math.min(p,g));if(r.substr(m+1+y,e)===O){f.push(r.substring(F,m).replace(_,S)),r[F=m+1+y+e]!==S&&(m=r.indexOf(S,F)),p=r.indexOf(O,F),g=r.indexOf(x,F);break}var v=b(g);if(r.substring(m+1+v,m+1+v+s)===x){if(f.push(r.substring(F,m).replace(_,S)),w(m+1+v+s),p=r.indexOf(O,F),m=r.indexOf(S,F),o&&(R(),z))return C();if(D&&h.length>=D)return C(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:F}),m++}}else m++}return E();function k(e){h.push(e),d=F}function b(e){var t=0;if(-1!==e){var i=r.substring(m+1,e);i&&\"\"===i.trim()&&(t=i.length)}return t}function E(e){return i||(void 0===e&&(e=r.substring(F)),f.push(e),F=n,k(f),o&&R()),C()}function w(e){F=e,k(f),f=[],g=r.indexOf(x,F)}function C(e){return{data:h,errors:u,meta:{delimiter:O,linebreak:x,aborted:z,truncated:!!e,cursor:d+(t||0)}}}function R(){T(C()),h=[],u=[]}},this.abort=function(){z=!0},this.getCharIndex=function(){return F}}function _(e){var t=e.data,i=a[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(M(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else M(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&m(t.workerId,t.results)}function m(e,t){var i=a[e];M(i.userComplete)&&i.userComplete(t),i.terminate(),delete a[e]}function y(){throw new Error(\"Not implemented.\")}function w(e){if(\"object\"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=w(e[i]);return t}function v(e,t){return function(){e.apply(t,arguments)}}function M(e){return\"function\"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if(\"string\"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var i=b.parse(t.input,t.config);i&&f.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,b});","/* TODO:\n- reorga dossiers\n- edges are aliased again?\n- check why total comics different in histogram and comicsbar (examples : Wolverine, Iron Man, all)\n- Robin:\n  Sur la colonne de gauche :\n    je mettrai les toggle après le texte, peut-être ferrés en bas de la colonne\n    pour les toggle je pense qu'il faudrait une explication sur ce qu'ils signifient (p-e avec des tooltips ?)\n  Réseau au centre :\n    pas grand chose à dire, c'est très propre - il faudrait peut-être un petit texte donnant les interactions possibles (genre en bas à droite \"click on a circle to see its related characters/artists\")\n- handle mobile darkmodes diffs?\n- leftover cases of ?comics added without opening sidebar? can't reproduce anymore?\n- test title at the top ?\n- add button switchEntity to node-details in alternate \"View credited authors/View featured characters\" ?\n- check bad data marvel :\n  - http://gateway.marvel.com/v1/public/stories/186542/creators incoherent with https://www.marvel.com/comics/issue/84372/damage_control_2022_1\n  - check why Tiomothy Truman has no comic\n  - check why zoom on Spiderman 1602 only zooms on regular spiderman\n  - test new spatialization graphology\n => scraper comics as counter-truth? :\n  - select good creators fields\n  - take from scraping good image url if /clean within (example https://www.marvel.com/comics/issue/51567/captain_britain_and_the_mighty_defenders_2015_1)\n  - handle missing dates?\n  - rebuild characters network from comics instead of stories, ex: Silk\n  - rebuild creators network from cleaned comics instead\n  - filter imprint marvel\n  - add cover artist in comics list, not in links used\n => one more check with takoyaki on authors/characters labels + readjust louvain after\n- update screenshots\n- auto data updates\nIDEAS:\n- make histogram brushable pour visualiser une partie du réseau correspondant à un subset d'années ? ou \"playable\" avec animation comme pour le détail d'un personnage ou d'un artiste ?\n- add urlrooting for modal? and play?\n- install app button?\n- swipe images with actual slide effect?\n- handle old browsers where nodeImages are full black (ex: old iPad)\n- handle alternate phone browsers where sigma does not work, ex Samsung Internet on Android 8\n- test bipartite network between authors and characters filtered by category of author\n*/\n\nimport Papa from \"papaparse\";\nimport Graph from \"graphology\";\nimport { Sigma } from \"./sigma.js\";\nimport { Coordinates } from \"./sigma.js/types\";\nimport {\n  logDebug,\n  formatNumber, formatMonth,\n  lightenColor,\n  meanArray,\n  divWidth, divHeight,\n  webGLSupport,\n  rotatePosition,\n  uncompress\n} from \"./utils\";\nimport {\n  startYear, curYear, totalYears,\n  picturesLoadingDelay, playComicsDelay,\n  creatorsRoles, clusters,\n  extraPalette,\n  sigmaSettings\n} from \"./settings\";\n\n\n/* -- Init global state -- */\n\nlet entity = \"\",\n  networkSize = \"\",\n  view = \"\",\n  selectedNode = null,\n  selectedNodeType = null,\n  selectedNodeLabel = null,\n  sigmaDim = null,\n  renderer = null,\n  camera = null,\n  animation = null,\n  clustersLayer = null,\n  resizeClusterLabels = function() {},\n  histograms = {\n    characters: {},\n    creators: {}\n  },\n  suggestions = [],\n  comicsReady = null,\n  comicsBarView = false,\n  shift = 0,\n  preventAutoScroll = false,\n  minComicLiHeight = 100,\n  hoveredComic = null,\n  selectedComic = null,\n  networksLoaded = 0,\n  playing = null,\n  sortComics = \"date\";\n\nconst conf = {},\n  networks = {},\n  picturesRenderingDelay = {},\n  allComics = [],\n  allComicsMap = {},\n  allCharacters = {\"-1\": \"missing info\"},\n  allCreators = {\"-1\": \"missing info\"},\n  crossMap = {creators: {}, characters: {}},\n  charactersComics = {},\n  creatorsComics = {};\n\n// Init global vars for each view variant\n[\"creators\", \"characters\"].forEach(e => {\n  picturesRenderingDelay[e] = picturesLoadingDelay;\n  networks[e] = {};\n  [\"main\", \"most\"].forEach(s => {\n    networks[e][s] = {\n      communities: {},\n      counts: {},\n      clusters: {}\n    }\n    for (let cl in clusters[e]) {\n      networks[e][s].clusters[cl] = {};\n      for (let at in clusters[e][cl])\n        networks[e][s].clusters[cl][at] = clusters[e][cl][at];\n    }\n  });\n});\n\n// Useful DOM elements\nconst container = document.getElementById(\"sigma-container\") as HTMLElement,\n  loader = document.getElementById(\"loader\") as HTMLElement,\n  loaderComics = document.getElementById(\"loader-comics\") as HTMLElement,\n  loaderList = document.getElementById(\"loader-list\") as HTMLElement,\n  helpButton = document.getElementById(\"help\") as HTMLElement,\n  helpModal = document.getElementById(\"help-modal\") as HTMLElement,\n  helpBox = document.getElementById(\"help-box\") as HTMLElement,\n  modal = document.getElementById(\"modal\") as HTMLElement,\n  modalImg = document.getElementById(\"modal-img\") as HTMLImageElement,\n  modalNext = document.getElementById(\"modal-next\") as HTMLButtonElement,\n  modalPrev = document.getElementById(\"modal-previous\") as HTMLButtonElement,\n  modalPlay = document.getElementById(\"modal-play\") as HTMLButtonElement,\n  modalPause = document.getElementById(\"modal-pause\") as HTMLButtonElement,\n  comicsNext = document.getElementById(\"comics-next\") as HTMLButtonElement,\n  comicsPrev = document.getElementById(\"comics-prev\") as HTMLButtonElement,\n  comicsPlay = document.getElementById(\"comics-play\") as HTMLButtonElement,\n  comicsPause = document.getElementById(\"comics-pause\") as HTMLButtonElement,\n  filterComics = document.getElementById(\"comics-filter\") as HTMLButtonElement,\n  filterSearch = document.getElementById(\"filter-comics\") as HTMLButtonElement,\n  filterInput = document.getElementById(\"filter-input\") as HTMLButtonElement,\n  sortAlpha = document.getElementById(\"comics-sort-alpha\") as HTMLButtonElement,\n  sortDate = document.getElementById(\"comics-sort-date\") as HTMLButtonElement,\n  sideBar = document.getElementById(\"sidebar\") as HTMLImageElement,\n  explanations = document.getElementById(\"explanations\") as HTMLElement,\n  viewAllComicsButton = document.getElementById(\"view-all-comics\") as HTMLElement,\n  orderSpan = document.getElementById(\"order\") as HTMLElement,\n  nodeDetails = document.getElementById(\"node-details\") as HTMLElement,\n  nodeLabel = document.getElementById(\"node-label\") as HTMLElement,\n  nodeImg = document.getElementById(\"node-img\") as HTMLImageElement,\n  nodeExtra = document.getElementById(\"node-extra\") as HTMLElement,\n  nodeHistogram = document.getElementById(\"node-histogram\") as HTMLElement,\n  fullHistogram = document.getElementById(\"full-histogram\") as HTMLElement,\n  comicsBar = document.getElementById(\"comics-bar\") as HTMLImageElement,\n  comicsDiv = document.getElementById(\"comics\") as HTMLImageElement,\n  comicsTitle = document.getElementById(\"comics-title\") as HTMLElement,\n  comicsSubtitle = document.getElementById(\"comics-subtitle\") as HTMLElement,\n  comicsSubtitleList = document.getElementById(\"comics-subtitle-list\") as HTMLElement,\n  comicsList = document.getElementById(\"comics-list\") as HTMLElement,\n  comicsCache = document.getElementById(\"comics-cache\") as HTMLElement,\n  comicTitle = document.getElementById(\"comic-title\") as HTMLLinkElement,\n  comicUrl = document.getElementById(\"comic-url\") as HTMLLinkElement,\n  comicImg = document.getElementById(\"comic-img\") as HTMLImageElement,\n  comicDesc = document.getElementById(\"comic-desc\") as HTMLLinkElement,\n  comicEntities = document.querySelectorAll(\".comic-entities\") as NodeListOf<HTMLElement>,\n  comicCreators = document.getElementById(\"comic-creators\") as HTMLElement,\n  comicCharacters = document.getElementById(\"comic-characters\") as HTMLElement,\n  searchInput = document.getElementById(\"search-input\") as HTMLInputElement,\n  searchSuggestions = document.getElementById(\"suggestions\") as HTMLDataListElement,\n  selectSuggestions = document.getElementById(\"suggestions-select\") as HTMLSelectElement,\n  switchNodeType = document.getElementById(\"node-type-switch\") as HTMLInputElement,\n  switchTypeLabel = document.getElementById(\"switch-type\") as HTMLInputElement,\n  switchNodeFilter = document.getElementById(\"node-filter-switch\") as HTMLInputElement,\n  switchFilterLabel = document.getElementById(\"switch-filter\") as HTMLInputElement,\n  switchNodeView = document.getElementById(\"node-view-switch\") as HTMLInputElement,\n  switchViewLabel = document.getElementById(\"switch-view\") as HTMLInputElement,\n  entitySpans = document.querySelectorAll(\".entity\") as NodeListOf<HTMLElement>,\n  charactersDetailsSpans = document.querySelectorAll(\".characters-details\") as NodeListOf<HTMLElement>,\n  creatorsDetailsSpans = document.querySelectorAll(\".creators-details\") as NodeListOf<HTMLElement>,\n  colorsDetailsSpans = document.querySelectorAll(\".colors-details\") as NodeListOf<HTMLElement>,\n  picturesDetailsSpans = document.querySelectorAll(\".pictures-details\") as NodeListOf<HTMLElement>,\n  mainDetailsSpans = document.querySelectorAll(\".main-details\") as NodeListOf<HTMLElement>,\n  mostDetailsSpans = document.querySelectorAll(\".most-details\") as NodeListOf<HTMLElement>;\n\n\n/* -- Load & prepare data -- */\n\nfunction loadNetwork(ent, siz, callback = null, waitForComics = false) {\n  if (networks[ent][siz].loaded && (!waitForComics || comicsReady))\n    return callback ? setTimeout(callback, 0) : null;\n\n  if (callback || (waitForComics && !comicsReady)) {\n    loader.style.display = \"block\";\n    loader.style.opacity = \"0.5\";\n  }\n\n  if (networks[ent][siz].loading) {\n    if (callback) {\n      const waiter = setInterval(() => {\n        if (!networks[ent][siz].loaded || (waitForComics && !comicsReady))\n          return;\n        clearInterval(waiter);\n        return setTimeout(callback, 0);\n      }, 50);\n    }\n    return;\n  }\n\n  logDebug(\"LOAD NETWORK\", {ent, siz});\n  networks[ent][siz].loading = true;\n  return fetch(\"./data/Marvel_\" + ent + \"_by_stories\" + (siz === \"main\" ? \"\" : \"_full\") + \".json.gz\")\n    .then(res => res.arrayBuffer())\n    .then(content => buildNetwork(content, ent, siz, callback, waitForComics));\n}\n\nfunction computeNodeSize(count) {\n  return Math.pow(count, 0.2)\n    * (entity === \"characters\" ? 1.75 : 1.25)\n    * (networkSize === \"main\" ? 1.75 : 1.25)\n    * sigmaDim / 1000\n};\n\nfunction buildNetwork(networkData, ent, siz, callback, waitForComics) {\n  logDebug(\"BUILD GRAPH\", {ent, siz});\n  const data = networks[ent][siz];\n  // Parse pako zipped graphology serialized network JSON\n  uncompress(networkData, \"inflate\", graphData => {\n    data.graph = Graph.from(JSON.parse(graphData));\n\n    // Identify community ids of main hardcoded colors\n    data.graph.forEachNode((node, {x, y, label, community}) => {\n      for (var cluster in data.clusters)\n        if (data.clusters[cluster].match.indexOf(label) !== -1) {\n          if (ent === \"creators\") {\n            data.clusters[cluster].label = cluster;\n            data.clusters[cluster].id = cluster.toLowerCase().replace(/ .*$/, \"\");\n            if (!data.clusters[cluster].positions)\n              data.clusters[cluster].positions = [{x: x, y: y}];\n            else data.clusters[cluster].positions.push({x: x, y: y});\n          } else {\n            data.clusters[cluster].community = community;\n            data.communities[community] = data.clusters[cluster];\n            data.communities[community].label = cluster.replace(/([a-z&]) ([a-z])/ig, \"$1&nbsp;$2\");\n            data.communities[community].community = community;\n          }\n        }\n    });\n\n    // Adjust nodes visual attributes for rendering (size, color, images)\n    data.graph.forEachNode((node, {label, x, y, stories, image, artist, writer, community}) => {\n      const artist_ratio = (ent === \"creators\" ? artist / (writer + artist) : null),\n        role = artist_ratio !== null\n          ? (artist_ratio > 0.65\n            ? \"artist\"\n            : (artist_ratio < 0.34\n              ? \"writer\"\n              : \"both\"\n            )\n          ) : null,\n        color = (ent === \"characters\"\n          ? (data.communities[community] || {color: extraPalette[community % extraPalette.length]}).color\n          : creatorsRoles[role]\n        ),\n        key = ent === \"characters\" ? community : role;\n      if (!data.counts[key])\n        data.counts[key] = 0;\n      data.counts[key]++;\n      data.graph.mergeNodeAttributes(node, {\n        type: \"circle\",\n        image: /available/i.test(image) ? \"\" : image,\n        size: computeNodeSize(stories),\n        color: color,\n        hlcolor: lightenColor(color, 35)\n      });\n      if (ent === \"creators\")\n        allCreators[node] = label;\n      else allCharacters[node] = label;\n    });\n\n    if (ent === \"creators\") {\n      // Calculate positions of ages labels\n      for (const cluster in data.clusters) {\n        data.clusters[cluster].x = meanArray(data.clusters[cluster].positions.map(n => n.x));\n        data.clusters[cluster].y = meanArray(data.clusters[cluster].positions.map(n => n.y));\n      }\n    }\n    networks[ent][siz].loaded = true;\n    networksLoaded += 1;\n    if (networksLoaded === 4)\n      loaderComics.style.display = \"none\";\n    if (callback) {\n      if (waitForComics && !comicsReady) {\n        const waiter = setInterval(() => {\n        if (waitForComics && !comicsReady)\n          return;\n        clearInterval(waiter);\n        return setTimeout(callback, 0);\n        }, 50);\n      } else return setTimeout(callback, 0);\n    }\n  });\n}\n\nfunction loadComics() {\n  loaderComics.style.display = \"block\";\n  logDebug(\"LOAD COMICS\");\n  fetch(\"./data/Marvel_comics.csv.gz\")\n    .then((res) => res.arrayBuffer())\n    .then((data) => uncompress(data, \"ungzip\", buildComics));\n}\n\nfunction buildComics(comicsData) {\n  Papa.parse(comicsData, {\n    worker: true,\n    header: true,\n    skipEmptyLines: \"greedy\",\n    step: function(c) {\n      c = c.data;\n      allComics.push(c);\n      allComicsMap[c.id] = c;\n\n      c.characters = c.characters.split(\"|\").filter(x => x);\n      c.characters.forEach(ch => {\n        if (!charactersComics[ch])\n          charactersComics[ch] = [];\n        charactersComics[ch].push(c);\n      });\n\n      const artistsIds = {};\n      c.artists = c.artists.split(\"|\").filter(x => x);\n      c.writers = c.writers.split(\"|\").filter(x => x);\n      c.creators = c.writers.concat(c.artists);\n\n      c.artists.forEach(cr => {\n        if (!creatorsComics[cr])\n          creatorsComics[cr] = [];\n        creatorsComics[cr].push({...c, \"role\": \"artist\"});\n        artistsIds[cr] = creatorsComics[cr].length - 1;\n      });\n\n      c.writers.forEach(cr => {\n        if (!creatorsComics[cr])\n          creatorsComics[cr] = [];\n        if (artistsIds[cr])\n          creatorsComics[cr][artistsIds[cr]].role = \"both\";\n        else creatorsComics[cr].push({...c, \"role\": \"writer\"});\n      });\n\n      c.creators.forEach(cr => {\n        c.characters.forEach(ch => {\n          if (!crossMap.creators[ch])\n            crossMap.creators[ch] = {};\n          if (!crossMap.creators[ch][cr])\n            crossMap.creators[ch][cr] = 0;\n          crossMap.creators[ch][cr]++;\n          if (!crossMap.characters[cr])\n            crossMap.characters[cr] = {};\n          if (!crossMap.characters[cr][ch])\n            crossMap.characters[cr][ch] = 0;\n          crossMap.characters[cr][ch]++;\n        });\n      });\n    },\n    complete: function() {\n      comicsReady = true;\n      viewAllComicsButton.style.display = \"block\";\n      renderHistogram(fullHistogram);\n      resize(true);\n      if (selectedNode)\n        addViewComicsButton(selectedNode);\n      [\"creators\", \"characters\"].forEach(e =>\n        [\"main\", \"most\"].forEach(s => loadNetwork(e, s))\n      );\n    }\n  });\n}\n\n\n/* -- Graphs display -- */\n\nfunction renderNetwork(shouldComicsBarView) {\n  logDebug(\"RENDER\", {entity, networkSize, view, selectedNode, selectedNodeType, selectedNodeLabel, shouldComicsBarView, comicsBarView, selectedComic});\n  const data = networks[entity][networkSize];\n\n  // Feed communities size to explanations\n  orderSpan.innerHTML = formatNumber(data.graph.order);\n  if (entity === \"creators\") {\n    Object.keys(creatorsRoles).forEach(k => {\n      const role = document.getElementById(k + \"-color\");\n      role.style.color = lightenColor(creatorsRoles[k]);\n      role.innerHTML = k + \" (\" + formatNumber(data.counts[k]) + \")\";\n    })\n  } else document.getElementById(\"clusters-legend\").innerHTML = Object.keys(data.clusters)\n    .filter(k => !data.clusters[k].hide)\n    .map(k =>\n      '<b style=\"color: ' + data.clusters[k].color + '\">'\n      + k.split(\" \").map(x => '<span>' + x + '</span>').join(\" \")\n      + ' (<span class=\"color\">' + formatNumber(data.counts[data.clusters[k].community]) + '</span>)</b>'\n    ).join(\", \");\n\n  // Instantiate sigma:\n  sigmaSettings[\"labelRenderedSizeThreshold\"] = ((networkSize === \"main\" ? 6 : 4) + (entity === \"characters\" ? 1 : 0.5)) * sigmaDim / 1000;\n  sigmaSettings[\"labelColor\"] = view === \"pictures\" ? {attribute: 'hlcolor'} : {color: '#999'};\n\n  container.style.display = \"block\";\n  const sigmaDims = container.getBoundingClientRect();\n  sigmaDim = Math.min(sigmaDims.height, sigmaDims.width);\n  if (!renderer) {\n    renderer = new Sigma(data.graph as any, container, sigmaSettings);\n\n    // insert the clusters layer underneath the hovers layer\n    clustersLayer = document.createElement(\"div\");\n    clustersLayer.id = \"clusters-layer\";\n    clustersLayer.style.display = \"none\";\n    container.insertBefore(clustersLayer, document.getElementsByClassName(\"sigma-hovers\")[0]);\n\n    // Clusters labels position needs to be updated on each render\n    renderer.on(\"afterRender\", () => {\n      if (entity === \"characters\") return;\n      resizeClusterLabels();\n    });\n\n    // Add pointer on hovering nodes\n    renderer.on(\"enterNode\", () => container.style.cursor = \"pointer\");\n    renderer.on(\"leaveNode\", () => container.style.cursor = \"default\");\n\n    // Handle clicks on nodes\n    renderer.on(\"clickNode\", (event) => clickNode(event.node));\n    renderer.on(\"clickStage\", () => {\n      if (comicsBarView && selectedComic)\n        setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n      else if (comicsBarView)\n        setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType);\n      else setSearchQuery();\n    });\n\n    // Bind zoom manipulation buttons\n    camera = renderer.getCamera();\n    document.getElementById(\"zoom-in\").onclick =\n      () => camera.animatedZoom({ duration: 600 });\n    document.getElementById(\"zoom-out\").onclick =\n      () => camera.animatedUnzoom({ duration: 600 });\n    document.getElementById(\"zoom-reset\").onclick =\n      () => camera.animatedReset({ duration: 300 });\n  } else {\n    renderer.setSetting(\"nodeReducer\", (n, attrs) => attrs);\n    renderer.setSetting(\"edgeReducer\", (edge, attrs) => attrs);\n    renderer.setSetting(\"labelColor\", sigmaSettings[\"labelColor\"]);\n    renderer.setSetting(\"labelRenderedSizeThreshold\", sigmaSettings[\"labelRenderedSizeThreshold\"]);\n    renderer.setSetting(\"labelGridCellSize\", sigmaSettings.labelGridCellSize);\n\n    renderer.setGraph(data.graph);\n  }\n  renderer.setSetting(\"minCameraRatio\", entity === \"creators\" && networkSize === \"most\" ? 0.035 : 0.07);\n\n  // Render clusters labels layer on top of sigma for creators\n  if (entity === \"creators\") {\n    let clusterLabelsDoms = \"\";\n    for (const cluster in data.clusters) {\n      const c = data.clusters[cluster];\n      // adapt the position to viewport coordinates\n      const viewportPos = renderer.graphToViewport(c as Coordinates);\n      clusterLabelsDoms += '<div id=\"community-' + networkSize + \"-\" + c.id + '\" class=\"cluster-label\" style=\"top: ' + viewportPos.y + 'px; left: ' + viewportPos.x + 'px; color: ' + c.color + '\">' + c.label + '</div>';\n    }\n    clustersLayer.innerHTML = clusterLabelsDoms;\n\n    resizeClusterLabels = () => {\n      const sigmaDims = container.getBoundingClientRect();\n      clustersLayer.style.width = sigmaDims.width + \"px\";\n\n      for (const cluster in data.clusters) {\n        const c = data.clusters[cluster];\n        const clusterLabel = document.getElementById(\"community-\" + networkSize + \"-\" + c.id);\n        if (!clusterLabel) return;\n        // update position from the viewport\n        const viewportPos = renderer.graphToViewport(c as Coordinates);\n        if (viewportPos.x < 5 * cluster.length + 7 || viewportPos.x > sigmaDims.width - 5 * cluster.length - 7 || viewportPos.y > sigmaDims.height - 15)\n          clusterLabel.style.display = \"none\";\n        else {\n          clusterLabel.style.display = \"block\";\n          clusterLabel.style[\"min-width\"] = (10 * cluster.length) + \"px\";\n          clusterLabel.style.top = viewportPos.y + 'px';\n          clusterLabel.style.left = viewportPos.x + 'px';\n        }\n      }\n    };\n  }\n\n  // Prepare list of nodes for search/select suggestions\n  const allSuggestions = data.graph.nodes()\n    .map((node) => ({\n      node: node,\n      label: data.graph.getNodeAttribute(node, \"label\")\n    }))\n    .sort((a, b) => a.label < b.label ? -1 : 1);\n  function feedAllSuggestions() {\n    suggestions = allSuggestions.map(x => x);\n  }\n  feedAllSuggestions();\n\n  // Feed all nodes to select for touchscreens\n  selectSuggestions.innerHTML = \"<option>Search…</option>\" + allSuggestions\n    .map((node) => \"<option>\" + node.label + \"</option>\")\n    .join(\"\\n\");\n  selectSuggestions.onchange = () => {\n    const idx = selectSuggestions.selectedIndex;\n    clickNode(idx ? allSuggestions[idx - 1].node : null, true, true);\n  };\n\n  function fillSuggestions() {\n    searchSuggestions.innerHTML = suggestions\n      .sort((a, b) => a.label < b.label ? -1 : 1)\n      .map((node) => \"<option>\" + node.label + \"</option>\")\n      .join(\"\\n\");\n  }\n  fillSuggestions();\n\n  // Setup nodes input search for web browsers\n  function setSearchQuery(query=\"\") {\n    feedAllSuggestions();\n    if (searchInput.value !== query)\n      searchInput.value = query;\n\n    if (query) {\n      const lcQuery = query.toLowerCase();\n      suggestions = [];\n      data.graph.forEachNode((node, {label}) => {\n        if (label.toLowerCase().includes(lcQuery))\n          suggestions.push({node: node, label: label});\n      });\n\n      const suggestionsMatch = suggestions.filter(x => x.label === query);\n      if (suggestionsMatch.length === 1) {\n        clickNode(suggestionsMatch[0].node, true, true);\n        suggestions = [];\n      } else if (selectedNode) {\n        clickNode(null, true, true);\n      }\n    } else if (selectedNode) {\n      clickNode(null, true, true);\n      feedAllSuggestions();\n    }\n    fillSuggestions();\n  }\n  searchInput.oninput = () => {\n    setSearchQuery(searchInput.value || \"\");\n  };\n  searchInput.onblur = () => {\n    if (!selectedNode)\n      setSearchQuery();\n  };\n\n  // If a comic is selected we reload the list with it within it\n  function conditionalOpenComicsBar() {\n    if (shouldComicsBarView) {\n      showCanvases();\n      if (!comicsBarView)\n        displayComics(selectedNode, true, true);\n      else if (selectedComic) {\n        selectedComic = allComicsMap[selectedComic] || selectedComic;\n        selectComic(selectedComic, true, true);\n      } else unselectComic();\n    }\n    hideLoader();\n  }\n\n  const sigmaWidth = divWidth(\"sigma-container\");\n  function finalizeGraph() {\n    renderer.setSetting(\"nodeReducer\", (n, attrs) => (view === \"pictures\" ? { ...attrs, type: \"image\" } : attrs));\n    // If a node is selected we refocus it\n    if (selectedNodeLabel && selectedNodeType !== entity) {\n      loadNetwork(selectedNodeType, \"most\", () => {\n        showCanvases();\n        clickNode(networks[selectedNodeType].most.graph.findNode((n, {label}) => label === selectedNodeLabel), false, true);\n        conditionalOpenComicsBar();\n      }, true);\n      return;\n    }\n    const node = selectedNodeLabel\n      ? data.graph.findNode((n, {label}) => label === selectedNodeLabel)\n      : null;\n    if (node) {\n      showCanvases();\n      clickNode(node, false, true);\n      conditionalOpenComicsBar();\n    } else {\n      showCanvases();\n      camera.animate(\n        {x: 0.5 + (shift / (2 * sigmaWidth)), y: 0.5, ratio: sigmaWidth / (sigmaWidth - shift)},\n        {duration: 50}\n      );\n      clickNode(null, false, true);\n      conditionalOpenComicsBar();\n    }\n  }\n\n  loader.style.opacity = \"0.5\";\n  resize();\n  // Zoom in graph on first init network\n  if (!data.rendered) {\n    camera.x = 0.5 + (shift / (2 * sigmaWidth));\n    camera.y = 0.5;\n    camera.ratio = Math.pow(1.5, 10);\n    camera.angle = 0;\n    showCanvases(false);\n    setTimeout(() => camera.animate(\n      {ratio: sigmaWidth / (sigmaWidth - shift)},\n      {duration: 1500},\n      () => {\n        finalizeGraph();\n        // Load comics data after first network rendered\n        if (comicsReady === null) {\n          comicsReady = false;\n          setTimeout(\n            loadComics,\n            comicsBarView || (selectedNodeLabel && selectedNodeType !== entity) ? 50 : 2000\n          );\n        }\n      }\n    ), 50);\n    data.rendered = true;\n  } else finalizeGraph();\n}\n\nfunction updateShift() {\n  shift = comicsBarView\n    ? (comicsBar.getBoundingClientRect()[\"x\"]\n      ? divWidth(\"comics-bar\")\n      : divWidth(\"sidebar\") - divWidth(\"comics-bar\")\n    ) : 0;\n}\n\n// Center the camera on the selected node and its neighbors or a selected list of nodes\nfunction centerNode(node, neighbors = null, force = true) {\n  // cancel pending centering\n  if (animation)\n    clearTimeout(animation);\n  // stop already running centering by requesting an idle animation\n  camera.animate(camera.getState, {duration: 0},\n    // then only compute positions to run new centering after a delay to filter out too close calls\n    () => {\n      animation = setTimeout(() => runCentering(node, neighbors, force), 50);\n    }\n  );\n}\n\nfunction runCentering(node, neighbors = null, force = true) {\n  logDebug(\"CENTER ON\", {node, neighbors, force, shift, animation, animated: camera.isAnimated()});\n  const data = networks[entity][networkSize];\n  if (!camera || (!node && !neighbors)) return;\n  if (!neighbors && data.graph.hasNode(node))\n    neighbors = data.graph.neighbors(node);\n  if (node && neighbors.indexOf(node) === -1)\n    neighbors.push(node);\n  if (!neighbors.length) {\n    hideLoader();\n    return;\n  }\n\n  let x0 = null, x1 = null, y0 = null, y1 = null;\n  neighbors.forEach(n => {\n      const pos = renderer.getNodeDisplayData(n);\n      if (!pos) return;\n      if (x0 === null || x0 > pos.x) x0 = pos.x;\n      if (x1 === null || x1 < pos.x) x1 = pos.x;\n      if (y0 === null || y0 > pos.y) y0 = pos.y;\n      if (y1 === null || y1 < pos.y) y1 = pos.y;\n    });\n  const minCorner = rotatePosition(renderer.framedGraphToViewport({x: x0, y: y0}), camera.angle),\n    maxCorner = rotatePosition(renderer.framedGraphToViewport({x: x1, y: y1}), camera.angle),\n    viewPortPosition = renderer.framedGraphToViewport({\n      x: (x0 + x1) / 2,\n      y: (y0 + y1) / 2\n    }),\n    sigmaDims = container.getBoundingClientRect();\n\n  // Handle comicsbar hiding part of the graph\n  updateShift();\n  sigmaDims.width -= shift;\n  // Evaluate required zoom ratio\n  let ratio = Math.min(\n    50 / camera.ratio,\n    Math.max(\n      1.5 * renderer.getSetting(\"minCameraRatio\") / camera.ratio,\n      1.5 / Math.min(\n        sigmaDims.width / Math.abs(maxCorner.x - minCorner.x),\n        sigmaDims.height / Math.abs(minCorner.y - maxCorner.y)\n      )\n    )\n  );\n\n  // Evaluate acceptable window\n  const minWin = rotatePosition({\n    x: 0,\n    y: 0\n  }, camera.angle),\n  maxWin = rotatePosition({\n    x: sigmaDims.width,\n    y: sigmaDims.height\n  }, camera.angle),\n  minPos = rotatePosition({\n    x: sigmaDims.width / 6,\n    y: sigmaDims.height / 6\n  }, camera.angle),\n  maxPos = rotatePosition({\n    x: 5 * sigmaDims.width / 6,\n    y: 5 * sigmaDims.height / 6\n  }, camera.angle);\n\n  // Zoom on node only if force, if nodes outside full window, if nodes are too close together, or if more than 1 node and outside acceptable window\n  if (force ||\n    minCorner.x < minWin.x || maxCorner.x > maxWin.x || maxCorner.y < minWin.y || minCorner.y > maxWin.y ||\n    (ratio !== 0 && (ratio < 0.7 || ratio > 1.55)) ||\n    (neighbors.length > 1 && (minCorner.x < minPos.x || maxCorner.x > maxPos.x || maxCorner.y < minPos.y || minCorner.y > maxPos.y))\n  ) {\n    viewPortPosition.x += ratio * shift / 2;\n    const newCam = renderer.viewportToFramedGraph(viewPortPosition);\n    newCam[\"ratio\"] = camera.ratio * ratio;\n    camera.animate(\n      newCam,\n      {duration: 300},\n      hideLoader\n    );\n  } else hideLoader();\n}\n\n\n/* -- Graph interactions -- */\n\nfunction clickNode(node, updateURL = true, center = false) {\n  logDebug(\"CLICK NODE\", {selectedNode, selectedNodeType, selectedNodeLabel, node, updateURL, center, comicsBarView, selectedComic});\n  let data = networks[entity][networkSize];\n  if (!data.graph || !renderer) return;\n\n  // Unhiglight previous node\n  const sameNode = (node === selectedNode);\n  if (selectedNode) {\n    if (data.graph.hasNode(selectedNode))\n      data.graph.setNodeAttribute(selectedNode, \"highlighted\", false)\n  }\n\n  if (!node || !sameNode) {\n    nodeImg.src = \"\";\n    modalImg.src = \"\";\n  }\n  // Reset unselected node view\n  renderer.setSetting(\"nodeReducer\", (n, attrs) => (view === \"pictures\" ? { ...attrs, type: \"image\" } : attrs));\n  renderer.setSetting(\"edgeReducer\", (edge, attrs) => attrs);\n  renderer.setSetting(\"labelColor\", view === \"pictures\" ? {attribute: 'hlcolor'} : {color: '#999'});\n  if (!node) {\n    selectedNode = null;\n    selectedNodeType = null;\n    selectedNodeLabel = null;\n    nodeLabel.style.display = \"none\";\n    resize(true);\n    if (updateURL)\n      setURL(entity, networkSize, view, null, null, selectedComic, sortComics);\n    selectSuggestions.selectedIndex = 0;\n    defaultSidebar();\n    if (comicsBarView && !sameNode)\n      displayComics(null, true);\n    return;\n  }\n\n  let relatedNodes = null,\n    comicsRatio = 0,\n    nodeEntity = entity;\n  if (selectedNodeType && selectedNodeType !== entity && !data.graph.hasNode(node)) {\n    nodeEntity = selectedNodeType;\n    data = networks[selectedNodeType].most;\n    relatedNodes = crossMap[entity][node] || {};\n    comicsRatio = allComics.length / (3 * (Object.values(relatedNodes).reduce((sum: number, cur: number) => sum + cur, 0) as number));\n    logDebug(\"KEEP NODE\", {selectedNode, selectedNodeType, selectedNodeLabel, node, nodeEntity, relatedNodes, comicsRatio});\n  }\n\n  if (!data.graph.hasNode(node))\n    return setURL(entity, networkSize, view, null, null, selectedComic, sortComics);\n\n  if (updateURL && !sameNode)\n    setURL(entity, networkSize, view, data.graph.getNodeAttribute(node, \"label\"), entity, selectedComic, sortComics);\n\n  // Fill sidebar with selected node's details\n  const attrs = data.graph.getNodeAttributes(node);\n  selectedNode = node;\n  selectedNodeLabel = attrs.label;\n  nodeLabel.style.display = \"block\";\n  explanations.style.display = \"none\";\n  nodeDetails.style.display = \"block\";\n  if (!sameNode) {\n    nodeDetails.scrollTo(0, 0);\n    nodeLabel.innerHTML = attrs.label;\n    nodeImg.src = attrs.image_url.replace(/^http:/, '');\n    nodeImg.onclick = () => {\n      modalImg.src = attrs.image_url.replace(/^http:/, '');\n      stopPlayComics();\n      modal.style.display = \"block\";\n      modalPrev.style.opacity = \"0\";\n      modalNext.style.opacity = \"0\";\n      modalPlay.style.display = \"none\";\n      modalPause.style.display = \"none\";\n    };\n  }\n  resize(true);\n  nodeExtra.innerHTML = \"\";\n  if (attrs.description)\n    nodeExtra.innerHTML += \"<p>\" + attrs.description + \"</p>\";\n  nodeExtra.innerHTML += \"<p>\" +\n    (nodeEntity === \"creators\" ? \"Credit\" : \"Account\") + \"ed \" +\n      \"in <b>\" + attrs.stories + \" stories</b> \" +\n    (entity === nodeEntity\n      ? \"shared&nbsp;with<br/>\" +\n        \"<b>\" + data.graph.degree(node) + \" other \" + nodeEntity + \"</b>\"\n      : (entity === \"creators\" ? \"authored&nbsp;by<br/>\" : \"featuring<br/>\") +\n        \"<b>\" + Object.keys(relatedNodes).length + \" \" + entity + \"</b>\"\n    ) + \"</p>\";\n\n  if (entity === nodeEntity) {\n    // Display roles in stories for creators\n    if (entity === \"creators\") {\n      if (attrs.writer === 0 && attrs.artist)\n        nodeExtra.innerHTML += '<p>Always as <b style=\"color: ' + lightenColor(creatorsRoles.artist) + '\">artist (' + attrs.artist + ')</b></p>';\n      else if (attrs.artist === 0 && attrs.writer)\n        nodeExtra.innerHTML += '<p>Always as <b style=\"color: ' + lightenColor(creatorsRoles.writer) + '\">writer (' + attrs.writer + ')</b></p>';\n      else nodeExtra.innerHTML += '<p>Including <b style=\"color: ' + lightenColor(creatorsRoles.writer) + '\">' + attrs.writer + ' as writer</b><br/>and <b style=\"color: ' + lightenColor(creatorsRoles.artist) + '\">' + attrs.artist + \" as artist</b></p>\";\n    }\n    // Or communities if we have it for characters\n    else if (data.communities[attrs.community])\n      nodeExtra.innerHTML += '<p>Attached to the <b style=\"color: ' + data.communities[attrs.community].color + '\">' + data.communities[attrs.community].label + '</b> <i>family</i></p>';\n  } else\n    nodeExtra.innerHTML += '<p>The size of each node reflects how often ' +\n      'each ' + entity.replace(/s$/, '') + ' is ' +\n      (nodeEntity === \"creators\"\n        ? \"featured in stories authored by\"\n        : \"credited in stories featuring\"\n      ) + \" \" + selectedNodeLabel +\n       \" within Marvel API's data.</p>\";\n  if (attrs.url)\n    nodeExtra.innerHTML += '<p><a href=\"' + attrs.url + '\" target=\"_blank\">More on Marvel.com…</a></p>';\n  if (comicsReady)\n    addViewComicsButton(node);\n\n    const comicEntities = selectedComic && selectedComic[selectedNodeType || entity];\n  if (!comicsBarView || !(selectedComic && comicEntities && comicEntities.indexOf(node) !== -1)) {\n    renderer.setSetting(\"labelGridCellSize\", sigmaSettings.labelGridCellSize);\n    if (relatedNodes === null) {\n      // Highlight clicked node and make it bigger always with a picture and hide unconnected ones\n      data.graph.setNodeAttribute(node, \"highlighted\", true);\n      renderer.setSetting(\n        \"nodeReducer\", (n, attrs) => n === node\n          ? { ...attrs,\n              type: \"image\",\n              zIndex: 2,\n              size: attrs.size * 1.75,\n              hlcolor: \"#ec1d24\"\n            }\n          : data.graph.hasEdge(n, node)\n            ? { ...attrs,\n                type: view === \"pictures\" ? \"image\" : \"circle\",\n                zIndex: 1,\n                hlcolor: null\n              }\n            : { ...attrs,\n                type: \"circle\",\n                zIndex: 0,\n                color: \"#2A2A2A\",\n                size: sigmaDim < 500 ? 1 : 2,\n                label: null\n              }\n      );\n      // Hide unrelated links and highlight, weight and color as the target the node's links\n      renderer.setSetting(\n        \"edgeReducer\", (edge, attrs) =>\n          data.graph.hasExtremity(edge, node)\n            ? { ...attrs,\n                zIndex: 0,\n                color: lightenColor(data.graph.getNodeAttribute(data.graph.opposite(node, edge), 'color'), 75),\n                size: Math.max(1, Math.log(data.graph.getEdgeAttribute(edge, 'weight')) * sigmaDim / 5000)\n              }\n            : { ...attrs,\n                zIndex: 0,\n                color: \"#FFF\",\n                hidden: true\n              }\n      );\n    } else {\n      // Display the alternate entity graph for the selected node\n      renderer.setSetting(\n        \"nodeReducer\", (n, attrs) => relatedNodes[n] !== undefined\n          ? { ...attrs,\n              type: view === \"pictures\" ? \"image\" : \"circle\",\n              size: computeNodeSize(relatedNodes[n] * comicsRatio),\n              zIndex: 2\n            }\n          : { ...attrs,\n              type: \"circle\",\n              zIndex: 0,\n              color: \"#2A2A2A\",\n              size: sigmaDim < 500 ? 1 : 2,\n              label: null\n            }\n      );\n      renderer.setSetting(\n        \"edgeReducer\", (edge, attrs) =>\n          relatedNodes[networks[entity][networkSize].graph.source(edge)] !== undefined &&\n          relatedNodes[networks[entity][networkSize].graph.target(edge)] !== undefined\n            ? { ...attrs,\n                zIndex: 0,\n                color: '#222',\n                size: 1\n              }\n            : { ...attrs,\n                zIndex: 0,\n                color: \"#FFF\",\n                hidden: true\n              }\n      );\n    }\n\n    renderer.setSetting(\n      \"labelColor\", {attribute: \"hlcolor\", color: \"#CCC\"}\n    );\n  }\n\n  if (comicsBarView) {\n    if (!sameNode)\n      displayComics(node, true);\n    else if (selectedComic)\n      selectComic(selectedComic, true, true);\n  }\n  if (!(comicsBarView && selectedComic) && (!updateURL || center)) {\n    if (relatedNodes)\n      centerNode(null, Object.keys(relatedNodes));\n    else centerNode(node);\n  } else hideLoader();\n\n  if (!sameNode)\n    comicsDiv.scrollTo(0, 0);\n};\n\nfunction getNodeComics(node) {\n  return node === null\n    ? allComics\n    : charactersComics[node] || creatorsComics[node] || [];\n}\n\nfunction displayComics(node = null, autoReselect = false, resetTitle = true) {\n  logDebug(\"DISPLAY COMICS\", {selectedNode, node, autoReselect, resetTitle, selectedComic, selectedNodeLabel, sortComics, filter: filterInput.value});\n\n  if (comicsBarView && node === selectedNode && !autoReselect && !resetTitle)\n    return selectedComic ? scrollComicsList() : null;\n\n  if (selectedNodeLabel && selectedNodeType && !selectedNode)\n    clickNode(node, false, false);\n\n  if (!selectedComic)\n    selectedComic = \"\";\n\n  comicsBarView = true;\n  comicsBar.style.transform = \"scaleX(1)\";\n  hideViewComicsButton();\n  comicsCache.style.display = \"none\";\n\n  if (resetTitle) {\n    comicsTitle.innerHTML = \"... comics\";\n    if (selectedNodeLabel)\n      comicsTitle.innerHTML += \" \" + (selectedNodeType === \"creators\" ? \"by\" : \"with\") + \"<br/>\" + selectedNodeLabel;\n    comicsSubtitleList.innerHTML = \"\";\n  }\n  comicsSubtitle.style.display = (selectedNode && creatorsComics[selectedNode] ? \"inline\" : \"none\");\n\n  comicsList.innerHTML = \"\";\n  if (!comicsReady) {\n    loaderList.style.display = \"block\";\n    const waiter = setInterval(() => {\n     if (!comicsReady)\n      return;\n    clearInterval(waiter);\n    return setTimeout(() => actuallyDisplayComics(node, autoReselect), 0);\n    }, 50);\n  } else actuallyDisplayComics(node, autoReselect);\n}\n\nfunction actuallyDisplayComics(node = null, autoReselect = false) {\n  const graph = networks[entity][networkSize].graph,\n    comics = getNodeComics(node);\n\n  if (!comics)\n    comicsTitle.innerHTML = \"\";\n\n  if ((selectedNode && creatorsComics[selectedNode]) || (!selectedNode && entity === \"creators\"))\n    document.getElementById(\"clusters-layer\").style.display = \"none\";\n\n  if (comics && comics.length > 500)\n    loaderList.style.display = \"block\";\n\n  selectedComic = allComicsMap[selectedComic] || selectedComic;\n  if (autoReselect) {\n    const comicEntities = selectedComic && selectedComic[selectedNodeType || entity];\n    if (selectedNode && comicEntities && comicEntities.indexOf(selectedNode) === -1)\n      setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n    else selectComic(allComicsMap[selectedComic] || selectedComic, true, autoReselect);\n  }\n\n  setTimeout(() => {\n    const fullList = comics\n      ? comics.sort(sortComics === \"date\" ? sortByDate : sortByTitle)\n      : [];\n    const filteredList = filterComics.className === \"selected\" && filterInput.value\n      ? fullList.filter(c => c.title.toLowerCase().indexOf(filterInput.value.toLowerCase()) !== -1)\n      : fullList;\n      //.filter(c => (entity === \"characters\" && c.characters.length) || (entity === \"creators\" && c.creators.length));\n\n    renderHistogram(\n      selectedNode ? nodeHistogram : fullHistogram,\n      selectedNode,\n      filteredList\n    );\n\n    if (filteredList.length) {\n      comicsTitle.innerHTML = formatNumber(filteredList.length) + \" comic\" + (filteredList.length > 1 ? \"s\" : \"\");\n      if (selectedNodeLabel) comicsTitle.innerHTML += \" \" + (selectedNodeType === \"creators\" ? \"by\" : \"with\") + \"<br/>\" + selectedNodeLabel;\n      if (selectedNodeLabel && creatorsComics[selectedNode])\n        comicsSubtitleList.innerHTML = Object.keys(creatorsRoles)\n          .map(x => '<span style=\"color: ' + lightenColor(creatorsRoles[x]) + '\">' + x + '</span>')\n          .join(\"&nbsp;\")\n          .replace(/&nbsp;([^&]+)$/, \" or $1\");\n    }\n\n    setTimeout(() => {\n      comicsList.innerHTML = filteredList.length\n        ? filteredList.map(x => '<li id=\"comic-' + x.id + '\"' + (selectedNodeLabel && creatorsComics[selectedNode] ? ' style=\"color: ' + lightenColor(creatorsRoles[x.role]) + '\"' : \"\") + (selectedComic && x.id === selectedComic.id ? ' class=\"selected\"' : \"\") + '>' + x.title + \"</li>\")\n          .join(\"\")\n        : \"No comic-book found.\";\n      minComicLiHeight = 100;\n      filteredList.forEach(c => {\n        const comicLi = document.getElementById(\"comic-\" + c.id) as any;\n        minComicLiHeight = Math.min(minComicLiHeight, comicLi.getBoundingClientRect().height);\n        comicLi.comic = c;\n        comicLi.onmouseup = () => {\n          preventAutoScroll = true;\n          setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType, (selectedComic.id === comicLi.comic.id ? \"\" : comicLi.comic), sortComics);\n        };\n        comicLi.onmouseenter = () => selectComic(c);\n      });\n      loaderList.style.display = \"none\";\n      if (autoReselect) {\n        if (selectedComic) scrollComicsList();\n        comicsCache.style.display = \"none\";\n      }\n      resize(true);\n    }, 200);\n  }, 200);\n}\n\nviewAllComicsButton.onclick =\n  () => setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType, \"\", sortComics);\ndocument.getElementById(\"close-bar\").onclick =\n  () => setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType);\n\nfunction clearComicDetails() {\n  comicTitle.innerHTML = \"\";\n  comicImg.src = \"\";\n  comicDesc.innerHTML = \"\";\n  comicEntities.forEach(el => el.style.display = \"none\");\n  comicCreators.innerHTML = \"\";\n  comicCharacters.innerHTML = \"\";\n  comicUrl.style.display = \"none\";\n  renderer.setSetting(\"labelGridCellSize\", sigmaSettings.labelGridCellSize);\n}\n\nfunction unselectComic() {\n  logDebug(\"UNSELECT COMIC\", {selectedComic, selectedNodeLabel});\n  const graph = networks[entity][networkSize].graph;\n  hoveredComic = null;\n  selectComic(\"\", true);\n  clearComicDetails();\n  document.querySelectorAll(\"#comics-list li.selected\").forEach(\n    el => el.className = \"\"\n  );\n  if (selectedNode)\n    clickNode(selectedNode, false, true);\n  else clickNode(null, false);\n}\n\nfunction selectComic(comic, keep = false, autoReselect = false) {\n  logDebug(\"SELECT COMIC\", {selectedComic, comic, keep, autoReselect, selectedNodeLabel, selectedNodeType});\n\n  const graph = networks[entity][networkSize].graph;\n  if (!graph || !renderer) return;\n\n  if (!autoReselect && (!comic || !hoveredComic || comic.id !== hoveredComic.id))\n      clearComicDetails()\n\n  if (keep) {\n    selectedComic = comic;\n    document.querySelectorAll(\"#comics-list li.selected\").forEach(\n      el => el.className = \"\"\n    );\n    const comicLi = document.getElementById(\"comic-\" + (comic ? comic.id : \"\"));\n    if (comicLi) {\n      comicLi.className = \"selected\";\n      comicsCache.style.display = \"block\";\n      modalPrev.style.opacity = comicLi.previousElementSibling === null ? \"0\" : \"1\";\n      modalNext.style.opacity = comicLi.nextElementSibling === null ? \"0\" : \"1\";\n    }\n  } else hoveredComic = comic;\n\n  if (comic && selectedNode && graph.hasNode(selectedNode))\n    graph.setNodeAttribute(selectedNode, \"highlighted\", false)\n\n  if (!comic || !selectedComic || comic.id !== selectedComic.id)\n    document.getElementById(\"comic-details\").scrollTo(0, 0);\n\n  if (!comic) {\n    if (!keep && selectedComic && autoReselect)\n      selectComic(selectedComic);\n    return;\n  }\n\n  comicTitle.innerHTML = formatMonth(comic.date);\n  comicImg.src = comic.image_url.replace(/^http:/, '');\n  modalImg.src = comic.image_url.replace(/^http:/, '');\n  comicImg.onclick = () => {\n    modalImg.src = comic.image_url.replace(/^http:/, '');\n    modal.style.display = \"block\";\n    modalPlay.style.display = playing ? \"none\" : \"inline-block\";\n    modalPause.style.display = playing ? \"inline-block\" : \"none\";\n    const comicLi = document.getElementById(\"comic-\" + comic.id);\n    modalPrev.style.opacity = comicLi.previousElementSibling === null ? \"0\" : \"1\";\n    modalNext.style.opacity = comicLi.nextElementSibling === null ? \"0\" : \"1\";\n  }\n  comicDesc.innerHTML = comic.description;\n  comicUrl.style.display = \"inline\";\n  comicUrl.href = comic.url;\n\n  comicEntities.forEach(el => el.style.display = \"block\");\n  comicCreators.innerHTML = (comic.writers.length ? comic.writers : [\"-1\"])\n    .map(x => allCreators[x]\n      ? '<li id=\"creator-' + x + '\" ' +\n        (x !== \"-1\" ? 'class=\"entity-link\" ' : '') +\n        'title=\"writer\" ' +\n        'style=\"color: ' + lightenColor(creatorsRoles[\"writer\"]) + '\">' +\n        allCreators[x] + \"</li>\"\n      : \"\"\n    ).join(\"\");\n  comicCreators.innerHTML += (comic.artists.length ? comic.artists : [\"-1\"])\n    .map(x => allCreators[x]\n      ? '<li id=\"creator-' + x + '\" ' +\n        (x !== \"-1\" ? 'class=\"entity-link\" ' : '') +\n        'title=\"artist\" ' +\n        'style=\"color: ' + lightenColor(creatorsRoles[\"artist\"]) + '\">' +\n        allCreators[x] + \"</li>\"\n      : \"\"\n    ).join(\"\");\n  comicCharacters.innerHTML = (comic.characters.length ? comic.characters : [\"-1\"])\n    .map(x => allCharacters[x]\n      ? '<li id=\"character-' + x + '\" ' +\n        (x !== \"-1\" ? 'class=\"entity-link\" ' : '') + '>' +\n        allCharacters[x] + \"</li>\"\n      : \"\"\n    ).join(\"\");\n\n  comic.creators.forEach(c => {\n    if (!allCreators[c]) return;\n    const entityLi = document.getElementById(\"creator-\" + c) as HTMLElement;\n    entityLi.onclick = () => setURL(entity, networkSize, view, allCreators[c], \"creators\", selectedComic, sortComics);\n  });\n  comic.characters.forEach(c => {\n    if (!allCharacters[c]) return;\n    const entityLi = document.getElementById(\"character-\" + c) as HTMLElement;\n    entityLi.onclick = () => setURL(entity, networkSize, view, allCharacters[c], \"characters\", selectedComic, sortComics);\n  });\n\n  renderer.setSetting(\n    \"nodeReducer\", (n, attrs) => comic[entity].indexOf(n) !== -1\n      ? { ...attrs,\n          zIndex: 2,\n          size: attrs.size * 1.75,\n          type: view === \"pictures\" ? \"image\" : \"circle\"\n        }\n      : { ...attrs,\n          zIndex: 0,\n          color: \"#2A2A2A\",\n          type: \"circle\",\n          size: sigmaDim < 500 ? 1 : 2,\n          label: null\n        }\n  );\n  renderer.setSetting(\n    \"edgeReducer\", (edge, attrs) =>\n      comic[entity].indexOf(graph.source(edge)) !== -1 && comic[entity].indexOf(graph.target(edge)) !== -1\n      ? { ...attrs,\n          zIndex: 0,\n          color: '#333',\n          size: sigmaDim < 500 ? 1 : 3\n        }\n      : { ...attrs,\n          zIndex: 0,\n          color: \"#FFF\",\n          hidden: true\n        }\n  );\n  renderer.setSetting(\"labelGridCellSize\", 10);\n\n  if (!preventAutoScroll && keep)\n    scrollComicsList();\n  preventAutoScroll = false;\n\n  centerNode(null, comic[entity].filter(n => graph.hasNode(n)), false);\n}\n\n// Random node button\ndocument.getElementById(\"view-node\").onclick = () => {\n  const graph = networks[entity][networkSize].graph;\n  if (!graph || !renderer)\n    return;\n  const node = graph.nodes()[Math.floor(Math.random() * graph.order)];\n  if (selectedComic) unselectComic();\n  clickNode(node, true, true);\n}\n\n// Fullscreen button\nconst win = document.documentElement as any,\n  fullScreenBtn = document.getElementById(\"fullscreen\") as HTMLButtonElement,\n  regScreenBtn = document.getElementById(\"regscreen\") as HTMLButtonElement;\n\nfullScreenBtn.onclick = () => {\n  if (win.requestFullscreen) {\n    win.requestFullscreen();\n  } else if (win.webkitRequestFullscreen) { /* Safari */\n    win.webkitRequestFullscreen();\n  } else if (win.msRequestFullscreen) { /* IE11 */\n    win.msRequestFullscreen();\n  }\n  fullScreenBtn.style.display = \"none\";\n  regScreenBtn.style.display = \"block\";\n};\n\n// Exit Fullscreen button\nregScreenBtn.onclick = () => {\n  if ((document as any).exitFullscreen) {\n    (document as any).exitFullscreen();\n  } else if ((document as any).webkitExitFullscreen) { /* Safari */\n    (document as any).webkitExitFullscreen();\n  } else if ((document as any).msExitFullscreen) { /* IE11 */\n    (document as any).msExitFullscreen();\n  }\n  regScreenBtn.style.display = \"none\";\n  fullScreenBtn.style.display = \"block\";\n};\n\n// Network switch buttons\nswitchNodeType.onchange = (event) => {\n  const target = event.target as HTMLInputElement;\n  explanations.style.opacity = \"0\";\n  setURL(target.checked ? \"creators\" : \"characters\", networkSize, view, selectedNodeLabel, selectedNodeType, selectedComic, sortComics);\n};\n\nswitchNodeFilter.onchange = (event) => {\n  const target = event.target as HTMLInputElement;\n  explanations.style.opacity = \"0\";\n  setURL(entity, target.checked ? \"most\" : \"main\", view, selectedNodeLabel, selectedNodeType, selectedComic, sortComics);\n};\n\nswitchNodeView.onchange = (event) => {\n  const target = event.target as HTMLInputElement;\n  setURL(entity, networkSize, target.checked ? \"colors\" : \"pictures\", selectedNodeLabel, selectedNodeType, selectedComic, sortComics);\n};\n\n\n/* -- Interface display -- */\n\nfunction showCanvases(showClustersLayer = true) {\n  (document.querySelectorAll(\".sigma-container canvas\") as NodeListOf<HTMLElement>).forEach(canvas => canvas.style.display = \"block\");\n  if (showClustersLayer && clustersLayer && entity === \"creators\")\n    clustersLayer.style.display = \"block\";\n}\n\nfunction hideLoader() {\n  if (view === \"pictures\")\n    return setTimeout(() => {\n      loader.style.display = \"none\";\n      loader.style.opacity = \"0\";\n      picturesRenderingDelay[entity] = Math.min(picturesRenderingDelay[entity],\n        networkSize === \"most\" ? 0 : picturesLoadingDelay / 2);\n    }, picturesRenderingDelay[entity]);\n  loader.style.display = \"none\";\n  loader.style.opacity = \"0\";\n}\n\nfunction defaultSidebar() {\n  explanations.style.display = \"block\";\n  nodeDetails.style.display = \"none\";\n  modal.style.display = \"none\";\n  modalImg.src = \"\";\n  if (comicsReady)\n    renderHistogram(\n      selectedNode ? nodeHistogram : fullHistogram,\n      selectedNode\n    );\n}\n\nfunction hideComicsBar() {\n  if (filterComics.className === \"selected\") {\n    filterComics.className = \"\";\n    filterSearch.style.display = \"none\";\n    renderHistogram(\n      selectedNode ? nodeHistogram : fullHistogram,\n      selectedNode\n    );\n  }\n  comicsCache.style.display = \"none\";\n  comicsBarView = false;\n  comicsBar.style.transform = \"scaleX(0)\";\n  modalNext.style.opacity = \"0\";\n  modalPrev.style.opacity = \"0\";\n  resize(true);\n  showViewComicsButton();\n  unselectComic();\n  selectedComic = null;\n  if (entity === \"creators\" && clustersLayer)\n    clustersLayer.style.display = \"block\";\n}\n\nfunction addViewComicsButton(node) {\n  nodeExtra.innerHTML += '<p id=\"view-comics\"' + (comicsBarView ? ' class=\"view-comics-selected\"': '') + '><span>Explore comics</span></p>';\n  document.getElementById('view-comics').onclick = () => setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n  renderHistogram(nodeHistogram, node);\n}\n\nfunction showViewComicsButton() {\n  (document.querySelectorAll('#view-comics, #view-all-comics') as NodeListOf<HTMLElement>).forEach(\n    el => el.className = \"\"\n  );\n}\n\nfunction hideViewComicsButton() {\n  (document.querySelectorAll('#view-comics, #view-all-comics') as NodeListOf<HTMLElement>).forEach(\n    el => el.className = \"view-comics-selected\"\n  );\n}\n\n// Help Box\nlet preventClick = false;\nhelpButton.onclick = () => {\n  helpModal.style.display = \"block\";\n  setTimeout(() => helpBox.style.transform = \"scale(1)\", 0);\n}\nhelpModal.onclick = () => {\n  if (preventClick) {\n    preventClick = false;\n    return;\n  }\n  preventClick = false;\n  helpBox.style.transform = \"scale(0)\";\n  setTimeout(() => helpModal.style.display = \"none\", 300);\n}\nhelpBox.onclick = (e) => {\n  preventClick = true;\n}\ndocument.getElementById(\"close-help\").onclick = helpModal.onclick;\n\n\n/* -- Comics bar interactions -- */\n\n// Next/Previous/Play/Pause comics buttons handling\nfunction scrollComicsList() {\n  preventAutoScroll = false;\n  setTimeout(() => {\n    const offset = document.querySelector(\"#comics-list li.selected\") as HTMLElement;\n    if (!offset) return;\n    const listHeight = divHeight(\"comics\");\n    let diff = listHeight < 5 * minComicLiHeight\n      ? listHeight + minComicLiHeight\n      : listHeight / 2 + minComicLiHeight;\n    comicsDiv.scrollTo(0, offset.offsetTop - diff);\n  }, 10);\n}\n\nfunction selectAndScroll(el) {\n  if (!el) return;\n  setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType, el.comic, sortComics);\n  scrollComicsList();\n}\n\nfunction selectAndScrollSibling(typ, loop = false) {\n  if (!comicsBarView) return;\n  const selected = document.querySelector(\"#comics-list li.selected\") as any;\n  let target = selected && selected[typ + \"ElementSibling\"] as any;\n  if (loop && !target)\n    target = document.querySelector(\"#comics-list li:\" + (typ === \"next\" ? \"first\" : \"last\") + \"-child\") as any;\n  selectAndScroll(target);\n  if (typ === \"next\" && playing && !target && !loop)\n    modalPause.onclick(null);\n}\n\nfunction playComics() {\n  comicsPlay.style.display = \"none\";\n  comicsPause.style.display = \"inline-block\";\n  modalPlay.style.display = \"none\";\n  modalPause.style.display = \"inline-block\";\n  if (playing) clearInterval(playing);\n  selectAndScrollSibling(\"next\", true);\n  playing = setInterval(() => selectAndScrollSibling(\"next\"), playComicsDelay);\n}\n\nfunction stopPlayComics() {\n  comicsPause.style.display = \"none\";\n  comicsPlay.style.display = \"inline-block\";\n  modalPause.style.display = \"none\";\n  modalPlay.style.display = \"inline-block\";\n  if (playing) clearInterval(playing);\n  playing = false;\n}\n\n// Comics list actions\ncomicsPlay.onclick = playComics;\ncomicsPause.onclick = stopPlayComics;\ncomicsPrev.onclick = () => selectAndScrollSibling(\"previous\", true);\ncomicsNext.onclick = () => selectAndScrollSibling(\"next\", true);\n\n// Modal actions\nmodalNext.onclick = () => {\n  preventClick = true;\n  selectAndScrollSibling(\"next\");\n};\nmodalPrev.onclick = () => {\n  preventClick = true;\n  selectAndScrollSibling(\"previous\");\n};\nmodalPlay.onclick = () => {\n  preventClick = true;\n  playComics()\n}\nmodalPause.onclick = () => {\n  preventClick = true;\n  stopPlayComics();\n}\nmodal.onclick = () => {\n  if (preventClick) return preventClick = false;\n  preventClick = false;\n  modal.style.display = \"none\";\n  comicsCache.style.display = \"none\";\n};\nmodalImg.onclick = modal.onclick;\ndocument.getElementById(\"close-modal\").onclick = modal.onclick;\n\n// Comics list scroll blocker after click handling\ncomicsList.onmouseleave = () => {\n  if (selectedComic)\n    selectComic(selectedComic);\n  else unselectComic();\n};\n\ncomicsCache.onwheel = () => comicsCache.style.display = \"none\";\ncomicsCache.onmousedown = comicsCache.onwheel;\ncomicsCache.onmouseout = comicsCache.onwheel;\n\n// Sort comics buttons\nconst sortableTitle = s => s.replace(/^(.* \\(\\d+\\)).*$/, \"$1 / \") + s.replace(/^.*#(\\d+.*)$/, \"$1\").padStart(8, \"0\"),\n  sortByTitle = (a, b) => sortableTitle(a.title).localeCompare(sortableTitle(b.title)),\n  sortByDate = (a, b) => a.date < b.date ? -1 : (a.date === b.date ? 0 : 1);\n\nsortAlpha.onclick = () => {\n  setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType, selectedComic, \"alpha\");\n};\n\nsortDate.onclick = () => {\n  setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType, selectedComic, \"date\");\n};\n\n// Search comics input\nlet filterTimeout = null;\n\nfunction refreshFilter() {\n  if (filterTimeout)\n    clearTimeout(filterTimeout);\n  filterTimeout = setTimeout(() => {\n    displayComics(selectedNode, true, false);\n    filterTimeout = null;\n  }, 200);\n}\n\nfilterComics.onclick = () => {\n  if (filterComics.className === \"selected\") {\n    filterComics.className = \"\";\n    filterSearch.style.display = \"none\";\n  } else {\n    filterSearch.style.display = \"block\";\n    filterComics.className = \"selected\";\n  }\n  resize(true);\n  if (filterInput.value)\n    refreshFilter();\n}\n\nfilterInput.oninput = refreshFilter;\n\n\n/* -- Keystrokes (Esc & Arrow keys) handling -- */\n\ndocument.onkeydown = function(e) {\n  const graph = networks[entity][networkSize].graph;\n  if (!graph || !renderer) return\n\n  if (searchInput === document.activeElement || filterInput === document.activeElement)\n    return\n  if (modal.style.display === \"block\" && e.which === 27) {\n    modal.style.display = \"none\";\n    comicsCache.style.display = \"none\";\n  } else if (selectedComic) {\n    switch(e.which) {\n      case 37: // left\n        selectAndScrollSibling(\"previous\");\n        break;\n      case 38: // up\n        selectAndScrollSibling(\"previous\");\n        break;\n\n      case 39: // right\n        selectAndScrollSibling(\"next\");\n        break;\n      case 40: // down\n        selectAndScrollSibling(\"next\");\n        break;\n\n      case 27: // esc\n        setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType, \"\", sortComics);\n        break;\n\n      default: return; // exit this handler for other keys\n    }\n  } else if (comicsBarView) {\n    if (e.which === 37 || e.which === 38)\n      selectAndScroll(document.querySelector(\"#comics-list li:last-child\") as any);\n    else if (e.which === 39 || e.which === 40)\n      selectAndScroll(document.querySelector(\"#comics-list li:first-child\") as any);\n    else if (e.which === 27)\n      setURL(entity, networkSize, view, selectedNodeLabel, selectedNodeType);\n    else return;\n  }  else if (selectedNode && e.which === 27)\n    clickNode(null);\n  else return;\n  e.preventDefault(); // prevent the default action (scroll / move caret)\n};\n\n\n/* -- Swipe touch handling -- */\n\nlet touches = {x: [0, 0], y: [0, 0]};\n\nfunction touchStart(e) {\n  touches.x[0] = e.changedTouches[0].screenX;\n  touches.y[0] = e.changedTouches[0].screenY;\n};\nmodal.ontouchstart = touchStart;\ncomicImg.ontouchstart = touchStart;\nswitchTypeLabel.ontouchstart = touchStart;\nswitchViewLabel.ontouchstart = touchStart;\nswitchFilterLabel.ontouchstart = touchStart;\n\nfunction touchEnd(e, threshold = 100) {\n  touches.x[1] = e.changedTouches[0].screenX;\n  touches.y[1] = e.changedTouches[0].screenY;\n  const horizontalDifference = touches.x[1] - touches.x[0],\n    verticalDifference = touches.y[1] - touches.y[0];\n  // Horizontal difference dominates\n  if (Math.abs(horizontalDifference) > Math.abs(verticalDifference)) {\n    if (horizontalDifference >= threshold)\n      return \"left\";\n    else if (horizontalDifference <= -threshold)\n      return \"right\";\n  // Vertical difference dominates\n  } else if (verticalDifference >= threshold)\n    return \"up\";\n  else if (verticalDifference <= -threshold)\n    return \"down\";\n  return \"\";\n};\n\nmodal.ontouchend = e => {\n  const typ = touchEnd(e);\n  if (typ === \"left\" || typ === \"up\")\n    selectAndScrollSibling(\"previous\");\n  else if (typ === \"right\" || typ === \"down\")\n    selectAndScrollSibling(\"next\");\n};\n\ncomicImg.ontouchend = e => {\n  const typ = touchEnd(e, 30);\n  if (typ === \"left\")\n    selectAndScrollSibling(\"previous\");\n  else if (typ === \"right\")\n    selectAndScrollSibling(\"next\");\n};\n\nswitchTypeLabel.ontouchend = e => {\n  const typ = touchEnd(e, 20);\n  if (typ === \"left\" || typ === \"right\") {\n    switchNodeType.checked = !switchNodeType.checked;\n    setURL(switchNodeType.checked ? \"creators\" : \"characters\", networkSize, view, selectedNodeLabel, selectedNodeType, selectedComic, sortComics);\n  }\n};\n\nswitchFilterLabel.ontouchend = e => {\n  const typ = touchEnd(e, 20);\n  if (typ === \"left\" || typ === \"right\") {\n    switchNodeFilter.checked = !switchNodeFilter.checked;\n    setURL(entity, switchNodeFilter.checked ? \"most\" : \"main\", view, selectedNodeLabel, selectedNodeType, selectedComic, sortComics);\n  }\n};\n\nswitchViewLabel.ontouchend = e => {\n  const typ = touchEnd(e, 0);\n  if (typ === \"left\" || typ === \"right\") {\n    switchNodeView.checked = !switchNodeView.checked;\n    setURL(entity, networkSize, switchNodeView.checked ? \"colors\" : \"pictures\", selectedNodeLabel, selectedNodeType, selectedComic, sortComics);\n  }\n};\n\n\n/* -- Comics histogram timeline -- */\n\nfunction buildLegendItem(year, ref = \"\") {\n  let className = '',\n    color = '';\n  if (ref !== \"start\" && year !== startYear && year !== curYear)\n    className = ' class=\"hidable\"';\n  if (ref === \"start\")\n    color = '; color: var(--marvel-red-light)';\n  else if (ref === \"old\")\n    color = '; color: #555';\n  return '<div style=\"left: calc((100% - 25px) * ' + Math.round(1000 * (year - startYear) / totalYears) / 1000 + ')' +\n    color + '\"' + className + '>' + year + '</div>';\n}\n\nfunction buildHistogram(comics) {\n  const histo = {\n    values: new Array(totalYears).fill(0),\n    start: curYear,\n    end: startYear,\n    sum: 0\n  };\n  comics.forEach(c => {\n    const comicYear = (new Date(c.date)).getFullYear();\n    if (!comicYear) return;\n    histo.values[comicYear - startYear] += 1;\n    histo.start = Math.min(histo.start, comicYear);\n    histo.end = Math.max(histo.end, comicYear);\n    histo.sum += 1\n  });\n  return histo;\n}\n\nfunction renderHistogram(element, node = null, comics = null) {\n  const histogram = comics === null && histograms[entity][node]\n    ? histograms[entity][node]\n    : buildHistogram(comics || getNodeComics(node));\n  if (comics === null && !histograms[entity][node])\n    histograms[entity][node] = histogram;\n\n  const heightRatio = 25 / Math.max.apply(Math, histogram.values),\n    barWidth = Math.round(1000 * divWidth(\"node-extra\") / totalYears) / 1000;\n\n  fullHistogram.innerHTML = \"\";\n  nodeHistogram.innerHTML = \"\";\n  let histogramDiv = '<div id=\"histogram-title\">' + formatNumber(histogram.sum) + \" comics between \" + histogram.start + \"&nsbp;&amp;&nbsp;\" + histogram.end + '</div>';\n\n  histogramDiv += '<div id=\"histogram\">';\n  histogram.values.forEach((y, idx) => histogramDiv +=\n    '<span class=\"histobar\" ' +\n      'style=\"width: calc(100% / ' + totalYears + '); ' +\n        'height: ' + Math.round(y * heightRatio) + 'px\">' +\n    '</span>'\n  );\n\n  histogramDiv += '</div><div id=\"histogram-hover\">';\n  histogram.values.forEach((y, idx) => histogramDiv +=\n    '<span class=\"histobar-hover\" ' +\n      (y ? 'tooltip=\"' + y + ' comic' + (y > 1 ? 's' : '') + ' in ' + (startYear + idx) + '\" ' : '') +\n      'style=\"width: calc(100% / ' + totalYears + ')\">' +\n    '</span>'\n  );\n\n  histogramDiv += '</div><div id=\"histogram-tooltip\"></div><div id=\"histo-legend\">';\n\n  const legendYears = [startYear, 1960, 1980, 2000, curYear];\n  if (legendYears.indexOf(histogram.start) === -1)\n    legendYears.push(histogram.start);\n  legendYears.sort().forEach(y => {\n    if (y + 12 < histogram.start)\n      histogramDiv += buildLegendItem(y, \"old\")\n    else if (y - 12 > histogram.start)\n      histogramDiv += buildLegendItem(y);\n    else if (y === histogram.start)\n      histogramDiv += buildLegendItem(histogram.start, \"start\");\n  });\n  histogramDiv += '</div>';\n  element.innerHTML = histogramDiv;\n\n  const maxWidth = divWidth(\"sidebar\"),\n    histoTooltip = document.getElementById(\"histogram-tooltip\") as HTMLElement;\n  (document.querySelectorAll(\".histobar-hover\") as NodeListOf<HTMLElement>).forEach(bar => {\n    bar.onmouseenter = (e) => {\n      const tooltip = bar.getAttribute(\"tooltip\");\n      if (!tooltip)\n        return clearTooltip();\n      histoTooltip.innerHTML = bar.getAttribute(\"tooltip\");\n      const dims = bar.getBoundingClientRect();\n      histoTooltip.style.top = (document.getElementById(\"histo-legend\").getBoundingClientRect().top + 3) + \"px\";\n      histoTooltip.style.left = Math.min(maxWidth - 148, Math.max(0, e.clientX - 65)) + \"px\";\n      histoTooltip.style.display = \"block\";\n    };\n    bar.ontouchstart = (e) => bar.onmouseenter;\n  });\n  document.getElementById(\"histogram-hover\").onmouseleave = clearTooltip;\n  document.getElementById(\"histogram-hover\").ontouchend = clearTooltip;\n}\n\nfunction clearTooltip() {\n  const histoTooltip = document.getElementById(\"histogram-tooltip\") as HTMLElement;\n  histoTooltip.innerHTML = \"\";\n  histoTooltip.style.display = \"none\";\n};\n\n\n\n\n/* -- Responsiveness handling -- */\n\nlet resizing = null;\n\nfunction resize(fast = false) {\n  logDebug(\"RESIZE\");\n  if (!fast) resizing = true;\n  const graph = entity ? networks[entity][networkSize].graph : null,\n    freeHeight = divHeight(\"sidebar\") - divHeight(\"header\") - divHeight(\"credits\");\n  explanations.style.opacity = \"1\"\n  explanations.style.height = (freeHeight - 10) + \"px\";\n  explanations.style[\"min-height\"] = (freeHeight - 10) + \"px\";\n  nodeDetails.style.height = freeHeight + \"px\";\n  nodeDetails.style[\"min-height\"] = freeHeight + \"px\";\n  comicsDiv.style.height = divHeight(\"comics-bar\") - divHeight(\"comics-header\") - divHeight(\"comic-details\") - 11 + \"px\";\n  loader.style.transform = (comicsBarView && comicsBar.getBoundingClientRect().x !== 0 ? \"translateX(-\" + divWidth(\"comics-bar\") / 2 + \"px)\" : \"\");\n  const comicsDims = comicsDiv.getBoundingClientRect();\n  [\"width\", \"height\", \"top\"].forEach(k =>\n    comicsCache.style[k] = comicsDims[k] + \"px\"\n  );\n  const sigmaDims = container.getBoundingClientRect();\n  sigmaDim = Math.min(sigmaDims.height, sigmaDims.width);\n  updateShift();\n  if (!fast && renderer) {\n    const ratio = Math.pow(1.1, Math.log(camera.ratio) / Math.log(1.5));\n    renderer.setSetting(\"labelRenderedSizeThreshold\", ((networkSize === \"main\" ? 6 : 4) + (entity === \"characters\" ? 1 : 0.5)) * sigmaDim / 1000);\n    graph.forEachNode((node, {stories}) =>\n      graph.setNodeAttribute(node, \"size\", computeNodeSize(stories))\n    );\n  }\n  if (!fast) resizing = false;\n}\n\nwindow.onresize = () => {\n  if (resizing === true) return;\n  if (resizing) clearTimeout(resizing);\n  resizing = setTimeout(resize, 0);\n};\n\n\n/* -- URL actions routing -- */\n\nfunction setURL(ent, siz, vie, sel = null, selType = null, comics = null, sort = \"date\") {\n  const opts = [];\n  if (sel !== null && !(ent === selType && !networks[ent][siz].graph.findNode((node, {label}) => label === sel)))\n    opts.push((selType || ent).replace(/s$/, \"\") + \"=\" + sel.replace(/ /g, \"+\"));\n  if (comics !== null) {\n    opts.push(\"comics\" + (comics ? \"=\" + comics.id : \"\"));\n    if (sort === \"alpha\")\n      opts.push(\"sort=\" + sort);\n  }\n\n  window.location.hash = \"/\" + siz + \"/\" + ent + \"/\" + vie + \"/\"\n    + (opts.length ? \"?\" + opts.join(\"&\") : \"\");\n}\n\nfunction readURL() {\n  const args = window.location.hash\n    .replace(/^#\\//, '')\n    .split(/\\/\\??/);\n  if (args.length < 4\n    || [\"main\", \"most\"].indexOf(args[0]) === -1\n    || [\"characters\", \"creators\"].indexOf(args[1]) === -1\n    || [\"pictures\", \"colors\"].indexOf(args[2]) === -1\n  ) return setURL(\"characters\", \"main\", \"pictures\");\n  const opts = Object.fromEntries(\n    args[3].split(\"&\")\n    .map(o => /=/.test(o) ? o.split(\"=\") : [o, \"\"])\n    .filter(o => [\"creator\", \"character\", \"comics\", \"sort\"].indexOf(o[0]) !== -1)\n  );\n\n  const reload = args[1] !== entity || args[0] !== networkSize,\n    switchv = args[2] !== view;\n\n  const oldNodeLabel = selectedNodeLabel;\n  selectedNodeLabel = null;\n  searchInput.value = \"\";\n  [\"character\", \"creator\"].forEach(e => {\n    if (opts[e]) {\n      selectedNodeType = e + \"s\";\n      selectedNodeLabel = decodeURIComponent(opts[e].replace(/\\+/g, \" \"));\n      searchInput.value = selectedNodeLabel;\n    }\n  });\n  const clickn = selectedNodeLabel !== oldNodeLabel;\n\n  const oldComic = selectedComic,\n    oldSort = sortComics,\n    shouldComicsBarView = opts[\"comics\"] !== undefined;\n  selectedComic = shouldComicsBarView ? allComicsMap[opts[\"comics\"]] || opts[\"comics\"] || \"\" : null;\n  sortComics = opts[\"sort\"] || \"date\";\n  sortDate.disabled = sortComics === \"date\";\n  sortAlpha.disabled = sortComics === \"alpha\";\n  const dispc = selectedComic !== oldComic || sortComics !== oldSort;\n\n  logDebug(\"READ URL\", {args, opts, reload, switchv, clickn, oldNodeLabel, selectedNodeLabel, dispc, oldComic, selectedComic, shouldComicsBarView, oldSort, sortComics});\n\n  // Update titles\n  let title = \"Marvel's \" + args[0] + \" \" + args[1] + \" featured together within same&nbsp;comics\";\n  if (selectedNodeLabel)\n    title += \" \" + (selectedNodeType === args[1]\n      ? \"as\"\n      : (selectedNodeType === \"creators\"\n        ? \"from\"\n        : \"casting\")) + \" \";\n  document.querySelector(\"title\").innerHTML = \"MARVEL graphs &mdash; Map of \" + title + (selectedNodeLabel ? selectedNodeLabel : \"\");\n  document.getElementById(\"title\").innerHTML = '<span class=\"hide-small-height\">Here is a map of </span> ' + title;\n\n  if (reload) {\n    // Hide canvases\n    (document.querySelectorAll(\".sigma-container canvas\") as NodeListOf<HTMLElement>).forEach(canvas => canvas.style.display = \"none\");\n    if (clustersLayer) {\n      clustersLayer.innerHTML = \"\";\n      clustersLayer.style.display = \"none\";\n    }\n    loader.style.opacity = \"1\";\n    loader.style.display = \"block\";\n\n    // Clear highlighted node from previous graph so it won't remain further on\n    if (entity && selectedNode) {\n      const prevGraph = networks[entity][networkSize].graph;\n      if (prevGraph && prevGraph.hasNode(selectedNode))\n        prevGraph.setNodeAttribute(selectedNode, \"highlighted\", false);\n    }\n\n    // Setup Sidebar default content\n    orderSpan.innerHTML = '...';\n\n    if (args[1] === \"creators\")\n      Object.keys(creatorsRoles).forEach(k => {\n        const role = document.getElementById(k + \"-color\");\n        role.style.color = lightenColor(creatorsRoles[k]);\n        role.innerHTML = k + \" (...)\";\n      });\n    else document.querySelectorAll(\"#clusters-legend .color\")\n      .forEach(el => el.innerHTML = \"...\");\n  }\n\n  // Setup Size filter switch\n  switchNodeFilter.checked = args[0] === \"most\";\n  networkSize = args[0];\n  mainDetailsSpans.forEach(span => span.style.display = (networkSize === \"main\" ? \"inline\" : \"none\"));\n  mostDetailsSpans.forEach(span => span.style.display = (networkSize === \"most\" ? \"inline\" : \"none\"));\n\n  // Setup Node type switch\n  switchNodeType.checked = args[1] === \"creators\";\n  entity = args[1];\n  entitySpans.forEach(span => span.innerHTML = entity);\n  charactersDetailsSpans.forEach(span => span.style.display = (entity === \"characters\" ? \"inline-block\" : \"none\"));\n  creatorsDetailsSpans.forEach(span => span.style.display = (entity === \"creators\" ? \"inline-block\" : \"none\"));\n  document.getElementById(\"min-stories\").innerHTML = conf[\"min_stories_for_\" + entity];\n  document.getElementById(\"cooccurrence-threshold\").innerHTML = conf[\"cooccurrence_threshold_for_\" + entity];\n\n  // Setup View switch\n  switchNodeView.checked = args[2] === \"colors\";\n  view = args[2];\n  colorsDetailsSpans.forEach(span => span.style.display = (view === \"colors\" ? \"inline\" : \"none\"));\n  picturesDetailsSpans.forEach(span => span.style.display = (view === \"pictures\" ? \"inline\" : \"none\"));\n\n  const graph = networks[entity][networkSize].graph;\n  if (reload) setTimeout(() => {\n    // If graph already loaded, just render it\n    if (graph)\n      renderNetwork(shouldComicsBarView);\n    // Otherwise load network file\n    else loadNetwork(entity, networkSize, () => renderNetwork(shouldComicsBarView));\n  }, 0);\n  else if (switchv) {\n    if (graph && renderer) {\n      loader.style.display = \"block\";\n      loader.style.opacity = \"0.5\";\n\n      setTimeout(() => {\n        renderer.setSetting(\"nodeReducer\", (n, attrs) => (view === \"pictures\" ? { ...attrs, type: \"image\" } : attrs));\n        renderer.setSetting(\"edgeReducer\", (edge, attrs) => attrs);\n        renderer.setSetting(\"labelColor\", view === \"pictures\" ? {attribute: 'hlcolor'} : {color: '#999'});\n        if (graph && shouldComicsBarView && selectedComic)\n          selectComic(selectedComic, true, true);\n        else if (graph && selectedNode)\n          clickNode(selectedNode, false);\n        else hideLoader();\n      }, 10);\n    }\n  } else if (clickn) {\n    let network = networks[entity][networkSize];\n    if (selectedNodeType !== entity) {\n      loadNetwork(selectedNodeType, \"most\", () => {\n        clickNode(networks[selectedNodeType].most.graph.findNode((n, {label}) => label === selectedNodeLabel), false);\n      }, true);\n    } else clickNode(graph.findNode((n, {label}) =>label === selectedNodeLabel), false);\n  } else if (dispc) {\n    if (!shouldComicsBarView)\n      hideComicsBar();\n    else if (!comicsBarView || oldSort !== sortComics)\n      displayComics(selectedNode, true, oldSort === sortComics);\n    else if (selectedComic)\n      selectComic(selectedComic, true);\n    else unselectComic();\n    hideLoader();\n  }\n}\n\n\n/* -- Init app -- */\n\n// Collect algo's metadata to feed explanations\nfetch(\"./config.yml.example\")\n.then((res) => res.text())\n.then((confData) => {\n  confData.split(\"\\n\").forEach(line => {\n    const keyval = line.split(/:\\s*/);\n    conf[keyval[0]] = keyval[1];\n  });\n\n  // Check WebGL\n  if (!webGLSupport()) {\n    document.getElementById(\"webgl-disclaimer\").style.display = \"block\";\n    return;\n  }\n\n  // Init graph with first url\n  defaultSidebar();\n  window.onhashchange = readURL;\n  readURL();\n});\n","import getNodeProgramImage from \"./sigma.js/rendering/webgl/programs/node.image\";\n\nconst startYear = 1939,\n  curYear = (new Date).getFullYear(),\n  totalYears = curYear - startYear + 1,\n  picturesLoadingDelay = 1500,\n  playComicsDelay = 1500,\n  creatorsRoles = {\n    writer: \"#234fac\",\n    artist: \"#2b6718\",\n    both: \"#d4a129\"\n  },\n  clusters = {\n    creators: {\n      \"Silver Age\": {\n        match: [\"Stan Lee\", \"Steve Ditko\", \"Jack Kirby\"],\n        color: \"#DDDDDD\"\n      },\n      \"Bronze Age\": {\n        match: [\"Chris Claremont\", \"John Byrne\", \"Jim Starlin\"],\n        color: \"#ff993e\"\n      },\n      \"Modern Age\": {\n        match: [\"Jeph Loeb\", \"Kurt Busiek\", \"Peter David\", \"Mark Waid\"],\n        color: \"#bce25b\"\n      },\n      \"Millenium Age\": {\n        match: [\"Kelly Thompson\", \"Brian Michael Bendis\", \"Dan Slott\"],\n        color: \"#5fb1ff\"\n      }\n    },\n    characters: {\n      \"Avengers\": {\n        match: [\"Avengers\"],\n        color: \"#2b6718\"\n      },\n      \"X-Men\": {\n        match: [\"X-Men\"],\n        color: \"#d4a129\"\n      },\n      \"Spider-Man & Marvel Knights\": {\n        match: [\"Spider-Man (Peter Parker)\"],\n        color: \"#822e23\"\n      },\n      \"Fantastic Four & Cosmic heroes\": {\n        match: [\"Fantastic Four\"],\n        color: \"#234fac\"\n      },\n      \"Ultimate Universe\": {\n        match: [\"Ultimates\"],\n        color: \"#57b23d\"\n      },\n      \"Alpha Flight\": {\n        match: [\"Alpha Flight\"],\n        hide: true,\n        color: \"#8d32a7\"\n      },\n      \"Starjammers\": {\n        match: [\"Corsair\"],\n        hide: true,\n        color: \"#bce25b\"\n      },\n      \"Heroes for Hire\": {\n        match: [\"Fat Cobra\"],\n        hide: true,\n        color: \"#c45ecf\"\n      },\n      \"Diverse Heroes\": {\n        match: [\"Gorilla Man\"],\n        hide: true,\n        color: \"#bce25b\"\n      },\n      \"New Mutants & Young X-Men\": {\n        match: [\"Rockslide\"],\n        hide: true,\n        color: \"#ff993e\"\n      },\n      \"X-Statix\": {\n        match: [\"Dead Girl\"],\n        hide: true,\n        color: \"#5fb1ff\"\n      }\n    }\n  },\n  extraPalette = [\n    \"#bce25b\",\n    \"#0051c4\",\n    \"#d52f3f\",\n    \"#ded03f\",\n    \"#2cc143\",\n    \"#8b4a98\",\n    \"#5fb1ff\",\n    \"#ff993e\",\n    \"#904f13\",\n    \"#c45ecf\"\n  ],\n  sigmaSettings = {\n    maxCameraRatio: 75,\n    defaultEdgeColor: '#2A2A2A',\n    labelFont: '\"DejaVu Sans Mono\", monospace',\n    labelWeight: 'bold',\n    labelGridCellSize: 200,\n    zoomToSizeRatioFunction: ratio => Math.pow(ratio, 0.75),\n    nodeProgramClasses: {\n      image: getNodeProgramImage()\n    }\n  };\n\nexport {\n  startYear, curYear, totalYears,\n  picturesLoadingDelay, playComicsDelay,\n  creatorsRoles, clusters,\n  extraPalette,\n  sigmaSettings\n};\n","const DEBUG = false;\n\nfunction logDebug(action, vars = {}) {\n  if (DEBUG)\n    console.log(\" -> \" + action, vars);\n}\nfunction formatNumber(x) {\n  return (x + \"\")\n    .replace(/(.)(.{3})$/, \"$1&nbsp;$2\");\n}\n\nconst monthNames = [\"january\", \"february\", \"march\", \"april\", \"may\", \"june\", \"july\", \"august\", \"september\", \"october\", \"november\", \"december\"];\nfunction formatMonth(dat) {\n  const d = new Date(dat);\n  return monthNames[new Date(dat).getMonth()] + \" \" + dat.slice(0, 4);\n}\n\n// Lighten colors function copied from Chris Coyier https://css-tricks.com/snippets/javascript/lighten-darken-color/\nfunction lightenColor(col, amt=50) {\n  var usePound = false;\n  if (col[0] === \"#\") {\n    col = col.slice(1);\n    usePound = true;\n  }\n  var num = parseInt(col,16);\n  var r = (num >> 16) + amt;\n  if (r > 255) r = 255;\n  else if  (r < 0) r = 0;\n  var b = ((num >> 8) & 0x00FF) + amt;\n  if (b > 255) b = 255;\n  else if  (b < 0) b = 0;\n  var g = (num & 0x0000FF) + amt;\n  if (g > 255) g = 255;\n  else if (g < 0) g = 0;\n  return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\nfunction meanArray(arr) {\n  return arr.reduce((a, b) => a + b, 0) / arr.length;\n}\n\nfunction divWidth(divId) {\n  return document.getElementById(divId).getBoundingClientRect().width;\n}\n\nfunction divHeight(divId) {\n  return document.getElementById(divId).getBoundingClientRect().height;\n}\n\nfunction webGLSupport() {\n  try {\n   var canvas = document.createElement('canvas');\n   return !!window.WebGLRenderingContext &&\n     (canvas.getContext('webgl') || canvas.getContext('experimental-webgl'));\n  } catch(e) {\n    return false;\n  }\n};\n\nfunction rotatePosition(pos, angle) {\n  return {\n    x: pos.x * Math.cos(-angle) - pos.y * Math.sin(-angle),\n    y: pos.y * Math.cos(-angle) + pos.x * Math.sin(-angle)\n  };\n};\n\nfunction uncompress(compressed, method, callback) {\n  const worker_script = `\n    importScripts(\"${window.location.origin}/pako_inflate.min.js\");\n    self.onmessage = async (evt) => {\n      const file = evt.data;\n      const decompressed = pako.${method}(file, {to: \"string\"});\n      self.postMessage(decompressed);\n    };\n  `;\n  const worker_blob = new Blob([worker_script], { type: \"application/javascript\" });\n  const worker_url = URL.createObjectURL(worker_blob);\n  const worker = new Worker(worker_url);\n  worker.onmessage = ({ data }) => {\n    callback(data);\n    worker.terminate();\n  };\n  worker.postMessage(compressed);\n};\n\nexport {\n  logDebug,\n  formatNumber, formatMonth,\n  lightenColor,\n  meanArray,\n  divWidth, divHeight,\n  webGLSupport,\n  rotatePosition,\n  uncompress\n};\n","/**\n * Extend function\n * ================\n *\n * Function used to push a bunch of values into an array at once.\n *\n * Its strategy is to mutate target array's length then setting the new indices\n * to be the values to add.\n *\n * A benchmark proved that it is faster than the following strategies:\n *   1) `array.push.apply(array, values)`.\n *   2) A loop of pushes.\n *   3) `array = array.concat(values)`, obviously.\n *\n * Intuitively, this is correct because when adding a lot of elements, the\n * chosen strategies does not need to handle the `arguments` object to\n * execute #.apply's variadicity and because the array know its final length\n * at the beginning, avoiding potential multiple reallocations of the underlying\n * contiguous array. Some engines may be able to optimize the loop of push\n * operations but empirically they don't seem to do so.\n */\n\n/**\n * Extends the target array with the given values.\n *\n * @param  {array} array  - Target array.\n * @param  {array} values - Values to add.\n */\nmodule.exports = function extend(array, values) {\n  var l2 = values.length;\n\n  if (l2 === 0)\n    return;\n\n  var l1 = array.length;\n\n  array.length += l2;\n\n  for (var i = 0; i < l2; i++)\n    array[l1 + i] = values[i];\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/**\n * Graphology isGraph\n * ===================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology instance.\n */\n\n/**\n * Checking the value is a graphology instance.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraph(value) {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    typeof value.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.dropNode === 'function' &&\n    typeof value.multi === 'boolean'\n  );\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(492);\n"],"names":["extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__importDefault","mod","__esModule","defineProperty","exports","value","animate_1","require","easings_1","utils_1","types_1","DEFAULT_ZOOMING_RATIO","Camera","_super","_this","x","y","angle","ratio","minRatio","maxRatio","nextFrame","previousState","enabled","getState","from","state","setState","enable","disable","hasState","getPreviousState","getBoundedRatio","r","Math","max","min","validateState","validatedState","isAnimated","validState","emit","updateState","updater","animate","opts","callback","options","assign","ANIMATE_DEFAULTS","easing","start","Date","now","initialState","fn","t","duration","animationCallback","undefined","coefficient","newState","requestFrame","cancelFrame","animatedZoom","factorOrOptions","factor","animatedUnzoom","animatedReset","copy","TypedEventEmitter","__assign","s","i","n","arguments","length","apply","getWheelDelta","getTouchCoords","getTouchesArray","getWheelCoords","getMouseCoords","getPosition","e","dom","bbox","getBoundingClientRect","clientX","left","clientY","top","res","sigmaDefaultPrevented","preventSigmaDefault","original","touches","arr","l","push","deltaY","detail","Error","delta","map","touch","Captor","container","renderer","__createBinding","o","m","k","k2","enumerable","get","__setModuleDefault","v","__importStar","result","captor_1","MouseCaptor","draggedEvents","downStartTime","lastMouseX","lastMouseY","isMouseDown","isMoving","movingTimeout","startCameraState","clicks","doubleClickTimeout","currentWheelDirection","handleClick","bind","handleRightClick","handleDown","handleUp","handleMove","handleWheel","handleOut","addEventListener","document","kill","removeEventListener","clearTimeout","handleDoubleClick","setTimeout","preventDefault","stopPropagation","mouseCoords","camera","getCamera","newRatio","getViewportZoomedState","button","_a","cameraState","previousCameraState","refresh","target","window","eX","eY","lastMouse","viewportToFramedGraph","mouse","offsetX","offsetY","wheelCoords","ratioDiff","wheelDirection","lastWheelTriggerTime","MOUSE_ZOOM_DURATION","__read","Symbol","iterator","ar","next","done","error","TouchCaptor","hasMoved","touchMode","startTouchesPositions","handleStart","handleLeave","getDimensions","width","offsetWidth","height","offsetHeight","dispatchRelatedMouseEvent","type","emitter","mousePosition","mouseEvent","MouseEvent","altKey","ctrlKey","isFakeSigmaMouseEvent","dispatchEvent","lastTouches","lastTouchesPositions","_b","x0","y0","_c","x1","y1","startTouchesAngle","atan2","startTouchesDistance","sqrt","pow","touchesPositions","some","position","idx","startPosition","xStart","yStart","newCameraState","_d","_e","angleDiff","hypot","dimensions","touchGraphPosition","smallestDimension","dx","cos","sin","edgeLabelsToDisplayFromNodes","LabelGrid","LabelCandidate","key","size","compare","first","second","cellSize","columns","rows","cells","resizeAndClear","ceil","getIndex","pos","xIndex","floor","add","candidate","index","cell","organize","sort","getLabelsToDisplay","density","cellArea","scaledDensity","labelsToDisplayPerCell","labels","params","graph","hoveredNode","highlightedNodes","displayedNodeLabels","worthyEdges","forEachEdge","edge","_","source","has","rectangleCollidesWithQuad","squareCollidesWithQuad","getCircumscribedAlignedRectangle","isRectangleAligned","extend_1","hasWarnedTooMuchOutside","rect","x2","y2","heightVector","tl","tr","bl","br","xL","xR","yT","w","qx","qy","qw","qh","h","pointIsInQuad","QuadTree","containers","OUTSIDE_BLOCK","cache","lastRectangle","L","data","Float32Array","boundaries","resize","maxLevel","level","block","topLeftBlock","topRightBlock","bottomLeftBlock","bottomRightBlock","collidingWithTopLeft","collidingWithTopRight","collidingWithBottomLeft","collidingWithBottomRight","collisions","reduce","acc","current","console","warn","concat","insertNode","clear","stack","pop","hw","hh","buildQuadrants","point","nodes","slice","rectangle","lr","collectedNodes","getNodesInAxisAlignedRectangleArea","abs","Sigma","sigma_1","camera_1","quadtree_1","mouse_1","context","edgeData","sourceData","targetData","settings","edgeLabelSize","font","edgeLabelFont","weight","edgeLabelWeight","color","edgeLabelColor","attribute","label","fillStyle","cx","cy","sSize","tSize","sx","sy","tx","ty","dy","textLength","measureText","acos","asin","PI","save","translate","rotate","fillText","restore","label_1","labelSize","labelFont","labelWeight","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","textWidth","boxWidth","round","boxHeight","radius","angleRadian","xDeltaCoord","beginPath","moveTo","lineTo","arc","closePath","fill","labelColor","createEdgeCompoundProgram","AbstractEdgeProgram","gl","vertexShaderSource","fragmentShaderSource","points","attributes","AbstractProgram","programClasses","EdgeCompoundProgram","programs","ProgramClass","bufferData","forEach","program","allocate","capacity","computeIndices","render","process","hidden","offset","createNodeCompoundProgram","AbstractNodeProgram","positionLocation","getAttribLocation","sizeLocation","colorLocation","matrixLocation","getUniformLocation","sizeRatioLocation","pixelRatioLocation","hasNothingToRender","useProgram","uniformMatrix3fv","matrix","uniform1f","sizeRatio","pixelRatio","drawArrays","TRIANGLES","array","enableVertexAttribArray","vertexAttribPointer","FLOAT","BYTES_PER_ELEMENT","UNSIGNED_BYTE","NodeCompoundProgram","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","vertexShader","loadVertexShader","fragmentShader","loadFragmentShader","loadProgram","DYNAMIC_DRAW","edge_1","edge_arrowHead_1","edge_clamped_1","EdgeArrowProgram","edge_arrowHead_vert_glsl_1","edge_arrowHead_frag_glsl_1","EdgeArrowHeadProgram","normalLocation","radiusLocation","barycentricLocation","correctionRatioLocation","i_1","POINTS","thickness","floatColor","len","n1","n2","correctionRatio","edge_clamped_vert_glsl_1","edge_frag_glsl_1","EdgeClampedProgram","indicesBuffer","zoomRatioLocation","canUse32BitsIndices","IndicesArray","Uint32Array","Uint16Array","indicesArray","indicesType","UNSIGNED_INT","UNSIGNED_SHORT","ELEMENT_ARRAY_BUFFER","indices","c","STATIC_DRAW","zoomRatio","drawElements","edge_vert_glsl_1","EdgeProgram","node_fast_vert_glsl_1","node_fast_frag_glsl_1","NodeFastProgram","node_image_vert_glsl_1","node_image_frag_glsl_1","node_1","AbstractNodeImageProgram","rebindTexture","textureImage","rebindTextureFns","images","hasReceivedImages","pendingImagesFrameID","writePositionX","writePositionY","writeRowHeight","NodeImageProgram","ImageData","textureLocation","atlasLocation","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","Uint8Array","imageSource","image","imageState","Image","status","requestAnimationFrame","pendingImages","id","canvas","createElement","ctx","getContext","willReadFrequently","totalWidth","totalHeight","xOffset","yOffset","drawRow","putImageData","imageSizeInTexture","drawImage","getImageData","rowImages","finalizePendingImages","setAttribute","src","loadImage","latestRenderParams","uniform1i","generateMipmap","toStringTag","default","module","a","loadShader","glType","VERTEX_SHADER","FRAGMENT_SHADER","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","infoLog","getShaderInfoLog","deleteShader","shaders","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","deleteProgram","resolveSettings","validateSettings","DEFAULT_EDGE_PROGRAM_CLASSES","DEFAULT_NODE_PROGRAM_CLASSES","DEFAULT_SETTINGS","hover_1","edge_label_1","node_fast_1","edge_arrow_1","hideEdgesOnMove","hideLabelsOnMove","renderLabels","renderEdgeLabels","enableEdgeClickEvents","enableEdgeWheelEvents","enableEdgeHoverEvents","defaultNodeColor","defaultNodeType","defaultEdgeColor","defaultEdgeType","stagePadding","zoomToSizeRatioFunction","labelDensity","labelGridCellSize","labelRenderedSizeThreshold","nodeReducer","edgeReducer","zIndex","minCameraRatio","maxCameraRatio","labelRenderer","hoverRenderer","edgeLabelRenderer","allowInvalidContainer","nodeProgramClasses","nodeHoverProgramClasses","edgeProgramClasses","circle","arrow","line","resolvedSettings","__values","labels_1","settings_1","touch_1","matrices_1","edge_collisions_1","applyNodeDefaults","highlighted","forceLabel","applyEdgeDefaults","elements","canvasContexts","webGLContexts","activeListeners","quadtree","labelGrid","nodeDataCache","edgeDataCache","nodesWithForcedLabels","edgesWithForcedLabels","nodeExtent","identity","invMatrix","customBBox","normalizationFunction","createNormalizationFunction","cameraSizeRatio","getPixelRatio","displayedLabels","Set","hoveredEdge","renderFrame","renderHighlightedNodesFrame","needToProcess","needToSoftProcess","checkEdgesEventsFrame","nodePrograms","nodeHoverPrograms","edgePrograms","validateGraph","HTMLElement","createWebGLContext","preserveDrawingBuffer","createCanvasContext","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","BLEND","NodeProgramClass","NodeHoverProgram","hoverNodes","EdgeProgramClass","edges","bindCameraHandlers","mouseCaptor","touchCaptor","bindEventHandlers","bindGraphHandlers","handleSettingsUpdate","createCanvas","class","appendChild","antialias","contextOptions","_scheduleRefresh","on","mouseIsOnNode","nodeX","nodeY","getQuadNodes","mouseGraphPosition","getNodeAtPosition","quadNodes","minDistance","Infinity","nodeAtPosition","node","nodePosition","framedGraphToViewport","scaleSize","distance","handleResize","baseEvent","event","nodeToHover","scheduleHighlightedNodesRender","checkEdgeHoverEvents","createMouseListener","eventType","getEdgeAtPoint","graphUpdate","softGraphUpdate","dropNodeGraphUpdate","dropEdgeGraphUpdate","clearEdgesGraphUpdate","clearGraphUpdate","unbindGraphHandlers","removeListener","payload","edgeToHover","e_1","isPixelColored","viewportToGraph","graphX","graphY","transformationRatio","someEdge","sourceId","targetId","xs","ys","xt","yt","graphLength","graphToViewport","vp_xs","vp_ys","vp_xt","vp_yt","viewportLength","filterEdges","edgeAttributes","sourcePosition","targetPosition","doEdgeCollideWithPoint","selectedEdge","highestZIndex","edges_1","edges_1_1","getEdgeAttribute","e_1_1","keepArrays","nodeZExtent","edgeZExtent","graphExtent","nullCamera","nullCameraMatrix","matrixFromCamera","getGraphDimensions","getSetting","nodesPerPrograms","attr","getNodeAttributes","applyTo","zIndexOrdering","nodeProgram","edgesPerPrograms","getEdgeAttributes","extremities","_refresh","labelsToDisplay","edgeLabels","clearRect","edgeLabelsToDisplay","renderHighlightedNodes","hovers","nodesToRender","COLOR_BUFFER_BIT","exitRender","updateCachedValues","order","moving","viewportDimensions","graphDimensions","padding","getMatrixImpact","getContainer","getGraph","setGraph","getMouseCaptor","getTouchCaptor","extent","getNodeDisplayData","getEdgeDisplayData","getSettings","setSetting","updateSetting","previousWidth","previousHeight","element","style","scale","viewport","scheduleRefresh","viewportTarget","center","graphMousePosition","graphCenterPosition","viewRectangle","marginX","marginY","p1","p2","coordinates","override","recomputeMatrix","viewportPos","multiplyVec2","isNaN","viewportPoint","inverse","graphPoint","getBBox","getCustomBBox","setCustomBBox","removeAllListeners","firstChild","removeChild","getCanvases","rawEmitter","EventEmitter","animateNodes","index_1","targets","startPositions","attrs","getNodeAttribute","frame","step","setNodeAttribute","HTML_COLORS","black","silver","gray","grey","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","darkblue","mediumblue","darkgreen","darkcyan","deepskyblue","darkturquoise","mediumspringgreen","springgreen","cyan","midnightblue","dodgerblue","lightseagreen","forestgreen","seagreen","darkslategray","darkslategrey","limegreen","mediumseagreen","turquoise","royalblue","steelblue","darkslateblue","mediumturquoise","indigo","darkolivegreen","cadetblue","cornflowerblue","rebeccapurple","mediumaquamarine","dimgray","dimgrey","slateblue","olivedrab","slategray","slategrey","lightslategray","lightslategrey","mediumslateblue","lawngreen","chartreuse","aquamarine","skyblue","lightskyblue","blueviolet","darkred","darkmagenta","saddlebrown","darkseagreen","lightgreen","mediumpurple","darkviolet","palegreen","darkorchid","yellowgreen","sienna","brown","darkgray","darkgrey","lightblue","greenyellow","paleturquoise","lightsteelblue","powderblue","firebrick","darkgoldenrod","mediumorchid","rosybrown","darkkhaki","mediumvioletred","indianred","peru","chocolate","tan","lightgray","lightgrey","thistle","orchid","goldenrod","palevioletred","crimson","gainsboro","plum","burlywood","lightcyan","lavender","darksalmon","violet","palegoldenrod","lightcoral","khaki","aliceblue","honeydew","azure","sandybrown","wheat","beige","whitesmoke","mintcream","ghostwhite","salmon","antiquewhite","linen","lightgoldenrodyellow","oldlace","magenta","deeppink","orangered","tomato","hotpink","coral","darkorange","lightsalmon","orange","lightpink","pink","gold","peachpuff","navajowhite","moccasin","bisque","mistyrose","blanchedalmond","papayawhip","lavenderblush","seashell","cornsilk","lemonchiffon","floralwhite","snow","lightyellow","ivory","cubicInOut","cubicOut","cubicIn","quadraticInOut","quadraticOut","quadraticIn","linear","easings","pixels","readPixels","drawingBufferHeight","xS","yS","xT","extractPixel","getCorrectionRatio","floatArrayColor","parseColor","assignDeep","isPlainObject","is_graph_1","data_1","objects","_i","cancelAnimationFrame","requestID","tag","devicePixelRatio","xMin","xMax","yMin","yMax","forEachNode","minX","maxX","minY","maxY","dX","dY","getter","zA","zB","INT8","Int8Array","INT32","Int32Array","FLOAT32","RGBA_TEST_REGEX","RGBA_EXTRACT_REGEX","val","g","parseInt","charAt","test","match","FLOAT_COLOR_CACHE","htmlColor","parsed","viewportRatio","graphRatio","multiply","WebGL2RenderingContext","getExtension","Number","isFinite","of","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","z","b0","b1","getPrototypeOf","Reflect","construct","sham","Proxy","Boolean","valueOf","Function","Map","toString","indexOf","set","writable","configurable","ReferenceError","u","_nodes","out","undirected","f","isArray","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","init","once","Promise","U","_events","_eventsCount","_maxListeners","G","defaultMaxListeners","newListener","listener","unshift","warned","name","count","E","fired","wrapFn","A","D","S","N","RangeError","setMaxListeners","getMaxListeners","message","addListener","prependListener","prependOnceListener","shift","off","keys","listeners","rawListeners","listenerCount","eventNames","empty","fromSequence","is","O","j","ARRAY_BUFFER_SUPPORT","ArrayBuffer","SYMBOL_SUPPORT","C","M","W","P","isView","R","K","T","B","captureStackTrace","F","I","Y","q","J","V","H","_edges","inDegree","outDegree","undirectedDegree","undirectedLoops","directedLoops","in","attach","attachMulti","previous","detach","detachMulti","Q","attacher","X","multi","Z","$","tt","et","direction","nt","rt","it","sourceAttributes","targetAttributes","ot","at","ct","ut","undirectedSize","directedSize","values","dt","st","ht","pt","ft","lt","gt","wt","vt","bt","mt","wrap","kt","neighbor","Et","At","Lt","St","random","Dt","Ut","Nt","allowSelfLoops","Ot","NodeDataClass","jt","_edgeKeyGenerator","_undirectedSelfLoopCount","_directedSelfLoopCount","_undirectedSize","_directedSize","Ct","Mt","delete","zt","_options","_resetInstanceCounters","hasNode","hasDirectedEdge","hasUndirectedEdge","hasEdge","directedEdge","undirectedEdge","areDirectedNeighbors","areOutNeighbors","areInNeighbors","areUndirectedNeighbors","areNeighbors","areInboundNeighbors","areOutboundNeighbors","directedDegree","inboundDegree","outboundDegree","degree","inDegreeWithoutSelfLoops","outDegreeWithoutSelfLoops","directedDegreeWithoutSelfLoops","undirectedDegreeWithoutSelfLoops","inboundDegreeWithoutSelfLoops","outboundDegreeWithoutSelfLoops","degreeWithoutSelfLoops","opposite","hasExtremity","isUndirected","isDirected","isSelfLoop","addNode","mergeNode","updateNode","dropNode","dropEdge","dropDirectedEdge","dropUndirectedEdge","clearEdges","getAttribute","_attributes","getAttributes","hasAttribute","updateAttribute","removeAttribute","replaceAttributes","mergeAttributes","updateAttributes","updateEachNodeAttributes","hints","updateEachEdgeAttributes","forEachAdjacencyEntry","forEachAdjacencyEntryWithOrphans","forEachAssymetricAdjacencyEntry","forEachAssymetricAdjacencyEntryWithOrphans","findNode","mapNodes","someNode","everyNode","filterNodes","reduceNodes","nodeEntries","export","import","mergeUndirectedEdgeWithKey","mergeDirectedEdgeWithKey","addUndirectedEdgeWithKey","addDirectedEdgeWithKey","mergeUndirectedEdge","mergeDirectedEdge","addUndirectedEdge","addDirectedEdge","nullCopy","emptyCopy","toJSON","inspect","startsWith","for","generateKey","toUpperCase","_t","Gt","Wt","Pt","Rt","Kt","Tt","Bt","Graph","DirectedGraph","UndirectedGraph","MultiGraph","MultiDirectedGraph","MultiUndirectedGraph","InvalidArgumentsGraphError","NotFoundGraphError","UsageGraphError","self","postMessage","location","protocol","parse","dynamicTyping","dynamicTypingFunction","transform","worker","WORKERS_SUPPORTED","URL","webkitURL","BLOB_URL","createObjectURL","Blob","Worker","onmessage","userStep","userChunk","chunk","userComplete","complete","userError","input","config","workerId","NODE_STREAM_INPUT","download","readable","read","File","stream","unparse","delimiter","BAD_DELIMITERS","filter","quotes","skipEmptyLines","newline","quoteChar","header","escapeChar","escapeFormulae","RegExp","JSON","fields","meta","join","trim","stringify","replace","RECORD_SEP","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","each","prop","toLowerCase","FileReader","files","file","inputElem","instanceConfig","extend","before","action","reason","splice","_handle","_finished","_completed","_halted","_input","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","chunkSize","streamer","_config","parseChunk","beforeFirstChunk","paused","aborted","cursor","substring","preview","results","WORKER_ID","finished","_sendError","_readChunk","_chunkLoaded","XMLHttpRequest","withCredentials","onload","onerror","_chunkError","open","downloadRequestBody","downloadRequestHeaders","setRequestHeader","send","readyState","responseText","getResponseHeader","lastIndexOf","statusText","webkitSlice","mozSlice","FileReaderSync","readAsText","encoding","pause","resume","_streamData","_streamEnd","_streamError","_checkIsFinished","_streamCleanUp","abort","transformHeader","parseFloat","code","row","split","comments","successful","bestDelimiter","delimitersToGuess","getCharIndex","fastMode","substr","linebreak","truncated","terminate","entity","networkSize","view","selectedNode","selectedNodeType","selectedNodeLabel","sigmaDim","animation","clustersLayer","resizeClusterLabels","histograms","characters","creators","suggestions","comicsReady","comicsBarView","preventAutoScroll","minComicLiHeight","hoveredComic","selectedComic","networksLoaded","playing","sortComics","conf","networks","picturesRenderingDelay","allComics","allComicsMap","allCharacters","allCreators","crossMap","charactersComics","creatorsComics","picturesLoadingDelay","cl","communities","counts","clusters","getElementById","loader","loaderComics","loaderList","helpButton","helpModal","helpBox","modal","modalImg","modalNext","modalPrev","modalPlay","modalPause","comicsNext","comicsPrev","comicsPlay","comicsPause","filterComics","filterSearch","filterInput","sortAlpha","sortDate","explanations","viewAllComicsButton","orderSpan","nodeDetails","nodeLabel","nodeImg","nodeExtra","nodeHistogram","fullHistogram","comicsBar","comicsDiv","comicsTitle","comicsSubtitle","comicsSubtitleList","comicsList","comicsCache","comicTitle","comicUrl","comicImg","comicDesc","comicEntities","querySelectorAll","comicCreators","comicCharacters","searchInput","searchSuggestions","selectSuggestions","switchNodeType","switchTypeLabel","switchNodeFilter","switchFilterLabel","switchNodeView","switchViewLabel","entitySpans","charactersDetailsSpans","creatorsDetailsSpans","colorsDetailsSpans","picturesDetailsSpans","mainDetailsSpans","mostDetailsSpans","loadNetwork","ent","siz","waitForComics","loaded","display","opacity","loading","logDebug","fetch","then","arrayBuffer","content","networkData","uncompress","graphData","community","cluster","positions","stories","artist","writer","artist_ratio","role","extraPalette","creatorsRoles","mergeNodeAttributes","computeNodeSize","hlcolor","lightenColor","meanArray","setInterval","clearInterval","buildNetwork","loadComics","buildComics","comicsData","ch","artistsIds","artists","writers","cr","renderHistogram","addViewComicsButton","renderNetwork","shouldComicsBarView","innerHTML","formatNumber","hide","sigmaSettings","sigmaDims","insertBefore","getElementsByClassName","clickNode","setURL","setSearchQuery","onclick","clusterLabelsDoms","clusterLabel","allSuggestions","feedAllSuggestions","fillSuggestions","query","includes","suggestionsMatch","conditionalOpenComicsBar","showCanvases","selectComic","unselectComic","displayComics","hideLoader","onchange","selectedIndex","oninput","onblur","sigmaWidth","divWidth","finalizeGraph","most","rendered","updateShift","centerNode","neighbors","force","animated","minCorner","rotatePosition","maxCorner","viewPortPosition","minWin","maxWin","minPos","maxPos","newCam","runCentering","updateURL","sameNode","defaultSidebar","relatedNodes","comicsRatio","nodeEntity","sum","cur","scrollTo","image_url","stopPlayComics","description","url","log","getNodeComics","autoReselect","resetTitle","scrollComicsList","el","className","actuallyDisplayComics","comics","fullList","sortByDate","sortByTitle","filteredList","title","comicLi","comic","onmouseup","onmouseenter","clearComicDetails","keep","previousElementSibling","nextElementSibling","formatMonth","date","href","win","documentElement","fullScreenBtn","regScreenBtn","showClustersLayer","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","webkitExitFullscreen","msExitFullscreen","checked","preventClick","querySelector","listHeight","divHeight","diff","offsetTop","selectAndScroll","selectAndScrollSibling","typ","loop","selected","playComics","playComicsDelay","onmouseleave","onwheel","onmousedown","onmouseout","sortableTitle","padStart","localeCompare","filterTimeout","refreshFilter","onkeydown","activeElement","which","touchStart","changedTouches","screenX","screenY","touchEnd","threshold","horizontalDifference","verticalDifference","buildLegendItem","year","ref","startYear","curYear","totalYears","histogram","histo","end","comicYear","getFullYear","buildHistogram","heightRatio","histogramDiv","legendYears","maxWidth","histoTooltip","bar","clearTooltip","ontouchstart","ontouchend","resizing","fast","freeHeight","comicsDims","vie","sel","selType","hash","readURL","args","fromEntries","reload","switchv","oldNodeLabel","decodeURIComponent","clickn","oldComic","oldSort","disabled","dispc","prevGraph","span","onresize","text","confData","keyval","webGLSupport","onhashchange","both","vars","monthNames","dat","getMonth","col","amt","usePound","num","divId","WebGLRenderingContext","compressed","method","worker_script","origin","worker_blob","worker_url","l2","l1","ReflectOwnKeys","ReflectApply","receiver","NumberIsNaN","resolve","reject","errorListener","err","resolver","eventTargetAgnosticAddListener","handler","flags","addErrorHandlerIfEventEmitter","checkListener","_getMaxListeners","that","_addListener","prepend","events","existing","warning","onceWrapper","_onceWrap","wrapped","_listeners","unwrap","evlistener","ret","unwrapListeners","arrayClone","wrapListener","arg","doError","er","list","originalListener","spliceOne","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}