{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/conventions.js","webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/dom-parser.js","webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/dom.js","webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/entities.js","webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/index.js","webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/sax.js","webpack://MARVEL networks/./node_modules/@yomguithereal/helpers/extend.js","webpack://MARVEL networks/./node_modules/events/events.js","webpack://MARVEL networks/./node_modules/graphology-communities-louvain/index.js","webpack://MARVEL networks/./node_modules/graphology-gexf/common/helpers.js","webpack://MARVEL networks/./node_modules/graphology-gexf/common/parser.js","webpack://MARVEL networks/./node_modules/graphology-gexf/common/writer.js","webpack://MARVEL networks/./node_modules/graphology-gexf/index.js","webpack://MARVEL networks/./node_modules/graphology-gexf/node/index.js","webpack://MARVEL networks/./node_modules/graphology-indices/louvain.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/defaults.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/helpers.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/index.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/iterate.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/webworker.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/worker.js","webpack://MARVEL networks/./node_modules/graphology-layout-noverlap/defaults.js","webpack://MARVEL networks/./node_modules/graphology-layout-noverlap/helpers.js","webpack://MARVEL networks/./node_modules/graphology-layout-noverlap/index.js","webpack://MARVEL networks/./node_modules/graphology-layout-noverlap/iterate.js","webpack://MARVEL networks/./node_modules/graphology-layout/circlepack.js","webpack://MARVEL networks/./node_modules/graphology-layout/circular.js","webpack://MARVEL networks/./node_modules/graphology-layout/index.js","webpack://MARVEL networks/./node_modules/graphology-layout/node_modules/pandemonium/random.js","webpack://MARVEL networks/./node_modules/graphology-layout/node_modules/pandemonium/shuffle-in-place.js","webpack://MARVEL networks/./node_modules/graphology-layout/random.js","webpack://MARVEL networks/./node_modules/graphology-layout/rotation.js","webpack://MARVEL networks/./node_modules/graphology-operators/to-mixed.js","webpack://MARVEL networks/./node_modules/graphology-operators/to-multi.js","webpack://MARVEL networks/./node_modules/graphology-utils/add-edge.js","webpack://MARVEL networks/./node_modules/graphology-utils/defaults.js","webpack://MARVEL networks/./node_modules/graphology-utils/getters.js","webpack://MARVEL networks/./node_modules/graphology-utils/infer-type.js","webpack://MARVEL networks/./node_modules/graphology-utils/is-graph-constructor.js","webpack://MARVEL networks/./node_modules/graphology-utils/is-graph.js","webpack://MARVEL networks/./node_modules/graphology/dist/graphology.umd.min.js","webpack://MARVEL networks/./node_modules/mnemonist/sparse-map.js","webpack://MARVEL networks/./node_modules/mnemonist/sparse-queue-set.js","webpack://MARVEL networks/./node_modules/mnemonist/utils/typed-arrays.js","webpack://MARVEL networks/./node_modules/obliterator/iterator.js","webpack://MARVEL networks/./node_modules/pandemonium/random-index.js","webpack://MARVEL networks/./node_modules/sigma/core/camera.js","webpack://MARVEL networks/./node_modules/sigma/core/captors/captor.js","webpack://MARVEL networks/./node_modules/sigma/core/captors/mouse.js","webpack://MARVEL networks/./node_modules/sigma/core/captors/touch.js","webpack://MARVEL networks/./node_modules/sigma/core/labels.js","webpack://MARVEL networks/./node_modules/sigma/core/quadtree.js","webpack://MARVEL networks/./node_modules/sigma/index.js","webpack://MARVEL networks/./node_modules/sigma/rendering/canvas/edge-label.js","webpack://MARVEL networks/./node_modules/sigma/rendering/canvas/hover.js","webpack://MARVEL networks/./node_modules/sigma/rendering/canvas/label.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/programs/common/edge.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/programs/common/node.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/programs/common/program.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/programs/edge.arrow.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/programs/edge.arrowHead.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/programs/edge.clamped.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/programs/edge.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/programs/node.fast.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/programs/node.image.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/shaders/edge.arrowHead.frag.glsl.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/shaders/edge.arrowHead.vert.glsl.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/shaders/edge.clamped.vert.glsl.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/shaders/edge.frag.glsl.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/shaders/edge.vert.glsl.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/shaders/node.fast.frag.glsl.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/shaders/node.fast.vert.glsl.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/shaders/node.image.frag.glsl.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/shaders/node.image.vert.glsl.js","webpack://MARVEL networks/./node_modules/sigma/rendering/webgl/shaders/utils.js","webpack://MARVEL networks/./node_modules/sigma/settings.js","webpack://MARVEL networks/./node_modules/sigma/sigma.js","webpack://MARVEL networks/./node_modules/sigma/types.js","webpack://MARVEL networks/./node_modules/sigma/utils/animate.js","webpack://MARVEL networks/./node_modules/sigma/utils/data.js","webpack://MARVEL networks/./node_modules/sigma/utils/easings.js","webpack://MARVEL networks/./node_modules/sigma/utils/edge-collisions.js","webpack://MARVEL networks/./node_modules/sigma/utils/index.js","webpack://MARVEL networks/./node_modules/sigma/utils/matrices.js","webpack://MARVEL networks/./index.ts","webpack://MARVEL networks/./node_modules/xml-writer/index.js","webpack://MARVEL networks/./node_modules/xml-writer/lib/xml-writer.js","webpack://MARVEL networks/webpack/bootstrap","webpack://MARVEL networks/webpack/startup"],"sourcesContent":["'use strict'\n\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nfunction freeze(object, oc) {\n\tif (oc === undefined) {\n\t\toc = Object\n\t}\n\treturn oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object\n}\n\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\nvar MIME_TYPE = freeze({\n\t/**\n\t * `text/html`, the only mime type that triggers treating an XML document as HTML.\n\t *\n\t * @see DOMParser.SupportedType.isHTML\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n\t */\n\tHTML: 'text/html',\n\n\t/**\n\t * Helper method to check a mime type if it indicates an HTML document\n\t *\n\t * @param {string} [value]\n\t * @returns {boolean}\n\t *\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n\tisHTML: function (value) {\n\t\treturn value === MIME_TYPE.HTML\n\t},\n\n\t/**\n\t * `application/xml`, the standard mime type for XML documents.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_APPLICATION: 'application/xml',\n\n\t/**\n\t * `text/html`, an alias for `application/xml`.\n\t *\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n\t * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_TEXT: 'text/xml',\n\n\t/**\n\t * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n\t * but is parsed as an XML document.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n\t * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n\t */\n\tXML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n\t/**\n\t * `image/svg+xml`,\n\t *\n\t * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n\t * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n\t * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n\t */\n\tXML_SVG_IMAGE: 'image/svg+xml',\n})\n\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\nvar NAMESPACE = freeze({\n\t/**\n\t * The XHTML namespace.\n\t *\n\t * @see http://www.w3.org/1999/xhtml\n\t */\n\tHTML: 'http://www.w3.org/1999/xhtml',\n\n\t/**\n\t * Checks if `uri` equals `NAMESPACE.HTML`.\n\t *\n\t * @param {string} [uri]\n\t *\n\t * @see NAMESPACE.HTML\n\t */\n\tisHTML: function (uri) {\n\t\treturn uri === NAMESPACE.HTML\n\t},\n\n\t/**\n\t * The SVG namespace.\n\t *\n\t * @see http://www.w3.org/2000/svg\n\t */\n\tSVG: 'http://www.w3.org/2000/svg',\n\n\t/**\n\t * The `xml:` namespace.\n\t *\n\t * @see http://www.w3.org/XML/1998/namespace\n\t */\n\tXML: 'http://www.w3.org/XML/1998/namespace',\n\n\t/**\n\t * The `xmlns:` namespace\n\t *\n\t * @see https://www.w3.org/2000/xmlns/\n\t */\n\tXMLNS: 'http://www.w3.org/2000/xmlns/',\n})\n\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;\n","var conventions = require(\"./conventions\");\nvar dom = require('./dom')\nvar entities = require('./entities');\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tif(source && typeof source === 'string'){\n\t\tsax.parse(source,defaultNSMap,entityMap);\n\t}else{\n\t\tsax.errorHandler.error(\"invalid doc source\");\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.DOMParser = DOMParser;\n\n/**\n * @deprecated Import/require from main entry point instead\n */\nexports.DOMImplementation = dom.DOMImplementation;\n\n/**\n * @deprecated Import/require from main entry point instead\n */\nexports.XMLSerializer = dom.XMLSerializer;\n","var conventions = require(\"./conventions\");\n\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0, \n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long \n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t}\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t\t\n\t\t\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\t\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises \n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises \n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\nfunction _onUpdateChild(doc,el,newChild){\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif(newChild){\n\t\t\tcs[cs.length++] = newChild;\n\t\t}else{\n\t\t\t//console.log(1)\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile(child){\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild =child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t}\n\t}\n}\n\n/**\n * attributes;\n * children;\n * \n * writeable properties:\n * nodeValue,Attr:value,CharacterData:data\n * prefix\n */\nfunction _removeChild(parentNode,child){\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif(previous){\n\t\tprevious.nextSibling = next;\n\t}else{\n\t\tparentNode.firstChild = next\n\t}\n\tif(next){\n\t\tnext.previousSibling = previous;\n\t}else{\n\t\tparentNode.lastChild = previous;\n\t}\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\n\treturn child;\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\t\n\t\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\t//console.log(parentNode.lastChild.nextSibling == null)\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\nfunction _appendSingleChild(parentNode,newChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tvar pre = parentNode.lastChild;\n\t\tcp.removeChild(newChild);//remove and update\n\t\tvar pre = parentNode.lastChild;\n\t}\n\tvar pre = parentNode.lastChild;\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = pre;\n\tnewChild.nextSibling = null;\n\tif(pre){\n\t\tpre.nextSibling = newChild;\n\t}else{\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\n\treturn newChild;\n\t//console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\t\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\t\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\t\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t\t\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\t\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\t\n\tvar i = visibleNamespaces.length \n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * The replacement text of any entity referred to directly or indirectly in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml/#CleanAttrVals\n * @see https://www.w3.org/TR/xml/#NT-AttValue\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<&\"]/g,_xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\t\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\t\t\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\t\t\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&]/g,_xmlEncoder)\n\t\t\t.replace(/]]>/g, ']]&gt;')\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n","var freeze = require('./conventions').freeze;\n\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\nexports.XML_ENTITIES = freeze({amp:'&', apos:\"'\", gt:'>', lt:'<', quot:'\"'})\n\n/**\n * A map of currently 241 entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\nexports.HTML_ENTITIES = freeze({\n       lt: '<',\n       gt: '>',\n       amp: '&',\n       quot: '\"',\n       apos: \"'\",\n       Agrave: \"\",\n       Aacute: \"\",\n       Acirc: \"\",\n       Atilde: \"\",\n       Auml: \"\",\n       Aring: \"\",\n       AElig: \"\",\n       Ccedil: \"\",\n       Egrave: \"\",\n       Eacute: \"\",\n       Ecirc: \"\",\n       Euml: \"\",\n       Igrave: \"\",\n       Iacute: \"\",\n       Icirc: \"\",\n       Iuml: \"\",\n       ETH: \"\",\n       Ntilde: \"\",\n       Ograve: \"\",\n       Oacute: \"\",\n       Ocirc: \"\",\n       Otilde: \"\",\n       Ouml: \"\",\n       Oslash: \"\",\n       Ugrave: \"\",\n       Uacute: \"\",\n       Ucirc: \"\",\n       Uuml: \"\",\n       Yacute: \"\",\n       THORN: \"\",\n       szlig: \"\",\n       agrave: \"\",\n       aacute: \"\",\n       acirc: \"\",\n       atilde: \"\",\n       auml: \"\",\n       aring: \"\",\n       aelig: \"\",\n       ccedil: \"\",\n       egrave: \"\",\n       eacute: \"\",\n       ecirc: \"\",\n       euml: \"\",\n       igrave: \"\",\n       iacute: \"\",\n       icirc: \"\",\n       iuml: \"\",\n       eth: \"\",\n       ntilde: \"\",\n       ograve: \"\",\n       oacute: \"\",\n       ocirc: \"\",\n       otilde: \"\",\n       ouml: \"\",\n       oslash: \"\",\n       ugrave: \"\",\n       uacute: \"\",\n       ucirc: \"\",\n       uuml: \"\",\n       yacute: \"\",\n       thorn: \"\",\n       yuml: \"\",\n       nbsp: \"\\u00a0\",\n       iexcl: \"\",\n       cent: \"\",\n       pound: \"\",\n       curren: \"\",\n       yen: \"\",\n       brvbar: \"\",\n       sect: \"\",\n       uml: \"\",\n       copy: \"\",\n       ordf: \"\",\n       laquo: \"\",\n       not: \"\",\n       shy: \"\",\n       reg: \"\",\n       macr: \"\",\n       deg: \"\",\n       plusmn: \"\",\n       sup2: \"\",\n       sup3: \"\",\n       acute: \"\",\n       micro: \"\",\n       para: \"\",\n       middot: \"\",\n       cedil: \"\",\n       sup1: \"\",\n       ordm: \"\",\n       raquo: \"\",\n       frac14: \"\",\n       frac12: \"\",\n       frac34: \"\",\n       iquest: \"\",\n       times: \"\",\n       divide: \"\",\n       forall: \"\",\n       part: \"\",\n       exist: \"\",\n       empty: \"\",\n       nabla: \"\",\n       isin: \"\",\n       notin: \"\",\n       ni: \"\",\n       prod: \"\",\n       sum: \"\",\n       minus: \"\",\n       lowast: \"\",\n       radic: \"\",\n       prop: \"\",\n       infin: \"\",\n       ang: \"\",\n       and: \"\",\n       or: \"\",\n       cap: \"\",\n       cup: \"\",\n       'int': \"\",\n       there4: \"\",\n       sim: \"\",\n       cong: \"\",\n       asymp: \"\",\n       ne: \"\",\n       equiv: \"\",\n       le: \"\",\n       ge: \"\",\n       sub: \"\",\n       sup: \"\",\n       nsub: \"\",\n       sube: \"\",\n       supe: \"\",\n       oplus: \"\",\n       otimes: \"\",\n       perp: \"\",\n       sdot: \"\",\n       Alpha: \"\",\n       Beta: \"\",\n       Gamma: \"\",\n       Delta: \"\",\n       Epsilon: \"\",\n       Zeta: \"\",\n       Eta: \"\",\n       Theta: \"\",\n       Iota: \"\",\n       Kappa: \"\",\n       Lambda: \"\",\n       Mu: \"\",\n       Nu: \"\",\n       Xi: \"\",\n       Omicron: \"\",\n       Pi: \"\",\n       Rho: \"\",\n       Sigma: \"\",\n       Tau: \"\",\n       Upsilon: \"\",\n       Phi: \"\",\n       Chi: \"\",\n       Psi: \"\",\n       Omega: \"\",\n       alpha: \"\",\n       beta: \"\",\n       gamma: \"\",\n       delta: \"\",\n       epsilon: \"\",\n       zeta: \"\",\n       eta: \"\",\n       theta: \"\",\n       iota: \"\",\n       kappa: \"\",\n       lambda: \"\",\n       mu: \"\",\n       nu: \"\",\n       xi: \"\",\n       omicron: \"\",\n       pi: \"\",\n       rho: \"\",\n       sigmaf: \"\",\n       sigma: \"\",\n       tau: \"\",\n       upsilon: \"\",\n       phi: \"\",\n       chi: \"\",\n       psi: \"\",\n       omega: \"\",\n       thetasym: \"\",\n       upsih: \"\",\n       piv: \"\",\n       OElig: \"\",\n       oelig: \"\",\n       Scaron: \"\",\n       scaron: \"\",\n       Yuml: \"\",\n       fnof: \"\",\n       circ: \"\",\n       tilde: \"\",\n       ensp: \"\",\n       emsp: \"\",\n       thinsp: \"\",\n       zwnj: \"\",\n       zwj: \"\",\n       lrm: \"\",\n       rlm: \"\",\n       ndash: \"\",\n       mdash: \"\",\n       lsquo: \"\",\n       rsquo: \"\",\n       sbquo: \"\",\n       ldquo: \"\",\n       rdquo: \"\",\n       bdquo: \"\",\n       dagger: \"\",\n       Dagger: \"\",\n       bull: \"\",\n       hellip: \"\",\n       permil: \"\",\n       prime: \"\",\n       Prime: \"\",\n       lsaquo: \"\",\n       rsaquo: \"\",\n       oline: \"\",\n       euro: \"\",\n       trade: \"\",\n       larr: \"\",\n       uarr: \"\",\n       rarr: \"\",\n       darr: \"\",\n       harr: \"\",\n       crarr: \"\",\n       lceil: \"\",\n       rceil: \"\",\n       lfloor: \"\",\n       rfloor: \"\",\n       loz: \"\",\n       spades: \"\",\n       clubs: \"\",\n       hearts: \"\",\n       diams: \"\"\n});\n\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\nexports.entityMap = exports.HTML_ENTITIES\n","var dom = require('./dom')\nexports.DOMImplementation = dom.DOMImplementation\nexports.XMLSerializer = dom.XMLSerializer\nexports.DOMParser = require('./dom-parser').DOMParser\n","var NAMESPACE = require(\"./conventions\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring \nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\t\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif(k in entityMap){\n\t\t\treturn entityMap[k]; \n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\t\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\t\t\t\t\t\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor(var prefix in localNSMap){\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\t\t\t\t\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: sax\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(qname, value, startIndex)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t//console.log(attrName,value,start,p)\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\t//console.dir(el)\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value.replace(/&#?\\w+;/g,entityReplacer), start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute \n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\t\t\t\t\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor(prefix in localNSMap){\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\t\t\t\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//} \n}\nfunction _copy(source,target){\n\tfor(var n in source){target[n] = source[n]}\n}\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA() \n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId) \n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\t\t\t\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\t\t\t\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n","/**\n * Extend function\n * ================\n *\n * Function used to push a bunch of values into an array at once.\n *\n * Its strategy is to mutate target array's length then setting the new indices\n * to be the values to add.\n *\n * A benchmark proved that it is faster than the following strategies:\n *   1) `array.push.apply(array, values)`.\n *   2) A loop of pushes.\n *   3) `array = array.concat(values)`, obviously.\n *\n * Intuitively, this is correct because when adding a lot of elements, the\n * chosen strategies does not need to handle the `arguments` object to\n * execute #.apply's variadicity and because the array know its final length\n * at the beginning, avoiding potential multiple reallocations of the underlying\n * contiguous array. Some engines may be able to optimize the loop of push\n * operations but empirically they don't seem to do so.\n */\n\n/**\n * Extends the target array with the given values.\n *\n * @param  {array} array  - Target array.\n * @param  {array} values - Values to add.\n */\nmodule.exports = function extend(array, values) {\n  var l2 = values.length;\n\n  if (l2 === 0)\n    return;\n\n  var l1 = array.length;\n\n  array.length += l2;\n\n  for (var i = 0; i < l2; i++)\n    array[l1 + i] = values[i];\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/**\n * Graphology Louvain Algorithm\n * =============================\n *\n * JavaScript implementation of the famous Louvain community detection\n * algorithm for graphology.\n *\n * [Articles]\n * M. E. J. Newman,  Modularity and community structure in networks ,\n * Proc. Natl. Acad. Sci. USA, vol. 103, no 23, 2006, p. 85778582\n * https://dx.doi.org/10.1073%2Fpnas.0601602103\n *\n * Newman, M. E. J.  Community detection in networks: Modularity optimization\n * and maximum likelihood are equivalent . Physical Review E, vol. 94, no 5,\n * novembre 2016, p. 052315. arXiv.org, doi:10.1103/PhysRevE.94.052315.\n * https://arxiv.org/pdf/1606.02319.pdf\n *\n * Blondel, Vincent D., et al.  Fast unfolding of communities in large\n * networks . Journal of Statistical Mechanics: Theory and Experiment,\n * vol. 2008, no 10, octobre 2008, p. P10008. DOI.org (Crossref),\n * doi:10.1088/1742-5468/2008/10/P10008.\n * https://arxiv.org/pdf/0803.0476.pdf\n *\n * Nicolas Dugue, Anthony Perez. Directed Louvain: maximizing modularity in\n * directed networks. [Research Report] Universite dOrleans. 2015. hal-01231784\n * https://hal.archives-ouvertes.fr/hal-01231784\n *\n * R. Lambiotte, J.-C. Delvenne and M. Barahona. Laplacian Dynamics and\n * Multiscale Modular Structure in Networks,\n * doi:10.1109/TNSE.2015.2391998.\n * https://arxiv.org/abs/0812.1770\n *\n * Traag, V. A., et al.  From Louvain to Leiden: Guaranteeing Well-Connected\n * Communities . Scientific Reports, vol. 9, no 1, dcembre 2019, p. 5233.\n * DOI.org (Crossref), doi:10.1038/s41598-019-41695-z.\n * https://arxiv.org/abs/1810.08473\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\nvar inferType = require('graphology-utils/infer-type');\nvar SparseMap = require('mnemonist/sparse-map');\nvar SparseQueueSet = require('mnemonist/sparse-queue-set');\nvar createRandomIndex = require('pandemonium/random-index').createRandomIndex;\n\nvar indices = require('graphology-indices/louvain');\n\nvar UndirectedLouvainIndex = indices.UndirectedLouvainIndex;\nvar DirectedLouvainIndex = indices.DirectedLouvainIndex;\n\nvar DEFAULTS = {\n  nodeCommunityAttribute: 'community',\n  getEdgeWeight: 'weight',\n  fastLocalMoves: true,\n  randomWalk: true,\n  resolution: 1,\n  rng: Math.random\n};\n\nfunction addWeightToCommunity(map, community, weight) {\n  var currentWeight = map.get(community);\n\n  if (typeof currentWeight === 'undefined') currentWeight = 0;\n\n  currentWeight += weight;\n\n  map.set(community, currentWeight);\n}\n\nvar EPSILON = 1e-10;\n\nfunction tieBreaker(\n  bestCommunity,\n  currentCommunity,\n  targetCommunity,\n  delta,\n  bestDelta\n) {\n  if (Math.abs(delta - bestDelta) < EPSILON) {\n    if (bestCommunity === currentCommunity) {\n      return false;\n    } else {\n      return targetCommunity > bestCommunity;\n    }\n  } else if (delta > bestDelta) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction undirectedLouvain(detailed, graph, options) {\n  var index = new UndirectedLouvainIndex(graph, {\n    getEdgeWeight: options.getEdgeWeight,\n    keepDendrogram: detailed,\n    resolution: options.resolution\n  });\n\n  var randomIndex = createRandomIndex(options.rng);\n\n  // State variables\n  var moveWasMade = true,\n    localMoveWasMade = true;\n\n  // Communities\n  var currentCommunity, targetCommunity;\n  var communities = new SparseMap(Float64Array, index.C);\n\n  // Traversal\n  var queue, start, end, weight, ci, ri, s, i, j, l;\n\n  // Metrics\n  var degree, targetCommunityDegree;\n\n  // Moves\n  var bestCommunity, bestDelta, deltaIsBetter, delta;\n\n  // Details\n  var deltaComputations = 0,\n    nodesVisited = 0,\n    moves = [],\n    localMoves,\n    currentMoves;\n\n  if (options.fastLocalMoves) queue = new SparseQueueSet(index.C);\n\n  while (moveWasMade) {\n    l = index.C;\n\n    moveWasMade = false;\n    localMoveWasMade = true;\n\n    if (options.fastLocalMoves) {\n      currentMoves = 0;\n\n      // Traversal of the graph\n      ri = options.randomWalk ? randomIndex(l) : 0;\n\n      for (s = 0; s < l; s++, ri++) {\n        i = ri % l;\n        queue.enqueue(i);\n      }\n\n      while (queue.size !== 0) {\n        i = queue.dequeue();\n        nodesVisited++;\n\n        degree = 0;\n        communities.clear();\n\n        currentCommunity = index.belongings[i];\n\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        // Traversing neighbors\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          weight = index.weights[start];\n\n          targetCommunity = index.belongings[j];\n\n          // Incrementing metrics\n          degree += weight;\n          addWeightToCommunity(communities, targetCommunity, weight);\n        }\n\n        // Finding best community to move to\n        bestDelta = index.fastDeltaWithOwnCommunity(\n          i,\n          degree,\n          communities.get(currentCommunity) || 0,\n          currentCommunity\n        );\n        bestCommunity = currentCommunity;\n\n        for (ci = 0; ci < communities.size; ci++) {\n          targetCommunity = communities.dense[ci];\n\n          if (targetCommunity === currentCommunity) continue;\n\n          targetCommunityDegree = communities.vals[ci];\n\n          deltaComputations++;\n\n          delta = index.fastDelta(\n            i,\n            degree,\n            targetCommunityDegree,\n            targetCommunity\n          );\n\n          deltaIsBetter = tieBreaker(\n            bestCommunity,\n            currentCommunity,\n            targetCommunity,\n            delta,\n            bestDelta\n          );\n\n          if (deltaIsBetter) {\n            bestDelta = delta;\n            bestCommunity = targetCommunity;\n          }\n        }\n\n        // Should we move the node?\n        if (bestDelta < 0) {\n          // NOTE: this is to allow nodes to move back to their own singleton\n          // This code however only deals with modularity (e.g. the condition\n          // about bestDelta < 0, which is the delta for moving back to\n          // singleton wrt. modularity). Indeed, rarely, the Louvain\n          // algorithm can produce such cases when a node would be better in\n          // a singleton that in its own community when considering self loops\n          // or a resolution != 1. In this case, delta with your own community\n          // is indeed less than 0. To handle different metrics, one should\n          // consider computing the delta for going back to singleton because\n          // it might not be 0.\n          bestCommunity = index.isolate(i, degree);\n\n          // If the node was already in a singleton community, we don't consider\n          // a move was made\n          if (bestCommunity === currentCommunity) continue;\n        } else {\n          // If no move was made, we continue to next node\n          if (bestCommunity === currentCommunity) {\n            continue;\n          } else {\n            // Actually moving the node to a new community\n            index.move(i, degree, bestCommunity);\n          }\n        }\n\n        moveWasMade = true;\n        currentMoves++;\n\n        // Adding neighbors from other communities to the queue\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          targetCommunity = index.belongings[j];\n\n          if (targetCommunity !== bestCommunity) queue.enqueue(j);\n        }\n      }\n\n      moves.push(currentMoves);\n    } else {\n      localMoves = [];\n      moves.push(localMoves);\n\n      // Traditional Louvain iterative traversal of the graph\n      while (localMoveWasMade) {\n        localMoveWasMade = false;\n        currentMoves = 0;\n\n        ri = options.randomWalk ? randomIndex(l) : 0;\n\n        for (s = 0; s < l; s++, ri++) {\n          i = ri % l;\n\n          nodesVisited++;\n\n          degree = 0;\n          communities.clear();\n\n          currentCommunity = index.belongings[i];\n\n          start = index.starts[i];\n          end = index.starts[i + 1];\n\n          // Traversing neighbors\n          for (; start < end; start++) {\n            j = index.neighborhood[start];\n            weight = index.weights[start];\n\n            targetCommunity = index.belongings[j];\n\n            // Incrementing metrics\n            degree += weight;\n            addWeightToCommunity(communities, targetCommunity, weight);\n          }\n\n          // Finding best community to move to\n          bestDelta = index.fastDeltaWithOwnCommunity(\n            i,\n            degree,\n            communities.get(currentCommunity) || 0,\n            currentCommunity\n          );\n          bestCommunity = currentCommunity;\n\n          for (ci = 0; ci < communities.size; ci++) {\n            targetCommunity = communities.dense[ci];\n\n            if (targetCommunity === currentCommunity) continue;\n\n            targetCommunityDegree = communities.vals[ci];\n\n            deltaComputations++;\n\n            delta = index.fastDelta(\n              i,\n              degree,\n              targetCommunityDegree,\n              targetCommunity\n            );\n\n            deltaIsBetter = tieBreaker(\n              bestCommunity,\n              currentCommunity,\n              targetCommunity,\n              delta,\n              bestDelta\n            );\n\n            if (deltaIsBetter) {\n              bestDelta = delta;\n              bestCommunity = targetCommunity;\n            }\n          }\n\n          // Should we move the node?\n          if (bestDelta < 0) {\n            // NOTE: this is to allow nodes to move back to their own singleton\n            // This code however only deals with modularity (e.g. the condition\n            // about bestDelta < 0, which is the delta for moving back to\n            // singleton wrt. modularity). Indeed, rarely, the Louvain\n            // algorithm can produce such cases when a node would be better in\n            // a singleton that in its own community when considering self loops\n            // or a resolution != 1. In this case, delta with your own community\n            // is indeed less than 0. To handle different metrics, one should\n            // consider computing the delta for going back to singleton because\n            // it might not be 0.\n            bestCommunity = index.isolate(i, degree);\n\n            // If the node was already in a singleton community, we don't consider\n            // a move was made\n            if (bestCommunity === currentCommunity) continue;\n          } else {\n            // If no move was made, we continue to next node\n            if (bestCommunity === currentCommunity) {\n              continue;\n            } else {\n              // Actually moving the node to a new community\n              index.move(i, degree, bestCommunity);\n            }\n          }\n\n          localMoveWasMade = true;\n          currentMoves++;\n        }\n\n        localMoves.push(currentMoves);\n\n        moveWasMade = localMoveWasMade || moveWasMade;\n      }\n    }\n\n    // We continue working on the induced graph\n    if (moveWasMade) index.zoomOut();\n  }\n\n  var results = {\n    index: index,\n    deltaComputations: deltaComputations,\n    nodesVisited: nodesVisited,\n    moves: moves\n  };\n\n  return results;\n}\n\nfunction directedLouvain(detailed, graph, options) {\n  var index = new DirectedLouvainIndex(graph, {\n    getEdgeWeight: options.getEdgeWeight,\n    keepDendrogram: detailed,\n    resolution: options.resolution\n  });\n\n  var randomIndex = createRandomIndex(options.rng);\n\n  // State variables\n  var moveWasMade = true,\n    localMoveWasMade = true;\n\n  // Communities\n  var currentCommunity, targetCommunity;\n  var communities = new SparseMap(Float64Array, index.C);\n\n  // Traversal\n  var queue, start, end, offset, out, weight, ci, ri, s, i, j, l;\n\n  // Metrics\n  var inDegree, outDegree, targetCommunityDegree;\n\n  // Moves\n  var bestCommunity, bestDelta, deltaIsBetter, delta;\n\n  // Details\n  var deltaComputations = 0,\n    nodesVisited = 0,\n    moves = [],\n    localMoves,\n    currentMoves;\n\n  if (options.fastLocalMoves) queue = new SparseQueueSet(index.C);\n\n  while (moveWasMade) {\n    l = index.C;\n\n    moveWasMade = false;\n    localMoveWasMade = true;\n\n    if (options.fastLocalMoves) {\n      currentMoves = 0;\n\n      // Traversal of the graph\n      ri = options.randomWalk ? randomIndex(l) : 0;\n\n      for (s = 0; s < l; s++, ri++) {\n        i = ri % l;\n        queue.enqueue(i);\n      }\n\n      while (queue.size !== 0) {\n        i = queue.dequeue();\n        nodesVisited++;\n\n        inDegree = 0;\n        outDegree = 0;\n        communities.clear();\n\n        currentCommunity = index.belongings[i];\n\n        start = index.starts[i];\n        end = index.starts[i + 1];\n        offset = index.offsets[i];\n\n        // Traversing neighbors\n        for (; start < end; start++) {\n          out = start < offset;\n          j = index.neighborhood[start];\n          weight = index.weights[start];\n\n          targetCommunity = index.belongings[j];\n\n          // Incrementing metrics\n          if (out) outDegree += weight;\n          else inDegree += weight;\n\n          addWeightToCommunity(communities, targetCommunity, weight);\n        }\n\n        // Finding best community to move to\n        bestDelta = index.deltaWithOwnCommunity(\n          i,\n          inDegree,\n          outDegree,\n          communities.get(currentCommunity) || 0,\n          currentCommunity\n        );\n        bestCommunity = currentCommunity;\n\n        for (ci = 0; ci < communities.size; ci++) {\n          targetCommunity = communities.dense[ci];\n\n          if (targetCommunity === currentCommunity) continue;\n\n          targetCommunityDegree = communities.vals[ci];\n\n          deltaComputations++;\n\n          delta = index.delta(\n            i,\n            inDegree,\n            outDegree,\n            targetCommunityDegree,\n            targetCommunity\n          );\n\n          deltaIsBetter = tieBreaker(\n            bestCommunity,\n            currentCommunity,\n            targetCommunity,\n            delta,\n            bestDelta\n          );\n\n          if (deltaIsBetter) {\n            bestDelta = delta;\n            bestCommunity = targetCommunity;\n          }\n        }\n\n        // Should we move the node?\n        if (bestDelta < 0) {\n          // NOTE: this is to allow nodes to move back to their own singleton\n          // This code however only deals with modularity (e.g. the condition\n          // about bestDelta < 0, which is the delta for moving back to\n          // singleton wrt. modularity). Indeed, rarely, the Louvain\n          // algorithm can produce such cases when a node would be better in\n          // a singleton that in its own community when considering self loops\n          // or a resolution != 1. In this case, delta with your own community\n          // is indeed less than 0. To handle different metrics, one should\n          // consider computing the delta for going back to singleton because\n          // it might not be 0.\n          bestCommunity = index.isolate(i, inDegree, outDegree);\n\n          // If the node was already in a singleton community, we don't consider\n          // a move was made\n          if (bestCommunity === currentCommunity) continue;\n        } else {\n          // If no move was made, we continue to next node\n          if (bestCommunity === currentCommunity) {\n            continue;\n          } else {\n            // Actually moving the node to a new community\n            index.move(i, inDegree, outDegree, bestCommunity);\n          }\n        }\n\n        moveWasMade = true;\n        currentMoves++;\n\n        // Adding neighbors from other communities to the queue\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          targetCommunity = index.belongings[j];\n\n          if (targetCommunity !== bestCommunity) queue.enqueue(j);\n        }\n      }\n\n      moves.push(currentMoves);\n    } else {\n      localMoves = [];\n      moves.push(localMoves);\n\n      // Traditional Louvain iterative traversal of the graph\n      while (localMoveWasMade) {\n        localMoveWasMade = false;\n        currentMoves = 0;\n\n        ri = options.randomWalk ? randomIndex(l) : 0;\n\n        for (s = 0; s < l; s++, ri++) {\n          i = ri % l;\n\n          nodesVisited++;\n\n          inDegree = 0;\n          outDegree = 0;\n          communities.clear();\n\n          currentCommunity = index.belongings[i];\n\n          start = index.starts[i];\n          end = index.starts[i + 1];\n          offset = index.offsets[i];\n\n          // Traversing neighbors\n          for (; start < end; start++) {\n            out = start < offset;\n            j = index.neighborhood[start];\n            weight = index.weights[start];\n\n            targetCommunity = index.belongings[j];\n\n            // Incrementing metrics\n            if (out) outDegree += weight;\n            else inDegree += weight;\n\n            addWeightToCommunity(communities, targetCommunity, weight);\n          }\n\n          // Finding best community to move to\n          bestDelta = index.deltaWithOwnCommunity(\n            i,\n            inDegree,\n            outDegree,\n            communities.get(currentCommunity) || 0,\n            currentCommunity\n          );\n          bestCommunity = currentCommunity;\n\n          for (ci = 0; ci < communities.size; ci++) {\n            targetCommunity = communities.dense[ci];\n\n            if (targetCommunity === currentCommunity) continue;\n\n            targetCommunityDegree = communities.vals[ci];\n\n            deltaComputations++;\n\n            delta = index.delta(\n              i,\n              inDegree,\n              outDegree,\n              targetCommunityDegree,\n              targetCommunity\n            );\n\n            deltaIsBetter = tieBreaker(\n              bestCommunity,\n              currentCommunity,\n              targetCommunity,\n              delta,\n              bestDelta\n            );\n\n            if (deltaIsBetter) {\n              bestDelta = delta;\n              bestCommunity = targetCommunity;\n            }\n          }\n\n          // Should we move the node?\n          if (bestDelta < 0) {\n            // NOTE: this is to allow nodes to move back to their own singleton\n            // This code however only deals with modularity (e.g. the condition\n            // about bestDelta < 0, which is the delta for moving back to\n            // singleton wrt. modularity). Indeed, rarely, the Louvain\n            // algorithm can produce such cases when a node would be better in\n            // a singleton that in its own community when considering self loops\n            // or a resolution != 1. In this case, delta with your own community\n            // is indeed less than 0. To handle different metrics, one should\n            // consider computing the delta for going back to singleton because\n            // it might not be 0.\n            bestCommunity = index.isolate(i, inDegree, outDegree);\n\n            // If the node was already in a singleton community, we don't consider\n            // a move was made\n            if (bestCommunity === currentCommunity) continue;\n          } else {\n            // If no move was made, we continue to next node\n            if (bestCommunity === currentCommunity) {\n              continue;\n            } else {\n              // Actually moving the node to a new community\n              index.move(i, inDegree, outDegree, bestCommunity);\n            }\n          }\n\n          localMoveWasMade = true;\n          currentMoves++;\n        }\n\n        localMoves.push(currentMoves);\n\n        moveWasMade = localMoveWasMade || moveWasMade;\n      }\n    }\n\n    // We continue working on the induced graph\n    if (moveWasMade) index.zoomOut();\n  }\n\n  var results = {\n    index: index,\n    deltaComputations: deltaComputations,\n    nodesVisited: nodesVisited,\n    moves: moves\n  };\n\n  return results;\n}\n\n/**\n * Function returning the communities mapping of the graph.\n *\n * @param  {boolean} assign             - Assign communities to nodes attributes?\n * @param  {boolean} detailed           - Whether to return detailed information.\n * @param  {Graph}   graph              - Target graph.\n * @param  {object}  options            - Options:\n * @param  {string}    nodeCommunityAttribute - Community node attribute name.\n * @param  {string}    getEdgeWeight          - Weight edge attribute name or getter function.\n * @param  {string}    deltaComputation       - Method to use to compute delta computations.\n * @param  {boolean}   fastLocalMoves         - Whether to use the fast local move optimization.\n * @param  {boolean}   randomWalk             - Whether to traverse the graph in random order.\n * @param  {number}    resolution             - Resolution parameter.\n * @param  {function}  rng                    - RNG function to use.\n * @return {object}\n */\nfunction louvain(assign, detailed, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-communities-louvain: the given graph is not a valid graphology instance.'\n    );\n\n  var type = inferType(graph);\n\n  if (type === 'mixed')\n    throw new Error(\n      'graphology-communities-louvain: cannot run the algorithm on a true mixed graph.'\n    );\n\n  // Attributes name\n  options = resolveDefaults(options, DEFAULTS);\n\n  // Empty graph case\n  var c = 0;\n\n  if (graph.size === 0) {\n    if (assign) {\n      graph.forEachNode(function (node) {\n        graph.setNodeAttribute(node, options.nodeCommunityAttribute, c++);\n      });\n\n      return;\n    }\n\n    var communities = {};\n\n    graph.forEachNode(function (node) {\n      communities[node] = c++;\n    });\n\n    if (!detailed) return communities;\n\n    return {\n      communities: communities,\n      count: graph.order,\n      deltaComputations: 0,\n      dendrogram: null,\n      level: 0,\n      modularity: NaN,\n      moves: null,\n      nodesVisited: 0,\n      resolution: options.resolution\n    };\n  }\n\n  var fn = type === 'undirected' ? undirectedLouvain : directedLouvain;\n\n  var results = fn(detailed, graph, options);\n\n  var index = results.index;\n\n  // Standard output\n  if (!detailed) {\n    if (assign) {\n      index.assign(options.nodeCommunityAttribute);\n      return;\n    }\n\n    return index.collect();\n  }\n\n  // Detailed output\n  var output = {\n    count: index.C,\n    deltaComputations: results.deltaComputations,\n    dendrogram: index.dendrogram,\n    level: index.level,\n    modularity: index.modularity(),\n    moves: results.moves,\n    nodesVisited: results.nodesVisited,\n    resolution: options.resolution\n  };\n\n  if (assign) {\n    index.assign(options.nodeCommunityAttribute);\n    return output;\n  }\n\n  output.communities = index.collect();\n\n  return output;\n}\n\n/**\n * Exporting.\n */\nvar fn = louvain.bind(null, false, false);\nfn.assign = louvain.bind(null, true, false);\nfn.detailed = louvain.bind(null, false, true);\nfn.defaults = DEFAULTS;\n\nmodule.exports = fn;\n","/**\n * Graphology Common GEXF Helpers\n * ===============================\n *\n * Miscellaneous helpers used by both instance of the code.\n */\n\n/**\n * Function used to cast a string value to the desired type.\n *\n * @param  {string} type - Value type.\n * @param  {string} type - String value.\n * @return {any}         - Parsed type.\n */\nexports.cast = function (type, value) {\n  switch (type) {\n    case 'boolean':\n      value = value === 'true';\n      break;\n\n    case 'integer':\n    case 'long':\n    case 'float':\n    case 'double':\n      value = +value;\n      break;\n\n    case 'liststring':\n      value = value ? value.split('|') : [];\n      break;\n\n    default:\n  }\n\n  return value;\n};\n\n/**\n * Function deleting illegal characters from a potential tag name to avoid\n * generating invalid XML.\n *\n * @param  {string} type - Tag name.\n * @return {string}\n */\nvar SANITIZE_PATTERN = /[\"'<>&\\s]/g;\n\nexports.sanitizeTagName = function sanitizeTagName(tagName) {\n  return tagName.replace(SANITIZE_PATTERN, '').trim();\n};\n","/* eslint no-self-compare: 0 */\n/**\n * Graphology Browser GEXF Parser\n * ===============================\n *\n * Browser version of the graphology GEXF parser using DOMParser to function.\n */\nvar isGraphConstructor = require('graphology-utils/is-graph-constructor');\nvar mergeEdge = require('graphology-utils/add-edge').mergeEdge;\nvar toMixed = require('graphology-operators/to-mixed');\nvar toMulti = require('graphology-operators/to-multi');\nvar helpers = require('../common/helpers.js');\n\nvar cast = helpers.cast;\n\n/**\n * Function checking whether the given value is a NaN.\n *\n * @param  {any} value - Value to test.\n * @return {boolean}\n */\nfunction isReallyNaN(value) {\n  return value !== value;\n}\n\n/**\n * Function used to convert a viz:color attribute into a CSS rgba? string.\n *\n * @param  {Node}   element - DOM element.\n * @return {string}\n */\nfunction toRGBString(element) {\n  var a = element.getAttribute('a'),\n    r = element.getAttribute('r'),\n    g = element.getAttribute('g'),\n    b = element.getAttribute('b');\n\n  return a\n    ? 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')'\n    : 'rgb(' + r + ',' + g + ',' + b + ')';\n}\n\n/**\n * Function returning the first matching tag of the `viz` namespace matching\n * the desired tag name.\n *\n * @param  {Node}   element - Target DOM element.\n * @param  {string} name    - Tag name.\n * @return {Node}\n */\nfunction getFirstMatchingVizTag(element, name) {\n  var vizElement = element.getElementsByTagName('viz:' + name)[0];\n\n  if (!vizElement) vizElement = element.getElementsByTagNameNS('viz', name)[0];\n\n  if (!vizElement) vizElement = element.getElementsByTagName(name)[0];\n\n  return vizElement;\n}\n\n/**\n * Function used to collect meta information.\n *\n * @param  {Array<Node>} elements - Target DOM element.\n * @return {object}\n */\nfunction collectMeta(elements) {\n  var meta = {},\n    element,\n    value;\n\n  for (var i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n\n    if (element.nodeName === '#text') continue;\n\n    value = element.textContent.trim();\n\n    if (value) meta[element.tagName.toLowerCase()] = element.textContent;\n  }\n\n  return meta;\n}\n\n/**\n * Function used to extract the model from the right elements.\n *\n * @param  {Array<Node>} elements - Target DOM elements.\n * @return {array}                - The model & default attributes.\n */\nfunction extractModel(elements) {\n  var model = {},\n    defaults = {},\n    element,\n    defaultElement,\n    id;\n\n  for (var i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n    id = element.getAttribute('id') || element.getAttribute('for');\n\n    model[id] = {\n      id: id,\n      type: element.getAttribute('type') || 'string',\n      title: !isReallyNaN(+id) ? element.getAttribute('title') || id : id\n    };\n\n    // Default?\n    defaultElement = element.getElementsByTagName('default')[0];\n\n    if (defaultElement)\n      defaults[model[id].title] = cast(\n        model[id].type,\n        defaultElement.textContent\n      );\n  }\n\n  return [model, defaults];\n}\n\n/**\n * Function used to collect an element's attributes.\n *\n * @param  {object} model    - Data model to use.\n * @param  {object} defaults - Default values.\n * @param  {Node}   element  - Target DOM element.\n * @return {object}          - The collected attributes.\n */\nfunction collectAttributes(model, defaults, element) {\n  var data = {},\n    label = element.getAttribute('label'),\n    weight = element.getAttribute('weight');\n\n  if (label) data.label = label;\n\n  if (weight) data.weight = +weight;\n\n  var valueElements = element.getElementsByTagName('attvalue'),\n    valueElement,\n    id;\n\n  for (var i = 0, l = valueElements.length; i < l; i++) {\n    valueElement = valueElements[i];\n    id = valueElement.getAttribute('id') || valueElement.getAttribute('for');\n\n    data[model[id].title] = cast(\n      model[id].type,\n      valueElement.getAttribute('value')\n    );\n  }\n\n  // Applying default values\n  var k;\n\n  for (k in defaults) {\n    if (!(k in data)) data[k] = defaults[k];\n  }\n\n  // TODO: shortcut here to avoid viz when namespace is not set\n\n  // Attempting to find viz namespace tags\n\n  //-- 1) Color\n  var vizElement = getFirstMatchingVizTag(element, 'color');\n\n  if (vizElement) data.color = toRGBString(vizElement);\n\n  //-- 2) Size\n  vizElement = getFirstMatchingVizTag(element, 'size');\n\n  if (vizElement) data.size = +vizElement.getAttribute('value');\n\n  //-- 3) Position\n  var x, y, z;\n\n  vizElement = getFirstMatchingVizTag(element, 'position');\n\n  if (vizElement) {\n    x = vizElement.getAttribute('x');\n    y = vizElement.getAttribute('y');\n    z = vizElement.getAttribute('z');\n\n    if (x) data.x = +x;\n    if (y) data.y = +y;\n    if (z) data.z = +z;\n  }\n\n  //-- 4) Shape\n  vizElement = getFirstMatchingVizTag(element, 'shape');\n\n  if (vizElement) data.shape = vizElement.getAttribute('value');\n\n  //-- 5) Thickness\n  vizElement = getFirstMatchingVizTag(element, 'thickness');\n\n  if (vizElement) data.thickness = +vizElement.getAttribute('value');\n\n  return data;\n}\n\n/**\n * Factory taking implementations of `DOMParser` & `Document` returning\n * the parser function.\n */\nmodule.exports = function createParserFunction(DOMParser, Document) {\n  /**\n   * Function taking either a string or a document and returning a\n   * graphology instance.\n   *\n   * @param {function}        Graph  - A graphology constructor.\n   * @param {string|Document} source - The source to parse.\n   * @param {object}          options - Parsing options.\n   */\n\n  // TODO: option to map the data to the attributes for customization, nodeModel, edgeModel, nodeReducer, edgeReducer\n  // TODO: option to disable the model mapping heuristic\n  return function parse(Graph, source, options) {\n    options = options || {};\n\n    var addMissingNodes = options.addMissingNodes === true;\n    var mergeResult;\n\n    var xmlDoc = source;\n\n    var element, result, type, attributes, id, s, t, i, l;\n\n    if (!isGraphConstructor(Graph))\n      throw new Error('graphology-gexf/parser: invalid Graph constructor.');\n\n    // If source is a string, we are going to parse it\n    if (typeof source === 'string')\n      xmlDoc = new DOMParser().parseFromString(source, 'application/xml');\n\n    if (!(xmlDoc instanceof Document))\n      throw new Error(\n        'graphology-gexf/parser: source should either be a XML document or a string.'\n      );\n\n    // Finding useful elements\n    var GRAPH_ELEMENT = xmlDoc.getElementsByTagName('graph')[0],\n      META_ELEMENT = xmlDoc.getElementsByTagName('meta')[0],\n      META_ELEMENTS = (META_ELEMENT && META_ELEMENT.childNodes) || [],\n      NODE_ELEMENTS = xmlDoc.getElementsByTagName('node'),\n      EDGE_ELEMENTS = xmlDoc.getElementsByTagName('edge'),\n      MODEL_ELEMENTS = xmlDoc.getElementsByTagName('attributes'),\n      NODE_MODEL_ELEMENTS = [],\n      EDGE_MODEL_ELEMENTS = [];\n\n    for (i = 0, l = MODEL_ELEMENTS.length; i < l; i++) {\n      element = MODEL_ELEMENTS[i];\n\n      if (element.getAttribute('class') === 'node')\n        NODE_MODEL_ELEMENTS = element.getElementsByTagName('attribute');\n      else if (element.getAttribute('class') === 'edge')\n        EDGE_MODEL_ELEMENTS = element.getElementsByTagName('attribute');\n    }\n\n    // Information\n    var DEFAULT_EDGE_TYPE =\n      GRAPH_ELEMENT.getAttribute('defaultedgetype') || 'undirected';\n\n    if (DEFAULT_EDGE_TYPE === 'mutual') DEFAULT_EDGE_TYPE = 'undirected';\n\n    // Computing models\n    result = extractModel(NODE_MODEL_ELEMENTS);\n\n    var NODE_MODEL = result[0],\n      NODE_DEFAULT_ATTRIBUTES = result[1];\n\n    result = extractModel(EDGE_MODEL_ELEMENTS);\n\n    var EDGE_MODEL = result[0],\n      EDGE_DEFAULT_ATTRIBUTES = result[1];\n\n    // Polling the first edge to guess the type of the edges\n    var graphType = EDGE_ELEMENTS[0]\n      ? EDGE_ELEMENTS[0].getAttribute('type') || DEFAULT_EDGE_TYPE\n      : 'mixed';\n\n    // Instantiating our graph\n    var graph = new Graph({\n      type: graphType\n    });\n\n    // Collecting meta\n    var meta = collectMeta(META_ELEMENTS),\n      lastModifiedDate =\n        META_ELEMENT && META_ELEMENT.getAttribute('lastmodifieddate');\n\n    graph.replaceAttributes(meta);\n\n    if (lastModifiedDate)\n      graph.setAttribute('lastModifiedDate', lastModifiedDate);\n\n    // Adding nodes\n    for (i = 0, l = NODE_ELEMENTS.length; i < l; i++) {\n      element = NODE_ELEMENTS[i];\n\n      graph.addNode(\n        element.getAttribute('id'),\n        collectAttributes(NODE_MODEL, NODE_DEFAULT_ATTRIBUTES, element)\n      );\n    }\n\n    // Adding edges\n    for (i = 0, l = EDGE_ELEMENTS.length; i < l; i++) {\n      element = EDGE_ELEMENTS[i];\n\n      id = element.getAttribute('id');\n      type = element.getAttribute('type') || DEFAULT_EDGE_TYPE;\n      s = element.getAttribute('source');\n      t = element.getAttribute('target');\n      attributes = collectAttributes(\n        EDGE_MODEL,\n        EDGE_DEFAULT_ATTRIBUTES,\n        element\n      );\n\n      // If we encountered an edge with a different type, we upgrade the graph\n      if (type !== graph.type && graph.type !== 'mixed') {\n        graph = toMixed(graph);\n      }\n\n      // If we encountered twice the same edge, we upgrade the graph\n      if (\n        !graph.multi &&\n        ((type === 'directed' && graph.hasDirectedEdge(s, t)) ||\n          graph.hasUndirectedEdge(s, t))\n      ) {\n        graph = toMulti(graph);\n      }\n\n      mergeResult = mergeEdge(\n        graph,\n        type !== 'directed',\n        id || null,\n        s,\n        t,\n        attributes\n      );\n\n      if (!addMissingNodes && (mergeResult[2] || mergeResult[3])) {\n        throw new Error(\n          'graphology-gexf/parser: one of your gexf file edges points to an inexisting node. Set the parser `addMissingNodes` option to `true` if you do not care.'\n        );\n      }\n    }\n\n    return graph;\n  };\n};\n","/* eslint no-self-compare: 0 */\n/**\n * Graphology Common GEXF Writer\n * ==============================\n *\n * GEXF writer working for both node.js & the browser.\n */\nvar isGraph = require('graphology-utils/is-graph'),\n  inferType = require('graphology-utils/infer-type'),\n  XMLWriter = require('xml-writer'),\n  sanitizeTagName = require('./helpers.js').sanitizeTagName;\n\n// TODO: handle object in color, position with object for viz\n\n/**\n * Constants.\n */\nvar GEXF_NAMESPACE = 'http://www.gexf.net/1.2draft',\n  GEXF_VIZ_NAMESPACE = 'http:///www.gexf.net/1.1draft/viz';\n\nvar VIZ_RESERVED_NAMES = new Set([\n  'color',\n  'size',\n  'x',\n  'y',\n  'z',\n  'shape',\n  'thickness'\n]);\n\nvar RGBA_TEST = /^\\s*rgba?\\s*\\(/i,\n  RGBA_MATCH =\n    /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*(?:,\\s*([.0-9]*))?\\)\\s*$/;\n\n/**\n * Function used to transform a CSS color into a RGBA object.\n *\n * @param  {string} value - Target value.\n * @return {object}\n */\nfunction CSSColorToRGBA(value) {\n  if (!value || typeof value !== 'string') return {};\n\n  if (value[0] === '#') {\n    value = value.slice(1);\n\n    return value.length === 3\n      ? {\n          r: parseInt(value[0] + value[0], 16),\n          g: parseInt(value[1] + value[1], 16),\n          b: parseInt(value[2] + value[2], 16)\n        }\n      : {\n          r: parseInt(value[0] + value[1], 16),\n          g: parseInt(value[2] + value[3], 16),\n          b: parseInt(value[4] + value[5], 16)\n        };\n  } else if (RGBA_TEST.test(value)) {\n    var result = {};\n\n    value = value.match(RGBA_MATCH);\n    result.r = +value[1];\n    result.g = +value[2];\n    result.b = +value[3];\n\n    if (value[4]) result.a = +value[4];\n\n    return result;\n  }\n\n  return {};\n}\n\n/**\n * Function used to map an element's attributes to a standardized map of\n * GEXF expected properties (label, viz, attributes).\n *\n * @param  {string} type       - The element's type.\n * @param  {string} key        - The element's key.\n * @param  {object} attributes - The element's attributes.\n * @return {object}\n */\nfunction DEFAULT_ELEMENT_FORMATTER(type, key, attributes) {\n  var output = {},\n    name;\n\n  for (name in attributes) {\n    if (name === 'label') {\n      output.label = attributes.label;\n    } else if (type === 'edge' && name === 'weight') {\n      output.weight = attributes.weight;\n    } else if (VIZ_RESERVED_NAMES.has(name)) {\n      output.viz = output.viz || {};\n      output.viz[name] = attributes[name];\n    } else {\n      output.attributes = output.attributes || {};\n      output.attributes[name] = attributes[name];\n    }\n  }\n\n  return output;\n}\n\nvar DEFAULT_NODE_FORMATTER = DEFAULT_ELEMENT_FORMATTER.bind(null, 'node'),\n  DEFAULT_EDGE_FORMATTER = DEFAULT_ELEMENT_FORMATTER.bind(null, 'edge');\n\n/**\n * Function used to check whether the given integer is 32 bits or not.\n *\n * @param  {number} number - Target number.\n * @return {boolean}\n */\nfunction is32BitInteger(number) {\n  return number <= 0x7fffffff && number >= -0x7fffffff;\n}\n\n/**\n * Function used to check whether the given value is \"empty\".\n *\n * @param  {any} value - Target value.\n * @return {boolean}\n */\nfunction isEmptyValue(value) {\n  return (\n    typeof value === 'undefined' ||\n    value === null ||\n    value === '' ||\n    value !== value\n  );\n}\n\n/**\n * Function used to detect a JavaScript's value type in the GEXF model.\n *\n * @param  {any}    value - Target value.\n * @return {string}\n */\nfunction detectValueType(value) {\n  if (isEmptyValue(value)) return 'empty';\n\n  if (Array.isArray(value)) return 'liststring';\n\n  if (typeof value === 'boolean') return 'boolean';\n\n  if (typeof value === 'object') return 'string';\n\n  // Numbers\n  if (typeof value === 'number') {\n    // Integer\n    if (value === (value | 0)) {\n      // Long (JavaScript integer can go up to 53 bit)?\n      return is32BitInteger(value) ? 'integer' : 'long';\n    }\n\n    // JavaScript numbers are 64 bit float, hence the double\n    return 'double';\n  }\n\n  return 'string';\n}\n\n/**\n * Function used to cast the given value into the given type.\n *\n * @param  {string} type  - Target type.\n * @param  {any}    value - Value to cast.\n * @return {string}\n */\nfunction cast(type, value) {\n  if (type === 'liststring' && Array.isArray(value)) return value.join('|');\n  return '' + value;\n}\n\n/**\n * Function used to collect data from a graph's nodes.\n *\n * @param  {Graph}    graph   - Target graph.\n * @param  {function} format  - Function formatting the nodes attributes.\n * @return {array}\n */\nfunction collectNodeData(graph, format) {\n  var nodes = new Array(graph.order);\n  var i = 0;\n\n  graph.forEachNode(function (node, attr) {\n    var data = format(node, attr);\n    data.key = node;\n    nodes[i++] = data;\n  });\n\n  return nodes;\n}\n\n/**\n * Function used to collect data from a graph's edges.\n *\n * @param  {Graph}    graph   - Target graph.\n * @param  {function} reducer - Function reducing the edges attributes.\n * @return {array}\n */\nfunction collectEdgeData(graph, reducer) {\n  var edges = new Array(graph.size);\n  var i = 0;\n\n  graph.forEachEdge(function (\n    edge,\n    attr,\n    source,\n    target,\n    _sa,\n    _ta,\n    undirected\n  ) {\n    var data = reducer(edge, attr);\n    data.key = edge;\n    data.source = source;\n    data.target = target;\n    data.undirected = undirected;\n    edges[i++] = data;\n  });\n\n  return edges;\n}\n\n/**\n * Function used to infer the model of the graph's nodes or edges.\n *\n * @param  {array} elements - The graph's relevant elements.\n * @return {array}\n */\n\n// TODO: on large graph, we could also sample or let the user indicate the types\nfunction inferModel(elements) {\n  var model = {},\n    attributes,\n    type,\n    k;\n\n  // Testing every attributes\n  for (var i = 0, l = elements.length; i < l; i++) {\n    attributes = elements[i].attributes;\n\n    if (!attributes) continue;\n\n    for (k in attributes) {\n      type = detectValueType(attributes[k]);\n\n      if (type === 'empty') continue;\n\n      if (!model[k]) model[k] = type;\n      else {\n        if (model[k] === 'integer' && type === 'long') model[k] = type;\n        else if (model[k] !== type) model[k] = 'string';\n      }\n    }\n  }\n\n  // TODO: check default values\n  return model;\n}\n\n/**\n * Function used to write a model.\n *\n * @param {XMLWriter} writer     - The writer to use.\n * @param {object}    model      - Model to write.\n * @param {string}    modelClass - Class of the model.\n */\nfunction writeModel(writer, model, modelClass) {\n  var name;\n\n  if (!Object.keys(model).length) return;\n\n  writer.startElement('attributes');\n  writer.writeAttribute('class', modelClass);\n\n  for (name in model) {\n    writer.startElement('attribute');\n    writer.writeAttribute('id', name);\n    writer.writeAttribute('title', name);\n    writer.writeAttribute('type', model[name]);\n    writer.endElement();\n  }\n\n  writer.endElement();\n}\n\nfunction writeElements(writer, type, model, elements) {\n  var emptyModel = !Object.keys(model).length,\n    element,\n    name,\n    color,\n    value,\n    edgeType,\n    attributes,\n    weight,\n    viz,\n    k,\n    i,\n    l;\n\n  writer.startElement(type + 's');\n\n  for (i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n    attributes = element.attributes;\n    viz = element.viz;\n\n    writer.startElement(type);\n    writer.writeAttribute('id', element.key);\n\n    if (type === 'edge') {\n      edgeType = element.undirected ? 'undirected' : 'directed';\n\n      if (edgeType !== writer.defaultEdgeType)\n        writer.writeAttribute('type', edgeType);\n\n      writer.writeAttribute('source', element.source);\n      writer.writeAttribute('target', element.target);\n\n      weight = element.weight;\n\n      if (\n        (typeof weight === 'number' && !isNaN(weight)) ||\n        typeof weight === 'string'\n      )\n        writer.writeAttribute('weight', element.weight);\n    }\n\n    if (element.label) writer.writeAttribute('label', element.label);\n\n    if (!emptyModel && attributes) {\n      writer.startElement('attvalues');\n\n      for (name in model) {\n        if (name in attributes) {\n          value = attributes[name];\n\n          if (isEmptyValue(value)) continue;\n\n          writer.startElement('attvalue');\n          writer.writeAttribute('for', name);\n          writer.writeAttribute('value', cast(model[name], value));\n          writer.endElement();\n        }\n      }\n\n      writer.endElement();\n    }\n\n    if (viz) {\n      //-- 1) Color\n      if (viz.color) {\n        color = CSSColorToRGBA(viz.color);\n\n        writer.startElementNS('viz', 'color');\n\n        for (k in color) writer.writeAttribute(k, color[k]);\n\n        writer.endElement();\n      }\n\n      //-- 2) Size\n      if ('size' in viz) {\n        writer.startElementNS('viz', 'size');\n        writer.writeAttribute('value', viz.size);\n        writer.endElement();\n      }\n\n      //-- 3) Position\n      if ('x' in viz || 'y' in viz || 'z' in viz) {\n        writer.startElementNS('viz', 'position');\n\n        if ('x' in viz) writer.writeAttribute('x', viz.x);\n\n        if ('y' in viz) writer.writeAttribute('y', viz.y);\n\n        if ('z' in viz) writer.writeAttribute('z', viz.z);\n\n        writer.endElement();\n      }\n\n      //-- 4) Shape\n      if (viz.shape) {\n        writer.startElementNS('viz', 'shape');\n        writer.writeAttribute('value', viz.shape);\n        writer.endElement();\n      }\n\n      //-- 5) Thickness\n      if ('thickness' in viz) {\n        writer.startElementNS('viz', 'thickness');\n        writer.writeAttribute('value', viz.thickness);\n        writer.endElement();\n      }\n    }\n\n    writer.endElement();\n  }\n\n  writer.endElement();\n}\n\n/**\n * Defaults.\n */\nvar DEFAULTS = {\n  encoding: 'UTF-8',\n  pretty: true,\n  formatNode: DEFAULT_NODE_FORMATTER,\n  formatEdge: DEFAULT_EDGE_FORMATTER\n};\n\n/**\n * Function taking a graphology instance & outputting a gexf string.\n *\n * @param  {Graph}  graph        - Target graphology instance.\n * @param  {object} options      - Options:\n * @param  {string}   [encoding]   - Character encoding.\n * @param  {boolean}  [pretty]     - Whether to pretty print output.\n * @param  {function} [formatNode] - Function formatting nodes' output.\n * @param  {function} [formatEdge] - Function formatting edges' output.\n * @return {string}              - GEXF string.\n */\nmodule.exports = function write(graph, options) {\n  if (!isGraph(graph))\n    throw new Error('graphology-gexf/writer: invalid graphology instance.');\n\n  options = options || {};\n\n  var indent = options.pretty === false ? false : '  ';\n\n  var formatNode = options.formatNode || DEFAULTS.formatNode,\n    formatEdge = options.formatEdge || DEFAULTS.formatEdge;\n\n  var writer = new XMLWriter(indent);\n\n  writer.startDocument('1.0', options.encoding || DEFAULTS.encoding);\n\n  // Starting gexf\n  writer.startElement('gexf');\n  writer.writeAttribute('version', '1.2');\n  writer.writeAttribute('xmlns', GEXF_NAMESPACE);\n  writer.writeAttribute('xmlns:viz', GEXF_VIZ_NAMESPACE);\n\n  // Processing meta\n  writer.startElement('meta');\n  var graphAttributes = graph.getAttributes();\n\n  if (graphAttributes.lastModifiedDate)\n    writer.writeAttribute('lastmodifieddate', graphAttributes.lastModifiedDate);\n\n  var metaTagName;\n  var graphAttribute;\n\n  for (var k in graphAttributes) {\n    if (k === 'lastModifiedDate') continue;\n\n    metaTagName = sanitizeTagName(k);\n\n    if (!metaTagName) continue;\n\n    graphAttribute = graphAttributes[k];\n\n    // NOTE: if the graph attribute is not a scalar, we do not bother writing\n    // it as metadata in the gexf output. This means the writer/parser is not\n    // idempotent, but we cannot do better because the gexf format does not\n    // allow it, since it was not meant to handle complex values as graph\n    // metadata anyway.\n    if (\n      typeof graphAttribute === 'string' ||\n      typeof graphAttribute === 'number' ||\n      typeof graphAttribute === 'boolean'\n    ) {\n      writer.writeElement(metaTagName, '' + graphAttribute);\n    }\n  }\n\n  writer.endElement();\n  writer.startElement('graph');\n\n  var type = inferType(graph);\n\n  writer.defaultEdgeType = type === 'mixed' ? 'directed' : type;\n\n  writer.writeAttribute('defaultedgetype', writer.defaultEdgeType);\n\n  // Processing model\n  var nodes = collectNodeData(graph, formatNode),\n    edges = collectEdgeData(graph, formatEdge);\n\n  var nodeModel = inferModel(nodes);\n\n  writeModel(writer, nodeModel, 'node');\n\n  var edgeModel = inferModel(edges);\n\n  writeModel(writer, edgeModel, 'edge');\n\n  // Processing nodes\n  writeElements(writer, 'node', nodeModel, nodes);\n\n  // Processing edges\n  writeElements(writer, 'edge', edgeModel, edges);\n\n  return writer.toString();\n};\n","/**\n * Graphology GEXF\n * ================\n *\n * Library endpoint.\n */\nmodule.exports = require('./node/index.js');\n","/**\n * Graphology Node GEXF Endpoint\n * ==============================\n *\n * Endpoint gathering both parser & writer for Node.js.\n */\nvar xmldom = require('@xmldom/xmldom');\nvar createParserFunction = require('../common/parser.js');\n\nvar doc = new xmldom.DOMParser().parseFromString('<t></t>', 'application/xml');\n\nexports.parse = createParserFunction(xmldom.DOMParser, doc.constructor);\nexports.write = require('../common/writer.js');\n","/**\n * Graphology Louvain Indices\n * ===========================\n *\n * Undirected & Directed Louvain Index structures used to compute the famous\n * Louvain community detection algorithm.\n *\n * Most of the rationale is explained in `graphology-metrics`.\n *\n * Note that this index shares a lot with the classic Union-Find data\n * structure. It also relies on a unused id stack to make sure we can\n * increase again the number of communites when isolating nodes.\n *\n * [Articles]\n * M. E. J. Newman,  Modularity and community structure in networks ,\n * Proc. Natl. Acad. Sci. USA, vol. 103, no 23, 2006, p. 85778582\n * https://dx.doi.org/10.1073%2Fpnas.0601602103\n *\n * Newman, M. E. J.  Community detection in networks: Modularity optimization\n * and maximum likelihood are equivalent . Physical Review E, vol. 94, no 5,\n * novembre 2016, p. 052315. arXiv.org, doi:10.1103/PhysRevE.94.052315.\n * https://arxiv.org/pdf/1606.02319.pdf\n *\n * Blondel, Vincent D., et al.  Fast unfolding of communities in large\n * networks . Journal of Statistical Mechanics: Theory and Experiment,\n * vol. 2008, no 10, octobre 2008, p. P10008. DOI.org (Crossref),\n * doi:10.1088/1742-5468/2008/10/P10008.\n * https://arxiv.org/pdf/0803.0476.pdf\n *\n * Nicolas Dugue, Anthony Perez. Directed Louvain: maximizing modularity in\n * directed networks. [Research Report] Universite dOrleans. 2015. hal-01231784\n * https://hal.archives-ouvertes.fr/hal-01231784\n *\n * R. Lambiotte, J.-C. Delvenne and M. Barahona. Laplacian Dynamics and\n * Multiscale Modular Structure in Networks,\n * doi:10.1109/TNSE.2015.2391998.\n * https://arxiv.org/abs/0812.1770\n *\n * [Latex]:\n *\n * Undirected Case:\n * ----------------\n *\n * \\Delta Q=\\bigg{[}\\frac{\\sum^{c}_{in}-(2d_{c}+l)}{2m}-\\bigg{(}\\frac{\\sum^{c}_{tot}-(d+l)}{2m}\\bigg{)}^{2}+\\frac{\\sum^{t}_{in}+(2d_{t}+l)}{2m}-\\bigg{(}\\frac{\\sum^{t}_{tot}+(d+l)}{2m}\\bigg{)}^{2}\\bigg{]}-\\bigg{[}\\frac{\\sum^{c}_{in}}{2m}-\\bigg{(}\\frac{\\sum^{c}_{tot}}{2m}\\bigg{)}^{2}+\\frac{\\sum^{t}_{in}}{2m}-\\bigg{(}\\frac{\\sum^{t}_{tot}}{2m}\\bigg{)}^{2}\\bigg{]}\n * \\Delta Q=\\frac{d_{t}-d_{c}}{m}+\\frac{l\\sum^{c}_{tot}+d\\sum^{c}_{tot}-d^{2}-l^{2}-2dl-l\\sum^{t}_{tot}-d\\sum^{t}_{tot}}{2m^{2}}\n * \\Delta Q=\\frac{d_{t}-d_{c}}{m}+\\frac{(l+d)\\sum^{c}_{tot}-d^{2}-l^{2}-2dl-(l+d)\\sum^{t}_{tot}}{2m^{2}}\n *\n * Directed Case:\n * --------------\n * \\Delta Q_d=\\bigg{[}\\frac{\\sum^{c}_{in}-(d_{c.in}+d_{c.out}+l)}{m}-\\frac{(\\sum^{c}_{tot.in}-(d_{in}+l))(\\sum^{c}_{tot.out}-(d_{out}+l))}{m^{2}}+\\frac{\\sum^{t}_{in}+(d_{t.in}+d_{t.out}+l)}{m}-\\frac{(\\sum^{t}_{tot.in}+(d_{in}+l))(\\sum^{t}_{tot.out}+(d_{out}+l))}{m^{2}}\\bigg{]}-\\bigg{[}\\frac{\\sum^{c}_{in}}{m}-\\frac{\\sum^{c}_{tot.in}\\sum^{c}_{tot.out}}{m^{2}}+\\frac{\\sum^{t}_{in}}{m}-\\frac{\\sum^{t}_{tot.in}\\sum^{t}_{tot.out}}{m^{2}}\\bigg{]}\n *\n * [Notes]:\n * Louvain is a bit unclear on this but delta computation are not derived from\n * Q1 - Q2 but rather between Q when considered node is isolated in its own\n * community versus Q with this node in target community. This is in fact\n * an optimization because the subtract part is constant in the formulae and\n * does not affect delta comparisons.\n */\nvar typed = require('mnemonist/utils/typed-arrays');\nvar resolveDefaults = require('graphology-utils/defaults');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\n\nvar INSPECT = Symbol.for('nodejs.util.inspect.custom');\n\nvar DEFAULTS = {\n  getEdgeWeight: 'weight',\n  keepDendrogram: false,\n  resolution: 1\n};\n\nfunction UndirectedLouvainIndex(graph, options) {\n  // Solving options\n  options = resolveDefaults(options, DEFAULTS);\n\n  var resolution = options.resolution;\n\n  // Weight getters\n  var getEdgeWeight = createEdgeWeightGetter(options.getEdgeWeight).fromEntry;\n\n  // Building the index\n  var size = (graph.size - graph.selfLoopCount) * 2;\n\n  var NeighborhoodPointerArray = typed.getPointerArray(size);\n  var NodesPointerArray = typed.getPointerArray(graph.order + 1);\n\n  // NOTE: this memory optimization can yield overflow deopt when computing deltas\n  var WeightsArray = options.getEdgeWeight\n    ? Float64Array\n    : typed.getPointerArray(graph.size * 2);\n\n  // Properties\n  this.C = graph.order;\n  this.M = 0;\n  this.E = size;\n  this.U = 0;\n  this.resolution = resolution;\n  this.level = 0;\n  this.graph = graph;\n  this.nodes = new Array(graph.order);\n  this.keepDendrogram = options.keepDendrogram;\n\n  // Edge-level\n  this.neighborhood = new NodesPointerArray(size);\n  this.weights = new WeightsArray(size);\n\n  // Node-level\n  this.loops = new WeightsArray(graph.order);\n  this.starts = new NeighborhoodPointerArray(graph.order + 1);\n  this.belongings = new NodesPointerArray(graph.order);\n  this.dendrogram = [];\n  this.mapping = null;\n\n  // Community-level\n  this.counts = new NodesPointerArray(graph.order);\n  this.unused = new NodesPointerArray(graph.order);\n  this.totalWeights = new WeightsArray(graph.order);\n\n  var ids = {};\n\n  var weight;\n\n  var i = 0,\n    n = 0;\n\n  var self = this;\n\n  graph.forEachNode(function (node) {\n    self.nodes[i] = node;\n\n    // Node map to index\n    ids[node] = i;\n\n    // Initializing starts\n    n += graph.undirectedDegreeWithoutSelfLoops(node);\n    self.starts[i] = n;\n\n    // Belongings\n    self.belongings[i] = i;\n    self.counts[i] = 1;\n    i++;\n  });\n\n  // Single sweep over the edges\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    weight = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n\n    source = ids[source];\n    target = ids[target];\n\n    self.M += weight;\n\n    // Self loop?\n    if (source === target) {\n      self.totalWeights[source] += weight * 2;\n      self.loops[source] = weight * 2;\n    } else {\n      self.totalWeights[source] += weight;\n      self.totalWeights[target] += weight;\n\n      var startSource = --self.starts[source],\n        startTarget = --self.starts[target];\n\n      self.neighborhood[startSource] = target;\n      self.neighborhood[startTarget] = source;\n\n      self.weights[startSource] = weight;\n      self.weights[startTarget] = weight;\n    }\n  });\n\n  this.starts[i] = this.E;\n\n  if (this.keepDendrogram) this.dendrogram.push(this.belongings.slice());\n  else this.mapping = this.belongings.slice();\n}\n\nUndirectedLouvainIndex.prototype.isolate = function (i, degree) {\n  var currentCommunity = this.belongings[i];\n\n  // The node is already isolated\n  if (this.counts[currentCommunity] === 1) return currentCommunity;\n\n  var newCommunity = this.unused[--this.U];\n\n  var loops = this.loops[i];\n\n  this.totalWeights[currentCommunity] -= degree + loops;\n  this.totalWeights[newCommunity] += degree + loops;\n\n  this.belongings[i] = newCommunity;\n\n  this.counts[currentCommunity]--;\n  this.counts[newCommunity]++;\n\n  return newCommunity;\n};\n\nUndirectedLouvainIndex.prototype.move = function (i, degree, targetCommunity) {\n  var currentCommunity = this.belongings[i],\n    loops = this.loops[i];\n\n  this.totalWeights[currentCommunity] -= degree + loops;\n  this.totalWeights[targetCommunity] += degree + loops;\n\n  this.belongings[i] = targetCommunity;\n\n  var nowEmpty = this.counts[currentCommunity]-- === 1;\n  this.counts[targetCommunity]++;\n\n  if (nowEmpty) this.unused[this.U++] = currentCommunity;\n};\n\nUndirectedLouvainIndex.prototype.computeNodeDegree = function (i) {\n  var o, l, weight;\n\n  var degree = 0;\n\n  for (o = this.starts[i], l = this.starts[i + 1]; o < l; o++) {\n    weight = this.weights[o];\n\n    degree += weight;\n  }\n\n  return degree;\n};\n\nUndirectedLouvainIndex.prototype.expensiveIsolate = function (i) {\n  var degree = this.computeNodeDegree(i);\n  return this.isolate(i, degree);\n};\n\nUndirectedLouvainIndex.prototype.expensiveMove = function (i, ci) {\n  var degree = this.computeNodeDegree(i);\n  this.move(i, degree, ci);\n};\n\nUndirectedLouvainIndex.prototype.zoomOut = function () {\n  var inducedGraph = new Array(this.C - this.U),\n    newLabels = {};\n\n  var N = this.nodes.length;\n\n  var C = 0,\n    E = 0;\n\n  var i, j, l, m, n, ci, cj, data, adj;\n\n  // Renumbering communities\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    if (!(ci in newLabels)) {\n      newLabels[ci] = C;\n      inducedGraph[C] = {\n        adj: {},\n        totalWeights: this.totalWeights[ci],\n        internalWeights: 0\n      };\n      C++;\n    }\n\n    // We do this to otpimize the number of lookups in next loop\n    this.belongings[i] = newLabels[ci];\n  }\n\n  // Actualizing dendrogram\n  var currentLevel, nextLevel;\n\n  if (this.keepDendrogram) {\n    currentLevel = this.dendrogram[this.level];\n    nextLevel = new (typed.getPointerArray(C))(N);\n\n    for (i = 0; i < N; i++) nextLevel[i] = this.belongings[currentLevel[i]];\n\n    this.dendrogram.push(nextLevel);\n  } else {\n    for (i = 0; i < N; i++) this.mapping[i] = this.belongings[this.mapping[i]];\n  }\n\n  // Building induced graph matrix\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    data = inducedGraph[ci];\n    adj = data.adj;\n    data.internalWeights += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      n = this.neighborhood[j];\n      cj = this.belongings[n];\n\n      if (ci === cj) {\n        data.internalWeights += this.weights[j];\n        continue;\n      }\n\n      if (!(cj in adj)) adj[cj] = 0;\n\n      adj[cj] += this.weights[j];\n    }\n  }\n\n  // Rewriting neighborhood\n  this.C = C;\n\n  n = 0;\n\n  for (ci = 0; ci < C; ci++) {\n    data = inducedGraph[ci];\n    adj = data.adj;\n\n    ci = +ci;\n\n    this.totalWeights[ci] = data.totalWeights;\n    this.loops[ci] = data.internalWeights;\n    this.counts[ci] = 1;\n\n    this.starts[ci] = n;\n    this.belongings[ci] = ci;\n\n    for (cj in adj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = adj[cj];\n\n      E++;\n      n++;\n    }\n  }\n\n  this.starts[C] = E;\n\n  this.E = E;\n  this.U = 0;\n  this.level++;\n\n  return newLabels;\n};\n\nUndirectedLouvainIndex.prototype.modularity = function () {\n  var ci, cj, i, j, m;\n\n  var Q = 0;\n  var M2 = this.M * 2;\n  var internalWeights = new Float64Array(this.C);\n\n  for (i = 0; i < this.C; i++) {\n    ci = this.belongings[i];\n    internalWeights[ci] += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      cj = this.belongings[this.neighborhood[j]];\n\n      if (ci !== cj) continue;\n\n      internalWeights[ci] += this.weights[j];\n    }\n  }\n\n  for (i = 0; i < this.C; i++) {\n    Q +=\n      internalWeights[i] / M2 -\n      Math.pow(this.totalWeights[i] / M2, 2) * this.resolution;\n  }\n\n  return Q;\n};\n\nUndirectedLouvainIndex.prototype.delta = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree / M - // NOTE: formula is a bit different here because targetCommunityDegree is passed without * 2\n    (targetCommunityTotalWeight * degree * this.resolution) / (2 * M * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.deltaWithOwnCommunity = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree / M - // NOTE: formula is a bit different here because targetCommunityDegree is passed without * 2\n    ((targetCommunityTotalWeight - degree) * degree * this.resolution) /\n      (2 * M * M)\n  );\n};\n\n// NOTE: this is just a faster but equivalent version of #.delta\n// It is just off by a constant factor and is just faster to compute\nUndirectedLouvainIndex.prototype.fastDelta = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree -\n    (degree * targetCommunityTotalWeight * this.resolution) / (2 * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.fastDeltaWithOwnCommunity = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree -\n    (degree * (targetCommunityTotalWeight - degree) * this.resolution) / (2 * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.bounds = function (i) {\n  return [this.starts[i], this.starts[i + 1]];\n};\n\nUndirectedLouvainIndex.prototype.project = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.starts[i], self.starts[i + 1])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nUndirectedLouvainIndex.prototype.collect = function (level) {\n  if (arguments.length < 1) level = this.level;\n\n  var o = {};\n\n  var mapping = this.keepDendrogram ? this.dendrogram[level] : this.mapping;\n\n  var i, l;\n\n  for (i = 0, l = mapping.length; i < l; i++) o[this.nodes[i]] = mapping[i];\n\n  return o;\n};\n\nUndirectedLouvainIndex.prototype.assign = function (prop, level) {\n  if (arguments.length < 2) level = this.level;\n\n  var mapping = this.keepDendrogram ? this.dendrogram[level] : this.mapping;\n\n  var i, l;\n\n  for (i = 0, l = mapping.length; i < l; i++)\n    this.graph.setNodeAttribute(this.nodes[i], prop, mapping[i]);\n};\n\nUndirectedLouvainIndex.prototype[INSPECT] = function () {\n  var proxy = {};\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: UndirectedLouvainIndex,\n    enumerable: false\n  });\n\n  proxy.C = this.C;\n  proxy.M = this.M;\n  proxy.E = this.E;\n  proxy.U = this.U;\n  proxy.resolution = this.resolution;\n  proxy.level = this.level;\n  proxy.nodes = this.nodes;\n  proxy.starts = this.starts.slice(0, proxy.C + 1);\n\n  var eTruncated = ['neighborhood', 'weights'];\n  var cTruncated = ['counts', 'loops', 'belongings', 'totalWeights'];\n\n  var self = this;\n\n  eTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.E);\n  });\n\n  cTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.C);\n  });\n\n  proxy.unused = this.unused.slice(0, this.U);\n\n  if (this.keepDendrogram) proxy.dendrogram = this.dendrogram;\n  else proxy.mapping = this.mapping;\n\n  return proxy;\n};\n\nfunction DirectedLouvainIndex(graph, options) {\n  // Solving options\n  options = resolveDefaults(options, DEFAULTS);\n\n  var resolution = options.resolution;\n\n  // Weight getters\n  var getEdgeWeight = createEdgeWeightGetter(options.getEdgeWeight).fromEntry;\n\n  // Building the index\n  var size = (graph.size - graph.selfLoopCount) * 2;\n\n  var NeighborhoodPointerArray = typed.getPointerArray(size);\n  var NodesPointerArray = typed.getPointerArray(graph.order + 1);\n\n  // NOTE: this memory optimization can yield overflow deopt when computing deltas\n  var WeightsArray = options.getEdgeWeight\n    ? Float64Array\n    : typed.getPointerArray(graph.size * 2);\n\n  // Properties\n  this.C = graph.order;\n  this.M = 0;\n  this.E = size;\n  this.U = 0;\n  this.resolution = resolution;\n  this.level = 0;\n  this.graph = graph;\n  this.nodes = new Array(graph.order);\n  this.keepDendrogram = options.keepDendrogram;\n\n  // Edge-level\n  // NOTE: edges are stored out then in, in this order\n  this.neighborhood = new NodesPointerArray(size);\n  this.weights = new WeightsArray(size);\n\n  // Node-level\n  this.loops = new WeightsArray(graph.order);\n  this.starts = new NeighborhoodPointerArray(graph.order + 1);\n  this.offsets = new NeighborhoodPointerArray(graph.order);\n  this.belongings = new NodesPointerArray(graph.order);\n  this.dendrogram = [];\n\n  // Community-level\n  this.counts = new NodesPointerArray(graph.order);\n  this.unused = new NodesPointerArray(graph.order);\n  this.totalInWeights = new WeightsArray(graph.order);\n  this.totalOutWeights = new WeightsArray(graph.order);\n\n  var ids = {};\n\n  var weight;\n\n  var i = 0,\n    n = 0;\n\n  var self = this;\n\n  graph.forEachNode(function (node) {\n    self.nodes[i] = node;\n\n    // Node map to index\n    ids[node] = i;\n\n    // Initializing starts & offsets\n    n += graph.outDegreeWithoutSelfLoops(node);\n    self.starts[i] = n;\n\n    n += graph.inDegreeWithoutSelfLoops(node);\n    self.offsets[i] = n;\n\n    // Belongings\n    self.belongings[i] = i;\n    self.counts[i] = 1;\n    i++;\n  });\n\n  // Single sweep over the edges\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    weight = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n\n    source = ids[source];\n    target = ids[target];\n\n    self.M += weight;\n\n    // Self loop?\n    if (source === target) {\n      self.loops[source] += weight;\n      self.totalInWeights[source] += weight;\n      self.totalOutWeights[source] += weight;\n    } else {\n      self.totalOutWeights[source] += weight;\n      self.totalInWeights[target] += weight;\n\n      var startSource = --self.starts[source],\n        startTarget = --self.offsets[target];\n\n      self.neighborhood[startSource] = target;\n      self.neighborhood[startTarget] = source;\n\n      self.weights[startSource] = weight;\n      self.weights[startTarget] = weight;\n    }\n  });\n\n  this.starts[i] = this.E;\n\n  if (this.keepDendrogram) this.dendrogram.push(this.belongings.slice());\n  else this.mapping = this.belongings.slice();\n}\n\nDirectedLouvainIndex.prototype.bounds = UndirectedLouvainIndex.prototype.bounds;\n\nDirectedLouvainIndex.prototype.inBounds = function (i) {\n  return [this.offsets[i], this.starts[i + 1]];\n};\n\nDirectedLouvainIndex.prototype.outBounds = function (i) {\n  return [this.starts[i], this.offsets[i]];\n};\n\nDirectedLouvainIndex.prototype.project =\n  UndirectedLouvainIndex.prototype.project;\n\nDirectedLouvainIndex.prototype.projectIn = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.offsets[i], self.starts[i + 1])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nDirectedLouvainIndex.prototype.projectOut = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.starts[i], self.offsets[i])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nDirectedLouvainIndex.prototype.isolate = function (i, inDegree, outDegree) {\n  var currentCommunity = this.belongings[i];\n\n  // The node is already isolated\n  if (this.counts[currentCommunity] === 1) return currentCommunity;\n\n  var newCommunity = this.unused[--this.U];\n\n  var loops = this.loops[i];\n\n  this.totalInWeights[currentCommunity] -= inDegree + loops;\n  this.totalInWeights[newCommunity] += inDegree + loops;\n\n  this.totalOutWeights[currentCommunity] -= outDegree + loops;\n  this.totalOutWeights[newCommunity] += outDegree + loops;\n\n  this.belongings[i] = newCommunity;\n\n  this.counts[currentCommunity]--;\n  this.counts[newCommunity]++;\n\n  return newCommunity;\n};\n\nDirectedLouvainIndex.prototype.move = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunity\n) {\n  var currentCommunity = this.belongings[i],\n    loops = this.loops[i];\n\n  this.totalInWeights[currentCommunity] -= inDegree + loops;\n  this.totalInWeights[targetCommunity] += inDegree + loops;\n\n  this.totalOutWeights[currentCommunity] -= outDegree + loops;\n  this.totalOutWeights[targetCommunity] += outDegree + loops;\n\n  this.belongings[i] = targetCommunity;\n\n  var nowEmpty = this.counts[currentCommunity]-- === 1;\n  this.counts[targetCommunity]++;\n\n  if (nowEmpty) this.unused[this.U++] = currentCommunity;\n};\n\nDirectedLouvainIndex.prototype.computeNodeInDegree = function (i) {\n  var o, l, weight;\n\n  var inDegree = 0;\n\n  for (o = this.offsets[i], l = this.starts[i + 1]; o < l; o++) {\n    weight = this.weights[o];\n\n    inDegree += weight;\n  }\n\n  return inDegree;\n};\n\nDirectedLouvainIndex.prototype.computeNodeOutDegree = function (i) {\n  var o, l, weight;\n\n  var outDegree = 0;\n\n  for (o = this.starts[i], l = this.offsets[i]; o < l; o++) {\n    weight = this.weights[o];\n\n    outDegree += weight;\n  }\n\n  return outDegree;\n};\n\nDirectedLouvainIndex.prototype.expensiveMove = function (i, ci) {\n  var inDegree = this.computeNodeInDegree(i),\n    outDegree = this.computeNodeOutDegree(i);\n\n  this.move(i, inDegree, outDegree, ci);\n};\n\nDirectedLouvainIndex.prototype.zoomOut = function () {\n  var inducedGraph = new Array(this.C - this.U),\n    newLabels = {};\n\n  var N = this.nodes.length;\n\n  var C = 0,\n    E = 0;\n\n  var i, j, l, m, n, ci, cj, data, offset, out, adj, inAdj, outAdj;\n\n  // Renumbering communities\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    if (!(ci in newLabels)) {\n      newLabels[ci] = C;\n      inducedGraph[C] = {\n        inAdj: {},\n        outAdj: {},\n        totalInWeights: this.totalInWeights[ci],\n        totalOutWeights: this.totalOutWeights[ci],\n        internalWeights: 0\n      };\n      C++;\n    }\n\n    // We do this to otpimize the number of lookups in next loop\n    this.belongings[i] = newLabels[ci];\n  }\n\n  // Actualizing dendrogram\n  var currentLevel, nextLevel;\n\n  if (this.keepDendrogram) {\n    currentLevel = this.dendrogram[this.level];\n    nextLevel = new (typed.getPointerArray(C))(N);\n\n    for (i = 0; i < N; i++) nextLevel[i] = this.belongings[currentLevel[i]];\n\n    this.dendrogram.push(nextLevel);\n  } else {\n    for (i = 0; i < N; i++) this.mapping[i] = this.belongings[this.mapping[i]];\n  }\n\n  // Building induced graph matrix\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n    offset = this.offsets[i];\n\n    data = inducedGraph[ci];\n    inAdj = data.inAdj;\n    outAdj = data.outAdj;\n    data.internalWeights += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      n = this.neighborhood[j];\n      cj = this.belongings[n];\n      out = j < offset;\n\n      adj = out ? outAdj : inAdj;\n\n      if (ci === cj) {\n        if (out) data.internalWeights += this.weights[j];\n\n        continue;\n      }\n\n      if (!(cj in adj)) adj[cj] = 0;\n\n      adj[cj] += this.weights[j];\n    }\n  }\n\n  // Rewriting neighborhood\n  this.C = C;\n\n  n = 0;\n\n  for (ci = 0; ci < C; ci++) {\n    data = inducedGraph[ci];\n    inAdj = data.inAdj;\n    outAdj = data.outAdj;\n\n    ci = +ci;\n\n    this.totalInWeights[ci] = data.totalInWeights;\n    this.totalOutWeights[ci] = data.totalOutWeights;\n    this.loops[ci] = data.internalWeights;\n    this.counts[ci] = 1;\n\n    this.starts[ci] = n;\n    this.belongings[ci] = ci;\n\n    for (cj in outAdj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = outAdj[cj];\n\n      E++;\n      n++;\n    }\n\n    this.offsets[ci] = n;\n\n    for (cj in inAdj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = inAdj[cj];\n\n      E++;\n      n++;\n    }\n  }\n\n  this.starts[C] = E;\n\n  this.E = E;\n  this.U = 0;\n  this.level++;\n\n  return newLabels;\n};\n\nDirectedLouvainIndex.prototype.modularity = function () {\n  var ci, cj, i, j, m;\n\n  var Q = 0;\n  var M = this.M;\n  var internalWeights = new Float64Array(this.C);\n\n  for (i = 0; i < this.C; i++) {\n    ci = this.belongings[i];\n    internalWeights[ci] += this.loops[i];\n\n    for (j = this.starts[i], m = this.offsets[i]; j < m; j++) {\n      cj = this.belongings[this.neighborhood[j]];\n\n      if (ci !== cj) continue;\n\n      internalWeights[ci] += this.weights[j];\n    }\n  }\n\n  for (i = 0; i < this.C; i++)\n    Q +=\n      internalWeights[i] / M -\n      ((this.totalInWeights[i] * this.totalOutWeights[i]) / Math.pow(M, 2)) *\n        this.resolution;\n\n  return Q;\n};\n\nDirectedLouvainIndex.prototype.delta = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalInWeight = this.totalInWeights[targetCommunity],\n    targetCommunityTotalOutWeight = this.totalOutWeights[targetCommunity];\n\n  var loops = this.loops[i];\n\n  inDegree += loops;\n  outDegree += loops;\n\n  return (\n    targetCommunityDegree / M -\n    ((outDegree * targetCommunityTotalInWeight +\n      inDegree * targetCommunityTotalOutWeight) *\n      this.resolution) /\n      (M * M)\n  );\n};\n\nDirectedLouvainIndex.prototype.deltaWithOwnCommunity = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalInWeight = this.totalInWeights[targetCommunity],\n    targetCommunityTotalOutWeight = this.totalOutWeights[targetCommunity];\n\n  var loops = this.loops[i];\n\n  inDegree += loops;\n  outDegree += loops;\n\n  return (\n    targetCommunityDegree / M -\n    ((outDegree * (targetCommunityTotalInWeight - inDegree) +\n      inDegree * (targetCommunityTotalOutWeight - outDegree)) *\n      this.resolution) /\n      (M * M)\n  );\n};\n\nDirectedLouvainIndex.prototype.collect =\n  UndirectedLouvainIndex.prototype.collect;\nDirectedLouvainIndex.prototype.assign = UndirectedLouvainIndex.prototype.assign;\n\nDirectedLouvainIndex.prototype[INSPECT] = function () {\n  var proxy = {};\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: DirectedLouvainIndex,\n    enumerable: false\n  });\n\n  proxy.C = this.C;\n  proxy.M = this.M;\n  proxy.E = this.E;\n  proxy.U = this.U;\n  proxy.resolution = this.resolution;\n  proxy.level = this.level;\n  proxy.nodes = this.nodes;\n  proxy.starts = this.starts.slice(0, proxy.C + 1);\n\n  var eTruncated = ['neighborhood', 'weights'];\n  var cTruncated = [\n    'counts',\n    'offsets',\n    'loops',\n    'belongings',\n    'totalInWeights',\n    'totalOutWeights'\n  ];\n\n  var self = this;\n\n  eTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.E);\n  });\n\n  cTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.C);\n  });\n\n  proxy.unused = this.unused.slice(0, this.U);\n\n  if (this.keepDendrogram) proxy.dendrogram = this.dendrogram;\n  else proxy.mapping = this.mapping;\n\n  return proxy;\n};\n\nexports.UndirectedLouvainIndex = UndirectedLouvainIndex;\nexports.DirectedLouvainIndex = DirectedLouvainIndex;\n","/**\n * Graphology ForceAtlas2 Layout Default Settings\n * ===============================================\n */\nmodule.exports = {\n  linLogMode: false,\n  outboundAttractionDistribution: false,\n  adjustSizes: false,\n  edgeWeightInfluence: 1,\n  scalingRatio: 1,\n  strongGravityMode: false,\n  gravity: 1,\n  slowDown: 1,\n  barnesHutOptimize: false,\n  barnesHutTheta: 0.5\n};\n","/**\n * Graphology ForceAtlas2 Helpers\n * ===============================\n *\n * Miscellaneous helper functions.\n */\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\n\n/**\n * Very simple Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nexports.assign = function (target) {\n  target = target || {};\n\n  var objects = Array.prototype.slice.call(arguments).slice(1),\n    i,\n    k,\n    l;\n\n  for (i = 0, l = objects.length; i < l; i++) {\n    if (!objects[i]) continue;\n\n    for (k in objects[i]) target[k] = objects[i][k];\n  }\n\n  return target;\n};\n\n/**\n * Function used to validate the given settings.\n *\n * @param  {object}      settings - Settings to validate.\n * @return {object|null}\n */\nexports.validateSettings = function (settings) {\n  if ('linLogMode' in settings && typeof settings.linLogMode !== 'boolean')\n    return {message: 'the `linLogMode` setting should be a boolean.'};\n\n  if (\n    'outboundAttractionDistribution' in settings &&\n    typeof settings.outboundAttractionDistribution !== 'boolean'\n  )\n    return {\n      message:\n        'the `outboundAttractionDistribution` setting should be a boolean.'\n    };\n\n  if ('adjustSizes' in settings && typeof settings.adjustSizes !== 'boolean')\n    return {message: 'the `adjustSizes` setting should be a boolean.'};\n\n  if (\n    'edgeWeightInfluence' in settings &&\n    typeof settings.edgeWeightInfluence !== 'number'\n  )\n    return {\n      message: 'the `edgeWeightInfluence` setting should be a number.'\n    };\n\n  if (\n    'scalingRatio' in settings &&\n    !(typeof settings.scalingRatio === 'number' && settings.scalingRatio >= 0)\n  )\n    return {message: 'the `scalingRatio` setting should be a number >= 0.'};\n\n  if (\n    'strongGravityMode' in settings &&\n    typeof settings.strongGravityMode !== 'boolean'\n  )\n    return {message: 'the `strongGravityMode` setting should be a boolean.'};\n\n  if (\n    'gravity' in settings &&\n    !(typeof settings.gravity === 'number' && settings.gravity >= 0)\n  )\n    return {message: 'the `gravity` setting should be a number >= 0.'};\n\n  if (\n    'slowDown' in settings &&\n    !(typeof settings.slowDown === 'number' || settings.slowDown >= 0)\n  )\n    return {message: 'the `slowDown` setting should be a number >= 0.'};\n\n  if (\n    'barnesHutOptimize' in settings &&\n    typeof settings.barnesHutOptimize !== 'boolean'\n  )\n    return {message: 'the `barnesHutOptimize` setting should be a boolean.'};\n\n  if (\n    'barnesHutTheta' in settings &&\n    !(\n      typeof settings.barnesHutTheta === 'number' &&\n      settings.barnesHutTheta >= 0\n    )\n  )\n    return {message: 'the `barnesHutTheta` setting should be a number >= 0.'};\n\n  return null;\n};\n\n/**\n * Function generating a flat matrix for both nodes & edges of the given graph.\n *\n * @param  {Graph}    graph         - Target graph.\n * @param  {function} getEdgeWeight - Edge weight getter function.\n * @return {object}                 - Both matrices.\n */\nexports.graphToByteArrays = function (graph, getEdgeWeight) {\n  var order = graph.order;\n  var size = graph.size;\n  var index = {};\n  var j;\n\n  // NOTE: float32 could lead to issues if edge array needs to index large\n  // number of nodes.\n  var NodeMatrix = new Float32Array(order * PPN);\n  var EdgeMatrix = new Float32Array(size * PPE);\n\n  // Iterate through nodes\n  j = 0;\n  graph.forEachNode(function (node, attr) {\n    // Node index\n    index[node] = j;\n\n    // Populating byte array\n    NodeMatrix[j] = attr.x;\n    NodeMatrix[j + 1] = attr.y;\n    NodeMatrix[j + 2] = 0; // dx\n    NodeMatrix[j + 3] = 0; // dy\n    NodeMatrix[j + 4] = 0; // old_dx\n    NodeMatrix[j + 5] = 0; // old_dy\n    NodeMatrix[j + 6] = 1; // mass\n    NodeMatrix[j + 7] = 1; // convergence\n    NodeMatrix[j + 8] = attr.size || 1;\n    NodeMatrix[j + 9] = attr.fixed ? 1 : 0;\n    j += PPN;\n  });\n\n  // Iterate through edges\n  j = 0;\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    var sj = index[source];\n    var tj = index[target];\n\n    // Handling node mass through degree\n    NodeMatrix[sj + 6] += 1;\n    NodeMatrix[tj + 6] += 1;\n\n    // Populating byte array\n    EdgeMatrix[j] = sj;\n    EdgeMatrix[j + 1] = tj;\n    EdgeMatrix[j + 2] = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n    j += PPE;\n  });\n\n  return {\n    nodes: NodeMatrix,\n    edges: EdgeMatrix\n  };\n};\n\n/**\n * Function applying the layout back to the graph.\n *\n * @param {Graph}         graph         - Target graph.\n * @param {Float32Array}  NodeMatrix    - Node matrix.\n * @param {function|null} outputReducer - A node reducer.\n */\nexports.assignLayoutChanges = function (graph, NodeMatrix, outputReducer) {\n  var i = 0;\n\n  graph.updateEachNodeAttributes(function (node, attr) {\n    attr.x = NodeMatrix[i];\n    attr.y = NodeMatrix[i + 1];\n\n    i += PPN;\n\n    return outputReducer ? outputReducer(node, attr) : attr;\n  });\n};\n\n/**\n * Function reading the positions (only) from the graph, to write them in the matrix.\n *\n * @param {Graph}        graph      - Target graph.\n * @param {Float32Array} NodeMatrix - Node matrix.\n */\nexports.readGraphPositions = function (graph, NodeMatrix) {\n  var i = 0;\n\n  graph.forEachNode(function (node, attr) {\n    NodeMatrix[i] = attr.x;\n    NodeMatrix[i + 1] = attr.y;\n\n    i += PPN;\n  });\n};\n\n/**\n * Function collecting the layout positions.\n *\n * @param  {Graph}         graph         - Target graph.\n * @param  {Float32Array}  NodeMatrix    - Node matrix.\n * @param  {function|null} outputReducer - A nodes reducer.\n * @return {object}                      - Map to node positions.\n */\nexports.collectLayoutChanges = function (graph, NodeMatrix, outputReducer) {\n  var nodes = graph.nodes(),\n    positions = {};\n\n  for (var i = 0, j = 0, l = NodeMatrix.length; i < l; i += PPN) {\n    if (outputReducer) {\n      var newAttr = Object.assign({}, graph.getNodeAttributes(nodes[j]));\n      newAttr.x = NodeMatrix[i];\n      newAttr.y = NodeMatrix[i + 1];\n      newAttr = outputReducer(nodes[j], newAttr);\n      positions[nodes[j]] = {\n        x: newAttr.x,\n        y: newAttr.y\n      };\n    } else {\n      positions[nodes[j]] = {\n        x: NodeMatrix[i],\n        y: NodeMatrix[i + 1]\n      };\n    }\n\n    j++;\n  }\n\n  return positions;\n};\n\n/**\n * Function returning a web worker from the given function.\n *\n * @param  {function}  fn - Function for the worker.\n * @return {DOMString}\n */\nexports.createWorker = function createWorker(fn) {\n  var xURL = window.URL || window.webkitURL;\n  var code = fn.toString();\n  var objectUrl = xURL.createObjectURL(\n    new Blob(['(' + code + ').call(this);'], {type: 'text/javascript'})\n  );\n  var worker = new Worker(objectUrl);\n  xURL.revokeObjectURL(objectUrl);\n\n  return worker;\n};\n","/**\n * Graphology ForceAtlas2 Layout\n * ==============================\n *\n * Library endpoint.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\nvar iterate = require('./iterate.js');\nvar helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\n\n/**\n * Asbtract function used to run a certain number of iterations.\n *\n * @param  {boolean}       assign          - Whether to assign positions.\n * @param  {Graph}         graph           - Target graph.\n * @param  {object|number} params          - If number, params.iterations, else:\n * @param  {function}        getWeight     - Edge weight getter function.\n * @param  {number}          iterations    - Number of iterations.\n * @param  {function|null}   outputReducer - A node reducer\n * @param  {object}          [settings]    - Settings.\n * @return {object|undefined}\n */\nfunction abstractSynchronousLayout(assign, graph, params) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-forceatlas2: the given graph is not a valid graphology instance.'\n    );\n\n  if (typeof params === 'number') params = {iterations: params};\n\n  var iterations = params.iterations;\n\n  if (typeof iterations !== 'number')\n    throw new Error(\n      'graphology-layout-forceatlas2: invalid number of iterations.'\n    );\n\n  if (iterations <= 0)\n    throw new Error(\n      'graphology-layout-forceatlas2: you should provide a positive number of iterations.'\n    );\n\n  var getEdgeWeight = createEdgeWeightGetter(params.getEdgeWeight).fromEntry;\n\n  var outputReducer =\n    typeof params.outputReducer === 'function' ? params.outputReducer : null;\n\n  // Validating settings\n  var settings = helpers.assign({}, DEFAULT_SETTINGS, params.settings);\n  var validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error(\n      'graphology-layout-forceatlas2: ' + validationError.message\n    );\n\n  // Building matrices\n  var matrices = helpers.graphToByteArrays(graph, getEdgeWeight);\n\n  var i;\n\n  // Iterating\n  for (i = 0; i < iterations; i++)\n    iterate(settings, matrices.nodes, matrices.edges);\n\n  // Applying\n  if (assign) {\n    helpers.assignLayoutChanges(graph, matrices.nodes, outputReducer);\n    return;\n  }\n\n  return helpers.collectLayoutChanges(graph, matrices.nodes);\n}\n\n/**\n * Function returning sane layout settings for the given graph.\n *\n * @param  {Graph|number} graph - Target graph or graph order.\n * @return {object}\n */\nfunction inferSettings(graph) {\n  var order = typeof graph === 'number' ? graph : graph.order;\n\n  return {\n    barnesHutOptimize: order > 2000,\n    strongGravityMode: true,\n    gravity: 0.05,\n    scalingRatio: 10,\n    slowDown: 1 + Math.log(order)\n  };\n}\n\n/**\n * Exporting.\n */\nvar synchronousLayout = abstractSynchronousLayout.bind(null, false);\nsynchronousLayout.assign = abstractSynchronousLayout.bind(null, true);\nsynchronousLayout.inferSettings = inferSettings;\n\nmodule.exports = synchronousLayout;\n","/* eslint no-constant-condition: 0 */\n/**\n * Graphology ForceAtlas2 Iteration\n * =================================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0;\nvar NODE_Y = 1;\nvar NODE_DX = 2;\nvar NODE_DY = 3;\nvar NODE_OLD_DX = 4;\nvar NODE_OLD_DY = 5;\nvar NODE_MASS = 6;\nvar NODE_CONVERGENCE = 7;\nvar NODE_SIZE = 8;\nvar NODE_FIXED = 9;\n\nvar EDGE_SOURCE = 0;\nvar EDGE_TARGET = 1;\nvar EDGE_WEIGHT = 2;\n\nvar REGION_NODE = 0;\nvar REGION_CENTER_X = 1;\nvar REGION_CENTER_Y = 2;\nvar REGION_SIZE = 3;\nvar REGION_NEXT_SIBLING = 4;\nvar REGION_FIRST_CHILD = 5;\nvar REGION_MASS = 6;\nvar REGION_MASS_CENTER_X = 7;\nvar REGION_MASS_CENTER_Y = 8;\n\nvar SUBDIVISION_ATTEMPTS = 3;\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\nvar PPR = 9;\n\nvar MAX_FORCE = 10;\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @param  {Float32Array} EdgeMatrix - Edge data.\n * @return {object}                  - Some metadata.\n */\nmodule.exports = function iterate(options, NodeMatrix, EdgeMatrix) {\n  // Initializing variables\n  var l, r, n, n1, n2, rn, e, w, g, s;\n\n  var order = NodeMatrix.length,\n    size = EdgeMatrix.length;\n\n  var adjustSizes = options.adjustSizes;\n\n  var thetaSquared = options.barnesHutTheta * options.barnesHutTheta;\n\n  var outboundAttCompensation, coefficient, xDist, yDist, ewc, distance, factor;\n\n  var RegionMatrix = [];\n\n  // 1) Initializing layout data\n  //-----------------------------\n\n  // Resetting positions & computing max values\n  for (n = 0; n < order; n += PPN) {\n    NodeMatrix[n + NODE_OLD_DX] = NodeMatrix[n + NODE_DX];\n    NodeMatrix[n + NODE_OLD_DY] = NodeMatrix[n + NODE_DY];\n    NodeMatrix[n + NODE_DX] = 0;\n    NodeMatrix[n + NODE_DY] = 0;\n  }\n\n  // If outbound attraction distribution, compensate\n  if (options.outboundAttractionDistribution) {\n    outboundAttCompensation = 0;\n    for (n = 0; n < order; n += PPN) {\n      outboundAttCompensation += NodeMatrix[n + NODE_MASS];\n    }\n\n    outboundAttCompensation /= order / PPN;\n  }\n\n  // 1.bis) Barnes-Hut computation\n  //------------------------------\n\n  if (options.barnesHutOptimize) {\n    // Setting up\n    var minX = Infinity,\n      maxX = -Infinity,\n      minY = Infinity,\n      maxY = -Infinity,\n      q,\n      q2,\n      subdivisionAttempts;\n\n    // Computing min and max values\n    for (n = 0; n < order; n += PPN) {\n      minX = Math.min(minX, NodeMatrix[n + NODE_X]);\n      maxX = Math.max(maxX, NodeMatrix[n + NODE_X]);\n      minY = Math.min(minY, NodeMatrix[n + NODE_Y]);\n      maxY = Math.max(maxY, NodeMatrix[n + NODE_Y]);\n    }\n\n    // squarify bounds, it's a quadtree\n    var dx = maxX - minX,\n      dy = maxY - minY;\n    if (dx > dy) {\n      minY -= (dx - dy) / 2;\n      maxY = minY + dx;\n    } else {\n      minX -= (dy - dx) / 2;\n      maxX = minX + dy;\n    }\n\n    // Build the Barnes Hut root region\n    RegionMatrix[0 + REGION_NODE] = -1;\n    RegionMatrix[0 + REGION_CENTER_X] = (minX + maxX) / 2;\n    RegionMatrix[0 + REGION_CENTER_Y] = (minY + maxY) / 2;\n    RegionMatrix[0 + REGION_SIZE] = Math.max(maxX - minX, maxY - minY);\n    RegionMatrix[0 + REGION_NEXT_SIBLING] = -1;\n    RegionMatrix[0 + REGION_FIRST_CHILD] = -1;\n    RegionMatrix[0 + REGION_MASS] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_X] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_Y] = 0;\n\n    // Add each node in the tree\n    l = 1;\n    for (n = 0; n < order; n += PPN) {\n      // Current region, starting with root\n      r = 0;\n      subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n\n      while (true) {\n        // Are there sub-regions?\n\n        // We look at first child index\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // There are sub-regions\n\n          // We just iterate to find a \"leaf\" of the tree\n          // that is an empty region or a region with a single node\n          // (see next case)\n\n          // Find the quadrant of n\n          if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD];\n            } else {\n              // Bottom Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n            }\n          } else {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n            } else {\n              // Bottom Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n            }\n          }\n\n          // Update center of mass and mass (we only do it for non-leave regions)\n          RegionMatrix[r + REGION_MASS_CENTER_X] =\n            (RegionMatrix[r + REGION_MASS_CENTER_X] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_X] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS_CENTER_Y] =\n            (RegionMatrix[r + REGION_MASS_CENTER_Y] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_Y] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS] += NodeMatrix[n + NODE_MASS];\n\n          // Iterate on the right quadrant\n          r = q;\n          continue;\n        } else {\n          // There are no sub-regions: we are in a \"leaf\"\n\n          // Is there a node in this leave?\n          if (RegionMatrix[r + REGION_NODE] < 0) {\n            // There is no node in region:\n            // we record node n and go on\n            RegionMatrix[r + REGION_NODE] = n;\n            break;\n          } else {\n            // There is a node in this region\n\n            // We will need to create sub-regions, stick the two\n            // nodes (the old one r[0] and the new one n) in two\n            // subregions. If they fall in the same quadrant,\n            // we will iterate.\n\n            // Create sub-regions\n            RegionMatrix[r + REGION_FIRST_CHILD] = l * PPR;\n            w = RegionMatrix[r + REGION_SIZE] / 2; // new size (half)\n\n            // NOTE: we use screen coordinates\n            // from Top Left to Bottom Right\n\n            // Top Left sub-region\n            g = RegionMatrix[r + REGION_FIRST_CHILD];\n\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Left sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Top Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] =\n              RegionMatrix[r + REGION_NEXT_SIBLING];\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            l += 4;\n\n            // Now the goal is to find two different sub-regions\n            // for the two nodes: the one previously recorded (r[0])\n            // and the one we want to add (n)\n\n            // Find the quadrant of the old node\n            if (\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X] <\n              RegionMatrix[r + REGION_CENTER_X]\n            ) {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            // We remove r[0] from the region r, add its mass to r and record it in q\n            RegionMatrix[r + REGION_MASS] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS];\n            RegionMatrix[r + REGION_MASS_CENTER_X] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            RegionMatrix[r + REGION_MASS_CENTER_Y] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            RegionMatrix[q + REGION_NODE] = RegionMatrix[r + REGION_NODE];\n            RegionMatrix[r + REGION_NODE] = -1;\n\n            // Find the quadrant of n\n            if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            if (q === q2) {\n              // If both nodes are in the same quadrant,\n              // we have to try it again on this quadrant\n              if (subdivisionAttempts--) {\n                r = q;\n                continue; // while\n              } else {\n                // we are out of precision here, and we cannot subdivide anymore\n                // but we have to break the loop anyway\n                subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n                break; // while\n              }\n            }\n\n            // If both quadrants are different, we record n\n            // in its quadrant\n            RegionMatrix[q2 + REGION_NODE] = n;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  // 2) Repulsion\n  //--------------\n  // NOTES: adjustSizes = antiCollision & scalingRatio = coefficient\n\n  if (options.barnesHutOptimize) {\n    coefficient = options.scalingRatio;\n\n    // Applying repulsion through regions\n    for (n = 0; n < order; n += PPN) {\n      // Computing leaf quad nodes iteration\n\n      r = 0; // Starting with root region\n      while (true) {\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // The region has sub-regions\n\n          // We run the Barnes Hut test to see if we are at the right distance\n          distance =\n            Math.pow(\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X],\n              2\n            ) +\n            Math.pow(\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y],\n              2\n            );\n\n          s = RegionMatrix[r + REGION_SIZE];\n\n          if ((4 * s * s) / distance < thetaSquared) {\n            // We treat the region as a single body, and we repulse\n\n            xDist =\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X];\n            yDist =\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y];\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n            // When this is done, we iterate. We have to look at the next sibling.\n            r = RegionMatrix[r + REGION_NEXT_SIBLING];\n            if (r < 0) break; // No next sibling: we have finished the tree\n\n            continue;\n          } else {\n            // The region is too close and we have to look at sub-regions\n            r = RegionMatrix[r + REGION_FIRST_CHILD];\n            continue;\n          }\n        } else {\n          // The region has no sub-region\n          // If there is a node r[0] and it is not n, then repulse\n          rn = RegionMatrix[r + REGION_NODE];\n\n          if (rn >= 0 && rn !== n) {\n            xDist = NodeMatrix[n + NODE_X] - NodeMatrix[rn + NODE_X];\n            yDist = NodeMatrix[n + NODE_Y] - NodeMatrix[rn + NODE_Y];\n\n            distance = xDist * xDist + yDist * yDist;\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n          }\n\n          // When this is done, we iterate. We have to look at the next sibling.\n          r = RegionMatrix[r + REGION_NEXT_SIBLING];\n\n          if (r < 0) break; // No next sibling: we have finished the tree\n\n          continue;\n        }\n      }\n    }\n  } else {\n    coefficient = options.scalingRatio;\n\n    // Square iteration\n    for (n1 = 0; n1 < order; n1 += PPN) {\n      for (n2 = 0; n2 < n1; n2 += PPN) {\n        // Common to both methods\n        xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n        yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n        if (adjustSizes === true) {\n          //-- Anticollision Linear Repulsion\n          distance =\n            Math.sqrt(xDist * xDist + yDist * yDist) -\n            NodeMatrix[n1 + NODE_SIZE] -\n            NodeMatrix[n2 + NODE_SIZE];\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] += xDist * factor;\n            NodeMatrix[n2 + NODE_DY] += yDist * factor;\n          } else if (distance < 0) {\n            factor =\n              100 *\n              coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS];\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        } else {\n          //-- Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n      }\n    }\n  }\n\n  // 3) Gravity\n  //------------\n  g = options.gravity / options.scalingRatio;\n  coefficient = options.scalingRatio;\n  for (n = 0; n < order; n += PPN) {\n    factor = 0;\n\n    // Common to both methods\n    xDist = NodeMatrix[n + NODE_X];\n    yDist = NodeMatrix[n + NODE_Y];\n    distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n    if (options.strongGravityMode) {\n      //-- Strong gravity\n      if (distance > 0) factor = coefficient * NodeMatrix[n + NODE_MASS] * g;\n    } else {\n      //-- Linear Anti-collision Repulsion n\n      if (distance > 0)\n        factor = (coefficient * NodeMatrix[n + NODE_MASS] * g) / distance;\n    }\n\n    // Updating node's dx and dy\n    NodeMatrix[n + NODE_DX] -= xDist * factor;\n    NodeMatrix[n + NODE_DY] -= yDist * factor;\n  }\n\n  // 4) Attraction\n  //---------------\n  coefficient =\n    1 * (options.outboundAttractionDistribution ? outboundAttCompensation : 1);\n\n  // TODO: simplify distance\n  // TODO: coefficient is always used as -c --> optimize?\n  for (e = 0; e < size; e += PPE) {\n    n1 = EdgeMatrix[e + EDGE_SOURCE];\n    n2 = EdgeMatrix[e + EDGE_TARGET];\n    w = EdgeMatrix[e + EDGE_WEIGHT];\n\n    // Edge weight influence\n    ewc = Math.pow(w, options.edgeWeightInfluence);\n\n    // Common measures\n    xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n    yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n    // Applying attraction to nodes\n    if (adjustSizes === true) {\n      distance =\n        Math.sqrt(xDist * xDist + yDist * yDist) -\n        NodeMatrix[n1 + NODE_SIZE] -\n        NodeMatrix[n2 + NODE_SIZE];\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n          }\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- Linear Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc;\n          }\n        }\n      }\n    } else {\n      distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Attraction\n          if (distance > 0)\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Attraction Mass Distributed\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n        } else {\n          //-- Linear Attraction\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc;\n        }\n      }\n    }\n\n    // Updating nodes' dx and dy\n    // TODO: if condition or factor = 1?\n    if (distance > 0) {\n      // Updating nodes' dx and dy\n      NodeMatrix[n1 + NODE_DX] += xDist * factor;\n      NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n      NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n      NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n    }\n  }\n\n  // 5) Apply Forces\n  //-----------------\n  var force, swinging, traction, nodespeed, newX, newY;\n\n  // MATH: sqrt and square distances\n  if (adjustSizes === true) {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        force = Math.sqrt(\n          Math.pow(NodeMatrix[n + NODE_DX], 2) +\n            Math.pow(NodeMatrix[n + NODE_DY], 2)\n        );\n\n        if (force > MAX_FORCE) {\n          NodeMatrix[n + NODE_DX] =\n            (NodeMatrix[n + NODE_DX] * MAX_FORCE) / force;\n          NodeMatrix[n + NODE_DY] =\n            (NodeMatrix[n + NODE_DY] * MAX_FORCE) / force;\n        }\n\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed = (0.1 * Math.log(1 + traction)) / (1 + Math.sqrt(swinging));\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  } else {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed =\n          (NodeMatrix[n + NODE_CONVERGENCE] * Math.log(1 + traction)) /\n          (1 + Math.sqrt(swinging));\n\n        // Updating node convergence\n        NodeMatrix[n + NODE_CONVERGENCE] = Math.min(\n          1,\n          Math.sqrt(\n            (nodespeed *\n              (Math.pow(NodeMatrix[n + NODE_DX], 2) +\n                Math.pow(NodeMatrix[n + NODE_DY], 2))) /\n              (1 + Math.sqrt(swinging))\n          )\n        );\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  }\n\n  // We return the information about the layout (no need to return the matrices)\n  return {};\n};\n","/**\n * Graphology ForceAtlas2 Layout Webworker\n * ========================================\n *\n * Web worker able to run the layout in a separate thread.\n */\nmodule.exports = function worker() {\n  var NODES, EDGES;\n\n  var moduleShim = {};\n\n  (function () {\n    /* eslint no-constant-condition: 0 */\n/**\n * Graphology ForceAtlas2 Iteration\n * =================================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0;\nvar NODE_Y = 1;\nvar NODE_DX = 2;\nvar NODE_DY = 3;\nvar NODE_OLD_DX = 4;\nvar NODE_OLD_DY = 5;\nvar NODE_MASS = 6;\nvar NODE_CONVERGENCE = 7;\nvar NODE_SIZE = 8;\nvar NODE_FIXED = 9;\n\nvar EDGE_SOURCE = 0;\nvar EDGE_TARGET = 1;\nvar EDGE_WEIGHT = 2;\n\nvar REGION_NODE = 0;\nvar REGION_CENTER_X = 1;\nvar REGION_CENTER_Y = 2;\nvar REGION_SIZE = 3;\nvar REGION_NEXT_SIBLING = 4;\nvar REGION_FIRST_CHILD = 5;\nvar REGION_MASS = 6;\nvar REGION_MASS_CENTER_X = 7;\nvar REGION_MASS_CENTER_Y = 8;\n\nvar SUBDIVISION_ATTEMPTS = 3;\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\nvar PPR = 9;\n\nvar MAX_FORCE = 10;\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @param  {Float32Array} EdgeMatrix - Edge data.\n * @return {object}                  - Some metadata.\n */\nmoduleShim.exports = function iterate(options, NodeMatrix, EdgeMatrix) {\n  // Initializing variables\n  var l, r, n, n1, n2, rn, e, w, g, s;\n\n  var order = NodeMatrix.length,\n    size = EdgeMatrix.length;\n\n  var adjustSizes = options.adjustSizes;\n\n  var thetaSquared = options.barnesHutTheta * options.barnesHutTheta;\n\n  var outboundAttCompensation, coefficient, xDist, yDist, ewc, distance, factor;\n\n  var RegionMatrix = [];\n\n  // 1) Initializing layout data\n  //-----------------------------\n\n  // Resetting positions & computing max values\n  for (n = 0; n < order; n += PPN) {\n    NodeMatrix[n + NODE_OLD_DX] = NodeMatrix[n + NODE_DX];\n    NodeMatrix[n + NODE_OLD_DY] = NodeMatrix[n + NODE_DY];\n    NodeMatrix[n + NODE_DX] = 0;\n    NodeMatrix[n + NODE_DY] = 0;\n  }\n\n  // If outbound attraction distribution, compensate\n  if (options.outboundAttractionDistribution) {\n    outboundAttCompensation = 0;\n    for (n = 0; n < order; n += PPN) {\n      outboundAttCompensation += NodeMatrix[n + NODE_MASS];\n    }\n\n    outboundAttCompensation /= order / PPN;\n  }\n\n  // 1.bis) Barnes-Hut computation\n  //------------------------------\n\n  if (options.barnesHutOptimize) {\n    // Setting up\n    var minX = Infinity,\n      maxX = -Infinity,\n      minY = Infinity,\n      maxY = -Infinity,\n      q,\n      q2,\n      subdivisionAttempts;\n\n    // Computing min and max values\n    for (n = 0; n < order; n += PPN) {\n      minX = Math.min(minX, NodeMatrix[n + NODE_X]);\n      maxX = Math.max(maxX, NodeMatrix[n + NODE_X]);\n      minY = Math.min(minY, NodeMatrix[n + NODE_Y]);\n      maxY = Math.max(maxY, NodeMatrix[n + NODE_Y]);\n    }\n\n    // squarify bounds, it's a quadtree\n    var dx = maxX - minX,\n      dy = maxY - minY;\n    if (dx > dy) {\n      minY -= (dx - dy) / 2;\n      maxY = minY + dx;\n    } else {\n      minX -= (dy - dx) / 2;\n      maxX = minX + dy;\n    }\n\n    // Build the Barnes Hut root region\n    RegionMatrix[0 + REGION_NODE] = -1;\n    RegionMatrix[0 + REGION_CENTER_X] = (minX + maxX) / 2;\n    RegionMatrix[0 + REGION_CENTER_Y] = (minY + maxY) / 2;\n    RegionMatrix[0 + REGION_SIZE] = Math.max(maxX - minX, maxY - minY);\n    RegionMatrix[0 + REGION_NEXT_SIBLING] = -1;\n    RegionMatrix[0 + REGION_FIRST_CHILD] = -1;\n    RegionMatrix[0 + REGION_MASS] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_X] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_Y] = 0;\n\n    // Add each node in the tree\n    l = 1;\n    for (n = 0; n < order; n += PPN) {\n      // Current region, starting with root\n      r = 0;\n      subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n\n      while (true) {\n        // Are there sub-regions?\n\n        // We look at first child index\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // There are sub-regions\n\n          // We just iterate to find a \"leaf\" of the tree\n          // that is an empty region or a region with a single node\n          // (see next case)\n\n          // Find the quadrant of n\n          if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD];\n            } else {\n              // Bottom Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n            }\n          } else {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n            } else {\n              // Bottom Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n            }\n          }\n\n          // Update center of mass and mass (we only do it for non-leave regions)\n          RegionMatrix[r + REGION_MASS_CENTER_X] =\n            (RegionMatrix[r + REGION_MASS_CENTER_X] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_X] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS_CENTER_Y] =\n            (RegionMatrix[r + REGION_MASS_CENTER_Y] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_Y] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS] += NodeMatrix[n + NODE_MASS];\n\n          // Iterate on the right quadrant\n          r = q;\n          continue;\n        } else {\n          // There are no sub-regions: we are in a \"leaf\"\n\n          // Is there a node in this leave?\n          if (RegionMatrix[r + REGION_NODE] < 0) {\n            // There is no node in region:\n            // we record node n and go on\n            RegionMatrix[r + REGION_NODE] = n;\n            break;\n          } else {\n            // There is a node in this region\n\n            // We will need to create sub-regions, stick the two\n            // nodes (the old one r[0] and the new one n) in two\n            // subregions. If they fall in the same quadrant,\n            // we will iterate.\n\n            // Create sub-regions\n            RegionMatrix[r + REGION_FIRST_CHILD] = l * PPR;\n            w = RegionMatrix[r + REGION_SIZE] / 2; // new size (half)\n\n            // NOTE: we use screen coordinates\n            // from Top Left to Bottom Right\n\n            // Top Left sub-region\n            g = RegionMatrix[r + REGION_FIRST_CHILD];\n\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Left sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Top Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] =\n              RegionMatrix[r + REGION_NEXT_SIBLING];\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            l += 4;\n\n            // Now the goal is to find two different sub-regions\n            // for the two nodes: the one previously recorded (r[0])\n            // and the one we want to add (n)\n\n            // Find the quadrant of the old node\n            if (\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X] <\n              RegionMatrix[r + REGION_CENTER_X]\n            ) {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            // We remove r[0] from the region r, add its mass to r and record it in q\n            RegionMatrix[r + REGION_MASS] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS];\n            RegionMatrix[r + REGION_MASS_CENTER_X] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            RegionMatrix[r + REGION_MASS_CENTER_Y] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            RegionMatrix[q + REGION_NODE] = RegionMatrix[r + REGION_NODE];\n            RegionMatrix[r + REGION_NODE] = -1;\n\n            // Find the quadrant of n\n            if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            if (q === q2) {\n              // If both nodes are in the same quadrant,\n              // we have to try it again on this quadrant\n              if (subdivisionAttempts--) {\n                r = q;\n                continue; // while\n              } else {\n                // we are out of precision here, and we cannot subdivide anymore\n                // but we have to break the loop anyway\n                subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n                break; // while\n              }\n            }\n\n            // If both quadrants are different, we record n\n            // in its quadrant\n            RegionMatrix[q2 + REGION_NODE] = n;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  // 2) Repulsion\n  //--------------\n  // NOTES: adjustSizes = antiCollision & scalingRatio = coefficient\n\n  if (options.barnesHutOptimize) {\n    coefficient = options.scalingRatio;\n\n    // Applying repulsion through regions\n    for (n = 0; n < order; n += PPN) {\n      // Computing leaf quad nodes iteration\n\n      r = 0; // Starting with root region\n      while (true) {\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // The region has sub-regions\n\n          // We run the Barnes Hut test to see if we are at the right distance\n          distance =\n            Math.pow(\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X],\n              2\n            ) +\n            Math.pow(\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y],\n              2\n            );\n\n          s = RegionMatrix[r + REGION_SIZE];\n\n          if ((4 * s * s) / distance < thetaSquared) {\n            // We treat the region as a single body, and we repulse\n\n            xDist =\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X];\n            yDist =\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y];\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n            // When this is done, we iterate. We have to look at the next sibling.\n            r = RegionMatrix[r + REGION_NEXT_SIBLING];\n            if (r < 0) break; // No next sibling: we have finished the tree\n\n            continue;\n          } else {\n            // The region is too close and we have to look at sub-regions\n            r = RegionMatrix[r + REGION_FIRST_CHILD];\n            continue;\n          }\n        } else {\n          // The region has no sub-region\n          // If there is a node r[0] and it is not n, then repulse\n          rn = RegionMatrix[r + REGION_NODE];\n\n          if (rn >= 0 && rn !== n) {\n            xDist = NodeMatrix[n + NODE_X] - NodeMatrix[rn + NODE_X];\n            yDist = NodeMatrix[n + NODE_Y] - NodeMatrix[rn + NODE_Y];\n\n            distance = xDist * xDist + yDist * yDist;\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n          }\n\n          // When this is done, we iterate. We have to look at the next sibling.\n          r = RegionMatrix[r + REGION_NEXT_SIBLING];\n\n          if (r < 0) break; // No next sibling: we have finished the tree\n\n          continue;\n        }\n      }\n    }\n  } else {\n    coefficient = options.scalingRatio;\n\n    // Square iteration\n    for (n1 = 0; n1 < order; n1 += PPN) {\n      for (n2 = 0; n2 < n1; n2 += PPN) {\n        // Common to both methods\n        xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n        yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n        if (adjustSizes === true) {\n          //-- Anticollision Linear Repulsion\n          distance =\n            Math.sqrt(xDist * xDist + yDist * yDist) -\n            NodeMatrix[n1 + NODE_SIZE] -\n            NodeMatrix[n2 + NODE_SIZE];\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] += xDist * factor;\n            NodeMatrix[n2 + NODE_DY] += yDist * factor;\n          } else if (distance < 0) {\n            factor =\n              100 *\n              coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS];\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        } else {\n          //-- Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n      }\n    }\n  }\n\n  // 3) Gravity\n  //------------\n  g = options.gravity / options.scalingRatio;\n  coefficient = options.scalingRatio;\n  for (n = 0; n < order; n += PPN) {\n    factor = 0;\n\n    // Common to both methods\n    xDist = NodeMatrix[n + NODE_X];\n    yDist = NodeMatrix[n + NODE_Y];\n    distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n    if (options.strongGravityMode) {\n      //-- Strong gravity\n      if (distance > 0) factor = coefficient * NodeMatrix[n + NODE_MASS] * g;\n    } else {\n      //-- Linear Anti-collision Repulsion n\n      if (distance > 0)\n        factor = (coefficient * NodeMatrix[n + NODE_MASS] * g) / distance;\n    }\n\n    // Updating node's dx and dy\n    NodeMatrix[n + NODE_DX] -= xDist * factor;\n    NodeMatrix[n + NODE_DY] -= yDist * factor;\n  }\n\n  // 4) Attraction\n  //---------------\n  coefficient =\n    1 * (options.outboundAttractionDistribution ? outboundAttCompensation : 1);\n\n  // TODO: simplify distance\n  // TODO: coefficient is always used as -c --> optimize?\n  for (e = 0; e < size; e += PPE) {\n    n1 = EdgeMatrix[e + EDGE_SOURCE];\n    n2 = EdgeMatrix[e + EDGE_TARGET];\n    w = EdgeMatrix[e + EDGE_WEIGHT];\n\n    // Edge weight influence\n    ewc = Math.pow(w, options.edgeWeightInfluence);\n\n    // Common measures\n    xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n    yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n    // Applying attraction to nodes\n    if (adjustSizes === true) {\n      distance =\n        Math.sqrt(xDist * xDist + yDist * yDist) -\n        NodeMatrix[n1 + NODE_SIZE] -\n        NodeMatrix[n2 + NODE_SIZE];\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n          }\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- Linear Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc;\n          }\n        }\n      }\n    } else {\n      distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Attraction\n          if (distance > 0)\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Attraction Mass Distributed\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n        } else {\n          //-- Linear Attraction\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc;\n        }\n      }\n    }\n\n    // Updating nodes' dx and dy\n    // TODO: if condition or factor = 1?\n    if (distance > 0) {\n      // Updating nodes' dx and dy\n      NodeMatrix[n1 + NODE_DX] += xDist * factor;\n      NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n      NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n      NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n    }\n  }\n\n  // 5) Apply Forces\n  //-----------------\n  var force, swinging, traction, nodespeed, newX, newY;\n\n  // MATH: sqrt and square distances\n  if (adjustSizes === true) {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        force = Math.sqrt(\n          Math.pow(NodeMatrix[n + NODE_DX], 2) +\n            Math.pow(NodeMatrix[n + NODE_DY], 2)\n        );\n\n        if (force > MAX_FORCE) {\n          NodeMatrix[n + NODE_DX] =\n            (NodeMatrix[n + NODE_DX] * MAX_FORCE) / force;\n          NodeMatrix[n + NODE_DY] =\n            (NodeMatrix[n + NODE_DY] * MAX_FORCE) / force;\n        }\n\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed = (0.1 * Math.log(1 + traction)) / (1 + Math.sqrt(swinging));\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  } else {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed =\n          (NodeMatrix[n + NODE_CONVERGENCE] * Math.log(1 + traction)) /\n          (1 + Math.sqrt(swinging));\n\n        // Updating node convergence\n        NodeMatrix[n + NODE_CONVERGENCE] = Math.min(\n          1,\n          Math.sqrt(\n            (nodespeed *\n              (Math.pow(NodeMatrix[n + NODE_DX], 2) +\n                Math.pow(NodeMatrix[n + NODE_DY], 2))) /\n              (1 + Math.sqrt(swinging))\n          )\n        );\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  }\n\n  // We return the information about the layout (no need to return the matrices)\n  return {};\n};\n\n  })();\n\n  var iterate = moduleShim.exports;\n\n  self.addEventListener('message', function (event) {\n    var data = event.data;\n\n    NODES = new Float32Array(data.nodes);\n\n    if (data.edges) EDGES = new Float32Array(data.edges);\n\n    // Running the iteration\n    iterate(data.settings, NODES, EDGES);\n\n    // Sending result to supervisor\n    self.postMessage(\n      {\n        nodes: NODES.buffer\n      },\n      [NODES.buffer]\n    );\n  });\n};\n\n","/**\n * Graphology ForceAtlas2 Layout Supervisor\n * =========================================\n *\n * Supervisor class able to spawn a web worker to run the FA2 layout in a\n * separate thread not to block UI with heavy synchronous computations.\n */\nvar workerFunction = require('./webworker.js');\nvar isGraph = require('graphology-utils/is-graph');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\nvar helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\n\n/**\n * Class representing a FA2 layout run by a webworker.\n *\n * @constructor\n * @param  {Graph}         graph        - Target graph.\n * @param  {object|number} params       - Parameters:\n * @param  {object}          [settings] - Settings.\n */\nfunction FA2LayoutSupervisor(graph, params) {\n  params = params || {};\n\n  // Validation\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.'\n    );\n\n  var getEdgeWeight = createEdgeWeightGetter(params.getEdgeWeight).fromEntry;\n\n  // Validating settings\n  var settings = helpers.assign({}, DEFAULT_SETTINGS, params.settings);\n  var validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error(\n      'graphology-layout-forceatlas2/worker: ' + validationError.message\n    );\n\n  // Properties\n  this.worker = null;\n  this.graph = graph;\n  this.settings = settings;\n  this.getEdgeWeight = getEdgeWeight;\n  this.matrices = null;\n  this.running = false;\n  this.killed = false;\n  this.outputReducer =\n    typeof params.outputReducer === 'function' ? params.outputReducer : null;\n\n  // Binding listeners\n  this.handleMessage = this.handleMessage.bind(this);\n\n  var respawnFrame = undefined;\n  var self = this;\n\n  this.handleGraphUpdate = function () {\n    if (self.worker) self.worker.terminate();\n\n    if (respawnFrame) clearTimeout(respawnFrame);\n\n    respawnFrame = setTimeout(function () {\n      respawnFrame = undefined;\n      self.spawnWorker();\n    }, 0);\n  };\n\n  graph.on('nodeAdded', this.handleGraphUpdate);\n  graph.on('edgeAdded', this.handleGraphUpdate);\n  graph.on('nodeDropped', this.handleGraphUpdate);\n  graph.on('edgeDropped', this.handleGraphUpdate);\n\n  // Spawning worker\n  this.spawnWorker();\n}\n\nFA2LayoutSupervisor.prototype.isRunning = function () {\n  return this.running;\n};\n\n/**\n * Internal method used to spawn the web worker.\n */\nFA2LayoutSupervisor.prototype.spawnWorker = function () {\n  if (this.worker) this.worker.terminate();\n\n  this.worker = helpers.createWorker(workerFunction);\n  this.worker.addEventListener('message', this.handleMessage);\n\n  if (this.running) {\n    this.running = false;\n    this.start();\n  }\n};\n\n/**\n * Internal method used to handle the worker's messages.\n *\n * @param {object} event - Event to handle.\n */\nFA2LayoutSupervisor.prototype.handleMessage = function (event) {\n  if (!this.running) return;\n\n  var matrix = new Float32Array(event.data.nodes);\n\n  helpers.assignLayoutChanges(this.graph, matrix, this.outputReducer);\n  if (this.outputReducer) helpers.readGraphPositions(this.graph, matrix);\n  this.matrices.nodes = matrix;\n\n  // Looping\n  this.askForIterations();\n};\n\n/**\n * Internal method used to ask for iterations from the worker.\n *\n * @param  {boolean} withEdges - Should we send edges along?\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.askForIterations = function (withEdges) {\n  var matrices = this.matrices;\n\n  var payload = {\n    settings: this.settings,\n    nodes: matrices.nodes.buffer\n  };\n\n  var buffers = [matrices.nodes.buffer];\n\n  if (withEdges) {\n    payload.edges = matrices.edges.buffer;\n    buffers.push(matrices.edges.buffer);\n  }\n\n  this.worker.postMessage(payload, buffers);\n\n  return this;\n};\n\n/**\n * Method used to start the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.start = function () {\n  if (this.killed)\n    throw new Error(\n      'graphology-layout-forceatlas2/worker.start: layout was killed.'\n    );\n\n  if (this.running) return this;\n\n  // Building matrices\n  this.matrices = helpers.graphToByteArrays(this.graph, this.getEdgeWeight);\n\n  this.running = true;\n  this.askForIterations(true);\n\n  return this;\n};\n\n/**\n * Method used to stop the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.stop = function () {\n  this.running = false;\n\n  return this;\n};\n\n/**\n * Method used to kill the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.kill = function () {\n  if (this.killed) return this;\n\n  this.running = false;\n  this.killed = true;\n\n  // Clearing memory\n  this.matrices = null;\n\n  // Terminating worker\n  this.worker.terminate();\n\n  // Unbinding listeners\n  this.graph.removeListener('nodeAdded', this.handleGraphUpdate);\n  this.graph.removeListener('edgeAdded', this.handleGraphUpdate);\n  this.graph.removeListener('nodeDropped', this.handleGraphUpdate);\n  this.graph.removeListener('edgeDropped', this.handleGraphUpdate);\n};\n\n/**\n * Exporting.\n */\nmodule.exports = FA2LayoutSupervisor;\n","/**\n * Graphology Noverlap Layout Default Settings\n * ============================================\n */\nmodule.exports = {\n  gridSize: 20,\n  margin: 5,\n  expansion: 1.1,\n  ratio: 1.0,\n  speed: 3\n};\n","/**\n * Graphology Noverlap Helpers\n * ============================\n *\n * Miscellaneous helper functions.\n */\n\n/**\n * Constants.\n */\nvar PPN = 3;\n\n/**\n * Function used to validate the given settings.\n *\n * @param  {object}      settings - Settings to validate.\n * @return {object|null}\n */\nexports.validateSettings = function (settings) {\n  if (\n    ('gridSize' in settings && typeof settings.gridSize !== 'number') ||\n    settings.gridSize <= 0\n  )\n    return {message: 'the `gridSize` setting should be a positive number.'};\n\n  if (\n    ('margin' in settings && typeof settings.margin !== 'number') ||\n    settings.margin < 0\n  )\n    return {\n      message: 'the `margin` setting should be 0 or a positive number.'\n    };\n\n  if (\n    ('expansion' in settings && typeof settings.expansion !== 'number') ||\n    settings.expansion <= 0\n  )\n    return {message: 'the `expansion` setting should be a positive number.'};\n\n  if (\n    ('ratio' in settings && typeof settings.ratio !== 'number') ||\n    settings.ratio <= 0\n  )\n    return {message: 'the `ratio` setting should be a positive number.'};\n\n  if (\n    ('speed' in settings && typeof settings.speed !== 'number') ||\n    settings.speed <= 0\n  )\n    return {message: 'the `speed` setting should be a positive number.'};\n\n  return null;\n};\n\n/**\n * Function generating a flat matrix for the given graph's nodes.\n *\n * @param  {Graph}        graph   - Target graph.\n * @param  {function}     reducer - Node reducer function.\n * @return {Float32Array}         - The node matrix.\n */\nexports.graphToByteArray = function (graph, reducer) {\n  var order = graph.order;\n\n  var matrix = new Float32Array(order * PPN);\n\n  var j = 0;\n\n  graph.forEachNode(function (node, attr) {\n    if (typeof reducer === 'function') attr = reducer(node, attr);\n\n    matrix[j] = attr.x;\n    matrix[j + 1] = attr.y;\n    matrix[j + 2] = attr.size || 1;\n    j += PPN;\n  });\n\n  return matrix;\n};\n\n/**\n * Function applying the layout back to the graph.\n *\n * @param {Graph}        graph      - Target graph.\n * @param {Float32Array} NodeMatrix - Node matrix.\n * @param {function}     reducer    - Reducing function.\n */\nexports.assignLayoutChanges = function (graph, NodeMatrix, reducer) {\n  var i = 0;\n\n  graph.forEachNode(function (node) {\n    var pos = {\n      x: NodeMatrix[i],\n      y: NodeMatrix[i + 1]\n    };\n\n    if (typeof reducer === 'function') pos = reducer(node, pos);\n\n    graph.mergeNodeAttributes(node, pos);\n\n    i += PPN;\n  });\n};\n\n/**\n * Function collecting the layout positions.\n *\n * @param  {Graph}        graph      - Target graph.\n * @param  {Float32Array} NodeMatrix - Node matrix.\n * @param  {function}     reducer    - Reducing function.\n * @return {object}                  - Map to node positions.\n */\nexports.collectLayoutChanges = function (graph, NodeMatrix, reducer) {\n  var positions = {};\n\n  var i = 0;\n\n  graph.forEachNode(function (node) {\n    var pos = {\n      x: NodeMatrix[i],\n      y: NodeMatrix[i + 1]\n    };\n\n    if (typeof reducer === 'function') pos = reducer(node, pos);\n\n    positions[node] = pos;\n\n    i += PPN;\n  });\n\n  return positions;\n};\n\n/**\n * Function returning a web worker from the given function.\n *\n * @param  {function}  fn - Function for the worker.\n * @return {DOMString}\n */\nexports.createWorker = function createWorker(fn) {\n  var xURL = window.URL || window.webkitURL;\n  var code = fn.toString();\n  var objectUrl = xURL.createObjectURL(\n    new Blob(['(' + code + ').call(this);'], {type: 'text/javascript'})\n  );\n  var worker = new Worker(objectUrl);\n  xURL.revokeObjectURL(objectUrl);\n\n  return worker;\n};\n","/**\n * Graphology Noverlap Layout\n * ===========================\n *\n * Library endpoint.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar iterate = require('./iterate.js');\nvar helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\nvar DEFAULT_MAX_ITERATIONS = 500;\n\n/**\n * Asbtract function used to run a certain number of iterations.\n *\n * @param  {boolean}       assign       - Whether to assign positions.\n * @param  {Graph}         graph        - Target graph.\n * @param  {object|number} params       - If number, params.maxIterations, else:\n * @param  {number}          maxIterations - Maximum number of iterations.\n * @param  {object}          [settings] - Settings.\n * @return {object|undefined}\n */\nfunction abstractSynchronousLayout(assign, graph, params) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-noverlap: the given graph is not a valid graphology instance.'\n    );\n\n  if (typeof params === 'number') params = {maxIterations: params};\n  else params = params || {};\n\n  var maxIterations = params.maxIterations || DEFAULT_MAX_ITERATIONS;\n\n  if (typeof maxIterations !== 'number' || maxIterations <= 0)\n    throw new Error(\n      'graphology-layout-force: you should provide a positive number of maximum iterations.'\n    );\n\n  // Validating settings\n  var settings = Object.assign({}, DEFAULT_SETTINGS, params.settings),\n    validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error('graphology-layout-noverlap: ' + validationError.message);\n\n  // Building matrices\n  var matrix = helpers.graphToByteArray(graph, params.inputReducer),\n    converged = false,\n    i;\n\n  // Iterating\n  for (i = 0; i < maxIterations && !converged; i++)\n    converged = iterate(settings, matrix).converged;\n\n  // Applying\n  if (assign) {\n    helpers.assignLayoutChanges(graph, matrix, params.outputReducer);\n    return;\n  }\n\n  return helpers.collectLayoutChanges(graph, matrix, params.outputReducer);\n}\n\n/**\n * Exporting.\n */\nvar synchronousLayout = abstractSynchronousLayout.bind(null, false);\nsynchronousLayout.assign = abstractSynchronousLayout.bind(null, true);\n\nmodule.exports = synchronousLayout;\n","/**\n * Graphology Noverlap Iteration\n * ==============================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0,\n  NODE_Y = 1,\n  NODE_SIZE = 2;\n\n/**\n * Constants.\n */\nvar PPN = 3;\n\n/**\n * Helpers.\n */\nfunction hashPair(a, b) {\n  return a + '' + b;\n}\n\nfunction jitter() {\n  return 0.01 * (0.5 - Math.random());\n}\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @return {object}                  - Some metadata.\n */\nmodule.exports = function iterate(options, NodeMatrix) {\n  // Caching options\n  var margin = options.margin;\n  var ratio = options.ratio;\n  var expansion = options.expansion;\n  var gridSize = options.gridSize; // TODO: decrease grid size when few nodes?\n  var speed = options.speed;\n\n  // Generic iteration variables\n  var i, j, x, y, l, size;\n  var converged = true;\n\n  var length = NodeMatrix.length;\n  var order = (length / PPN) | 0;\n\n  var deltaX = new Float32Array(order);\n  var deltaY = new Float32Array(order);\n\n  // Finding the extents of our space\n  var xMin = Infinity;\n  var yMin = Infinity;\n  var xMax = -Infinity;\n  var yMax = -Infinity;\n\n  for (i = 0; i < length; i += PPN) {\n    x = NodeMatrix[i + NODE_X];\n    y = NodeMatrix[i + NODE_Y];\n    size = NodeMatrix[i + NODE_SIZE] * ratio + margin;\n\n    xMin = Math.min(xMin, x - size);\n    xMax = Math.max(xMax, x + size);\n    yMin = Math.min(yMin, y - size);\n    yMax = Math.max(yMax, y + size);\n  }\n\n  var width = xMax - xMin;\n  var height = yMax - yMin;\n  var xCenter = (xMin + xMax) / 2;\n  var yCenter = (yMin + yMax) / 2;\n\n  xMin = xCenter - (expansion * width) / 2;\n  xMax = xCenter + (expansion * width) / 2;\n  yMin = yCenter - (expansion * height) / 2;\n  yMax = yCenter + (expansion * height) / 2;\n\n  // Building grid\n  var grid = new Array(gridSize * gridSize),\n    gridLength = grid.length,\n    c;\n\n  for (c = 0; c < gridLength; c++) grid[c] = [];\n\n  var nxMin, nxMax, nyMin, nyMax;\n  var xMinBox, xMaxBox, yMinBox, yMaxBox;\n\n  var col, row;\n\n  for (i = 0; i < length; i += PPN) {\n    x = NodeMatrix[i + NODE_X];\n    y = NodeMatrix[i + NODE_Y];\n    size = NodeMatrix[i + NODE_SIZE] * ratio + margin;\n\n    nxMin = x - size;\n    nxMax = x + size;\n    nyMin = y - size;\n    nyMax = y + size;\n\n    xMinBox = Math.floor((gridSize * (nxMin - xMin)) / (xMax - xMin));\n    xMaxBox = Math.floor((gridSize * (nxMax - xMin)) / (xMax - xMin));\n    yMinBox = Math.floor((gridSize * (nyMin - yMin)) / (yMax - yMin));\n    yMaxBox = Math.floor((gridSize * (nyMax - yMin)) / (yMax - yMin));\n\n    for (col = xMinBox; col <= xMaxBox; col++) {\n      for (row = yMinBox; row <= yMaxBox; row++) {\n        grid[col * gridSize + row].push(i);\n      }\n    }\n  }\n\n  // Computing collisions\n  var cell;\n\n  var collisions = new Set();\n\n  var n1, n2, x1, x2, y1, y2, s1, s2, h;\n\n  var xDist, yDist, dist, collision;\n\n  for (c = 0; c < gridLength; c++) {\n    cell = grid[c];\n\n    for (i = 0, l = cell.length; i < l; i++) {\n      n1 = cell[i];\n\n      x1 = NodeMatrix[n1 + NODE_X];\n      y1 = NodeMatrix[n1 + NODE_Y];\n      s1 = NodeMatrix[n1 + NODE_SIZE];\n\n      for (j = i + 1; j < l; j++) {\n        n2 = cell[j];\n        h = hashPair(n1, n2);\n\n        if (gridLength > 1 && collisions.has(h)) continue;\n\n        if (gridLength > 1) collisions.add(h);\n\n        x2 = NodeMatrix[n2 + NODE_X];\n        y2 = NodeMatrix[n2 + NODE_Y];\n        s2 = NodeMatrix[n2 + NODE_SIZE];\n\n        xDist = x2 - x1;\n        yDist = y2 - y1;\n        dist = Math.sqrt(xDist * xDist + yDist * yDist);\n        collision = dist < s1 * ratio + margin + (s2 * ratio + margin);\n\n        if (collision) {\n          converged = false;\n\n          n2 = (n2 / PPN) | 0;\n\n          if (dist > 0) {\n            deltaX[n2] += (xDist / dist) * (1 + s1);\n            deltaY[n2] += (yDist / dist) * (1 + s1);\n          } else {\n            // Nodes are on the exact same spot, we need to jitter a bit\n            deltaX[n2] += width * jitter();\n            deltaY[n2] += height * jitter();\n          }\n        }\n      }\n    }\n  }\n\n  for (i = 0, j = 0; i < length; i += PPN, j++) {\n    NodeMatrix[i + NODE_X] += deltaX[j] * 0.1 * speed;\n    NodeMatrix[i + NODE_Y] += deltaY[j] * 0.1 * speed;\n  }\n\n  return {converged: converged};\n};\n","/**\n * Graphology CirclePack Layout\n * =============================\n *\n * Circlepack layout from d3-hierarchy/gephi.\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\nvar shuffle = require('pandemonium/shuffle-in-place');\n\n/**\n * Default options.\n */\nvar DEFAULTS = {\n  attributes: {\n    x: 'x',\n    y: 'y'\n  },\n  center: 0,\n  hierarchyAttributes: [],\n  rng: Math.random,\n  scale: 1\n};\n\n/**\n * Helpers.\n */\nfunction CircleWrap(id, x, y, r, circleWrap) {\n  this.wrappedCircle = circleWrap || null; //hacky d3 reference thing\n\n  this.children = {};\n  this.countChildren = 0;\n  this.id = id || null;\n  this.next = null;\n  this.previous = null;\n\n  this.x = x || null;\n  this.y = y || null;\n  if (circleWrap) this.r = 1010101;\n  // for debugging purposes - should not be used in this case\n  else this.r = r || 999;\n}\n\nCircleWrap.prototype.hasChildren = function () {\n  return this.countChildren > 0;\n};\n\nCircleWrap.prototype.addChild = function (id, child) {\n  this.children[id] = child;\n  ++this.countChildren;\n};\n\nCircleWrap.prototype.getChild = function (id) {\n  if (!this.children.hasOwnProperty(id)) {\n    var circleWrap = new CircleWrap();\n    this.children[id] = circleWrap;\n    ++this.countChildren;\n  }\n  return this.children[id];\n};\n\nCircleWrap.prototype.applyPositionToChildren = function () {\n  if (this.hasChildren()) {\n    var root = this; // using 'this' in Object.keys.forEach seems a bad idea\n    for (var key in root.children) {\n      var child = root.children[key];\n      child.x += root.x;\n      child.y += root.y;\n      child.applyPositionToChildren();\n    }\n  }\n};\n\nfunction setNode(/*Graph*/ graph, /*CircleWrap*/ parentCircle, /*Map*/ posMap) {\n  for (var key in parentCircle.children) {\n    var circle = parentCircle.children[key];\n    if (circle.hasChildren()) {\n      setNode(graph, circle, posMap);\n    } else {\n      posMap[circle.id] = {x: circle.x, y: circle.y};\n    }\n  }\n}\n\nfunction enclosesNot(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var dr = a.r - b.r;\n  var dx = b.x - a.x;\n  var dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var dr = a.r - b.r + 1e-6;\n  var dx = b.x - a.x;\n  var dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(/*CircleWrap*/ a, /*Array<CircleWrap>*/ B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis1(/*CircleWrap*/ a) {\n  return new CircleWrap(null, a.x, a.y, a.r);\n}\n\nfunction encloseBasis2(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var x1 = a.x,\n    y1 = a.y,\n    r1 = a.r,\n    x2 = b.x,\n    y2 = b.y,\n    r2 = b.r,\n    x21 = x2 - x1,\n    y21 = y2 - y1,\n    r21 = r2 - r1,\n    l = Math.sqrt(x21 * x21 + y21 * y21);\n  return new CircleWrap(\n    null,\n    (x1 + x2 + (x21 / l) * r21) / 2,\n    (y1 + y2 + (y21 / l) * r21) / 2,\n    (l + r1 + r2) / 2\n  );\n}\n\nfunction encloseBasis3(/*CircleWrap*/ a, /*CircleWrap*/ b, /*CircleWrap*/ c) {\n  var x1 = a.x,\n    y1 = a.y,\n    r1 = a.r,\n    x2 = b.x,\n    y2 = b.y,\n    r2 = b.r,\n    x3 = c.x,\n    y3 = c.y,\n    r3 = c.r,\n    a2 = x1 - x2,\n    a3 = x1 - x3,\n    b2 = y1 - y2,\n    b3 = y1 - y3,\n    c2 = r2 - r1,\n    c3 = r3 - r1,\n    d1 = x1 * x1 + y1 * y1 - r1 * r1,\n    d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n    d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n    ab = a3 * b2 - a2 * b3,\n    xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n    xb = (b3 * c2 - b2 * c3) / ab,\n    ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n    yb = (a2 * c3 - a3 * c2) / ab,\n    A = xb * xb + yb * yb - 1,\n    B = 2 * (r1 + xa * xb + ya * yb),\n    C = xa * xa + ya * ya - r1 * r1,\n    r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return new CircleWrap(null, x1 + xa + xb * r, y1 + ya + yb * r, r);\n}\n\nfunction encloseBasis(/*Array<CircleWrap>*/ B) {\n  switch (B.length) {\n    case 1:\n      return encloseBasis1(B[0]);\n    case 2:\n      return encloseBasis2(B[0], B[1]);\n    case 3:\n      return encloseBasis3(B[0], B[1], B[2]);\n    default:\n      throw new Error(\n        'graphology-layout/circlepack: Invalid basis length ' + B.length\n      );\n  }\n}\n\nfunction extendBasis(/*Array<CircleWrap>*/ B, /*CircleWrap*/ p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i]) && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (\n        enclosesNot(encloseBasis2(B[i], B[j]), p) &&\n        enclosesNot(encloseBasis2(B[i], p), B[j]) &&\n        enclosesNot(encloseBasis2(B[j], p), B[i]) &&\n        enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)\n      ) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error('graphology-layout/circlepack: extendBasis failure !');\n}\n\nfunction score(/*CircleWrap*/ node) {\n  var a = node.wrappedCircle;\n  var b = node.next.wrappedCircle;\n  var ab = a.r + b.r;\n  var dx = (a.x * b.r + b.x * a.r) / ab;\n  var dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction enclose(circles, shuffleFunc) {\n  var i = 0;\n  var circlesLoc = circles.slice();\n\n  var n = circles.length;\n  var B = [];\n  var p;\n  var e;\n  shuffleFunc(circlesLoc);\n  while (i < n) {\n    p = circlesLoc[i];\n    if (e && enclosesWeak(e, p)) {\n      ++i;\n    } else {\n      B = extendBasis(B, p);\n      e = encloseBasis(B);\n      i = 0;\n    }\n  }\n  return e;\n}\n\nfunction place(/*CircleWrap*/ b, /*CircleWrap*/ a, /*CircleWrap*/ c) {\n  var dx = b.x - a.x,\n    x,\n    a2,\n    dy = b.y - a.y,\n    y,\n    b2,\n    d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r;\n    a2 *= a2;\n    b2 = b.r + c.r;\n    b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var dr = a.r + b.r - 1e-6,\n    dx = b.x - a.x,\n    dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction packEnclose(/*Array<CircleWrap>*/ circles, shuffleFunc) {\n  var n = circles.length;\n  if (n === 0) return 0;\n\n  var a, b, c, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0];\n  a.x = 0;\n  a.y = 0;\n  if (n <= 1) return a.r;\n\n  // Place the second circle.\n  b = circles[1];\n  a.x = -b.r;\n  b.x = a.r;\n  b.y = 0;\n  if (n <= 2) return a.r + b.r;\n\n  // Place the third circle.\n  c = circles[2];\n  place(b, a, c);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new CircleWrap(null, null, null, null, a);\n  b = new CircleWrap(null, null, null, null, b);\n  c = new CircleWrap(null, null, null, null, c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    c = circles[i];\n    place(a.wrappedCircle, b.wrappedCircle, c);\n    c = new CircleWrap(null, null, null, null, c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next;\n    k = a.previous;\n    sj = b.wrappedCircle.r;\n    sk = a.wrappedCircle.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j.wrappedCircle, c.wrappedCircle)) {\n          b = j;\n          a.next = b;\n          b.previous = a;\n          --i;\n          continue pack;\n        }\n        sj += j.wrappedCircle.r;\n        j = j.next;\n      } else {\n        if (intersects(k.wrappedCircle, c.wrappedCircle)) {\n          a = k;\n          a.next = b;\n          b.previous = a;\n          --i;\n          continue pack;\n        }\n        sk += k.wrappedCircle.r;\n        k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a;\n    c.next = b;\n    a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c;\n        aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b.wrappedCircle];\n  c = b;\n  var safety = 10000;\n  while ((c = c.next) !== b) {\n    if (--safety === 0) {\n      break;\n    }\n    a.push(c.wrappedCircle);\n  }\n  c = enclose(a, shuffleFunc);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) {\n    a = circles[i];\n    a.x -= c.x;\n    a.y -= c.y;\n  }\n  return c.r;\n}\n\nfunction packHierarchy(/*CircleWrap*/ parentCircle, shuffleFunc) {\n  var r = 0;\n  if (parentCircle.hasChildren()) {\n    //pack the children first because the radius is determined by how the children get packed (recursive)\n    for (var key in parentCircle.children) {\n      var circle = parentCircle.children[key];\n      if (circle.hasChildren()) {\n        circle.r = packHierarchy(circle, shuffleFunc);\n      }\n    }\n    //now that each circle has a radius set by its children, pack the circles at this level\n    r = packEnclose(Object.values(parentCircle.children), shuffleFunc);\n  }\n  return r;\n}\n\nfunction packHierarchyAndShift(/*CircleWrap*/ parentCircle, shuffleFunc) {\n  packHierarchy(parentCircle, shuffleFunc);\n  for (var key in parentCircle.children) {\n    var circle = parentCircle.children[key];\n    circle.applyPositionToChildren();\n  }\n}\n\n/**\n * Abstract function running the layout.\n *\n * @param  {Graph}    graph                   - Target  graph.\n * @param  {object}   [options]               - Options:\n * @param  {object}     [attributes]          - Attributes names to map.\n * @param  {number}     [center]              - Center of the layout.\n * @param  {string[]}   [hierarchyAttributes] - List of attributes used for the layout in decreasing order.\n * @param  {function}   [rng]                 - Custom RNG function to be used.\n * @param  {number}     [scale]               - Scale of the layout.\n * @return {object}                           - The positions by node.\n */\nfunction genericCirclePackLayout(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/circlepack: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  var posMap = {},\n    positions = {},\n    nodes = graph.nodes(),\n    center = options.center,\n    hierarchyAttributes = options.hierarchyAttributes,\n    shuffleFunc = shuffle.createShuffleInPlace(options.rng),\n    scale = options.scale;\n\n  var container = new CircleWrap();\n\n  graph.forEachNode(function (key, attributes) {\n    var r = attributes.size ? attributes.size : 1;\n    var newCircleWrap = new CircleWrap(key, null, null, r);\n    var parentContainer = container;\n\n    hierarchyAttributes.forEach(function (v) {\n      var attr = attributes[v];\n      parentContainer = parentContainer.getChild(attr);\n    });\n\n    parentContainer.addChild(key, newCircleWrap);\n  });\n  packHierarchyAndShift(container, shuffleFunc);\n  setNode(graph, container, posMap);\n  var l = nodes.length,\n    x,\n    y,\n    i;\n  for (i = 0; i < l; i++) {\n    var node = nodes[i];\n\n    x = center + scale * posMap[node].x;\n    y = center + scale * posMap[node].y;\n\n    positions[node] = {\n      x: x,\n      y: y\n    };\n\n    if (assign) {\n      graph.setNodeAttribute(node, options.attributes.x, x);\n      graph.setNodeAttribute(node, options.attributes.y, y);\n    }\n  }\n  return positions;\n}\n\nvar circlePackLayout = genericCirclePackLayout.bind(null, false);\ncirclePackLayout.assign = genericCirclePackLayout.bind(null, true);\n\nmodule.exports = circlePackLayout;\n","/**\n * Graphology Circular Layout\n * ===========================\n *\n * Layout arranging the nodes in a circle.\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\n\n/**\n * Default options.\n */\nvar DEFAULTS = {\n  dimensions: ['x', 'y'],\n  center: 0.5,\n  scale: 1\n};\n\n/**\n * Abstract function running the layout.\n *\n * @param  {Graph}    graph          - Target  graph.\n * @param  {object}   [options]      - Options:\n * @param  {object}     [attributes] - Attributes names to map.\n * @param  {number}     [center]     - Center of the layout.\n * @param  {number}     [scale]      - Scale of the layout.\n * @return {object}                  - The positions by node.\n */\nfunction genericCircularLayout(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/random: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  var dimensions = options.dimensions;\n\n  if (!Array.isArray(dimensions) || dimensions.length !== 2)\n    throw new Error('graphology-layout/random: given dimensions are invalid.');\n\n  var center = options.center;\n  var scale = options.scale;\n  var tau = Math.PI * 2;\n\n  var offset = (center - 0.5) * scale;\n  var l = graph.order;\n\n  var x = dimensions[0];\n  var y = dimensions[1];\n\n  function assignPosition(i, target) {\n    target[x] = scale * Math.cos((i * tau) / l) + offset;\n    target[y] = scale * Math.sin((i * tau) / l) + offset;\n\n    return target;\n  }\n\n  var i = 0;\n\n  if (!assign) {\n    var positions = {};\n\n    graph.forEachNode(function (node) {\n      positions[node] = assignPosition(i++, {});\n    });\n\n    return positions;\n  }\n\n  graph.updateEachNodeAttributes(\n    function (_, attr) {\n      assignPosition(i++, attr);\n      return attr;\n    },\n    {\n      attributes: dimensions\n    }\n  );\n}\n\nvar circularLayout = genericCircularLayout.bind(null, false);\ncircularLayout.assign = genericCircularLayout.bind(null, true);\n\nmodule.exports = circularLayout;\n","/**\n * Graphology Layout\n * ==================\n *\n * Library endpoint.\n */\nexports.circlepack = require('./circlepack.js');\nexports.circular = require('./circular.js');\nexports.random = require('./random.js');\nexports.rotation = require('./rotation.js');\n","/**\n * Pandemonium Random\n * ===================\n *\n * Random function.\n */\n\n/**\n * Creating a function returning a random integer such as a <= N <= b.\n *\n * @param  {function} rng - RNG function returning uniform random.\n * @return {function}     - The created function.\n */\nfunction createRandom(rng) {\n\n  /**\n   * Random function.\n   *\n   * @param  {number} a - From.\n   * @param  {number} b - To.\n   * @return {number}\n   */\n  return function(a, b) {\n    return a + Math.floor(rng() * (b - a + 1));\n  };\n}\n\n/**\n * Default random using `Math.random`.\n */\nvar random = createRandom(Math.random);\n\n/**\n * Exporting.\n */\nrandom.createRandom = createRandom;\nmodule.exports = random;\n","/**\n * Pandemonium Shuffle In Place\n * =============================\n *\n * Shuffle function applying the Fisher-Yates algorithm to the provided array.\n */\nvar createRandom = require('./random.js').createRandom;\n\n/**\n * Creating a function returning the given array shuffled.\n *\n * @param  {function} rng - The RNG to use.\n * @return {function}     - The created function.\n */\nfunction createShuffleInPlace(rng) {\n  var customRandom = createRandom(rng);\n\n  /**\n   * Function returning the shuffled array.\n   *\n   * @param  {array}  sequence - Target sequence.\n   * @return {array}           - The shuffled sequence.\n   */\n  return function(sequence) {\n    var length = sequence.length,\n        lastIndex = length - 1;\n\n    var index = -1;\n\n    while (++index < length) {\n      var r = customRandom(index, lastIndex),\n          value = sequence[r];\n\n      sequence[r] = sequence[index];\n      sequence[index] = value;\n    }\n  };\n}\n\n/**\n * Default shuffle in place using `Math.random`.\n */\nvar shuffleInPlace = createShuffleInPlace(Math.random);\n\n/**\n * Exporting.\n */\nshuffleInPlace.createShuffleInPlace = createShuffleInPlace;\nmodule.exports = shuffleInPlace;\n","/**\n * Graphology Random Layout\n * =========================\n *\n * Simple layout giving uniform random positions to the nodes.\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\n\n/**\n * Default options.\n */\nvar DEFAULTS = {\n  dimensions: ['x', 'y'],\n  center: 0.5,\n  rng: Math.random,\n  scale: 1\n};\n\n/**\n * Abstract function running the layout.\n *\n * @param  {Graph}    graph          - Target  graph.\n * @param  {object}   [options]      - Options:\n * @param  {array}      [dimensions] - List of dimensions of the layout.\n * @param  {number}     [center]     - Center of the layout.\n * @param  {function}   [rng]        - Custom RNG function to be used.\n * @param  {number}     [scale]      - Scale of the layout.\n * @return {object}                  - The positions by node.\n */\nfunction genericRandomLayout(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/random: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  var dimensions = options.dimensions;\n\n  if (!Array.isArray(dimensions) || dimensions.length < 1)\n    throw new Error('graphology-layout/random: given dimensions are invalid.');\n\n  var d = dimensions.length;\n  var center = options.center;\n  var rng = options.rng;\n  var scale = options.scale;\n\n  var offset = (center - 0.5) * scale;\n\n  function assignPosition(target) {\n    for (var i = 0; i < d; i++) {\n      target[dimensions[i]] = rng() * scale + offset;\n    }\n\n    return target;\n  }\n\n  if (!assign) {\n    var positions = {};\n\n    graph.forEachNode(function (node) {\n      positions[node] = assignPosition({});\n    });\n\n    return positions;\n  }\n\n  graph.updateEachNodeAttributes(\n    function (_, attr) {\n      assignPosition(attr);\n      return attr;\n    },\n    {\n      attributes: dimensions\n    }\n  );\n}\n\nvar randomLayout = genericRandomLayout.bind(null, false);\nrandomLayout.assign = genericRandomLayout.bind(null, true);\n\nmodule.exports = randomLayout;\n","/**\n * Graphology Rotation Layout Helper\n * ==================================\n *\n * Function rotating the coordinates of the graph.\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\n\n/**\n * Constants.\n */\nvar RAD_CONVERSION = Math.PI / 180;\n\n/**\n * Default options.\n */\nvar DEFAULTS = {\n  dimensions: ['x', 'y'],\n  centeredOnZero: false,\n  degrees: false\n};\n\n/**\n * Abstract function for rotating a graph's coordinates.\n *\n * @param  {Graph}    graph          - Target  graph.\n * @param  {number}   angle          - Rotation angle.\n * @param  {object}   [options]      - Options.\n * @return {object}                  - The positions by node.\n */\nfunction genericRotation(assign, graph, angle, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/rotation: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  if (options.degrees) angle *= RAD_CONVERSION;\n\n  var dimensions = options.dimensions;\n\n  if (!Array.isArray(dimensions) || dimensions.length !== 2)\n    throw new Error('graphology-layout/random: given dimensions are invalid.');\n\n  // Handling null graph\n  if (graph.order === 0) {\n    if (assign) return;\n\n    return {};\n  }\n\n  var xd = dimensions[0];\n  var yd = dimensions[1];\n\n  var xCenter = 0;\n  var yCenter = 0;\n\n  if (!options.centeredOnZero) {\n    // Finding bounds of the graph\n    var xMin = Infinity;\n    var xMax = -Infinity;\n    var yMin = Infinity;\n    var yMax = -Infinity;\n\n    graph.forEachNode(function (node, attr) {\n      var x = attr[xd];\n      var y = attr[yd];\n\n      if (x < xMin) xMin = x;\n      if (x > xMax) xMax = x;\n      if (y < yMin) yMin = y;\n      if (y > yMax) yMax = y;\n    });\n\n    xCenter = (xMin + xMax) / 2;\n    yCenter = (yMin + yMax) / 2;\n  }\n\n  var cos = Math.cos(angle);\n  var sin = Math.sin(angle);\n\n  function assignPosition(target) {\n    var x = target[xd];\n    var y = target[yd];\n\n    target[xd] = xCenter + (x - xCenter) * cos - (y - yCenter) * sin;\n    target[yd] = yCenter + (x - xCenter) * sin + (y - yCenter) * cos;\n\n    return target;\n  }\n\n  if (!assign) {\n    var positions = {};\n\n    graph.forEachNode(function (node, attr) {\n      var o = {};\n      o[xd] = attr[xd];\n      o[yd] = attr[yd];\n      positions[node] = assignPosition(o);\n    });\n\n    return positions;\n  }\n\n  graph.updateEachNodeAttributes(\n    function (_, attr) {\n      assignPosition(attr);\n      return attr;\n    },\n    {\n      attributes: dimensions\n    }\n  );\n}\n\nvar rotation = genericRotation.bind(null, false);\nrotation.assign = genericRotation.bind(null, true);\n\nmodule.exports = rotation;\n","/**\n * Graphology Operators To Mixed Caster\n * =====================================\n *\n * Function used to cast any graph to a mixed one.\n */\nvar isGraph = require('graphology-utils/is-graph');\n\nmodule.exports = function toMixed(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-operators/to-mixed: expecting a valid graphology instance.'\n    );\n\n  return graph.copy({type: 'mixed'});\n};\n","/**\n * Graphology Operators To Multi Caster\n * =====================================\n *\n * Function used to cast any graph to a multi one.\n */\nvar isGraph = require('graphology-utils/is-graph');\n\nmodule.exports = function toMulti(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-operators/to-multi: expecting a valid graphology instance.'\n    );\n\n  return graph.copy({multi: true});\n};\n","/**\n * Graphology Edge Adders\n * =======================\n *\n * Generic edge addition functions that can be used to avoid nasty repetitive\n * conditions.\n */\nexports.addEdge = function addEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.addUndirectedEdge(source, target, attributes);\n    else return graph.addUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.addDirectedEdge(source, target, attributes);\n    else return graph.addDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.copyEdge = function copyEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  attributes = Object.assign({}, attributes);\n\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.addUndirectedEdge(source, target, attributes);\n    else return graph.addUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.addDirectedEdge(source, target, attributes);\n    else return graph.addDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.mergeEdge = function mergeEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.mergeUndirectedEdge(source, target, attributes);\n    else\n      return graph.mergeUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.mergeDirectedEdge(source, target, attributes);\n    else return graph.mergeDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.updateEdge = function updateEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  updater\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.updateUndirectedEdge(source, target, updater);\n    else return graph.updateUndirectedEdgeWithKey(key, source, target, updater);\n  } else {\n    if (key === null || key === undefined)\n      return graph.updateDirectedEdge(source, target, updater);\n    else return graph.updateDirectedEdgeWithKey(key, source, target, updater);\n  }\n};\n","/**\n * Graphology Defaults\n * ====================\n *\n * Helper function used throughout the standard lib to resolve defaults.\n */\nfunction isLeaf(o) {\n  return (\n    !o ||\n    typeof o !== 'object' ||\n    typeof o === 'function' ||\n    Array.isArray(o) ||\n    o instanceof Set ||\n    o instanceof Map ||\n    o instanceof RegExp ||\n    o instanceof Date\n  );\n}\n\nfunction resolveDefaults(target, defaults) {\n  target = target || {};\n\n  var output = {};\n\n  for (var k in defaults) {\n    var existing = target[k];\n    var def = defaults[k];\n\n    // Recursion\n    if (!isLeaf(def)) {\n      output[k] = resolveDefaults(existing, def);\n\n      continue;\n    }\n\n    // Leaf\n    if (existing === undefined) {\n      output[k] = def;\n    } else {\n      output[k] = existing;\n    }\n  }\n\n  return output;\n}\n\nmodule.exports = resolveDefaults;\n","/**\n * Graphology Weight Getter\n * =========================\n *\n * Function creating weight getters.\n */\nfunction coerceWeight(value) {\n  // Ensuring target value is a correct number\n  if (typeof value !== 'number' || isNaN(value)) return 1;\n\n  return value;\n}\n\nfunction createNodeValueGetter(nameOrFunction, defaultValue) {\n  var getter = {};\n\n  var coerceToDefault = function (v) {\n    if (typeof v === 'undefined') return defaultValue;\n\n    return v;\n  };\n\n  if (typeof defaultValue === 'function') coerceToDefault = defaultValue;\n\n  var get = function (attributes) {\n    return coerceToDefault(attributes[nameOrFunction]);\n  };\n\n  var returnDefault = function () {\n    return coerceToDefault(undefined);\n  };\n\n  if (typeof nameOrFunction === 'string') {\n    getter.fromAttributes = get;\n    getter.fromGraph = function (graph, node) {\n      return get(graph.getNodeAttributes(node));\n    };\n    getter.fromEntry = function (node, attributes) {\n      return get(attributes);\n    };\n  } else if (typeof nameOrFunction === 'function') {\n    getter.fromAttributes = function () {\n      throw new Error(\n        'graphology-utils/getters/createNodeValueGetter: irrelevant usage.'\n      );\n    };\n    getter.fromGraph = function (graph, node) {\n      return coerceToDefault(\n        nameOrFunction(node, graph.getNodeAttributes(node))\n      );\n    };\n    getter.fromEntry = function (node, attributes) {\n      return coerceToDefault(nameOrFunction(node, attributes));\n    };\n  } else {\n    getter.fromAttributes = returnDefault;\n    getter.fromGraph = returnDefault;\n    getter.fromEntry = returnDefault;\n  }\n\n  return getter;\n}\n\nfunction createEdgeValueGetter(nameOrFunction, defaultValue) {\n  var getter = {};\n\n  var coerceToDefault = function (v) {\n    if (typeof v === 'undefined') return defaultValue;\n\n    return v;\n  };\n\n  if (typeof defaultValue === 'function') coerceToDefault = defaultValue;\n\n  var get = function (attributes) {\n    return coerceToDefault(attributes[nameOrFunction]);\n  };\n\n  var returnDefault = function () {\n    return coerceToDefault(undefined);\n  };\n\n  if (typeof nameOrFunction === 'string') {\n    getter.fromAttributes = get;\n    getter.fromGraph = function (graph, edge) {\n      return get(graph.getEdgeAttributes(edge));\n    };\n    getter.fromEntry = function (edge, attributes) {\n      return get(attributes);\n    };\n    getter.fromPartialEntry = getter.fromEntry;\n    getter.fromMinimalEntry = getter.fromEntry;\n  } else if (typeof nameOrFunction === 'function') {\n    getter.fromAttributes = function () {\n      throw new Error(\n        'graphology-utils/getters/createEdgeValueGetter: irrelevant usage.'\n      );\n    };\n    getter.fromGraph = function (graph, edge) {\n      // TODO: we can do better, check #310\n      var extremities = graph.extremities(edge);\n      return coerceToDefault(\n        nameOrFunction(\n          edge,\n          graph.getEdgeAttributes(edge),\n          extremities[0],\n          extremities[1],\n          graph.getNodeAttributes(extremities[0]),\n          graph.getNodeAttributes(extremities[1]),\n          graph.isUndirected(edge)\n        )\n      );\n    };\n    getter.fromEntry = function (e, a, s, t, sa, ta, u) {\n      return coerceToDefault(nameOrFunction(e, a, s, t, sa, ta, u));\n    };\n    getter.fromPartialEntry = function (e, a, s, t) {\n      return coerceToDefault(nameOrFunction(e, a, s, t));\n    };\n    getter.fromMinimalEntry = function (e, a) {\n      return coerceToDefault(nameOrFunction(e, a));\n    };\n  } else {\n    getter.fromAttributes = returnDefault;\n    getter.fromGraph = returnDefault;\n    getter.fromEntry = returnDefault;\n    getter.fromMinimalEntry = returnDefault;\n  }\n\n  return getter;\n}\n\nexports.createNodeValueGetter = createNodeValueGetter;\nexports.createEdgeValueGetter = createEdgeValueGetter;\nexports.createEdgeWeightGetter = function (name) {\n  return createEdgeValueGetter(name, coerceWeight);\n};\n","/**\n * Graphology inferType\n * =====================\n *\n * Useful function used to \"guess\" the real type of the given Graph using\n * introspection.\n */\nvar isGraph = require('./is-graph.js');\n\n/**\n * Returning the inferred type of the given graph.\n *\n * @param  {Graph}   graph - Target graph.\n * @return {boolean}\n */\nmodule.exports = function inferType(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-utils/infer-type: expecting a valid graphology instance.'\n    );\n\n  var declaredType = graph.type;\n\n  if (declaredType !== 'mixed') return declaredType;\n\n  if (\n    (graph.directedSize === 0 && graph.undirectedSize === 0) ||\n    (graph.directedSize > 0 && graph.undirectedSize > 0)\n  )\n    return 'mixed';\n\n  if (graph.directedSize > 0) return 'directed';\n\n  return 'undirected';\n};\n","/**\n * Graphology isGraphConstructor\n * ==============================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology constructor.\n */\n\n/**\n * Checking the value is a graphology constructor.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraphConstructor(value) {\n  return (\n    value !== null &&\n    typeof value === 'function' &&\n    typeof value.prototype === 'object' &&\n    typeof value.prototype.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.prototype.dropNode === 'function'\n  );\n};\n","/**\n * Graphology isGraph\n * ===================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology instance.\n */\n\n/**\n * Checking the value is a graphology instance.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraph(value) {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    typeof value.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.dropNode === 'function' &&\n    typeof value.multi === 'boolean'\n  );\n};\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).graphology=e()}(this,(function(){\"use strict\";function t(e){return t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t(e)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function i(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,n){return o=i()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(t){var e=\"function\"==typeof Map?new Map:void 0;return a=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf(\"[native code]\")))return t;var i;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return o(t,arguments,n(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,t)},a(t)}function u(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}var c=function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t};function s(t,e,n,r){var i=t._nodes.get(e),o=null;return i?o=\"mixed\"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:\"directed\"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function d(e){return null!==e&&\"object\"===t(e)&&\"function\"==typeof e.addUndirectedEdgeWithKey&&\"function\"==typeof e.dropNode}function h(e){return\"object\"===t(e)&&null!==e&&e.constructor===Object}function p(t){var e;for(e in t)return!1;return!0}function f(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function l(t,e,n){var r={enumerable:!0,configurable:!0};\"function\"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function g(t){return!!h(t)&&!(t.attributes&&!Array.isArray(t.attributes))}\"function\"==typeof Object.assign&&(c=Object.assign);var y,w={exports:{}},v=\"object\"==typeof Reflect?Reflect:null,b=v&&\"function\"==typeof v.apply?v.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};y=v&&\"function\"==typeof v.ownKeys?v.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var m=Number.isNaN||function(t){return t!=t};function k(){k.init.call(this)}w.exports=k,w.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){\"function\"==typeof t.removeListener&&t.removeListener(\"error\",i),n([].slice.call(arguments))}N(t,e,o,{once:!0}),\"error\"!==e&&function(t,e,n){\"function\"==typeof t.on&&N(t,\"error\",e,n)}(t,i,{once:!0})}))},k.EventEmitter=k,k.prototype._events=void 0,k.prototype._eventsCount=0,k.prototype._maxListeners=void 0;var _=10;function G(t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t)}function x(t){return void 0===t._maxListeners?k.defaultMaxListeners:t._maxListeners}function E(t,e,n,r){var i,o,a,u;if(G(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit(\"newListener\",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if(\"function\"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=x(t))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error(\"Possible EventEmitter memory leak detected. \"+a.length+\" \"+String(e)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");c.name=\"MaxListenersExceededWarning\",c.emitter=t,c.type=e,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return t}function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=A.bind(r);return i.listener=n,r.wrapFn=i,i}function D(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):U(i,i.length)}function L(t){var e=this._events;if(void 0!==e){var n=e[t];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function U(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function N(t,e,n,r){if(\"function\"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if(\"function\"!=typeof t.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}function j(t){if(\"function\"!=typeof t)throw new Error(\"obliterator/iterator: expecting a function!\");this.next=t}Object.defineProperty(k,\"defaultMaxListeners\",{enumerable:!0,get:function(){return _},set:function(t){if(\"number\"!=typeof t||t<0||m(t))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+t+\".\");_=t}}),k.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},k.prototype.setMaxListeners=function(t){if(\"number\"!=typeof t||t<0||m(t))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+t+\".\");return this._maxListeners=t,this},k.prototype.getMaxListeners=function(){return x(this)},k.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=\"error\"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw a.context=o,a}var u=i[t];if(void 0===u)return!1;if(\"function\"==typeof u)b(u,this,e);else{var c=u.length,s=U(u,c);for(n=0;n<c;++n)b(s[n],this,e)}return!0},k.prototype.addListener=function(t,e){return E(this,t,e,!1)},k.prototype.on=k.prototype.addListener,k.prototype.prependListener=function(t,e){return E(this,t,e,!0)},k.prototype.once=function(t,e){return G(e),this.on(t,S(this,t,e)),this},k.prototype.prependOnceListener=function(t,e){return G(e),this.prependListener(t,S(this,t,e)),this},k.prototype.removeListener=function(t,e){var n,r,i,o,a;if(G(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit(\"removeListener\",t,n.listener||e));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",t,a||e)}return this},k.prototype.off=k.prototype.removeListener,k.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},k.prototype.listeners=function(t){return D(this,t,!0)},k.prototype.rawListeners=function(t){return D(this,t,!1)},k.listenerCount=function(t,e){return\"function\"==typeof t.listenerCount?t.listenerCount(e):L.call(t,e)},k.prototype.listenerCount=L,k.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]},\"undefined\"!=typeof Symbol&&(j.prototype[Symbol.iterator]=function(){return this}),j.of=function(){var t=arguments,e=t.length,n=0;return new j((function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}}))},j.empty=function(){return new j((function(){return{done:!0}}))},j.fromSequence=function(t){var e=0,n=t.length;return new j((function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}}))},j.is=function(t){return t instanceof j||\"object\"==typeof t&&null!==t&&\"function\"==typeof t.next};var O=j,C={};C.ARRAY_BUFFER_SUPPORT=\"undefined\"!=typeof ArrayBuffer,C.SYMBOL_SUPPORT=\"undefined\"!=typeof Symbol;var z=O,M=C,W=M.ARRAY_BUFFER_SUPPORT,P=M.SYMBOL_SUPPORT;var R=function(t){var e=function(t){return\"string\"==typeof t||Array.isArray(t)||W&&ArrayBuffer.isView(t)?z.fromSequence(t):\"object\"!=typeof t||null===t?null:P&&\"function\"==typeof t[Symbol.iterator]?t[Symbol.iterator]():\"function\"==typeof t.next?t:null}(t);if(!e)throw new Error(\"obliterator: target is not iterable nor a valid iterator.\");return e},K=R,T=function(t,e){for(var n,r=arguments.length>1?e:1/0,i=r!==1/0?new Array(r):[],o=0,a=K(t);;){if(o===r)return i;if((n=a.next()).done)return o!==e&&(i.length=o),i;i[o++]=n.value}},B=function(t){function n(e){var n;return(n=t.call(this)||this).name=\"GraphError\",n.message=e,n}return e(n,t),n}(a(Error)),F=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"InvalidArgumentsGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(B),I=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"NotFoundGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(B),Y=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"UsageGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(B);function q(t,e){this.key=t,this.attributes=e,this.clear()}function J(t,e){this.key=t,this.attributes=e,this.clear()}function V(t,e){this.key=t,this.attributes=e,this.clear()}function H(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.in={},this.out={},this.undirected={}},J.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.in={},this.out={}},V.prototype.clear=function(){this.undirectedDegree=0,this.undirected={}},H.prototype.attach=function(){var t=\"out\",e=\"in\";this.undirected&&(t=e=\"undirected\");var n=this.source.key,r=this.target.key;this.source[t][r]=this,this.undirected&&n===r||(this.target[e][n]=this)},H.prototype.attachMulti=function(){var t=\"out\",e=\"in\",n=this.source.key,r=this.target.key;this.undirected&&(t=e=\"undirected\");var i=this.source[t],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[e][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[e][n]=this},H.prototype.detach=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),delete this.source[n][e],delete this.target[r][t]},H.prototype.detachMulti=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),void 0===this.previous?void 0===this.next?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};function Q(t,e,n,r,i,o,a){var u,c,s,d;if(r=\"\"+r,0===n){if(!(u=t._nodes.get(r)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" node in the graph.'));s=i,d=o}else if(3===n){if(i=\"\"+i,!(c=t._edges.get(i)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(i,'\" edge in the graph.'));var h=c.source.key,p=c.target.key;if(r===h)u=c.target;else{if(r!==p)throw new I(\"Graph.\".concat(e,': the \"').concat(r,'\" node is not attached to the \"').concat(i,'\" edge (').concat(h,\", \").concat(p,\").\"));u=c.source}s=o,d=a}else{if(!(c=t._edges.get(r)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" edge in the graph.'));u=1===n?c.source:c.target,s=i,d=o}return[u,s,d]}var X=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];return a.attributes[u]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){return Q(this,e,n,t,r)[0].attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];return a.attributes.hasOwnProperty(u)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=Q(this,e,n,t,r,i,o),u=a[0],c=a[1],s=a[2];return u.attributes[c]=s,this.emit(\"nodeAttributesUpdated\",{key:u.key,type:\"set\",attributes:u.attributes,name:c}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=Q(this,e,n,t,r,i,o),u=a[0],c=a[1],s=a[2];if(\"function\"!=typeof s)throw new F(\"Graph.\".concat(e,\": updater should be a function.\"));var d=u.attributes,h=s(d[c]);return d[c]=h,this.emit(\"nodeAttributesUpdated\",{key:u.key,type:\"set\",attributes:u.attributes,name:c}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];return delete a.attributes[u],this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"remove\",attributes:a.attributes,name:u}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];if(!h(u))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return a.attributes=u,this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"replace\",attributes:a.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];if(!h(u))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return c(a.attributes,u),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"merge\",attributes:a.attributes,data:u}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];if(\"function\"!=typeof u)throw new F(\"Graph.\".concat(e,\": provided updater is not a function.\"));return a.attributes=u(a.attributes),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"update\",attributes:a.attributes}),this}}}];var Z=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes[r]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t){var r;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>1){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var i=\"\"+t,o=\"\"+arguments[1];if(!(r=s(this,i,o,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(i,'\" - \"').concat(o,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(r=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return r.attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,u=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=s(this,a,u,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(u,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return o.attributes[r]=i,this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,u=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=s(this,a,u,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(u,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof i)throw new F(\"Graph.\".concat(e,\": updater should be a function.\"));return o.attributes[r]=i(o.attributes[r]),this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return delete i.attributes[r],this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"remove\",attributes:i.attributes,name:r}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!h(r))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return i.attributes=r,this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"replace\",attributes:i.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!h(r))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return c(i.attributes,r),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"merge\",attributes:i.attributes,data:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof r)throw new F(\"Graph.\".concat(e,\": provided updater is not a function.\"));return i.attributes=r(i.attributes),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"update\",attributes:i.attributes}),this}}}];var $=O,tt=R,et=function(){var t=arguments,e=null,n=-1;return new $((function(){for(var r=null;;){if(null===e){if(++n>=t.length)return{done:!0};e=tt(t[n])}if(!0!==(r=e.next()).done)break;e=null}return r}))},nt=[{name:\"edges\",type:\"mixed\"},{name:\"inEdges\",type:\"directed\",direction:\"in\"},{name:\"outEdges\",type:\"directed\",direction:\"out\"},{name:\"inboundEdges\",type:\"mixed\",direction:\"in\"},{name:\"outboundEdges\",type:\"mixed\",direction:\"out\"},{name:\"directedEdges\",type:\"directed\"},{name:\"undirectedEdges\",type:\"undirected\"}];function rt(t,e,n,r){var i=!1;for(var o in e)if(o!==r){var a=e[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),t&&i)return a.key}}function it(t,e,n,r){var i,o,a,u=!1;for(var c in e)if(c!==r){i=e[c];do{if(o=i.source,a=i.target,u=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),t&&u)return i.key;i=i.next}while(void 0!==i)}}function ot(t,e){var n,r=Object.keys(t),i=r.length,o=0;return new O((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===e){n=void 0;continue}n=t[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function at(t,e,n,r){var i=e[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&t?i.key:void 0}}function ut(t,e,n,r){var i=e[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&o)return i.key;i=i.next}while(void 0!==i)}}function ct(t,e){var n=t[e];return void 0!==n.next?new O((function(){if(!n)return{done:!0};var t={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:t}})):O.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function st(t,e){if(0===t.size)return[];if(\"mixed\"===e||e===t.type)return\"function\"==typeof Array.from?Array.from(t._edges.keys()):T(t._edges.keys(),t._edges.size);for(var n,r,i=\"undirected\"===e?t.undirectedSize:t.directedSize,o=new Array(i),a=\"undirected\"===e,u=t._edges.values(),c=0;!0!==(n=u.next()).done;)(r=n.value).undirected===a&&(o[c++]=r.key);return o}function dt(t,e,n,r){if(0!==e.size)for(var i,o,a=\"mixed\"!==n&&n!==e.type,u=\"undirected\"===n,c=!1,s=e._edges.values();!0!==(i=s.next()).done;)if(o=i.value,!a||o.undirected===u){var d=o,h=d.key,p=d.attributes,f=d.source,l=d.target;if(c=r(h,p,f.key,l.key,f.attributes,l.attributes,o.undirected),t&&c)return h}}function ht(t,e){if(0===t.size)return O.empty();var n=\"mixed\"!==e&&e!==t.type,r=\"undirected\"===e,i=t._edges.values();return new O((function(){for(var t,e;;){if((t=i.next()).done)return t;if(e=t.value,!n||e.undirected===r)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}function pt(t,e,n,r,i,o){var a,u=e?it:rt;if(\"undirected\"!==n){if(\"out\"!==r&&(a=u(t,i.in,o),t&&a))return a;if(\"in\"!==r&&(a=u(t,i.out,o,r?void 0:i.key),t&&a))return a}if(\"directed\"!==n&&(a=u(t,i.undirected,o),t&&a))return a}function ft(t,e,n,r){var i=[];return pt(!1,t,e,n,r,(function(t){i.push(t)})),i}function lt(t,e,n){var r=O.empty();return\"undirected\"!==t&&(\"out\"!==e&&void 0!==n.in&&(r=et(r,ot(n.in))),\"in\"!==e&&void 0!==n.out&&(r=et(r,ot(n.out,e?void 0:n.key)))),\"directed\"!==t&&void 0!==n.undirected&&(r=et(r,ot(n.undirected))),r}function gt(t,e,n,r,i,o,a){var u,c=n?ut:at;if(\"undirected\"!==e){if(void 0!==i.in&&\"out\"!==r&&(u=c(t,i.in,o,a),t&&u))return u;if(void 0!==i.out&&\"in\"!==r&&(r||i.key!==o)&&(u=c(t,i.out,o,a),t&&u))return u}if(\"directed\"!==e&&void 0!==i.undirected&&(u=c(t,i.undirected,o,a),t&&u))return u}function yt(t,e,n,r,i){var o=[];return gt(!1,t,e,n,r,i,(function(t){o.push(t)})),o}function wt(t,e,n,r){var i=O.empty();return\"undirected\"!==t&&(void 0!==n.in&&\"out\"!==e&&r in n.in&&(i=et(i,ct(n.in,r))),void 0!==n.out&&\"in\"!==e&&r in n.out&&(e||n.key!==r)&&(i=et(i,ct(n.out,r)))),\"directed\"!==t&&void 0!==n.undirected&&r in n.undirected&&(i=et(i,ct(n.undirected,r))),i}var vt=[{name:\"neighbors\",type:\"mixed\"},{name:\"inNeighbors\",type:\"directed\",direction:\"in\"},{name:\"outNeighbors\",type:\"directed\",direction:\"out\"},{name:\"inboundNeighbors\",type:\"mixed\",direction:\"in\"},{name:\"outboundNeighbors\",type:\"mixed\",direction:\"out\"},{name:\"directedNeighbors\",type:\"directed\"},{name:\"undirectedNeighbors\",type:\"undirected\"}];function bt(){this.A=null,this.B=null}function mt(t,e,n,r,i){for(var o in r){var a=r[o],u=a.source,c=a.target,s=u===n?c:u;if(!e||!e.has(s.key)){var d=i(s.key,s.attributes);if(t&&d)return s.key}}}function kt(t,e,n,r,i){if(\"mixed\"!==e){if(\"undirected\"===e)return mt(t,null,r,r.undirected,i);if(\"string\"==typeof n)return mt(t,null,r,r[n],i)}var o,a=new bt;if(\"undirected\"!==e){if(\"out\"!==n){if(o=mt(t,null,r,r.in,i),t&&o)return o;a.wrap(r.in)}if(\"in\"!==n){if(o=mt(t,a,r,r.out,i),t&&o)return o;a.wrap(r.out)}}if(\"directed\"!==e&&(o=mt(t,a,r,r.undirected,i),t&&o))return o}function _t(t,e,n){var r=Object.keys(n),i=r.length,o=0;return new O((function(){var a=null;do{if(o>=i)return t&&t.wrap(n),{done:!0};var u=n[r[o++]],c=u.source,s=u.target;a=c===e?s:c,t&&t.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function Gt(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new I(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return Object.keys(n.undirected);if(\"string\"==typeof e)return Object.keys(n[e])}var r=[];return kt(!1,t,e,n,(function(t){r.push(t)})),r}(\"mixed\"===r?this.type:r,i,e)}}function xt(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return _t(null,n,n.undirected);if(\"string\"==typeof e)return _t(null,n,n[e])}var r=O.empty(),i=new bt;return\"undirected\"!==t&&(\"out\"!==e&&(r=et(r,_t(i,n,n.in))),\"in\"!==e&&(r=et(r,_t(i,n,n.out)))),\"directed\"!==t&&(r=et(r,_t(i,n,n.undirected))),r}(\"mixed\"===r?this.type:r,i,e)}}function Et(t,e,n,r,i){for(var o,a,u,c,s,d,h,p=r._nodes.values(),f=r.type;!0!==(o=p.next()).done;){var l=!1;if(a=o.value,\"undirected\"!==f)for(u in c=a.out){s=c[u];do{if(d=s.target,l=!0,h=i(a.key,d.key,a.attributes,d.attributes,s.key,s.attributes,s.undirected),t&&h)return s;s=s.next}while(s)}if(\"directed\"!==f)for(u in c=a.undirected)if(!(e&&a.key>u)){s=c[u];do{if((d=s.target).key!==u&&(d=s.source),l=!0,h=i(a.key,d.key,a.attributes,d.attributes,s.key,s.attributes,s.undirected),t&&h)return s;s=s.next}while(s)}if(n&&!l&&(h=i(a.key,null,a.attributes,null,null,null,null),t&&h))return null}}function At(t){if(!h(t))throw new F('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a \"key\" property.');if(!(\"key\"in t))throw new F(\"Graph.import: serialized node is missing its key.\");if(\"attributes\"in t&&(!h(t.attributes)||null===t.attributes))throw new F(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\")}function St(t){if(!h(t))throw new F('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a \"source\" & \"target\" property.');if(!(\"source\"in t))throw new F(\"Graph.import: serialized edge is missing its source.\");if(!(\"target\"in t))throw new F(\"Graph.import: serialized edge is missing its target.\");if(\"attributes\"in t&&(!h(t.attributes)||null===t.attributes))throw new F(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\");if(\"undirected\"in t&&\"boolean\"!=typeof t.undirected)throw new F(\"Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.\")}bt.prototype.wrap=function(t){null===this.A?this.A=t:null===this.B&&(this.B=t)},bt.prototype.has=function(t){return null!==this.A&&t in this.A||null!==this.B&&t in this.B};var Dt,Lt=(Dt=255&Math.floor(256*Math.random()),function(){return Dt++}),Ut=new Set([\"directed\",\"undirected\",\"mixed\"]),Nt=new Set([\"domain\",\"_events\",\"_eventsCount\",\"_maxListeners\"]),jt={allowSelfLoops:!0,multi:!1,type:\"mixed\"};function Ot(t,e,n){var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}function Ct(t,e,n,r,i,o,a,u){if(!r&&\"undirected\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.\"));if(u&&!h(u))throw new F(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(u,'\"'));if(o=\"\"+o,a=\"\"+a,u=u||{},!t.allowSelfLoops&&o===a)throw new Y(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var c=t._nodes.get(o),s=t._nodes.get(a);if(!c)throw new I(\"Graph.\".concat(e,': source node \"').concat(o,'\" not found.'));if(!s)throw new I(\"Graph.\".concat(e,': target node \"').concat(a,'\" not found.'));var d={key:null,undirected:r,source:o,target:a,attributes:u};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new Y(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));if(!t.multi&&(r?void 0!==c.undirected[a]:void 0!==c.out[a]))throw new Y(\"Graph.\".concat(e,': an edge linking \"').concat(o,'\" to \"').concat(a,\"\\\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.\"));var p=new H(r,i,c,s,u);t._edges.set(i,p);var f=o===a;return r?(c.undirectedDegree++,s.undirectedDegree++,f&&t._undirectedSelfLoopCount++):(c.outDegree++,s.inDegree++,f&&t._directedSelfLoopCount++),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,d.key=i,t.emit(\"edgeAdded\",d),i}function zt(t,e,n,r,i,o,a,u,s){if(!r&&\"undirected\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.\"));if(u)if(s){if(\"function\"!=typeof u)throw new F(\"Graph.\".concat(e,': invalid updater function. Expecting a function but got \"').concat(u,'\"'))}else if(!h(u))throw new F(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(u,'\"'));var d;if(o=\"\"+o,a=\"\"+a,s&&(d=u,u=void 0),!t.allowSelfLoops&&o===a)throw new Y(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var p,f,l=t._nodes.get(o),g=t._nodes.get(a);if(!n&&(p=t._edges.get(i))){if(!(p.source.key===o&&p.target.key===a||r&&p.source.key===a&&p.target.key===o))throw new Y(\"Graph.\".concat(e,': inconsistency detected when attempting to merge the \"').concat(i,'\" edge with \"').concat(o,'\" source & \"').concat(a,'\" target vs. (\"').concat(p.source.key,'\", \"').concat(p.target.key,'\").'));f=p}if(f||t.multi||!l||(f=r?l.undirected[a]:l.out[a]),f){var y=[f.key,!1,!1,!1];if(s?!d:!u)return y;if(s){var w=f.attributes;f.attributes=d(w),t.emit(\"edgeAttributesUpdated\",{type:\"replace\",key:f.key,attributes:f.attributes})}else c(f.attributes,u),t.emit(\"edgeAttributesUpdated\",{type:\"merge\",key:f.key,attributes:f.attributes,data:u});return y}u=u||{},s&&d&&(u=d(u));var v={key:null,undirected:r,source:o,target:a,attributes:u};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new Y(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));var b=!1,m=!1;l||(l=Ot(t,o,{}),b=!0,o===a&&(g=l,m=!0)),g||(g=Ot(t,a,{}),m=!0),p=new H(r,i,l,g,u),t._edges.set(i,p);var k=o===a;return r?(l.undirectedDegree++,g.undirectedDegree++,k&&t._undirectedSelfLoopCount++):(l.outDegree++,g.inDegree++,k&&t._directedSelfLoopCount++),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit(\"edgeAdded\",v),[i,!0,b,m]}function Mt(t,e){t._edges.delete(e.key);var n=e.source,r=e.target,i=e.attributes,o=e.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&t._undirectedSelfLoopCount--):(n.outDegree--,r.inDegree--,a&&t._directedSelfLoopCount--),t.multi?e.detachMulti():e.detach(),o?t._undirectedSize--:t._directedSize--,t.emit(\"edgeDropped\",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:o})}var Wt=function(n){function r(t){var e;if(e=n.call(this)||this,\"boolean\"!=typeof(t=c({},jt,t)).multi)throw new F(\"Graph.constructor: invalid 'multi' option. Expecting a boolean but got \\\"\".concat(t.multi,'\".'));if(!Ut.has(t.type))throw new F('Graph.constructor: invalid \\'type\\' option. Should be one of \"mixed\", \"directed\" or \"undirected\" but got \"'.concat(t.type,'\".'));if(\"boolean\"!=typeof t.allowSelfLoops)throw new F(\"Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \\\"\".concat(t.allowSelfLoops,'\".'));var r=\"mixed\"===t.type?q:\"directed\"===t.type?J:V;f(u(e),\"NodeDataClass\",r);var i=\"geid_\"+Lt()+\"_\",o=0;return f(u(e),\"_attributes\",{}),f(u(e),\"_nodes\",new Map),f(u(e),\"_edges\",new Map),f(u(e),\"_directedSize\",0),f(u(e),\"_undirectedSize\",0),f(u(e),\"_directedSelfLoopCount\",0),f(u(e),\"_undirectedSelfLoopCount\",0),f(u(e),\"_edgeKeyGenerator\",(function(){var t;do{t=i+o++}while(e._edges.has(t));return t})),f(u(e),\"_options\",t),Nt.forEach((function(t){return f(u(e),t,e[t])})),l(u(e),\"order\",(function(){return e._nodes.size})),l(u(e),\"size\",(function(){return e._edges.size})),l(u(e),\"directedSize\",(function(){return e._directedSize})),l(u(e),\"undirectedSize\",(function(){return e._undirectedSize})),l(u(e),\"selfLoopCount\",(function(){return e._directedSelfLoopCount+e._undirectedSelfLoopCount})),l(u(e),\"directedSelfLoopCount\",(function(){return e._directedSelfLoopCount})),l(u(e),\"undirectedSelfLoopCount\",(function(){return e._undirectedSelfLoopCount})),l(u(e),\"multi\",e._options.multi),l(u(e),\"type\",e._options.type),l(u(e),\"allowSelfLoops\",e._options.allowSelfLoops),l(u(e),\"implementation\",(function(){return\"graphology\"})),e}e(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(t){return this._nodes.has(\"\"+t)},i.hasDirectedEdge=function(t,e){if(\"undirected\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.out[e];return!!o&&(!this.multi||!!o.size)}throw new F(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasUndirectedEdge=function(t,e){if(\"directed\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.undirected[e];return!!o&&(!this.multi||!!o.size)}throw new F(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasEdge=function(t,e){if(1===arguments.length){var n=\"\"+t;return this._edges.has(n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var r=this._nodes.get(t);if(!r)return!1;var i=void 0!==r.out&&r.out[e];return i||(i=void 0!==r.undirected&&r.undirected[e]),!!i&&(!this.multi||!!i.size)}throw new F(\"Graph.hasEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.directedEdge=function(t,e){if(\"undirected\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new Y(\"Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new I('Graph.directedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I('Graph.directedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(t,e){if(\"directed\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new Y(\"Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new I('Graph.undirectedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I('Graph.undirectedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}},i.edge=function(t,e){if(this.multi)throw new Y(\"Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.\");t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.edge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I('Graph.edge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areDirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)},i.areOutNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areOutNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out},i.areInNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areInNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in},i.areUndirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areUndirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"!==this.type&&e in n.undirected},i.areNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)||\"directed\"!==this.type&&e in n.undirected},i.areInboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areInboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in||\"directed\"!==this.type&&e in n.undirected},i.areOutboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areOutboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out||\"directed\"!==this.type&&e in n.undirected},i.inDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.inDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree},i.outDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.outDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree},i.directedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.directedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree},i.undirectedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.undirectedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree},i.inboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.inboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree),n},i.outboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.outboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.outDegree),n},i.degree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.degree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree),n},i.inDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.inDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"===this.type)return 0;var n=e.in[t],r=n?this.multi?n.size:1:0;return e.inDegree-r},i.outDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.outDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"===this.type)return 0;var n=e.out[t],r=n?this.multi?n.size:1:0;return e.outDegree-r},i.directedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.directedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"===this.type)return 0;var n=e.out[t],r=n?this.multi?n.size:1:0;return e.inDegree+e.outDegree-2*r},i.undirectedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.undirectedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"directed\"===this.type)return 0;var n=e.undirected[t],r=n?this.multi?n.size:1:0;return e.undirectedDegree-2*r},i.inboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.inboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var r=0,i=0;return\"directed\"!==this.type&&(r+=n.undirectedDegree,i+=2*((e=n.undirected[t])?this.multi?e.size:1:0)),\"undirected\"!==this.type&&(r+=n.inDegree,i+=(e=n.out[t])?this.multi?e.size:1:0),r-i},i.outboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.outboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var r=0,i=0;return\"directed\"!==this.type&&(r+=n.undirectedDegree,i+=2*((e=n.undirected[t])?this.multi?e.size:1:0)),\"undirected\"!==this.type&&(r+=n.outDegree,i+=(e=n.in[t])?this.multi?e.size:1:0),r-i},i.degreeWithoutSelfLoops=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.degreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var r=0,i=0;return\"directed\"!==this.type&&(r+=n.undirectedDegree,i+=2*((e=n.undirected[t])?this.multi?e.size:1:0)),\"undirected\"!==this.type&&(r+=n.inDegree+n.outDegree,i+=2*((e=n.out[t])?this.multi?e.size:1:0)),r-i},i.source=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.source: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source.key},i.target=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.target: could not find the \"'.concat(t,'\" edge in the graph.'));return e.target.key},i.extremities=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.extremities: could not find the \"'.concat(t,'\" edge in the graph.'));return[e.source.key,e.target.key]},i.opposite=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(e);if(!n)throw new I('Graph.opposite: could not find the \"'.concat(e,'\" edge in the graph.'));var r=n.source.key,i=n.target.key;if(t===r)return i;if(t===i)return r;throw new I('Graph.opposite: the \"'.concat(t,'\" node is not attached to the \"').concat(e,'\" edge (').concat(r,\", \").concat(i,\").\"))},i.hasExtremity=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(t);if(!n)throw new I('Graph.hasExtremity: could not find the \"'.concat(t,'\" edge in the graph.'));return n.source.key===e||n.target.key===e},i.isUndirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.isUndirected: could not find the \"'.concat(t,'\" edge in the graph.'));return e.undirected},i.isDirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.isDirected: could not find the \"'.concat(t,'\" edge in the graph.'));return!e.undirected},i.isSelfLoop=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.isSelfLoop: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source===e.target},i.addNode=function(t,e){var n=function(t,e,n){if(n&&!h(n))throw new F('Graph.addNode: invalid attributes. Expecting an object but got \"'.concat(n,'\"'));if(e=\"\"+e,n=n||{},t._nodes.has(e))throw new Y('Graph.addNode: the \"'.concat(e,'\" node already exist in the graph.'));var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}(this,t,e);return n.key},i.mergeNode=function(t,e){if(e&&!h(e))throw new F('Graph.mergeNode: invalid attributes. Expecting an object but got \"'.concat(e,'\"'));t=\"\"+t,e=e||{};var n=this._nodes.get(t);return n?(e&&(c(n.attributes,e),this.emit(\"nodeAttributesUpdated\",{type:\"merge\",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:e}),[t,!0])},i.updateNode=function(t,e){if(e&&\"function\"!=typeof e)throw new F('Graph.updateNode: invalid updater function. Expecting a function but got \"'.concat(e,'\"'));t=\"\"+t;var n=this._nodes.get(t);if(n){if(e){var r=n.attributes;n.attributes=e(r),this.emit(\"nodeAttributesUpdated\",{type:\"replace\",key:t,attributes:n.attributes})}return[t,!1]}var i=e?e({}):{};return n=new this.NodeDataClass(t,i),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:i}),[t,!0]},i.dropNode=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.dropNode: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"!==this.type){for(var r in n.out){e=n.out[r];do{Mt(this,e),e=e.next}while(e)}for(var i in n.in){e=n.in[i];do{Mt(this,e),e=e.next}while(e)}}if(\"directed\"!==this.type)for(var o in n.undirected){e=n.undirected[o];do{Mt(this,e),e=e.next}while(e)}this._nodes.delete(t),this.emit(\"nodeDropped\",{key:t,attributes:n.attributes})},i.dropEdge=function(t){var e;if(arguments.length>1){var n=\"\"+arguments[0],r=\"\"+arguments[1];if(!(e=s(this,n,r,this.type)))throw new I('Graph.dropEdge: could not find the \"'.concat(n,'\" -> \"').concat(r,'\" edge in the graph.'))}else if(t=\"\"+t,!(e=this._edges.get(t)))throw new I('Graph.dropEdge: could not find the \"'.concat(t,'\" edge in the graph.'));return Mt(this,e),this},i.dropDirectedEdge=function(t,e){if(arguments.length<2)throw new Y(\"Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new Y(\"Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=s(this,t=\"\"+t,e=\"\"+e,\"directed\");if(!n)throw new I('Graph.dropDirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.dropUndirectedEdge=function(t,e){if(arguments.length<2)throw new Y(\"Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new Y(\"Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=s(this,t,e,\"undirected\");if(!n)throw new I('Graph.dropUndirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit(\"cleared\")},i.clearEdges=function(){for(var t,e=this._nodes.values();!0!==(t=e.next()).done;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit(\"edgesCleared\")},i.getAttribute=function(t){return this._attributes[t]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},i.setAttribute=function(t,e){return this._attributes[t]=e,this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.updateAttribute=function(t,e){if(\"function\"!=typeof e)throw new F(\"Graph.updateAttribute: updater should be a function.\");var n=this._attributes[t];return this._attributes[t]=e(n),this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.removeAttribute=function(t){return delete this._attributes[t],this.emit(\"attributesUpdated\",{type:\"remove\",attributes:this._attributes,name:t}),this},i.replaceAttributes=function(t){if(!h(t))throw new F(\"Graph.replaceAttributes: provided attributes are not a plain object.\");return this._attributes=t,this.emit(\"attributesUpdated\",{type:\"replace\",attributes:this._attributes}),this},i.mergeAttributes=function(t){if(!h(t))throw new F(\"Graph.mergeAttributes: provided attributes are not a plain object.\");return c(this._attributes,t),this.emit(\"attributesUpdated\",{type:\"merge\",attributes:this._attributes,data:t}),this},i.updateAttributes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.updateAttributes: provided updater is not a function.\");return this._attributes=t(this._attributes),this.emit(\"attributesUpdated\",{type:\"update\",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.updateEachNodeAttributes: expecting an updater function.\");if(e&&!g(e))throw new F(\"Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=t(r.key,r.attributes);this.emit(\"eachNodeAttributesUpdated\",{hints:e||null})},i.updateEachEdgeAttributes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.updateEachEdgeAttributes: expecting an updater function.\");if(e&&!g(e))throw new F(\"Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=t(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit(\"eachEdgeAttributesUpdated\",{hints:e||null})},i.forEachAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAdjacencyEntry: expecting a callback.\");Et(!1,!1,!1,this,t)},i.forEachAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.\");Et(!1,!1,!0,this,t)},i.forEachAssymetricAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAssymetricAdjacencyEntry: expecting a callback.\");Et(!1,!0,!1,this,t)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.\");Et(!1,!0,!0,this,t)},i.nodes=function(){return\"function\"==typeof Array.from?Array.from(this._nodes.keys()):T(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)},i.findNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.findNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return n.key},i.mapNodes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.mapNode: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(e=r.next()).done;)n=e.value,i[o++]=t(n.key,n.attributes);return i},i.someNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.someNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return!0;return!1},i.everyNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.everyNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(!t((n=e.value).key,n.attributes))return!1;return!0},i.filterNodes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.filterNodes: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=[];!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.reduceNodes: expecting a callback.\");if(arguments.length<2)throw new F(\"Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\");for(var n,r,i=e,o=this._nodes.values();!0!==(n=o.next()).done;)i=t(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var t=this._nodes.values();return new O((function(){var e=t.next();if(e.done)return e;var n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var t=new Array(this._nodes.size),e=0;this._nodes.forEach((function(n,r){t[e++]=function(t,e){var n={key:t};return p(e.attributes)||(n.attributes=c({},e.attributes)),n}(r,n)}));var n=new Array(this._edges.size);return e=0,this._edges.forEach((function(t,r){n[e++]=function(t,e){var n={key:t,source:e.source.key,target:e.target.key};return p(e.attributes)||(n.attributes=c({},e.attributes)),e.undirected&&(n.undirected=!0),n}(r,t)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:n}},i.import=function(t){var e,n,r,i,o,a=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d(t))return t.forEachNode((function(t,e){u?a.mergeNode(t,e):a.addNode(t,e)})),t.forEachEdge((function(t,e,n,r,i,o,c){u?c?a.mergeUndirectedEdgeWithKey(t,n,r,e):a.mergeDirectedEdgeWithKey(t,n,r,e):c?a.addUndirectedEdgeWithKey(t,n,r,e):a.addDirectedEdgeWithKey(t,n,r,e)})),this;if(!h(t))throw new F(\"Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.\");if(t.attributes){if(!h(t.attributes))throw new F(\"Graph.import: invalid attributes. Expecting a plain object.\");u?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}if(t.nodes){if(r=t.nodes,!Array.isArray(r))throw new F(\"Graph.import: invalid nodes. Expecting an array.\");for(e=0,n=r.length;e<n;e++){At(i=r[e]);var c=i,s=c.key,p=c.attributes;u?this.mergeNode(s,p):this.addNode(s,p)}}if(t.edges){if(r=t.edges,!Array.isArray(r))throw new F(\"Graph.import: invalid edges. Expecting an array.\");for(e=0,n=r.length;e<n;e++){St(o=r[e]);var f=o,l=f.source,g=f.target,y=f.attributes,w=f.undirected,v=void 0!==w&&w;\"key\"in o?(u?v?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:v?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,o.key,l,g,y):(u?v?this.mergeUndirectedEdge:this.mergeDirectedEdge:v?this.addUndirectedEdge:this.addDirectedEdge).call(this,l,g,y)}}return this},i.nullCopy=function(t){var e=new r(c({},this._options,t));return e.replaceAttributes(c({},this.getAttributes())),e},i.emptyCopy=function(t){var e=this.nullCopy(t);return this._nodes.forEach((function(t,n){var r=c({},t.attributes);t=new e.NodeDataClass(n,r),e._nodes.set(n,t)})),e},i.copy=function(t){if(\"string\"==typeof(t=t||{}).type&&t.type!==this.type&&\"mixed\"!==t.type)throw new Y('Graph.copy: cannot create an incompatible copy from \"'.concat(this.type,'\" type to \"').concat(t.type,'\" because this would mean losing information about the current graph.'));if(\"boolean\"==typeof t.multi&&t.multi!==this.multi&&!0!==t.multi)throw new Y(\"Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.\");if(\"boolean\"==typeof t.allowSelfLoops&&t.allowSelfLoops!==this.allowSelfLoops&&!0!==t.allowSelfLoops)throw new Y(\"Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.\");for(var e,n,r=this.emptyCopy(t),i=this._edges.values();!0!==(e=i.next()).done;)Ct(r,\"copy\",!1,(n=e.value).undirected,n.key,n.source.key,n.target.key,c({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return\"[object Graph]\"},i.inspect=function(){var e=this,n={};this._nodes.forEach((function(t,e){n[e]=t.attributes}));var r={},i={};this._edges.forEach((function(t,n){var o,a=t.undirected?\"--\":\"->\",u=\"\",c=t.source.key,s=t.target.key;t.undirected&&c>s&&(o=c,c=s,s=o);var d=\"(\".concat(c,\")\").concat(a,\"(\").concat(s,\")\");n.startsWith(\"geid_\")?e.multi&&(void 0===i[d]?i[d]=0:i[d]++,u+=\"\".concat(i[d],\". \")):u+=\"[\".concat(n,\"]: \"),r[u+=d]=t.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Nt.has(a)&&\"function\"!=typeof this[a]&&\"symbol\"!==t(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,f(o,\"constructor\",this.constructor),o},r}(w.exports.EventEmitter);\"undefined\"!=typeof Symbol&&(Wt.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=Wt.prototype.inspect),[{name:function(t){return\"\".concat(t,\"Edge\")},generateKey:!0},{name:function(t){return\"\".concat(t,\"DirectedEdge\")},generateKey:!0,type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdge\")},generateKey:!0,type:\"undirected\"},{name:function(t){return\"\".concat(t,\"EdgeWithKey\")}},{name:function(t){return\"\".concat(t,\"DirectedEdgeWithKey\")},type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdgeWithKey\")},type:\"undirected\"}].forEach((function(t){[\"add\",\"merge\",\"update\"].forEach((function(e){var n=t.name(e),r=\"add\"===e?Ct:zt;t.generateKey?Wt.prototype[n]=function(i,o,a){return r(this,n,!0,\"undirected\"===(t.type||this.type),null,i,o,a,\"update\"===e)}:Wt.prototype[n]=function(i,o,a,u){return r(this,n,!1,\"undirected\"===(t.type||this.type),i,o,a,u,\"update\"===e)}}))})),function(t){X.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Node\"),0),r(t,n(\"Source\"),1),r(t,n(\"Target\"),2),r(t,n(\"Opposite\"),3)}))}(Wt),function(t){Z.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Edge\"),\"mixed\"),r(t,n(\"DirectedEdge\"),\"directed\"),r(t,n(\"UndirectedEdge\"),\"undirected\")}))}(Wt),function(t){nt.forEach((function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];if(!arguments.length)return st(this,r);if(1===arguments.length){t=\"\"+t;var o=this._nodes.get(t);if(void 0===o)throw new I(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return ft(this.multi,\"mixed\"===r?this.type:r,i,o)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new I(\"Graph.\".concat(n,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(n,':  could not find the \"').concat(e,'\" target node in the graph.'));return yt(r,this.multi,i,a,e)}throw new F(\"Graph.\".concat(n,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){if(1===arguments.length)return dt(!1,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return pt(!1,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var u=this._nodes.get(t);if(!u)throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return gt(!1,r,this.multi,i,u,e,n)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){var t,e=Array.prototype.slice.call(arguments),n=e.pop();if(0===e.length){var i=0;\"directed\"!==r&&(i+=this.undirectedSize),\"undirected\"!==r&&(i+=this.directedSize),t=new Array(i);var a=0;e.push((function(e,r,i,o,u,c,s){t[a++]=n(e,r,i,o,u,c,s)}))}else t=[],e.push((function(e,r,i,o,a,u,c){t.push(n(e,r,i,o,a,u,c))}));return this[o].apply(this,e),t};var u=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=[];return t.push((function(t,r,i,o,a,u,c){e(t,r,i,o,a,u,c)&&n.push(t)})),this[o].apply(this,t),n};var c=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){var t,e,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new F(\"Graph.\".concat(c,\": invalid number of arguments (expecting 2, 3 or 4 and got \").concat(n.length,\").\"));if(\"function\"==typeof n[n.length-1]&&\"function\"!=typeof n[n.length-2])throw new F(\"Graph.\".concat(c,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));2===n.length?(t=n[0],e=n[1],n=[]):3===n.length?(t=n[1],e=n[2],n=[n[0]]):4===n.length&&(t=n[2],e=n[3],n=[n[0],n[1]]);var r=e;return n.push((function(e,n,i,o,a,u,c){r=t(r,e,n,i,o,a,u,c)})),this[o].apply(this,n),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"find\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return dt(!0,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return pt(!0,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var u=this._nodes.get(t);if(!u)throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return gt(!0,r,this.multi,i,u,e,n)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))};var a=\"some\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,u){return e(t,n,r,i,o,a,u)})),!!this[o].apply(this,t)};var u=\"every\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,u){return!e(t,n,r,i,o,a,u)})),!this[o].apply(this,t)}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();if(!arguments.length)return ht(this,r);if(1===arguments.length){t=\"\"+t;var n=this._nodes.get(t);if(!n)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return lt(r,i,n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return wt(r,i,a,e)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e)}))}(Wt),function(t){vt.forEach((function(e){Gt(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));kt(!1,\"mixed\"===r?this.type:r,i,n,e)}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(t,e){var n=[];return this[o](t,(function(t,r){n.push(e(t,r))})),n};var u=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(t,e){var n=[];return this[o](t,(function(t,r){e(t,r)&&n.push(t)})),n};var c=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(t,e,n){if(arguments.length<3)throw new F(\"Graph.\".concat(c,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));var r=n;return this[o](t,(function(t,n){r=e(r,t,n)})),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n[0].toUpperCase()+n.slice(1,-1),a=\"find\"+o;t.prototype[a]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new I(\"Graph.\".concat(a,': could not find the \"').concat(t,'\" node in the graph.'));return kt(!0,\"mixed\"===r?this.type:r,i,n,e)}};var u=\"some\"+o;t.prototype[u]=function(t,e){return!!this[a](t,e)};var c=\"every\"+o;t.prototype[c]=function(t,e){return!this[a](t,(function(t,n){return!e(t,n)}))}}(t,e),xt(t,e)}))}(Wt);var Pt=function(t){function n(e){var n=c({type:\"directed\"},e);if(\"multi\"in n&&!1!==n.multi)throw new F(\"DirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"directed\"!==n.type)throw new F('DirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt),Rt=function(t){function n(e){var n=c({type:\"undirected\"},e);if(\"multi\"in n&&!1!==n.multi)throw new F(\"UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"undirected\"!==n.type)throw new F('UndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt),Kt=function(t){function n(e){var n=c({multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiGraph.from: inconsistent indication that the graph should be simple in given options!\");return t.call(this,n)||this}return e(n,t),n}(Wt),Tt=function(t){function n(e){var n=c({type:\"directed\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"directed\"!==n.type)throw new F('MultiDirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt),Bt=function(t){function n(e){var n=c({type:\"undirected\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"undirected\"!==n.type)throw new F('MultiUndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt);function Ft(t){t.from=function(e,n){var r=c({},e.options,n),i=new t(r);return i.import(e),i}}return Ft(Wt),Ft(Pt),Ft(Rt),Ft(Kt),Ft(Tt),Ft(Bt),Wt.Graph=Wt,Wt.DirectedGraph=Pt,Wt.UndirectedGraph=Rt,Wt.MultiGraph=Kt,Wt.MultiDirectedGraph=Tt,Wt.MultiUndirectedGraph=Bt,Wt.InvalidArgumentsGraphError=F,Wt.NotFoundGraphError=I,Wt.UsageGraphError=Y,Wt}));\n//# sourceMappingURL=graphology.umd.min.js.map\n","/**\n * Mnemonist SparseMap\n * ====================\n *\n * JavaScript sparse map implemented on top of byte arrays.\n *\n * [Reference]: https://research.swtch.com/sparse\n */\nvar Iterator = require('obliterator/iterator'),\n    getPointerArray = require('./utils/typed-arrays.js').getPointerArray;\n\n/**\n * SparseMap.\n *\n * @constructor\n */\nfunction SparseMap(Values, length) {\n  if (arguments.length < 2) {\n    length = Values;\n    Values = Array;\n  }\n\n  var ByteArray = getPointerArray(length);\n\n  // Properties\n  this.size = 0;\n  this.length = length;\n  this.dense = new ByteArray(length);\n  this.sparse = new ByteArray(length);\n  this.vals = new Values(length);\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nSparseMap.prototype.clear = function() {\n  this.size = 0;\n};\n\n/**\n * Method used to check the existence of a member in the set.\n *\n * @param  {number} member - Member to test.\n * @return {SparseMap}\n */\nSparseMap.prototype.has = function(member) {\n  var index = this.sparse[member];\n\n  return (\n    index < this.size &&\n    this.dense[index] === member\n  );\n};\n\n/**\n * Method used to get the value associated to a member in the set.\n *\n * @param  {number} member - Member to test.\n * @return {any}\n */\nSparseMap.prototype.get = function(member) {\n  var index = this.sparse[member];\n\n  if (index < this.size && this.dense[index] === member)\n    return this.vals[index];\n\n  return;\n};\n\n/**\n * Method used to set a value into the map.\n *\n * @param  {number} member - Member to set.\n * @param  {any}    value  - Associated value.\n * @return {SparseMap}\n */\nSparseMap.prototype.set = function(member, value) {\n  var index = this.sparse[member];\n\n  if (index < this.size && this.dense[index] === member) {\n    this.vals[index] = value;\n    return this;\n  }\n\n  this.dense[this.size] = member;\n  this.sparse[member] = this.size;\n  this.vals[this.size] = value;\n  this.size++;\n\n  return this;\n};\n\n/**\n * Method used to remove a member from the set.\n *\n * @param  {number} member - Member to delete.\n * @return {boolean}\n */\nSparseMap.prototype.delete = function(member) {\n  var index = this.sparse[member];\n\n  if (index >= this.size || this.dense[index] !== member)\n    return false;\n\n  index = this.dense[this.size - 1];\n  this.dense[this.sparse[member]] = index;\n  this.sparse[index] = this.sparse[member];\n  this.size--;\n\n  return true;\n};\n\n/**\n * Method used to iterate over the set's values.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nSparseMap.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  for (var i = 0; i < this.size; i++)\n    callback.call(scope, this.vals[i], this.dense[i]);\n};\n\n/**\n * Method used to create an iterator over a set's members.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.keys = function() {\n  var size = this.size,\n      dense = this.dense,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = dense[i];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over a set's values.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.values = function() {\n  var size = this.size,\n      values = this.vals,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = values[i];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over a set's entries.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.entries = function() {\n  var size = this.size,\n      dense = this.dense,\n      values = this.vals,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = [dense[i], values[i]];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Attaching the #.entries method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  SparseMap.prototype[Symbol.iterator] = SparseMap.prototype.entries;\n\n/**\n * Convenience known methods.\n */\nSparseMap.prototype.inspect = function() {\n  var proxy = new Map();\n\n  for (var i = 0; i < this.size; i++)\n    proxy.set(this.dense[i], this.vals[i]);\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: SparseMap,\n    enumerable: false\n  });\n\n  proxy.length = this.length;\n\n  if (this.vals.constructor !== Array)\n    proxy.type = this.vals.constructor.name;\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  SparseMap.prototype[Symbol.for('nodejs.util.inspect.custom')] = SparseMap.prototype.inspect;\n\n/**\n * Exporting.\n */\nmodule.exports = SparseMap;\n","/**\n * Mnemonist SparseQueueSet\n * =========================\n *\n * JavaScript sparse queue set implemented on top of byte arrays.\n *\n * [Reference]: https://research.swtch.com/sparse\n */\nvar Iterator = require('obliterator/iterator'),\n    getPointerArray = require('./utils/typed-arrays.js').getPointerArray;\n\n/**\n * SparseQueueSet.\n *\n * @constructor\n */\nfunction SparseQueueSet(capacity) {\n\n  var ByteArray = getPointerArray(capacity);\n\n  // Properties\n  this.start = 0;\n  this.size = 0;\n  this.capacity = capacity;\n  this.dense = new ByteArray(capacity);\n  this.sparse = new ByteArray(capacity);\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nSparseQueueSet.prototype.clear = function() {\n  this.start = 0;\n  this.size = 0;\n};\n\n/**\n * Method used to check the existence of a member in the queue.\n *\n * @param  {number} member - Member to test.\n * @return {SparseQueueSet}\n */\nSparseQueueSet.prototype.has = function(member) {\n  if (this.size === 0)\n    return false;\n\n  var index = this.sparse[member];\n\n  var inBounds = (\n    index < this.capacity &&\n    (\n      index >= this.start &&\n      index < this.start + this.size\n    ) ||\n    (\n      index < ((this.start + this.size) % this.capacity)\n    )\n  );\n\n  return (\n    inBounds &&\n    this.dense[index] === member\n  );\n};\n\n/**\n * Method used to add a member to the queue.\n *\n * @param  {number} member - Member to add.\n * @return {SparseQueueSet}\n */\nSparseQueueSet.prototype.enqueue = function(member) {\n  var index = this.sparse[member];\n\n  if (this.size !== 0) {\n    var inBounds = (\n      index < this.capacity &&\n      (\n        index >= this.start &&\n        index < this.start + this.size\n      ) ||\n      (\n        index < ((this.start + this.size) % this.capacity)\n      )\n    );\n\n    if (inBounds && this.dense[index] === member)\n      return this;\n  }\n\n  index = (this.start + this.size) % this.capacity;\n\n  this.dense[index] = member;\n  this.sparse[member] = index;\n  this.size++;\n\n  return this;\n};\n\n/**\n * Method used to remove the next member from the queue.\n *\n * @param  {number} member - Member to delete.\n * @return {boolean}\n */\nSparseQueueSet.prototype.dequeue = function() {\n  if (this.size === 0)\n    return;\n\n  var index = this.start;\n\n  this.size--;\n  this.start++;\n\n  if (this.start === this.capacity)\n    this.start = 0;\n\n  var member = this.dense[index];\n\n  this.sparse[member] = this.capacity;\n\n  return member;\n};\n\n/**\n * Method used to iterate over the queue's values.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nSparseQueueSet.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  var c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  while (j < l) {\n    callback.call(scope, this.dense[i], j, this);\n    i++;\n    j++;\n\n    if (i === c)\n      i = 0;\n  }\n};\n\n/**\n * Method used to create an iterator over a set's values.\n *\n * @return {Iterator}\n */\nSparseQueueSet.prototype.values = function() {\n  var dense = this.dense,\n      c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  return new Iterator(function() {\n    if (j >= l)\n      return {\n        done: true\n      };\n\n    var value = dense[i];\n\n    i++;\n    j++;\n\n    if (i === c)\n      i = 0;\n\n    return {\n      value: value,\n      done: false\n    };\n  });\n};\n\n/**\n * Attaching the #.values method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  SparseQueueSet.prototype[Symbol.iterator] = SparseQueueSet.prototype.values;\n\n/**\n * Convenience known methods.\n */\nSparseQueueSet.prototype.inspect = function() {\n  var proxy = [];\n\n  this.forEach(function(member) {\n    proxy.push(member);\n  });\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: SparseQueueSet,\n    enumerable: false\n  });\n\n  proxy.capacity = this.capacity;\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  SparseQueueSet.prototype[Symbol.for('nodejs.util.inspect.custom')] = SparseQueueSet.prototype.inspect;\n\n/**\n * Exporting.\n */\nmodule.exports = SparseQueueSet;\n","/**\n * Mnemonist Typed Array Helpers\n * ==============================\n *\n * Miscellaneous helpers related to typed arrays.\n */\n\n/**\n * When using an unsigned integer array to store pointers, one might want to\n * choose the optimal word size in regards to the actual numbers of pointers\n * to store.\n *\n * This helpers does just that.\n *\n * @param  {number} size - Expected size of the array to map.\n * @return {TypedArray}\n */\nvar MAX_8BIT_INTEGER = Math.pow(2, 8) - 1,\n    MAX_16BIT_INTEGER = Math.pow(2, 16) - 1,\n    MAX_32BIT_INTEGER = Math.pow(2, 32) - 1;\n\nvar MAX_SIGNED_8BIT_INTEGER = Math.pow(2, 7) - 1,\n    MAX_SIGNED_16BIT_INTEGER = Math.pow(2, 15) - 1,\n    MAX_SIGNED_32BIT_INTEGER = Math.pow(2, 31) - 1;\n\nexports.getPointerArray = function(size) {\n  var maxIndex = size - 1;\n\n  if (maxIndex <= MAX_8BIT_INTEGER)\n    return Uint8Array;\n\n  if (maxIndex <= MAX_16BIT_INTEGER)\n    return Uint16Array;\n\n  if (maxIndex <= MAX_32BIT_INTEGER)\n    return Uint32Array;\n\n  throw new Error('mnemonist: Pointer Array of size > 4294967295 is not supported.');\n};\n\nexports.getSignedPointerArray = function(size) {\n  var maxIndex = size - 1;\n\n  if (maxIndex <= MAX_SIGNED_8BIT_INTEGER)\n    return Int8Array;\n\n  if (maxIndex <= MAX_SIGNED_16BIT_INTEGER)\n    return Int16Array;\n\n  if (maxIndex <= MAX_SIGNED_32BIT_INTEGER)\n    return Int32Array;\n\n  return Float64Array;\n};\n\n/**\n * Function returning the minimal type able to represent the given number.\n *\n * @param  {number} value - Value to test.\n * @return {TypedArrayClass}\n */\nexports.getNumberType = function(value) {\n\n  // <= 32 bits itnteger?\n  if (value === (value | 0)) {\n\n    // Negative\n    if (Math.sign(value) === -1) {\n      if (value <= 127 && value >= -128)\n        return Int8Array;\n\n      if (value <= 32767 && value >= -32768)\n        return Int16Array;\n\n      return Int32Array;\n    }\n    else {\n\n      if (value <= 255)\n        return Uint8Array;\n\n      if (value <= 65535)\n        return Uint16Array;\n\n      return Uint32Array;\n    }\n  }\n\n  // 53 bits integer & floats\n  // NOTE: it's kinda hard to tell whether we could use 32bits or not...\n  return Float64Array;\n};\n\n/**\n * Function returning the minimal type able to represent the given array\n * of JavaScript numbers.\n *\n * @param  {array}    array  - Array to represent.\n * @param  {function} getter - Optional getter.\n * @return {TypedArrayClass}\n */\nvar TYPE_PRIORITY = {\n  Uint8Array: 1,\n  Int8Array: 2,\n  Uint16Array: 3,\n  Int16Array: 4,\n  Uint32Array: 5,\n  Int32Array: 6,\n  Float32Array: 7,\n  Float64Array: 8\n};\n\n// TODO: make this a one-shot for one value\nexports.getMinimalRepresentation = function(array, getter) {\n  var maxType = null,\n      maxPriority = 0,\n      p,\n      t,\n      v,\n      i,\n      l;\n\n  for (i = 0, l = array.length; i < l; i++) {\n    v = getter ? getter(array[i]) : array[i];\n    t = exports.getNumberType(v);\n    p = TYPE_PRIORITY[t.name];\n\n    if (p > maxPriority) {\n      maxPriority = p;\n      maxType = t;\n    }\n  }\n\n  return maxType;\n};\n\n/**\n * Function returning whether the given value is a typed array.\n *\n * @param  {any} value - Value to test.\n * @return {boolean}\n */\nexports.isTypedArray = function(value) {\n  return typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView(value);\n};\n\n/**\n * Function used to concat byte arrays.\n *\n * @param  {...ByteArray}\n * @return {ByteArray}\n */\nexports.concat = function() {\n  var length = 0,\n      i,\n      o,\n      l;\n\n  for (i = 0, l = arguments.length; i < l; i++)\n    length += arguments[i].length;\n\n  var array = new (arguments[0].constructor)(length);\n\n  for (i = 0, o = 0; i < l; i++) {\n    array.set(arguments[i], o);\n    o += arguments[i].length;\n  }\n\n  return array;\n};\n\n/**\n * Function used to initialize a byte array of indices.\n *\n * @param  {number}    length - Length of target.\n * @return {ByteArray}\n */\nexports.indices = function(length) {\n  var PointerArray = exports.getPointerArray(length);\n\n  var array = new PointerArray(length);\n\n  for (var i = 0; i < length; i++)\n    array[i] = i;\n\n  return array;\n};\n","/**\n * Obliterator Iterator Class\n * ===========================\n *\n * Simple class representing the library's iterators.\n */\n\n/**\n * Iterator class.\n *\n * @constructor\n * @param {function} next - Next function.\n */\nfunction Iterator(next) {\n  if (typeof next !== 'function')\n    throw new Error('obliterator/iterator: expecting a function!');\n\n  this.next = next;\n}\n\n/**\n * If symbols are supported, we add `next` to `Symbol.iterator`.\n */\nif (typeof Symbol !== 'undefined')\n  Iterator.prototype[Symbol.iterator] = function () {\n    return this;\n  };\n\n/**\n * Returning an iterator of the given values.\n *\n * @param  {any...} values - Values.\n * @return {Iterator}\n */\nIterator.of = function () {\n  var args = arguments,\n    l = args.length,\n    i = 0;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: args[i++]};\n  });\n};\n\n/**\n * Returning an empty iterator.\n *\n * @return {Iterator}\n */\nIterator.empty = function () {\n  var iterator = new Iterator(function () {\n    return {done: true};\n  });\n\n  return iterator;\n};\n\n/**\n * Returning an iterator over the given indexed sequence.\n *\n * @param  {string|Array} sequence - Target sequence.\n * @return {Iterator}\n */\nIterator.fromSequence = function (sequence) {\n  var i = 0,\n    l = sequence.length;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: sequence[i++]};\n  });\n};\n\n/**\n * Returning whether the given value is an iterator.\n *\n * @param  {any} value - Value.\n * @return {boolean}\n */\nIterator.is = function (value) {\n  if (value instanceof Iterator) return true;\n\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    typeof value.next === 'function'\n  );\n};\n\n/**\n * Exporting.\n */\nmodule.exports = Iterator;\n","/**\n * Pandemonium Random Index\n * =========================\n *\n * Random index function.\n */\n\n/**\n * Creating a function returning a random index from the given array.\n *\n * @param  {function} rng - RNG function returning uniform random.\n * @return {function}     - The created function.\n */\nfunction createRandomIndex(rng) {\n  /**\n   * Random function.\n   *\n   * @param  {array|number}  array - Target array or length of the array.\n   * @return {number}\n   */\n  return function (length) {\n    if (typeof length !== 'number') length = length.length;\n\n    return Math.floor(rng() * length);\n  };\n}\n\n/**\n * Default random index using `Math.random`.\n */\nvar randomIndex = createRandomIndex(Math.random);\n\n/**\n * Exporting.\n */\nrandomIndex.createRandomIndex = createRandomIndex;\nmodule.exports = randomIndex;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js Camera Class\n * ======================\n *\n * Class designed to store camera information & used to update it.\n * @module\n */\nvar animate_1 = require(\"../utils/animate\");\nvar easings_1 = __importDefault(require(\"../utils/easings\"));\nvar utils_1 = require(\"../utils\");\nvar types_1 = require(\"../types\");\n/**\n * Defaults.\n */\nvar DEFAULT_ZOOMING_RATIO = 1.5;\n/**\n * Camera class\n *\n * @constructor\n */\nvar Camera = /** @class */ (function (_super) {\n    __extends(Camera, _super);\n    function Camera() {\n        var _this = _super.call(this) || this;\n        _this.x = 0.5;\n        _this.y = 0.5;\n        _this.angle = 0;\n        _this.ratio = 1;\n        _this.minRatio = null;\n        _this.maxRatio = null;\n        _this.nextFrame = null;\n        _this.previousState = null;\n        _this.enabled = true;\n        // State\n        _this.previousState = _this.getState();\n        return _this;\n    }\n    /**\n     * Static method used to create a Camera object with a given state.\n     *\n     * @param state\n     * @return {Camera}\n     */\n    Camera.from = function (state) {\n        var camera = new Camera();\n        return camera.setState(state);\n    };\n    /**\n     * Method used to enable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.enable = function () {\n        this.enabled = true;\n        return this;\n    };\n    /**\n     * Method used to disable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.disable = function () {\n        this.enabled = false;\n        return this;\n    };\n    /**\n     * Method used to retrieve the camera's current state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getState = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            angle: this.angle,\n            ratio: this.ratio,\n        };\n    };\n    /**\n     * Method used to check whether the camera has the given state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.hasState = function (state) {\n        return this.x === state.x && this.y === state.y && this.ratio === state.ratio && this.angle === state.angle;\n    };\n    /**\n     * Method used to retrieve the camera's previous state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getPreviousState = function () {\n        var state = this.previousState;\n        if (!state)\n            return null;\n        return {\n            x: state.x,\n            y: state.y,\n            angle: state.angle,\n            ratio: state.ratio,\n        };\n    };\n    /**\n     * Method used to check minRatio and maxRatio values.\n     *\n     * @param ratio\n     * @return {number}\n     */\n    Camera.prototype.getBoundedRatio = function (ratio) {\n        var r = ratio;\n        if (typeof this.minRatio === \"number\")\n            r = Math.max(r, this.minRatio);\n        if (typeof this.maxRatio === \"number\")\n            r = Math.min(r, this.maxRatio);\n        return r;\n    };\n    /**\n     * Method used to check various things to return a legit state candidate.\n     *\n     * @param state\n     * @return {object}\n     */\n    Camera.prototype.validateState = function (state) {\n        var validatedState = {};\n        if (typeof state.x === \"number\")\n            validatedState.x = state.x;\n        if (typeof state.y === \"number\")\n            validatedState.y = state.y;\n        if (typeof state.angle === \"number\")\n            validatedState.angle = state.angle;\n        if (typeof state.ratio === \"number\")\n            validatedState.ratio = this.getBoundedRatio(state.ratio);\n        return validatedState;\n    };\n    /**\n     * Method used to check whether the camera is currently being animated.\n     *\n     * @return {boolean}\n     */\n    Camera.prototype.isAnimated = function () {\n        return !!this.nextFrame;\n    };\n    /**\n     * Method used to set the camera's state.\n     *\n     * @param  {object} state - New state.\n     * @return {Camera}\n     */\n    Camera.prototype.setState = function (state) {\n        if (!this.enabled)\n            return this;\n        // TODO: update by function\n        // Keeping track of last state\n        this.previousState = this.getState();\n        var validState = this.validateState(state);\n        if (typeof validState.x === \"number\")\n            this.x = validState.x;\n        if (typeof validState.y === \"number\")\n            this.y = validState.y;\n        if (typeof validState.angle === \"number\")\n            this.angle = validState.angle;\n        if (typeof validState.ratio === \"number\")\n            this.ratio = validState.ratio;\n        // Emitting\n        if (!this.hasState(this.previousState))\n            this.emit(\"updated\", this.getState());\n        return this;\n    };\n    /**\n     * Method used to animate the camera.\n     *\n     * @param  {object}                    state      - State to reach eventually.\n     * @param  {object}                    opts       - Options:\n     * @param  {number}                      duration - Duration of the animation.\n     * @param  {string | number => number}   easing   - Easing function or name of an existing one\n     * @param  {function}                  callback   - Callback\n     */\n    Camera.prototype.animate = function (state, opts, callback) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var options = Object.assign({}, animate_1.ANIMATE_DEFAULTS, opts);\n        var validState = this.validateState(state);\n        var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n        // State\n        var start = Date.now(), initialState = this.getState();\n        // Function performing the animation\n        var fn = function () {\n            var t = (Date.now() - start) / options.duration;\n            // The animation is over:\n            if (t >= 1) {\n                _this.nextFrame = null;\n                _this.setState(validState);\n                if (_this.animationCallback) {\n                    _this.animationCallback.call(null);\n                    _this.animationCallback = undefined;\n                }\n                return;\n            }\n            var coefficient = easing(t);\n            var newState = {};\n            if (typeof validState.x === \"number\")\n                newState.x = initialState.x + (validState.x - initialState.x) * coefficient;\n            if (typeof validState.y === \"number\")\n                newState.y = initialState.y + (validState.y - initialState.y) * coefficient;\n            if (typeof validState.angle === \"number\")\n                newState.angle = initialState.angle + (validState.angle - initialState.angle) * coefficient;\n            if (typeof validState.ratio === \"number\")\n                newState.ratio = initialState.ratio + (validState.ratio - initialState.ratio) * coefficient;\n            _this.setState(newState);\n            _this.nextFrame = (0, utils_1.requestFrame)(fn);\n        };\n        if (this.nextFrame) {\n            (0, utils_1.cancelFrame)(this.nextFrame);\n            if (this.animationCallback)\n                this.animationCallback.call(null);\n            this.nextFrame = (0, utils_1.requestFrame)(fn);\n        }\n        else {\n            fn();\n        }\n        this.animationCallback = callback;\n    };\n    /**\n     * Method used to zoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     * @return {function}\n     */\n    Camera.prototype.animatedZoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio / DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio / factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio / (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to unzoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     */\n    Camera.prototype.animatedUnzoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio * DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio * factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio * (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to reset the camera.\n     *\n     * @param  {object} options - Options.\n     */\n    Camera.prototype.animatedReset = function (options) {\n        this.animate({\n            x: 0.5,\n            y: 0.5,\n            ratio: 1,\n            angle: 0,\n        }, options);\n    };\n    /**\n     * Returns a new Camera instance, with the same state as the current camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.copy = function () {\n        return Camera.from(this.getState());\n    };\n    return Camera;\n}(types_1.TypedEventEmitter));\nexports.default = Camera;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWheelDelta = exports.getTouchCoords = exports.getTouchesArray = exports.getWheelCoords = exports.getMouseCoords = exports.getPosition = void 0;\n/**\n * Sigma.js Captor Class\n * ======================\n * @module\n */\nvar types_1 = require(\"../../types\");\n/**\n * Captor utils functions\n * ======================\n */\n/**\n * Extract the local X and Y coordinates from a mouse event or touch object. If\n * a DOM element is given, it uses this element's offset to compute the position\n * (this allows using events that are not bound to the container itself and\n * still have a proper position).\n *\n * @param  {event}       e - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {number}      The local Y value of the mouse.\n */\nfunction getPosition(e, dom) {\n    var bbox = dom.getBoundingClientRect();\n    return {\n        x: e.clientX - bbox.left,\n        y: e.clientY - bbox.top,\n    };\n}\nexports.getPosition = getPosition;\n/**\n * Convert mouse coords to sigma coords.\n *\n * @param  {event}       e   - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getMouseCoords(e, dom) {\n    var res = __assign(__assign({}, getPosition(e, dom)), { sigmaDefaultPrevented: false, preventSigmaDefault: function () {\n            res.sigmaDefaultPrevented = true;\n        }, original: e });\n    return res;\n}\nexports.getMouseCoords = getMouseCoords;\n/**\n * Convert mouse wheel event coords to sigma coords.\n *\n * @param  {event}       e   - A wheel mouse event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getWheelCoords(e, dom) {\n    return __assign(__assign({}, getMouseCoords(e, dom)), { delta: getWheelDelta(e) });\n}\nexports.getWheelCoords = getWheelCoords;\nvar MAX_TOUCHES = 2;\nfunction getTouchesArray(touches) {\n    var arr = [];\n    for (var i = 0, l = Math.min(touches.length, MAX_TOUCHES); i < l; i++)\n        arr.push(touches[i]);\n    return arr;\n}\nexports.getTouchesArray = getTouchesArray;\n/**\n * Convert touch coords to sigma coords.\n *\n * @param  {event}       e   - A touch event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getTouchCoords(e, dom) {\n    return {\n        touches: getTouchesArray(e.touches).map(function (touch) { return getPosition(touch, dom); }),\n        original: e,\n    };\n}\nexports.getTouchCoords = getTouchCoords;\n/**\n * Extract the wheel delta from a mouse event or touch object.\n *\n * @param  {event}  e - A mouse event or touch object.\n * @return {number}     The wheel delta of the mouse.\n */\nfunction getWheelDelta(e) {\n    // TODO: check those ratios again to ensure a clean Chrome/Firefox compat\n    if (typeof e.deltaY !== \"undefined\")\n        return (e.deltaY * -3) / 360;\n    if (typeof e.detail !== \"undefined\")\n        return e.detail / -9;\n    throw new Error(\"Captor: could not extract delta from event.\");\n}\nexports.getWheelDelta = getWheelDelta;\n/**\n * Abstract class representing a captor like the user's mouse or touch controls.\n */\nvar Captor = /** @class */ (function (_super) {\n    __extends(Captor, _super);\n    function Captor(container, renderer) {\n        var _this = _super.call(this) || this;\n        // Properties\n        _this.container = container;\n        _this.renderer = renderer;\n        return _this;\n    }\n    return Captor;\n}(types_1.TypedEventEmitter));\nexports.default = Captor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\n/**\n * Constants.\n */\nvar DRAG_TIMEOUT = 100;\nvar DRAGGED_EVENTS_TOLERANCE = 3;\nvar MOUSE_INERTIA_DURATION = 200;\nvar MOUSE_INERTIA_RATIO = 3;\nvar MOUSE_ZOOM_DURATION = 250;\nvar ZOOMING_RATIO = 1.7;\nvar DOUBLE_CLICK_TIMEOUT = 300;\nvar DOUBLE_CLICK_ZOOMING_RATIO = 2.2;\nvar DOUBLE_CLICK_ZOOMING_DURATION = 200;\n/**\n * Mouse captor class.\n *\n * @constructor\n */\nvar MouseCaptor = /** @class */ (function (_super) {\n    __extends(MouseCaptor, _super);\n    function MouseCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        // State\n        _this.enabled = true;\n        _this.draggedEvents = 0;\n        _this.downStartTime = null;\n        _this.lastMouseX = null;\n        _this.lastMouseY = null;\n        _this.isMouseDown = false;\n        _this.isMoving = false;\n        _this.movingTimeout = null;\n        _this.startCameraState = null;\n        _this.clicks = 0;\n        _this.doubleClickTimeout = null;\n        _this.currentWheelDirection = 0;\n        // Binding methods\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleRightClick = _this.handleRightClick.bind(_this);\n        _this.handleDown = _this.handleDown.bind(_this);\n        _this.handleUp = _this.handleUp.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        _this.handleWheel = _this.handleWheel.bind(_this);\n        _this.handleOut = _this.handleOut.bind(_this);\n        // Binding events\n        container.addEventListener(\"click\", _this.handleClick, false);\n        container.addEventListener(\"contextmenu\", _this.handleRightClick, false);\n        container.addEventListener(\"mousedown\", _this.handleDown, false);\n        container.addEventListener(\"wheel\", _this.handleWheel, false);\n        container.addEventListener(\"mouseout\", _this.handleOut, false);\n        document.addEventListener(\"mousemove\", _this.handleMove, false);\n        document.addEventListener(\"mouseup\", _this.handleUp, false);\n        return _this;\n    }\n    MouseCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"click\", this.handleClick);\n        container.removeEventListener(\"contextmenu\", this.handleRightClick);\n        container.removeEventListener(\"mousedown\", this.handleDown);\n        container.removeEventListener(\"wheel\", this.handleWheel);\n        container.removeEventListener(\"mouseout\", this.handleOut);\n        document.removeEventListener(\"mousemove\", this.handleMove);\n        document.removeEventListener(\"mouseup\", this.handleUp);\n    };\n    MouseCaptor.prototype.handleClick = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        this.clicks++;\n        if (this.clicks === 2) {\n            this.clicks = 0;\n            if (typeof this.doubleClickTimeout === \"number\") {\n                clearTimeout(this.doubleClickTimeout);\n                this.doubleClickTimeout = null;\n            }\n            return this.handleDoubleClick(e);\n        }\n        setTimeout(function () {\n            _this.clicks = 0;\n            _this.doubleClickTimeout = null;\n        }, DOUBLE_CLICK_TIMEOUT);\n        // NOTE: this is here to prevent click events on drag\n        if (this.draggedEvents < DRAGGED_EVENTS_TOLERANCE)\n            this.emit(\"click\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleRightClick = function (e) {\n        if (!this.enabled)\n            return;\n        this.emit(\"rightClick\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleDoubleClick = function (e) {\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        this.emit(\"doubleClick\", mouseCoords);\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // default behavior\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio / DOUBLE_CLICK_ZOOMING_RATIO);\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticInOut\",\n            duration: DOUBLE_CLICK_ZOOMING_DURATION,\n        });\n    };\n    MouseCaptor.prototype.handleDown = function (e) {\n        if (!this.enabled)\n            return;\n        this.startCameraState = this.renderer.getCamera().getState();\n        var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n        this.lastMouseX = x;\n        this.lastMouseY = y;\n        this.draggedEvents = 0;\n        this.downStartTime = Date.now();\n        // TODO: dispatch events\n        // Left button pressed\n        this.isMouseDown = true;\n        this.emit(\"mousedown\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleUp = function (e) {\n        var _this = this;\n        if (!this.enabled || !this.isMouseDown)\n            return;\n        var camera = this.renderer.getCamera();\n        this.isMouseDown = false;\n        if (typeof this.movingTimeout === \"number\") {\n            clearTimeout(this.movingTimeout);\n            this.movingTimeout = null;\n        }\n        var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n        var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n        if (this.isMoving) {\n            camera.animate({\n                x: cameraState.x + MOUSE_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                y: cameraState.y + MOUSE_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n            }, {\n                duration: MOUSE_INERTIA_DURATION,\n                easing: \"quadraticOut\",\n            });\n        }\n        else if (this.lastMouseX !== x || this.lastMouseY !== y) {\n            camera.setState({\n                x: cameraState.x,\n                y: cameraState.y,\n            });\n        }\n        this.isMoving = false;\n        setTimeout(function () {\n            _this.draggedEvents = 0;\n            _this.renderer.refresh();\n        }, 0);\n        this.emit(\"mouseup\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleMove = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        // Always trigger a \"mousemovebody\" event, so that it is possible to develop\n        // a drag-and-drop effect that works even when the mouse is out of the\n        // container:\n        this.emit(\"mousemovebody\", mouseCoords);\n        // Only trigger the \"mousemove\" event when the mouse is actually hovering\n        // the container, to avoid weirdly hovering nodes and/or edges when the\n        // mouse is not hover the container:\n        if (e.target === this.container) {\n            this.emit(\"mousemove\", mouseCoords);\n        }\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // Handle the case when \"isMouseDown\" all the time, to allow dragging the\n        // stage while the mouse is not hover the container:\n        if (this.isMouseDown) {\n            this.isMoving = true;\n            this.draggedEvents++;\n            if (typeof this.movingTimeout === \"number\") {\n                clearTimeout(this.movingTimeout);\n            }\n            this.movingTimeout = window.setTimeout(function () {\n                _this.movingTimeout = null;\n                _this.isMoving = false;\n            }, DRAG_TIMEOUT);\n            var camera = this.renderer.getCamera();\n            var _a = (0, captor_1.getPosition)(e, this.container), eX = _a.x, eY = _a.y;\n            var lastMouse = this.renderer.viewportToFramedGraph({\n                x: this.lastMouseX,\n                y: this.lastMouseY,\n            });\n            var mouse = this.renderer.viewportToFramedGraph({ x: eX, y: eY });\n            var offsetX = lastMouse.x - mouse.x, offsetY = lastMouse.y - mouse.y;\n            var cameraState = camera.getState();\n            var x = cameraState.x + offsetX, y = cameraState.y + offsetY;\n            camera.setState({ x: x, y: y });\n            this.lastMouseX = eX;\n            this.lastMouseY = eY;\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    };\n    MouseCaptor.prototype.handleWheel = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var delta = (0, captor_1.getWheelDelta)(e);\n        if (!delta)\n            return;\n        var wheelCoords = (0, captor_1.getWheelCoords)(e, this.container);\n        this.emit(\"wheel\", wheelCoords);\n        if (wheelCoords.sigmaDefaultPrevented)\n            return;\n        // Default behavior\n        var ratioDiff = delta > 0 ? 1 / ZOOMING_RATIO : ZOOMING_RATIO;\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio * ratioDiff);\n        var wheelDirection = delta > 0 ? 1 : -1;\n        var now = Date.now();\n        // Cancel events that are too close too each other and in the same direction:\n        if (this.currentWheelDirection === wheelDirection &&\n            this.lastWheelTriggerTime &&\n            now - this.lastWheelTriggerTime < MOUSE_ZOOM_DURATION / 5) {\n            return;\n        }\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticOut\",\n            duration: MOUSE_ZOOM_DURATION,\n        }, function () {\n            _this.currentWheelDirection = 0;\n        });\n        this.currentWheelDirection = wheelDirection;\n        this.lastWheelTriggerTime = now;\n    };\n    MouseCaptor.prototype.handleOut = function () {\n        // TODO: dispatch event\n    };\n    return MouseCaptor;\n}(captor_1.default));\nexports.default = MouseCaptor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\nvar DRAG_TIMEOUT = 200;\nvar TOUCH_INERTIA_RATIO = 3;\nvar TOUCH_INERTIA_DURATION = 200;\n/**\n * Touch captor class.\n *\n * @constructor\n */\nvar TouchCaptor = /** @class */ (function (_super) {\n    __extends(TouchCaptor, _super);\n    function TouchCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        _this.enabled = true;\n        _this.isMoving = false;\n        _this.touchMode = 0; // number of touches down\n        // Binding methods:\n        _this.handleStart = _this.handleStart.bind(_this);\n        _this.handleLeave = _this.handleLeave.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        // Binding events\n        container.addEventListener(\"touchstart\", _this.handleStart, false);\n        container.addEventListener(\"touchend\", _this.handleLeave, false);\n        container.addEventListener(\"touchcancel\", _this.handleLeave, false);\n        container.addEventListener(\"touchmove\", _this.handleMove, false);\n        return _this;\n    }\n    TouchCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"touchstart\", this.handleStart);\n        container.removeEventListener(\"touchend\", this.handleLeave);\n        container.removeEventListener(\"touchcancel\", this.handleLeave);\n        container.removeEventListener(\"touchmove\", this.handleMove);\n    };\n    TouchCaptor.prototype.getDimensions = function () {\n        return {\n            width: this.container.offsetWidth,\n            height: this.container.offsetHeight,\n        };\n    };\n    TouchCaptor.prototype.dispatchRelatedMouseEvent = function (type, e, position, emitter) {\n        var mousePosition = position || (0, captor_1.getPosition)(e.touches[0], this.container);\n        var mouseEvent = new MouseEvent(type, {\n            clientX: mousePosition.x,\n            clientY: mousePosition.y,\n            altKey: e.altKey,\n            ctrlKey: e.ctrlKey,\n        });\n        mouseEvent.isFakeSigmaMouseEvent = true;\n        (emitter || this.container).dispatchEvent(mouseEvent);\n    };\n    TouchCaptor.prototype.handleStart = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousedown\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        this.isMoving = true;\n        this.touchMode = touches.length;\n        this.startCameraState = this.renderer.getCamera().getState();\n        this.startTouchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouchesPositions = this.startTouchesPositions;\n        // When there are two touches down, let's record distance and angle as well:\n        if (this.touchMode === 2) {\n            var _a = __read(this.startTouchesPositions, 2), _b = _a[0], x0 = _b.x, y0 = _b.y, _c = _a[1], x1 = _c.x, y1 = _c.y;\n            this.startTouchesAngle = Math.atan2(y1 - y0, x1 - x0);\n            this.startTouchesDistance = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n        }\n        this.emit(\"touchdown\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleLeave = function (e) {\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 0 && this.lastTouchesPositions && this.lastTouchesPositions.length) {\n            this.dispatchRelatedMouseEvent(\"mouseup\", e, this.lastTouchesPositions[0], document);\n            this.dispatchRelatedMouseEvent(\"click\", e, this.lastTouchesPositions[0]);\n        }\n        if (this.movingTimeout) {\n            this.isMoving = false;\n            clearTimeout(this.movingTimeout);\n        }\n        switch (this.touchMode) {\n            case 2:\n                if (e.touches.length === 1) {\n                    this.handleStart(e);\n                    e.preventDefault();\n                    break;\n                }\n            /* falls through */\n            case 1:\n                // TODO\n                // Dispatch event\n                if (this.isMoving) {\n                    var camera = this.renderer.getCamera();\n                    var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n                    camera.animate({\n                        x: cameraState.x + TOUCH_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                        y: cameraState.y + TOUCH_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n                    }, {\n                        duration: TOUCH_INERTIA_DURATION,\n                        easing: \"quadraticOut\",\n                    });\n                }\n                this.isMoving = false;\n                this.touchMode = 0;\n                break;\n        }\n        this.emit(\"touchup\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleMove = function (e) {\n        var _a;\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousemove\", e);\n        var camera = this.renderer.getCamera();\n        var startCameraState = this.startCameraState;\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        var touchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouchesPositions = touchesPositions;\n        this.isMoving = true;\n        if (this.movingTimeout)\n            clearTimeout(this.movingTimeout);\n        this.movingTimeout = window.setTimeout(function () {\n            _this.isMoving = false;\n        }, DRAG_TIMEOUT);\n        switch (this.touchMode) {\n            case 1: {\n                var _b = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0]), xStart = _b.x, yStart = _b.y;\n                var _c = this.renderer.viewportToFramedGraph(touchesPositions[0]), x = _c.x, y = _c.y;\n                camera.setState({\n                    x: startCameraState.x + xStart - x,\n                    y: startCameraState.y + yStart - y,\n                });\n                break;\n            }\n            case 2: {\n                /**\n                 * Here is the thinking here:\n                 *\n                 * 1. We can find the new angle and ratio, by comparing the vector from \"touch one\" to \"touch two\" at the start\n                 *    of the d'n'd and now\n                 *\n                 * 2. We can use `Camera#viewportToGraph` inside formula to retrieve the new camera position, using the graph\n                 *    position of a touch at the beginning of the d'n'd (using `startCamera.viewportToGraph`) and the viewport\n                 *    position of this same touch now\n                 */\n                var newCameraState = {};\n                var _d = touchesPositions[0], x0 = _d.x, y0 = _d.y;\n                var _e = touchesPositions[1], x1 = _e.x, y1 = _e.y;\n                var angleDiff = Math.atan2(y1 - y0, x1 - x0) - this.startTouchesAngle;\n                var ratioDiff = Math.hypot(y1 - y0, x1 - x0) / this.startTouchesDistance;\n                // 1.\n                var newRatio = camera.getBoundedRatio(startCameraState.ratio / ratioDiff);\n                newCameraState.ratio = newRatio;\n                newCameraState.angle = startCameraState.angle + angleDiff;\n                // 2.\n                var dimensions = this.getDimensions();\n                var touchGraphPosition = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0], { cameraState: startCameraState });\n                var smallestDimension = Math.min(dimensions.width, dimensions.height);\n                var dx = smallestDimension / dimensions.width;\n                var dy = smallestDimension / dimensions.height;\n                var ratio = newRatio / smallestDimension;\n                // Align with center of the graph:\n                var x = x0 - smallestDimension / 2 / dx;\n                var y = y0 - smallestDimension / 2 / dy;\n                // Rotate:\n                _a = __read([\n                    x * Math.cos(-newCameraState.angle) - y * Math.sin(-newCameraState.angle),\n                    y * Math.cos(-newCameraState.angle) + x * Math.sin(-newCameraState.angle),\n                ], 2), x = _a[0], y = _a[1];\n                newCameraState.x = touchGraphPosition.x - x * ratio;\n                newCameraState.y = touchGraphPosition.y + y * ratio;\n                camera.setState(newCameraState);\n                break;\n            }\n        }\n        this.emit(\"touchmove\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    return TouchCaptor;\n}(captor_1.default));\nexports.default = TouchCaptor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.edgeLabelsToDisplayFromNodes = exports.LabelGrid = void 0;\n/**\n * Class representing a single candidate for the label grid selection.\n *\n * It also describes a deterministic way to compare two candidates to assess\n * which one is better.\n */\nvar LabelCandidate = /** @class */ (function () {\n    function LabelCandidate(key, size) {\n        this.key = key;\n        this.size = size;\n    }\n    LabelCandidate.compare = function (first, second) {\n        // First we compare by size\n        if (first.size > second.size)\n            return -1;\n        if (first.size < second.size)\n            return 1;\n        // Then since no two nodes can have the same key, we use it to\n        // deterministically tie-break by key\n        if (first.key > second.key)\n            return 1;\n        // NOTE: this comparator cannot return 0\n        return -1;\n    };\n    return LabelCandidate;\n}());\n/**\n * Class representing a 2D spatial grid divided into constant-size cells.\n */\nvar LabelGrid = /** @class */ (function () {\n    function LabelGrid() {\n        this.width = 0;\n        this.height = 0;\n        this.cellSize = 0;\n        this.columns = 0;\n        this.rows = 0;\n        this.cells = {};\n    }\n    LabelGrid.prototype.resizeAndClear = function (dimensions, cellSize) {\n        this.width = dimensions.width;\n        this.height = dimensions.height;\n        this.cellSize = cellSize;\n        this.columns = Math.ceil(dimensions.width / cellSize);\n        this.rows = Math.ceil(dimensions.height / cellSize);\n        this.cells = {};\n    };\n    LabelGrid.prototype.getIndex = function (pos) {\n        var xIndex = Math.floor(pos.x / this.cellSize);\n        var yIndex = Math.floor(pos.y / this.cellSize);\n        return yIndex * this.columns + xIndex;\n    };\n    LabelGrid.prototype.add = function (key, size, pos) {\n        var candidate = new LabelCandidate(key, size);\n        var index = this.getIndex(pos);\n        var cell = this.cells[index];\n        if (!cell) {\n            cell = [];\n            this.cells[index] = cell;\n        }\n        cell.push(candidate);\n    };\n    LabelGrid.prototype.organize = function () {\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            cell.sort(LabelCandidate.compare);\n        }\n    };\n    LabelGrid.prototype.getLabelsToDisplay = function (ratio, density) {\n        // TODO: work on visible nodes to optimize? ^ -> threshold outside so that memoization works?\n        // TODO: adjust threshold lower, but increase cells a bit?\n        // TODO: hunt for geom issue in disguise\n        // TODO: memoize while ratio does not move. method to force recompute\n        var cellArea = this.cellSize * this.cellSize;\n        var scaledCellArea = cellArea / ratio / ratio;\n        var scaledDensity = (scaledCellArea * density) / cellArea;\n        var labelsToDisplayPerCell = Math.ceil(scaledDensity);\n        var labels = [];\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            for (var i = 0; i < Math.min(labelsToDisplayPerCell, cell.length); i++) {\n                labels.push(cell[i].key);\n            }\n        }\n        return labels;\n    };\n    return LabelGrid;\n}());\nexports.LabelGrid = LabelGrid;\n/**\n * Label heuristic selecting edge labels to display, based on displayed node\n * labels\n *\n * @param  {object} params                 - Parameters:\n * @param  {Set}      displayedNodeLabels  - Currently displayed node labels.\n * @param  {Set}      highlightedNodes     - Highlighted nodes.\n * @param  {Graph}    graph                - The rendered graph.\n * @param  {string}   hoveredNode          - Hovered node (optional)\n * @return {Array}                         - The selected labels.\n */\nfunction edgeLabelsToDisplayFromNodes(params) {\n    var graph = params.graph, hoveredNode = params.hoveredNode, highlightedNodes = params.highlightedNodes, displayedNodeLabels = params.displayedNodeLabels;\n    var worthyEdges = [];\n    // TODO: the code below can be optimized using #.forEach and batching the code per adj\n    // We should display an edge's label if:\n    //   - Any of its extremities is highlighted or hovered\n    //   - Both of its extremities has its label shown\n    graph.forEachEdge(function (edge, _, source, target) {\n        if (source === hoveredNode ||\n            target === hoveredNode ||\n            highlightedNodes.has(source) ||\n            highlightedNodes.has(target) ||\n            (displayedNodeLabels.has(source) && displayedNodeLabels.has(target))) {\n            worthyEdges.push(edge);\n        }\n    });\n    return worthyEdges;\n}\nexports.edgeLabelsToDisplayFromNodes = edgeLabelsToDisplayFromNodes;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rectangleCollidesWithQuad = exports.squareCollidesWithQuad = exports.getCircumscribedAlignedRectangle = exports.isRectangleAligned = void 0;\n/**\n * Sigma.js Quad Tree Class\n * =========================\n *\n * Class implementing the quad tree data structure used to solve hovers and\n * determine which elements are currently in the scope of the camera so that\n * we don't waste time rendering things the user cannot see anyway.\n * @module\n */\n/* eslint no-nested-ternary: 0 */\n/* eslint no-constant-condition: 0 */\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\n// TODO: should not ask the quadtree when the camera has the whole graph in\n// sight.\n// TODO: a square can be represented as topleft + width, saying for the quad blocks (reduce mem)\n// TODO: jsdoc\n// TODO: be sure we can handle cases overcoming boundaries (because of size) or use a maxed size\n// TODO: filtering unwanted labels beforehand through the filter function\n// NOTE: this is basically a MX-CIF Quadtree at this point\n// NOTE: need to explore R-Trees for edges\n// NOTE: need to explore 2d segment tree for edges\n// NOTE: probably can do faster using spatial hashing\n/**\n * Constants.\n *\n * Note that since we are representing a static 4-ary tree, the indices of the\n * quadrants are the following:\n *   - TOP_LEFT:     4i + b\n *   - TOP_RIGHT:    4i + 2b\n *   - BOTTOM_LEFT:  4i + 3b\n *   - BOTTOM_RIGHT: 4i + 4b\n */\nvar BLOCKS = 4, MAX_LEVEL = 5;\nvar OUTSIDE_BLOCK = \"outside\";\nvar X_OFFSET = 0, Y_OFFSET = 1, WIDTH_OFFSET = 2, HEIGHT_OFFSET = 3;\nvar TOP_LEFT = 1, TOP_RIGHT = 2, BOTTOM_LEFT = 3, BOTTOM_RIGHT = 4;\nvar hasWarnedTooMuchOutside = false;\n/**\n * Geometry helpers.\n */\n/**\n * Function returning whether the given rectangle is axis-aligned.\n *\n * @param  {Rectangle} rect\n * @return {boolean}\n */\nfunction isRectangleAligned(rect) {\n    return rect.x1 === rect.x2 || rect.y1 === rect.y2;\n}\nexports.isRectangleAligned = isRectangleAligned;\n/**\n * Function returning the smallest rectangle that contains the given rectangle, and that is aligned with the axis.\n *\n * @param {Rectangle} rect\n * @return {Rectangle}\n */\nfunction getCircumscribedAlignedRectangle(rect) {\n    var width = Math.sqrt(Math.pow(rect.x2 - rect.x1, 2) + Math.pow(rect.y2 - rect.y1, 2));\n    var heightVector = {\n        x: ((rect.y1 - rect.y2) * rect.height) / width,\n        y: ((rect.x2 - rect.x1) * rect.height) / width,\n    };\n    // Compute all corners:\n    var tl = { x: rect.x1, y: rect.y1 };\n    var tr = { x: rect.x2, y: rect.y2 };\n    var bl = {\n        x: rect.x1 + heightVector.x,\n        y: rect.y1 + heightVector.y,\n    };\n    var br = {\n        x: rect.x2 + heightVector.x,\n        y: rect.y2 + heightVector.y,\n    };\n    var xL = Math.min(tl.x, tr.x, bl.x, br.x);\n    var xR = Math.max(tl.x, tr.x, bl.x, br.x);\n    var yT = Math.min(tl.y, tr.y, bl.y, br.y);\n    var yB = Math.max(tl.y, tr.y, bl.y, br.y);\n    return {\n        x1: xL,\n        y1: yT,\n        x2: xR,\n        y2: yT,\n        height: yB - yT,\n    };\n}\nexports.getCircumscribedAlignedRectangle = getCircumscribedAlignedRectangle;\n/**\n *\n * @param x1\n * @param y1\n * @param w\n * @param qx\n * @param qy\n * @param qw\n * @param qh\n */\nfunction squareCollidesWithQuad(x1, y1, w, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + w > qy;\n}\nexports.squareCollidesWithQuad = squareCollidesWithQuad;\nfunction rectangleCollidesWithQuad(x1, y1, w, h, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + h > qy;\n}\nexports.rectangleCollidesWithQuad = rectangleCollidesWithQuad;\nfunction pointIsInQuad(x, y, qx, qy, qw, qh) {\n    var xmp = qx + qw / 2, ymp = qy + qh / 2, top = y < ymp, left = x < xmp;\n    return top ? (left ? TOP_LEFT : TOP_RIGHT) : left ? BOTTOM_LEFT : BOTTOM_RIGHT;\n}\n/**\n * Helper functions that are not bound to the class so an external user\n * cannot mess with them.\n */\nfunction buildQuadrants(maxLevel, data) {\n    // [block, level]\n    var stack = [0, 0];\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var x = data[block + X_OFFSET], y = data[block + Y_OFFSET], width = data[block + WIDTH_OFFSET], height = data[block + HEIGHT_OFFSET], hw = width / 2, hh = height / 2;\n        data[topLeftBlock + X_OFFSET] = x;\n        data[topLeftBlock + Y_OFFSET] = y;\n        data[topLeftBlock + WIDTH_OFFSET] = hw;\n        data[topLeftBlock + HEIGHT_OFFSET] = hh;\n        data[topRightBlock + X_OFFSET] = x + hw;\n        data[topRightBlock + Y_OFFSET] = y;\n        data[topRightBlock + WIDTH_OFFSET] = hw;\n        data[topRightBlock + HEIGHT_OFFSET] = hh;\n        data[bottomLeftBlock + X_OFFSET] = x;\n        data[bottomLeftBlock + Y_OFFSET] = y + hh;\n        data[bottomLeftBlock + WIDTH_OFFSET] = hw;\n        data[bottomLeftBlock + HEIGHT_OFFSET] = hh;\n        data[bottomRightBlock + X_OFFSET] = x + hw;\n        data[bottomRightBlock + Y_OFFSET] = y + hh;\n        data[bottomRightBlock + WIDTH_OFFSET] = hw;\n        data[bottomRightBlock + HEIGHT_OFFSET] = hh;\n        if (level < maxLevel - 1) {\n            stack.push(bottomRightBlock, level + 1);\n            stack.push(bottomLeftBlock, level + 1);\n            stack.push(topRightBlock, level + 1);\n            stack.push(topLeftBlock, level + 1);\n        }\n    }\n}\nfunction insertNode(maxLevel, data, containers, key, x, y, size) {\n    var x1 = x - size, y1 = y - size, w = size * 2;\n    var level = 0, block = 0;\n    while (true) {\n        // If we reached max level\n        if (level >= maxLevel) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = squareCollidesWithQuad(x1, y1, w, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = squareCollidesWithQuad(x1, y1, w, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = squareCollidesWithQuad(x1, y1, w, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = squareCollidesWithQuad(x1, y1, w, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        var collisions = [\n            collidingWithTopLeft,\n            collidingWithTopRight,\n            collidingWithBottomLeft,\n            collidingWithBottomRight,\n        ].reduce(function (acc, current) {\n            if (current)\n                return acc + 1;\n            else\n                return acc;\n        }, 0);\n        // If we have no collision at root level, inject node in the outside block\n        if (collisions === 0 && level === 0) {\n            containers[OUTSIDE_BLOCK].push(key);\n            if (!hasWarnedTooMuchOutside && containers[OUTSIDE_BLOCK].length >= 5) {\n                hasWarnedTooMuchOutside = true;\n                console.warn(\"sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. \" +\n                    \"You might have a problem with the normalization function or the custom bounding box.\");\n            }\n            return;\n        }\n        // If we don't have at least a collision but deeper, there is an issue\n        if (collisions === 0)\n            throw new Error(\"sigma/quadtree.insertNode: no collision (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have 3 collisions, we have a geometry problem obviously\n        if (collisions === 3)\n            throw new Error(\"sigma/quadtree.insertNode: 3 impossible collisions (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have more that one collision, we stop here and store the node\n        // in the relevant containers\n        if (collisions > 1) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        else {\n            level++;\n        }\n        // Else we recurse into the correct quads\n        if (collidingWithTopLeft)\n            block = topLeftBlock;\n        if (collidingWithTopRight)\n            block = topRightBlock;\n        if (collidingWithBottomLeft)\n            block = bottomLeftBlock;\n        if (collidingWithBottomRight)\n            block = bottomRightBlock;\n    }\n}\nfunction getNodesInAxisAlignedRectangleArea(maxLevel, data, containers, x1, y1, w, h) {\n    // [block, level]\n    var stack = [0, 0];\n    var collectedNodes = [];\n    var container;\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        // Collecting nodes\n        container = containers[block];\n        if (container)\n            (0, extend_1.default)(collectedNodes, container);\n        // If we reached max level\n        if (level >= maxLevel)\n            continue;\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = rectangleCollidesWithQuad(x1, y1, w, h, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        if (collidingWithTopLeft)\n            stack.push(topLeftBlock, level + 1);\n        if (collidingWithTopRight)\n            stack.push(topRightBlock, level + 1);\n        if (collidingWithBottomLeft)\n            stack.push(bottomLeftBlock, level + 1);\n        if (collidingWithBottomRight)\n            stack.push(bottomRightBlock, level + 1);\n    }\n    return collectedNodes;\n}\n/**\n * QuadTree class.\n *\n * @constructor\n * @param {object} boundaries - The graph boundaries.\n */\nvar QuadTree = /** @class */ (function () {\n    function QuadTree(params) {\n        var _a;\n        if (params === void 0) { params = {}; }\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        this.cache = null;\n        this.lastRectangle = null;\n        // Allocating the underlying byte array\n        var L = Math.pow(4, MAX_LEVEL);\n        this.data = new Float32Array(BLOCKS * ((4 * L - 1) / 3));\n        if (params.boundaries)\n            this.resize(params.boundaries);\n        else\n            this.resize({\n                x: 0,\n                y: 0,\n                width: 1,\n                height: 1,\n            });\n    }\n    QuadTree.prototype.add = function (key, x, y, size) {\n        insertNode(MAX_LEVEL, this.data, this.containers, key, x, y, size);\n        return this;\n    };\n    QuadTree.prototype.resize = function (boundaries) {\n        this.clear();\n        // Building the quadrants\n        this.data[X_OFFSET] = boundaries.x;\n        this.data[Y_OFFSET] = boundaries.y;\n        this.data[WIDTH_OFFSET] = boundaries.width;\n        this.data[HEIGHT_OFFSET] = boundaries.height;\n        buildQuadrants(MAX_LEVEL, this.data);\n    };\n    QuadTree.prototype.clear = function () {\n        var _a;\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        return this;\n    };\n    QuadTree.prototype.point = function (x, y) {\n        var nodes = this.containers[OUTSIDE_BLOCK];\n        var block = 0, level = 0;\n        do {\n            if (this.containers[block])\n                nodes.push.apply(nodes, __spreadArray([], __read(this.containers[block]), false));\n            var quad = pointIsInQuad(x, y, this.data[block + X_OFFSET], this.data[block + Y_OFFSET], this.data[block + WIDTH_OFFSET], this.data[block + HEIGHT_OFFSET]);\n            block = 4 * block + quad * BLOCKS;\n            level++;\n        } while (level <= MAX_LEVEL);\n        return nodes;\n    };\n    QuadTree.prototype.rectangle = function (x1, y1, x2, y2, height) {\n        var _a;\n        var lr = this.lastRectangle;\n        if (lr && x1 === lr.x1 && x2 === lr.x2 && y1 === lr.y1 && y2 === lr.y2 && height === lr.height) {\n            return this.cache;\n        }\n        this.lastRectangle = {\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            height: height,\n        };\n        // If the rectangle is shifted, we use the smallest aligned rectangle that contains the shifted one:\n        if (!isRectangleAligned(this.lastRectangle))\n            this.lastRectangle = getCircumscribedAlignedRectangle(this.lastRectangle);\n        this.cache = getNodesInAxisAlignedRectangleArea(MAX_LEVEL, this.data, this.containers, x1, y1, Math.abs(x1 - x2) || Math.abs(y1 - y2), height);\n        // Add all the nodes in the outside block, since they might be relevant, and since they should be very few:\n        (_a = this.cache).push.apply(_a, __spreadArray([], __read(this.containers[OUTSIDE_BLOCK]), false));\n        return this.cache;\n    };\n    return QuadTree;\n}());\nexports.default = QuadTree;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sigma = exports.MouseCaptor = exports.QuadTree = exports.Camera = void 0;\n/**\n * Sigma.js Library Endpoint\n * =========================\n *\n * The library endpoint.\n * @module\n */\nvar sigma_1 = __importDefault(require(\"./sigma\"));\nexports.Sigma = sigma_1.default;\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nexports.Camera = camera_1.default;\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nexports.QuadTree = quadtree_1.default;\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nexports.MouseCaptor = mouse_1.default;\nexports.default = sigma_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawEdgeLabel(context, edgeData, sourceData, targetData, settings) {\n    var size = settings.edgeLabelSize, font = settings.edgeLabelFont, weight = settings.edgeLabelWeight, color = settings.edgeLabelColor.attribute\n        ? edgeData[settings.edgeLabelColor.attribute] || settings.edgeLabelColor.color || \"#000\"\n        : settings.edgeLabelColor.color;\n    var label = edgeData.label;\n    if (!label)\n        return;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Computing positions without considering nodes sizes:\n    var sSize = sourceData.size;\n    var tSize = targetData.size;\n    var sx = sourceData.x;\n    var sy = sourceData.y;\n    var tx = targetData.x;\n    var ty = targetData.y;\n    var cx = (sx + tx) / 2;\n    var cy = (sy + ty) / 2;\n    var dx = tx - sx;\n    var dy = ty - sy;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    if (d < sSize + tSize)\n        return;\n    // Adding nodes sizes:\n    sx += (dx * sSize) / d;\n    sy += (dy * sSize) / d;\n    tx -= (dx * tSize) / d;\n    ty -= (dy * tSize) / d;\n    cx = (sx + tx) / 2;\n    cy = (sy + ty) / 2;\n    dx = tx - sx;\n    dy = ty - sy;\n    d = Math.sqrt(dx * dx + dy * dy);\n    // Handling ellipsis\n    var textLength = context.measureText(label).width;\n    if (textLength > d) {\n        var ellipsis = \"\";\n        label = label + ellipsis;\n        textLength = context.measureText(label).width;\n        while (textLength > d && label.length > 1) {\n            label = label.slice(0, -2) + ellipsis;\n            textLength = context.measureText(label).width;\n        }\n        if (label.length < 4)\n            return;\n    }\n    var angle;\n    if (dx > 0) {\n        if (dy > 0)\n            angle = Math.acos(dx / d);\n        else\n            angle = Math.asin(dy / d);\n    }\n    else {\n        if (dy > 0)\n            angle = Math.acos(dx / d) + Math.PI;\n        else\n            angle = Math.asin(dx / d) + Math.PI / 2;\n    }\n    context.save();\n    context.translate(cx, cy);\n    context.rotate(angle);\n    context.fillText(label, -textLength / 2, edgeData.size / 2 + size);\n    context.restore();\n}\nexports.default = drawEdgeLabel;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar label_1 = __importDefault(require(\"./label\"));\n/**\n * Draw an hovered node.\n * - if there is no label => display a shadow on the node\n * - if the label box is bigger than node size => display a label box that contains the node with a shadow\n * - else node with shadow and the label box\n */\nfunction drawHover(context, data, settings) {\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Then we draw the label background\n    context.fillStyle = \"#FFF\";\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 8;\n    context.shadowColor = \"#000\";\n    var PADDING = 2;\n    if (typeof data.label === \"string\") {\n        var textWidth = context.measureText(data.label).width, boxWidth = Math.round(textWidth + 5), boxHeight = Math.round(size + 2 * PADDING), radius = Math.max(data.size, size / 2) + PADDING;\n        var angleRadian = Math.asin(boxHeight / 2 / radius);\n        var xDeltaCoord = Math.sqrt(Math.abs(Math.pow(radius, 2) - Math.pow(boxHeight / 2, 2)));\n        context.beginPath();\n        context.moveTo(data.x + xDeltaCoord, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y - boxHeight / 2);\n        context.lineTo(data.x + xDeltaCoord, data.y - boxHeight / 2);\n        context.arc(data.x, data.y, radius, angleRadian, -angleRadian);\n        context.closePath();\n        context.fill();\n    }\n    else {\n        context.beginPath();\n        context.arc(data.x, data.y, data.size + PADDING, 0, Math.PI * 2);\n        context.closePath();\n        context.fill();\n    }\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 0;\n    // And finally we draw the label\n    (0, label_1.default)(context, data, settings);\n}\nexports.default = drawHover;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawLabel(context, data, settings) {\n    if (!data.label)\n        return;\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight, color = settings.labelColor.attribute\n        ? data[settings.labelColor.attribute] || settings.labelColor.color || \"#000\"\n        : settings.labelColor.color;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    context.fillText(data.label, data.x + data.size + 3, data.y + size / 3);\n}\nexports.default = drawLabel;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createEdgeCompoundProgram = exports.AbstractEdgeProgram = void 0;\n/**\n * Sigma.js WebGL Abstract Edge Program\n * =====================================\n *\n * @module\n */\nvar program_1 = require(\"./program\");\n/**\n * Edge Program class.\n *\n * @constructor\n */\nvar AbstractEdgeProgram = /** @class */ (function (_super) {\n    __extends(AbstractEdgeProgram, _super);\n    function AbstractEdgeProgram(gl, vertexShaderSource, fragmentShaderSource, points, attributes) {\n        return _super.call(this, gl, vertexShaderSource, fragmentShaderSource, points, attributes) || this;\n    }\n    return AbstractEdgeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractEdgeProgram = AbstractEdgeProgram;\nfunction createEdgeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function EdgeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (ProgramClass) { return new ProgramClass(gl, renderer); });\n        }\n        EdgeCompoundProgram.prototype.bufferData = function () {\n            this.programs.forEach(function (program) { return program.bufferData(); });\n        };\n        EdgeCompoundProgram.prototype.allocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.allocate(capacity); });\n        };\n        EdgeCompoundProgram.prototype.bind = function () {\n            // nothing todo, it's already done in each program constructor\n        };\n        EdgeCompoundProgram.prototype.computeIndices = function () {\n            this.programs.forEach(function (program) { return program.computeIndices(); });\n        };\n        EdgeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) {\n                program.bind();\n                program.bufferData();\n                program.render(params);\n            });\n        };\n        EdgeCompoundProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n            this.programs.forEach(function (program) { return program.process(sourceData, targetData, data, hidden, offset); });\n        };\n        return EdgeCompoundProgram;\n    }());\n}\nexports.createEdgeCompoundProgram = createEdgeCompoundProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createNodeCompoundProgram = exports.AbstractNodeProgram = void 0;\n/**\n * Sigma.js WebGL Abstract Node Program\n * =====================================\n *\n * @module\n */\nvar program_1 = require(\"./program\");\n/**\n * Node Program class.\n *\n * @constructor\n */\nvar AbstractNodeProgram = /** @class */ (function (_super) {\n    __extends(AbstractNodeProgram, _super);\n    function AbstractNodeProgram(gl, vertexShaderSource, fragmentShaderSource, points, attributes) {\n        var _this = _super.call(this, gl, vertexShaderSource, fragmentShaderSource, points, attributes) || this;\n        // Locations\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.sizeLocation = gl.getAttribLocation(_this.program, \"a_size\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        // Uniform Location\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"AbstractNodeProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var ratioLocation = gl.getUniformLocation(_this.program, \"u_ratio\");\n        if (ratioLocation === null)\n            throw new Error(\"AbstractNodeProgram: error while getting ratioLocation\");\n        _this.ratioLocation = ratioLocation;\n        var scaleLocation = gl.getUniformLocation(_this.program, \"u_scale\");\n        if (scaleLocation === null)\n            throw new Error(\"AbstractNodeProgram: error while getting scaleLocation\");\n        _this.scaleLocation = scaleLocation;\n        return _this;\n    }\n    AbstractNodeProgram.prototype.bind = function () {\n        var gl = this.gl;\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.sizeLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, this.attributes * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.sizeLocation, 1, gl.FLOAT, false, this.attributes * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, this.attributes * Float32Array.BYTES_PER_ELEMENT, 12);\n    };\n    return AbstractNodeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractNodeProgram = AbstractNodeProgram;\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nfunction createNodeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function NodeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (ProgramClass) { return new ProgramClass(gl, renderer); });\n        }\n        NodeCompoundProgram.prototype.bufferData = function () {\n            this.programs.forEach(function (program) { return program.bufferData(); });\n        };\n        NodeCompoundProgram.prototype.allocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.allocate(capacity); });\n        };\n        NodeCompoundProgram.prototype.bind = function () {\n            // nothing todo, it's already done in each program constructor\n        };\n        NodeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) {\n                program.bind();\n                program.bufferData();\n                program.render(params);\n            });\n        };\n        NodeCompoundProgram.prototype.process = function (data, hidden, offset) {\n            this.programs.forEach(function (program) { return program.process(data, hidden, offset); });\n        };\n        return NodeCompoundProgram;\n    }());\n}\nexports.createNodeCompoundProgram = createNodeCompoundProgram;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractProgram = void 0;\n/**\n * Sigma.js WebGL Renderer Program\n * ================================\n *\n * Class representing a single WebGL program used by sigma's WebGL renderer.\n * @module\n */\nvar utils_1 = require(\"../../shaders/utils\");\n/**\n * Abstract Program class.\n *\n * @constructor\n */\nvar AbstractProgram = /** @class */ (function () {\n    function AbstractProgram(gl, vertexShaderSource, fragmentShaderSource, points, attributes) {\n        this.array = new Float32Array();\n        this.points = points;\n        this.attributes = attributes;\n        this.gl = gl;\n        this.vertexShaderSource = vertexShaderSource;\n        this.fragmentShaderSource = fragmentShaderSource;\n        var buffer = gl.createBuffer();\n        if (buffer === null)\n            throw new Error(\"AbstractProgram: error while creating the buffer\");\n        this.buffer = buffer;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        this.vertexShader = (0, utils_1.loadVertexShader)(gl, this.vertexShaderSource);\n        this.fragmentShader = (0, utils_1.loadFragmentShader)(gl, this.fragmentShaderSource);\n        this.program = (0, utils_1.loadProgram)(gl, [this.vertexShader, this.fragmentShader]);\n    }\n    AbstractProgram.prototype.bufferData = function () {\n        var gl = this.gl;\n        gl.bufferData(gl.ARRAY_BUFFER, this.array, gl.DYNAMIC_DRAW);\n    };\n    AbstractProgram.prototype.allocate = function (capacity) {\n        this.array = new Float32Array(this.points * this.attributes * capacity);\n    };\n    AbstractProgram.prototype.hasNothingToRender = function () {\n        return this.array.length === 0;\n    };\n    return AbstractProgram;\n}());\nexports.AbstractProgram = AbstractProgram;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Arrow Program\n * ===========================================\n *\n * Compound program rendering edges as an arrow from the source to the target.\n * @module\n */\nvar edge_1 = require(\"./common/edge\");\nvar edge_arrowHead_1 = __importDefault(require(\"./edge.arrowHead\"));\nvar edge_clamped_1 = __importDefault(require(\"./edge.clamped\"));\nvar EdgeArrowProgram = (0, edge_1.createEdgeCompoundProgram)([edge_clamped_1.default, edge_arrowHead_1.default]);\nexports.default = EdgeArrowProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_arrowHead_vert_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.vert.glsl.js\"));\nvar edge_arrowHead_frag_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.frag.glsl.js\"));\nvar edge_1 = require(\"./common/edge\");\nvar POINTS = 3, ATTRIBUTES = 9, STRIDE = POINTS * ATTRIBUTES;\nvar EdgeArrowHeadProgram = /** @class */ (function (_super) {\n    __extends(EdgeArrowHeadProgram, _super);\n    function EdgeArrowHeadProgram(gl) {\n        var _this = _super.call(this, gl, edge_arrowHead_vert_glsl_1.default, edge_arrowHead_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        // Locations\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        _this.normalLocation = gl.getAttribLocation(_this.program, \"a_normal\");\n        _this.radiusLocation = gl.getAttribLocation(_this.program, \"a_radius\");\n        _this.barycentricLocation = gl.getAttribLocation(_this.program, \"a_barycentric\");\n        // Uniform locations\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"EdgeArrowHeadProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var sqrtZoomRatioLocation = gl.getUniformLocation(_this.program, \"u_sqrtZoomRatio\");\n        if (sqrtZoomRatioLocation === null)\n            throw new Error(\"EdgeArrowHeadProgram: error while getting sqrtZoomRatioLocation\");\n        _this.sqrtZoomRatioLocation = sqrtZoomRatioLocation;\n        var correctionRatioLocation = gl.getUniformLocation(_this.program, \"u_correctionRatio\");\n        if (correctionRatioLocation === null)\n            throw new Error(\"EdgeArrowHeadProgram: error while getting correctionRatioLocation\");\n        _this.correctionRatioLocation = correctionRatioLocation;\n        _this.bind();\n        return _this;\n    }\n    EdgeArrowHeadProgram.prototype.bind = function () {\n        var gl = this.gl;\n        // Bindings\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.normalLocation);\n        gl.enableVertexAttribArray(this.radiusLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.enableVertexAttribArray(this.barycentricLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.radiusLocation, 1, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 16);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 20);\n        // TODO: maybe we can optimize here by packing this in a bit mask\n        gl.vertexAttribPointer(this.barycentricLocation, 3, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 24);\n    };\n    EdgeArrowHeadProgram.prototype.computeIndices = function () {\n        // nothing to do\n    };\n    EdgeArrowHeadProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n        if (hidden) {\n            for (var i_1 = offset * STRIDE, l = i_1 + STRIDE; i_1 < l; i_1++)\n                this.array[i_1] = 0;\n            return;\n        }\n        var thickness = data.size || 1, radius = targetData.size || 1, x1 = sourceData.x, y1 = sourceData.y, x2 = targetData.x, y2 = targetData.y, color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1, dy = y2 - y1;\n        var len = dx * dx + dy * dy, n1 = 0, n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var i = POINTS * ATTRIBUTES * offset;\n        var array = this.array;\n        // First point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 1;\n        array[i++] = 0;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 1;\n        array[i++] = 0;\n        // Third point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i] = 1;\n    };\n    EdgeArrowHeadProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        // Binding uniforms\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.uniform1f(this.sqrtZoomRatioLocation, Math.sqrt(params.ratio));\n        gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n        // Drawing:\n        gl.drawArrays(gl.TRIANGLES, 0, this.array.length / ATTRIBUTES);\n    };\n    return EdgeArrowHeadProgram;\n}(edge_1.AbstractEdgeProgram));\nexports.default = EdgeArrowHeadProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar edge_1 = require(\"./common/edge\");\nvar utils_1 = require(\"../../../utils\");\nvar edge_clamped_vert_glsl_1 = __importDefault(require(\"../shaders/edge.clamped.vert.glsl.js\"));\nvar edge_frag_glsl_1 = __importDefault(require(\"../shaders/edge.frag.glsl.js\"));\nvar POINTS = 4, ATTRIBUTES = 6, STRIDE = POINTS * ATTRIBUTES;\nvar EdgeClampedProgram = /** @class */ (function (_super) {\n    __extends(EdgeClampedProgram, _super);\n    function EdgeClampedProgram(gl) {\n        var _this = _super.call(this, gl, edge_clamped_vert_glsl_1.default, edge_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        // Initializing indices buffer\n        var indicesBuffer = gl.createBuffer();\n        if (indicesBuffer === null)\n            throw new Error(\"EdgeClampedProgram: error while getting resolutionLocation\");\n        _this.indicesBuffer = indicesBuffer;\n        // Locations:\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        _this.normalLocation = gl.getAttribLocation(_this.program, \"a_normal\");\n        _this.radiusLocation = gl.getAttribLocation(_this.program, \"a_radius\");\n        // Uniform locations\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"EdgeClampedProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var sqrtZoomRatioLocation = gl.getUniformLocation(_this.program, \"u_sqrtZoomRatio\");\n        if (sqrtZoomRatioLocation === null)\n            throw new Error(\"EdgeClampedProgram: error while getting cameraRatioLocation\");\n        _this.sqrtZoomRatioLocation = sqrtZoomRatioLocation;\n        var correctionRatioLocation = gl.getUniformLocation(_this.program, \"u_correctionRatio\");\n        if (correctionRatioLocation === null)\n            throw new Error(\"EdgeClampedProgram: error while getting viewportRatioLocation\");\n        _this.correctionRatioLocation = correctionRatioLocation;\n        // Enabling the OES_element_index_uint extension\n        // NOTE: on older GPUs, this means that really large graphs won't\n        // have all their edges rendered. But it seems that the\n        // `OES_element_index_uint` is quite everywhere so we'll handle\n        // the potential issue if it really arises.\n        // NOTE: when using webgl2, the extension is enabled by default\n        _this.canUse32BitsIndices = (0, utils_1.canUse32BitsIndices)(gl);\n        _this.IndicesArray = _this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n        _this.indicesArray = new _this.IndicesArray();\n        _this.indicesType = _this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n        _this.bind();\n        return _this;\n    }\n    EdgeClampedProgram.prototype.bind = function () {\n        var gl = this.gl;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n        // Bindings\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.normalLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.enableVertexAttribArray(this.radiusLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 16);\n        gl.vertexAttribPointer(this.radiusLocation, 1, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 20);\n    };\n    EdgeClampedProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n        if (hidden) {\n            for (var i_1 = offset * STRIDE, l = i_1 + STRIDE; i_1 < l; i_1++)\n                this.array[i_1] = 0;\n            return;\n        }\n        var thickness = data.size || 1, x1 = sourceData.x, y1 = sourceData.y, x2 = targetData.x, y2 = targetData.y, radius = targetData.size || 1, color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1, dy = y2 - y1;\n        var len = dx * dx + dy * dy, n1 = 0, n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var i = POINTS * ATTRIBUTES * offset;\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = radius;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i] = -radius;\n    };\n    EdgeClampedProgram.prototype.computeIndices = function () {\n        var l = this.array.length / ATTRIBUTES;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeClampedProgram.prototype.bufferData = function () {\n        _super.prototype.bufferData.call(this);\n        // Indices data\n        var gl = this.gl;\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n    };\n    EdgeClampedProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        // Binding uniforms\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.uniform1f(this.sqrtZoomRatioLocation, Math.sqrt(params.ratio));\n        gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n        // Drawing:\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeClampedProgram;\n}(edge_1.AbstractEdgeProgram));\nexports.default = EdgeClampedProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Program\n * =====================================\n *\n * Program rendering edges as thick lines using four points translated\n * orthogonally from the source & target's centers by half thickness.\n *\n * Rendering two triangles by using only four points is made possible through\n * the use of indices.\n *\n * This method should be faster than the 6 points / 2 triangles approach and\n * should handle thickness better than with gl.LINES.\n *\n * This version of the shader balances geometry computation evenly between\n * the CPU & GPU (normals are computed on the CPU side).\n * @module\n */\nvar utils_1 = require(\"../../../utils\");\nvar edge_vert_glsl_1 = __importDefault(require(\"../shaders/edge.vert.glsl.js\"));\nvar edge_frag_glsl_1 = __importDefault(require(\"../shaders/edge.frag.glsl.js\"));\nvar edge_1 = require(\"./common/edge\");\nvar POINTS = 4, ATTRIBUTES = 5, STRIDE = POINTS * ATTRIBUTES;\nvar EdgeProgram = /** @class */ (function (_super) {\n    __extends(EdgeProgram, _super);\n    function EdgeProgram(gl) {\n        var _this = _super.call(this, gl, edge_vert_glsl_1.default, edge_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        // Initializing indices buffer\n        var indicesBuffer = gl.createBuffer();\n        if (indicesBuffer === null)\n            throw new Error(\"EdgeProgram: error while creating indicesBuffer\");\n        _this.indicesBuffer = indicesBuffer;\n        // Locations\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        _this.normalLocation = gl.getAttribLocation(_this.program, \"a_normal\");\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"EdgeProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var correctionRatioLocation = gl.getUniformLocation(_this.program, \"u_correctionRatio\");\n        if (correctionRatioLocation === null)\n            throw new Error(\"EdgeProgram: error while getting correctionRatioLocation\");\n        _this.correctionRatioLocation = correctionRatioLocation;\n        var sqrtZoomRatioLocation = gl.getUniformLocation(_this.program, \"u_sqrtZoomRatio\");\n        if (sqrtZoomRatioLocation === null)\n            throw new Error(\"EdgeProgram: error while getting sqrtZoomRatioLocation\");\n        _this.sqrtZoomRatioLocation = sqrtZoomRatioLocation;\n        // Enabling the OES_element_index_uint extension\n        // NOTE: on older GPUs, this means that really large graphs won't\n        // have all their edges rendered. But it seems that the\n        // `OES_element_index_uint` is quite everywhere so we'll handle\n        // the potential issue if it really arises.\n        // NOTE: when using webgl2, the extension is enabled by default\n        _this.canUse32BitsIndices = (0, utils_1.canUse32BitsIndices)(gl);\n        _this.IndicesArray = _this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n        _this.indicesArray = new _this.IndicesArray();\n        _this.indicesType = _this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n        _this.bind();\n        return _this;\n    }\n    EdgeProgram.prototype.bind = function () {\n        var gl = this.gl;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n        // Bindings\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.normalLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 16);\n    };\n    EdgeProgram.prototype.computeIndices = function () {\n        var l = this.array.length / ATTRIBUTES;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeProgram.prototype.bufferData = function () {\n        _super.prototype.bufferData.call(this);\n        // Indices data\n        var gl = this.gl;\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n    };\n    EdgeProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n        if (hidden) {\n            for (var i_1 = offset * STRIDE, l = i_1 + STRIDE; i_1 < l; i_1++)\n                this.array[i_1] = 0;\n            return;\n        }\n        var thickness = data.size || 1, x1 = sourceData.x, y1 = sourceData.y, x2 = targetData.x, y2 = targetData.y, color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1, dy = y2 - y1;\n        var len = dx * dx + dy * dy, n1 = 0, n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var i = POINTS * ATTRIBUTES * offset;\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i] = color;\n    };\n    EdgeProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.uniform1f(this.sqrtZoomRatioLocation, Math.sqrt(params.ratio));\n        gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n        // Drawing:\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeProgram;\n}(edge_1.AbstractEdgeProgram));\nexports.default = EdgeProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_fast_vert_glsl_1 = __importDefault(require(\"../shaders/node.fast.vert.glsl.js\"));\nvar node_fast_frag_glsl_1 = __importDefault(require(\"../shaders/node.fast.frag.glsl.js\"));\nvar node_1 = require(\"./common/node\");\nvar POINTS = 1, ATTRIBUTES = 4;\nvar NodeFastProgram = /** @class */ (function (_super) {\n    __extends(NodeFastProgram, _super);\n    function NodeFastProgram(gl) {\n        var _this = _super.call(this, gl, node_fast_vert_glsl_1.default, node_fast_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        _this.bind();\n        return _this;\n    }\n    NodeFastProgram.prototype.process = function (data, hidden, offset) {\n        var array = this.array;\n        var i = offset * POINTS * ATTRIBUTES;\n        if (hidden) {\n            array[i++] = 0;\n            array[i++] = 0;\n            array[i++] = 0;\n            array[i++] = 0;\n            return;\n        }\n        var color = (0, utils_1.floatColor)(data.color);\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i] = color;\n    };\n    NodeFastProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        gl.uniform1f(this.ratioLocation, 1 / Math.sqrt(params.ratio));\n        gl.uniform1f(this.scaleLocation, params.scalingRatio);\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.drawArrays(gl.POINTS, 0, this.array.length / ATTRIBUTES);\n    };\n    return NodeFastProgram;\n}(node_1.AbstractNodeProgram));\nexports.default = NodeFastProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_image_vert_glsl_1 = __importDefault(require(\"../shaders/node.image.vert.glsl.js\"));\nvar node_image_frag_glsl_1 = __importDefault(require(\"../shaders/node.image.frag.glsl.js\"));\nvar node_1 = require(\"./common/node\");\nvar POINTS = 1, ATTRIBUTES = 8, MAX_TEXTURE_SIZE = 100;\n// This class only exists for the return typing of `getNodeImageProgram`:\nvar AbstractNodeImageProgram = /** @class */ (function (_super) {\n    __extends(AbstractNodeImageProgram, _super);\n    /* eslint-disable @typescript-eslint/no-empty-function, @typescript-eslint/no-unused-vars */\n    function AbstractNodeImageProgram(gl, renderer) {\n        return _super.call(this, gl, node_image_vert_glsl_1.default, node_image_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n    }\n    AbstractNodeImageProgram.prototype.bind = function () { };\n    AbstractNodeImageProgram.prototype.process = function (data, hidden, offset) { };\n    AbstractNodeImageProgram.prototype.render = function (params) { };\n    AbstractNodeImageProgram.prototype.rebindTexture = function () { };\n    return AbstractNodeImageProgram;\n}(node_1.AbstractNodeProgram));\n/**\n * To share the texture between the program instances of the graph and the\n * hovered nodes (to prevent some flickering, mostly), this program must be\n * \"built\" for each sigma instance:\n */\nfunction getNodeImageProgram() {\n    /**\n     * These attributes are shared between all instances of this exact class,\n     * returned by this call to getNodeProgramImage:\n     */\n    var rebindTextureFns = [];\n    var images = {};\n    var textureImage;\n    var hasReceivedImages = false;\n    var pendingImagesFrameID = undefined;\n    /**\n     * Helper to load an image:\n     */\n    function loadImage(imageSource) {\n        if (images[imageSource])\n            return;\n        var image = new Image();\n        image.addEventListener(\"load\", function () {\n            images[imageSource] = {\n                status: \"pending\",\n                image: image,\n            };\n            if (typeof pendingImagesFrameID !== \"number\") {\n                pendingImagesFrameID = requestAnimationFrame(function () { return finalizePendingImages(); });\n            }\n        });\n        image.addEventListener(\"error\", function () {\n            images[imageSource] = { status: \"error\" };\n        });\n        images[imageSource] = { status: \"loading\" };\n        // Load image:\n        image.setAttribute(\"crossOrigin\", \"\");\n        image.src = imageSource;\n    }\n    /**\n     * Helper that takes all pending images and adds them into the texture:\n     */\n    function finalizePendingImages() {\n        pendingImagesFrameID = undefined;\n        var pendingImages = [];\n        // List all pending images:\n        for (var id in images) {\n            var state = images[id];\n            if (state.status === \"pending\") {\n                pendingImages.push({\n                    id: id,\n                    image: state.image,\n                    size: Math.min(state.image.width, state.image.height) || 1,\n                });\n            }\n        }\n        // Add images to texture:\n        var canvas = document.createElement(\"canvas\");\n        var ctx = canvas.getContext(\"2d\");\n        canvas.width = pendingImages.reduce(function (iter, _a) {\n            var size = _a.size;\n            return iter + size;\n        }, hasReceivedImages ? textureImage.width : 0);\n        canvas.height = Math.max.apply(Math, __spreadArray([hasReceivedImages ? textureImage.height : 0], __read(pendingImages.map(function (_a) {\n            var size = _a.size;\n            return size;\n        })), false));\n        var xOffset = 0;\n        if (hasReceivedImages) {\n            ctx.putImageData(textureImage, 0, 0);\n            xOffset = textureImage.width;\n        }\n        pendingImages.forEach(function (_a) {\n            var id = _a.id, image = _a.image, size = _a.size;\n            var imageSizeInTexture = Math.min(MAX_TEXTURE_SIZE, size);\n            // Crop image, to only keep the biggest square, centered:\n            var dx = 0, dy = 0;\n            if ((image.width || 0) > (image.height || 0)) {\n                dx = (image.width - image.height) / 2;\n            }\n            else {\n                dy = (image.height - image.width) / 2;\n            }\n            ctx.drawImage(image, dx, dy, size, size, xOffset, 0, imageSizeInTexture, imageSizeInTexture);\n            // Update image state:\n            images[id] = {\n                status: \"ready\",\n                x: xOffset,\n                y: 0,\n                width: imageSizeInTexture,\n                height: imageSizeInTexture,\n            };\n            xOffset += imageSizeInTexture;\n        });\n        textureImage = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        hasReceivedImages = true;\n        rebindTextureFns.forEach(function (fn) { return fn(); });\n    }\n    return /** @class */ (function (_super) {\n        __extends(NodeImageProgram, _super);\n        function NodeImageProgram(gl, renderer) {\n            var _this = _super.call(this, gl, node_image_vert_glsl_1.default, node_image_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n            rebindTextureFns.push(function () {\n                if (_this && _this.rebindTexture)\n                    _this.rebindTexture();\n                if (renderer && renderer.refresh)\n                    renderer.refresh();\n            });\n            textureImage = new ImageData(1, 1);\n            // Attribute Location\n            _this.textureLocation = gl.getAttribLocation(_this.program, \"a_texture\");\n            // Uniform Location\n            var atlasLocation = gl.getUniformLocation(_this.program, \"u_atlas\");\n            if (atlasLocation === null)\n                throw new Error(\"NodeProgramImage: error while getting atlasLocation\");\n            _this.atlasLocation = atlasLocation;\n            // Initialize WebGL texture:\n            _this.texture = gl.createTexture();\n            gl.bindTexture(gl.TEXTURE_2D, _this.texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([0, 0, 0, 0]));\n            _this.bind();\n            return _this;\n        }\n        NodeImageProgram.prototype.bind = function () {\n            _super.prototype.bind.call(this);\n            var gl = this.gl;\n            gl.enableVertexAttribArray(this.textureLocation);\n            gl.vertexAttribPointer(this.textureLocation, 4, gl.FLOAT, false, this.attributes * Float32Array.BYTES_PER_ELEMENT, 16);\n        };\n        NodeImageProgram.prototype.process = function (data, hidden, offset) {\n            var array = this.array;\n            var i = offset * POINTS * ATTRIBUTES;\n            var imageSource = data.image;\n            var imageState = imageSource && images[imageSource];\n            if (typeof imageSource === \"string\" && !imageState)\n                loadImage(imageSource);\n            if (hidden) {\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                // Texture:\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                return;\n            }\n            array[i++] = data.x;\n            array[i++] = data.y;\n            array[i++] = data.size;\n            array[i++] = (0, utils_1.floatColor)(data.color);\n            // Reference texture:\n            if (imageState && imageState.status === \"ready\") {\n                var width = textureImage.width, height = textureImage.height;\n                array[i++] = imageState.x / width;\n                array[i++] = imageState.y / height;\n                array[i++] = imageState.width / width;\n                array[i++] = imageState.height / height;\n            }\n            else {\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n            }\n        };\n        NodeImageProgram.prototype.render = function (params) {\n            if (this.hasNothingToRender())\n                return;\n            this.latestRenderParams = params;\n            var gl = this.gl;\n            var program = this.program;\n            gl.useProgram(program);\n            gl.uniform1f(this.ratioLocation, 1 / Math.sqrt(params.ratio));\n            gl.uniform1f(this.scaleLocation, params.scalingRatio);\n            gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n            gl.uniform1i(this.atlasLocation, 0);\n            gl.drawArrays(gl.POINTS, 0, this.array.length / ATTRIBUTES);\n        };\n        NodeImageProgram.prototype.rebindTexture = function () {\n            var gl = this.gl;\n            gl.bindTexture(gl.TEXTURE_2D, this.texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureImage);\n            gl.generateMipmap(gl.TEXTURE_2D);\n            if (this.latestRenderParams) {\n                this.bind();\n                this.bufferData();\n                this.render(this.latestRenderParams);\n            }\n        };\n        return NodeImageProgram;\n    }(node_1.AbstractNodeProgram));\n}\nexports.default = getNodeImageProgram;\n","(()=>{\"use strict\";var e={d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var a={d:(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(a,e)=>Object.prototype.hasOwnProperty.call(a,e),r:a=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(a,\"__esModule\",{value:!0})}},e={};a.r(e),a.d(e,{default:()=>t});const t=\"attribute vec2 a_position;\\nattribute vec2 a_normal;\\nattribute float a_radius;\\nattribute vec4 a_color;\\nattribute vec3 a_barycentric;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sqrtZoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadWidthLengthRatio = 0.66;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl and\\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\\n  // happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio;\\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\\n  float adaptedWebGLNodeRadius = a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n  float adaptedWebGLArrowHeadHalfWidth = adaptedWebGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\\n\\n  float da = a_barycentric.x;\\n  float db = a_barycentric.y;\\n  float dc = a_barycentric.z;\\n\\n  vec2 delta = vec2(\\n      da * (adaptedWebGLNodeRadius * unitNormal.y)\\n    + db * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y + adaptedWebGLArrowHeadHalfWidth * unitNormal.x)\\n    + dc * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y - adaptedWebGLArrowHeadHalfWidth * unitNormal.x),\\n\\n      da * (-adaptedWebGLNodeRadius * unitNormal.x)\\n    + db * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x + adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\\n    + dc * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x - adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\\n  );\\n\\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\\n\\n  gl_Position = vec4(position, 0, 1);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=e})();","(()=>{\"use strict\";var e={d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>n});const n=\"attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\nattribute float a_radius;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sqrtZoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl. Please read it to\\n  // get better comments on what's happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio;\\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\\n\\n  // Here, we move the point to leave space for the arrow head:\\n  float direction = sign(a_radius);\\n  float adaptedWebGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n\\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength);\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness + compensationVector, 1)).xy, 0, 1);\\n\\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>t});const t=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float feather = 0.001;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_normal) * v_thickness;\\n\\n  float t = smoothstep(\\n    v_thickness - feather,\\n    v_thickness,\\n    dist\\n  );\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o='attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sqrtZoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // We require edges to be at least `minThickness` pixels thick *on screen*\\n  // (so we need to compensate the SQRT zoom ratio):\\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\\n\\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\\n  // referential (in a ([0, 1], [0, 1]) space), using our \"magic\" correction\\n  // ratio:\\n  float webGLThickness = pixelsThickness * u_correctionRatio;\\n\\n  // Finally, we adapt the edge thickness to the \"SQRT rule\" in sigma (so that\\n  // items are not too big when zoomed in, and not too small when zoomed out).\\n  // The exact computation should be `adapted = value * zoom / sqrt(zoom)`, but\\n  // it\\'s simpler like this:\\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness, 1)).xy, 0, 1);\\n\\n  // For the fragment shader though, we need a thickness that takes the \"magic\"\\n  // correction ratio into account (as in webGLThickness), but so that the\\n  // antialiasint effect does not depend on the zoom level. So here\\'s yet\\n  // another thickness version:\\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n';module.exports=n})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = radius - length(m);\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(transparent, v_color, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var o={d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},t={};o.r(t),o.d(t,{default:()=>e});const e=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\n\\nuniform float u_ratio;\\nuniform float u_scale;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\\n\\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=t})();","(()=>{\"use strict\";var e={d:(o,r)=>{for(var n in r)e.o(r,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:r[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nuniform sampler2D u_atlas;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec4 color;\\n\\n  if (v_texture.w > 0.0) {\\n    vec4 texel = texture2D(u_atlas, v_texture.xy + gl_PointCoord * v_texture.zw, -1.0);\\n    color = vec4(mix(v_color, texel, texel.a).rgb, max(texel.a, v_color.a));\\n  } else {\\n    color = v_color;\\n  }\\n\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = length(m);\\n\\n  if (dist < radius - v_border) {\\n    gl_FragColor = color;\\n  } else if (dist < radius) {\\n    gl_FragColor = mix(transparent, color, (radius - dist) / v_border);\\n  } else {\\n    gl_FragColor = transparent;\\n  }\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})}},e={};t.r(e),t.d(e,{default:()=>n});const n=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\nattribute vec4 a_texture;\\n\\nuniform float u_ratio;\\nuniform float u_scale;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\\n\\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  // Pass the texture coordinates:\\n  v_texture = a_texture;\\n}\\n\";module.exports=e})();","\"use strict\";\n/**\n * Sigma.js Shader Utils\n * ======================\n *\n * Code used to load sigma's shaders.\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadProgram = exports.loadFragmentShader = exports.loadVertexShader = void 0;\n/**\n * Function used to load a shader.\n */\nfunction loadShader(type, gl, source) {\n    var glType = type === \"VERTEX\" ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;\n    // Creating the shader\n    var shader = gl.createShader(glType);\n    if (shader === null) {\n        throw new Error(\"loadShader: error while creating the shader\");\n    }\n    // Loading source\n    gl.shaderSource(shader, source);\n    // Compiling the shader\n    gl.compileShader(shader);\n    // Retrieving compilation status\n    var successfullyCompiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    // Throwing if something went awry\n    if (!successfullyCompiled) {\n        var infoLog = gl.getShaderInfoLog(shader);\n        gl.deleteShader(shader);\n        throw new Error(\"loadShader: error while compiling the shader:\\n\".concat(infoLog, \"\\n\").concat(source));\n    }\n    return shader;\n}\nfunction loadVertexShader(gl, source) {\n    return loadShader(\"VERTEX\", gl, source);\n}\nexports.loadVertexShader = loadVertexShader;\nfunction loadFragmentShader(gl, source) {\n    return loadShader(\"FRAGMENT\", gl, source);\n}\nexports.loadFragmentShader = loadFragmentShader;\n/**\n * Function used to load a program.\n */\nfunction loadProgram(gl, shaders) {\n    var program = gl.createProgram();\n    if (program === null) {\n        throw new Error(\"loadProgram: error while creating the program.\");\n    }\n    var i, l;\n    // Attaching the shaders\n    for (i = 0, l = shaders.length; i < l; i++)\n        gl.attachShader(program, shaders[i]);\n    gl.linkProgram(program);\n    // Checking status\n    var successfullyLinked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!successfullyLinked) {\n        gl.deleteProgram(program);\n        throw new Error(\"loadProgram: error while linking the program.\");\n    }\n    return program;\n}\nexports.loadProgram = loadProgram;\n","\"use strict\";\n/**\n * Sigma.js Settings\n * =================================\n *\n * The list of settings and some handy functions.\n * @module\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_SETTINGS = exports.validateSettings = void 0;\nvar label_1 = __importDefault(require(\"./rendering/canvas/label\"));\nvar hover_1 = __importDefault(require(\"./rendering/canvas/hover\"));\nvar edge_label_1 = __importDefault(require(\"./rendering/canvas/edge-label\"));\nvar node_fast_1 = __importDefault(require(\"./rendering/webgl/programs/node.fast\"));\nvar edge_1 = __importDefault(require(\"./rendering/webgl/programs/edge\"));\nvar edge_arrow_1 = __importDefault(require(\"./rendering/webgl/programs/edge.arrow\"));\nfunction validateSettings(settings) {\n    if (typeof settings.labelDensity !== \"number\" || settings.labelDensity < 0) {\n        throw new Error(\"Settings: invalid `labelDensity`. Expecting a positive number.\");\n    }\n    var minCameraRatio = settings.minCameraRatio, maxCameraRatio = settings.maxCameraRatio;\n    if (typeof minCameraRatio === \"number\" && typeof maxCameraRatio === \"number\" && maxCameraRatio < minCameraRatio) {\n        throw new Error(\"Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.\");\n    }\n}\nexports.validateSettings = validateSettings;\nexports.DEFAULT_SETTINGS = {\n    // Performance\n    hideEdgesOnMove: false,\n    hideLabelsOnMove: false,\n    renderLabels: true,\n    renderEdgeLabels: false,\n    enableEdgeClickEvents: false,\n    enableEdgeWheelEvents: false,\n    enableEdgeHoverEvents: false,\n    // Component rendering\n    defaultNodeColor: \"#999\",\n    defaultNodeType: \"circle\",\n    defaultEdgeColor: \"#ccc\",\n    defaultEdgeType: \"line\",\n    labelFont: \"Arial\",\n    labelSize: 14,\n    labelWeight: \"normal\",\n    labelColor: { color: \"#000\" },\n    edgeLabelFont: \"Arial\",\n    edgeLabelSize: 14,\n    edgeLabelWeight: \"normal\",\n    edgeLabelColor: { attribute: \"color\" },\n    stagePadding: 30,\n    // Labels\n    labelDensity: 1,\n    labelGridCellSize: 100,\n    labelRenderedSizeThreshold: 6,\n    // Reducers\n    nodeReducer: null,\n    edgeReducer: null,\n    // Features\n    zIndex: false,\n    minCameraRatio: null,\n    maxCameraRatio: null,\n    // Renderers\n    labelRenderer: label_1.default,\n    hoverRenderer: hover_1.default,\n    edgeLabelRenderer: edge_label_1.default,\n    // Lifecycle\n    allowInvalidContainer: false,\n    // Program classes\n    nodeProgramClasses: {\n        circle: node_fast_1.default,\n    },\n    edgeProgramClasses: {\n        arrow: edge_arrow_1.default,\n        line: edge_1.default,\n    },\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nvar types_1 = require(\"./types\");\nvar utils_1 = require(\"./utils\");\nvar labels_1 = require(\"./core/labels\");\nvar settings_1 = require(\"./settings\");\nvar touch_1 = __importDefault(require(\"./core/captors/touch\"));\nvar matrices_1 = require(\"./utils/matrices\");\nvar edge_collisions_1 = require(\"./utils/edge-collisions\");\n/**\n * Important functions.\n */\nfunction applyNodeDefaults(settings, key, data) {\n    if (!data.hasOwnProperty(\"x\") || !data.hasOwnProperty(\"y\"))\n        throw new Error(\"Sigma: could not find a valid position (x, y) for node \\\"\".concat(key, \"\\\". All your nodes must have a number \\\"x\\\" and \\\"y\\\". Maybe your forgot to apply a layout or your \\\"nodeReducer\\\" is not returning the correct data?\"));\n    if (!data.color)\n        data.color = settings.defaultNodeColor;\n    if (!data.label && data.label !== \"\")\n        data.label = null;\n    if (data.label !== undefined && data.label !== null)\n        data.label = \"\" + data.label;\n    else\n        data.label = null;\n    if (!data.size)\n        data.size = 2;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"highlighted\"))\n        data.highlighted = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultNodeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\nfunction applyEdgeDefaults(settings, key, data) {\n    if (!data.color)\n        data.color = settings.defaultEdgeColor;\n    if (!data.label)\n        data.label = \"\";\n    if (!data.size)\n        data.size = 0.5;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultEdgeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\n/**\n * Main class.\n *\n * @constructor\n * @param {Graph}       graph     - Graph to render.\n * @param {HTMLElement} container - DOM container in which to render.\n * @param {object}      settings  - Optional settings.\n */\nvar Sigma = /** @class */ (function (_super) {\n    __extends(Sigma, _super);\n    function Sigma(graph, container, settings) {\n        if (settings === void 0) { settings = {}; }\n        var _this = _super.call(this) || this;\n        _this.elements = {};\n        _this.canvasContexts = {};\n        _this.webGLContexts = {};\n        _this.activeListeners = {};\n        _this.quadtree = new quadtree_1.default();\n        _this.labelGrid = new labels_1.LabelGrid();\n        _this.nodeDataCache = {};\n        _this.edgeDataCache = {};\n        _this.nodesWithForcedLabels = [];\n        _this.edgesWithForcedLabels = [];\n        _this.nodeExtent = { x: [0, 1], y: [0, 1] };\n        _this.matrix = (0, matrices_1.identity)();\n        _this.invMatrix = (0, matrices_1.identity)();\n        _this.correctionRatio = 1;\n        _this.customBBox = null;\n        _this.normalizationFunction = (0, utils_1.createNormalizationFunction)({\n            x: [0, 1],\n            y: [0, 1],\n        });\n        // Cache:\n        _this.cameraSizeRatio = 1;\n        // Starting dimensions and pixel ratio\n        _this.width = 0;\n        _this.height = 0;\n        _this.pixelRatio = (0, utils_1.getPixelRatio)();\n        // State\n        _this.displayedLabels = new Set();\n        _this.highlightedNodes = new Set();\n        _this.hoveredNode = null;\n        _this.hoveredEdge = null;\n        _this.renderFrame = null;\n        _this.renderHighlightedNodesFrame = null;\n        _this.needToProcess = false;\n        _this.needToSoftProcess = false;\n        _this.checkEdgesEventsFrame = null;\n        // Programs\n        _this.nodePrograms = {};\n        _this.hoverNodePrograms = {};\n        _this.edgePrograms = {};\n        _this.settings = (0, utils_1.assign)({}, settings_1.DEFAULT_SETTINGS, settings);\n        // Validating\n        (0, settings_1.validateSettings)(_this.settings);\n        (0, utils_1.validateGraph)(graph);\n        if (!(container instanceof HTMLElement))\n            throw new Error(\"Sigma: container should be an html element.\");\n        // Properties\n        _this.graph = graph;\n        _this.container = container;\n        // Initializing contexts\n        _this.createWebGLContext(\"edges\", { preserveDrawingBuffer: true });\n        _this.createCanvasContext(\"edgeLabels\");\n        _this.createWebGLContext(\"nodes\");\n        _this.createCanvasContext(\"labels\");\n        _this.createCanvasContext(\"hovers\");\n        _this.createWebGLContext(\"hoverNodes\");\n        _this.createCanvasContext(\"mouse\");\n        // Blending\n        for (var key in _this.webGLContexts) {\n            var gl = _this.webGLContexts[key];\n            gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n            gl.enable(gl.BLEND);\n        }\n        // Loading programs\n        for (var type in _this.settings.nodeProgramClasses) {\n            var NodeProgramClass = _this.settings.nodeProgramClasses[type];\n            _this.nodePrograms[type] = new NodeProgramClass(_this.webGLContexts.nodes, _this);\n            _this.hoverNodePrograms[type] = new NodeProgramClass(_this.webGLContexts.hoverNodes, _this);\n        }\n        for (var type in _this.settings.edgeProgramClasses) {\n            var EdgeProgramClass = _this.settings.edgeProgramClasses[type];\n            _this.edgePrograms[type] = new EdgeProgramClass(_this.webGLContexts.edges, _this);\n        }\n        // Initial resize\n        _this.resize();\n        // Initializing the camera\n        _this.camera = new camera_1.default();\n        // Binding camera events\n        _this.bindCameraHandlers();\n        // Initializing captors\n        _this.mouseCaptor = new mouse_1.default(_this.elements.mouse, _this);\n        _this.touchCaptor = new touch_1.default(_this.elements.mouse, _this);\n        // Binding event handlers\n        _this.bindEventHandlers();\n        // Binding graph handlers\n        _this.bindGraphHandlers();\n        // Trigger eventual settings-related things\n        _this.handleSettingsUpdate();\n        // Processing data for the first time & render\n        _this.process();\n        _this.render();\n        return _this;\n    }\n    /**---------------------------------------------------------------------------\n     * Internal methods.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Internal function used to create a canvas element.\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvas = function (id) {\n        var canvas = (0, utils_1.createElement)(\"canvas\", {\n            position: \"absolute\",\n        }, {\n            class: \"sigma-\".concat(id),\n        });\n        this.elements[id] = canvas;\n        this.container.appendChild(canvas);\n        return canvas;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvasContext = function (id) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = {\n            preserveDrawingBuffer: false,\n            antialias: false,\n        };\n        this.canvasContexts[id] = canvas.getContext(\"2d\", contextOptions);\n        return this;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string}  id      - Context's id.\n     * @param  {object?} options - #getContext params to override (optional)\n     * @return {Sigma}\n     */\n    Sigma.prototype.createWebGLContext = function (id, options) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = __assign({ preserveDrawingBuffer: false, antialias: false }, (options || {}));\n        var context;\n        // First we try webgl2 for an easy performance boost\n        context = canvas.getContext(\"webgl2\", contextOptions);\n        // Else we fall back to webgl\n        if (!context)\n            context = canvas.getContext(\"webgl\", contextOptions);\n        // Edge, I am looking right at you...\n        if (!context)\n            context = canvas.getContext(\"experimental-webgl\", contextOptions);\n        this.webGLContexts[id] = context;\n        return this;\n    };\n    /**\n     * Method binding camera handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindCameraHandlers = function () {\n        var _this = this;\n        this.activeListeners.camera = function () {\n            _this._scheduleRefresh();\n        };\n        this.camera.on(\"updated\", this.activeListeners.camera);\n        return this;\n    };\n    /**\n     * Method that checks whether or not a node collides with a given position.\n     */\n    Sigma.prototype.mouseIsOnNode = function (_a, _b, size) {\n        var x = _a.x, y = _a.y;\n        var nodeX = _b.x, nodeY = _b.y;\n        return (x > nodeX - size &&\n            x < nodeX + size &&\n            y > nodeY - size &&\n            y < nodeY + size &&\n            Math.sqrt(Math.pow(x - nodeX, 2) + Math.pow(y - nodeY, 2)) < size);\n    };\n    /**\n     * Method that returns all nodes in quad at a given position.\n     */\n    Sigma.prototype.getQuadNodes = function (position) {\n        var mouseGraphPosition = this.viewportToFramedGraph(position);\n        return this.quadtree.point(mouseGraphPosition.x, 1 - mouseGraphPosition.y);\n    };\n    /**\n     * Method that returns the closest node to a given position.\n     */\n    Sigma.prototype.getNodeAtPosition = function (position) {\n        var x = position.x, y = position.y;\n        var quadNodes = this.getQuadNodes(position);\n        // We will hover the node whose center is closest to mouse\n        var minDistance = Infinity, nodeAtPosition = null;\n        for (var i = 0, l = quadNodes.length; i < l; i++) {\n            var node = quadNodes[i];\n            var data = this.nodeDataCache[node];\n            var nodePosition = this.framedGraphToViewport(data);\n            var size = this.scaleSize(data.size);\n            if (!data.hidden && this.mouseIsOnNode(position, nodePosition, size)) {\n                var distance = Math.sqrt(Math.pow(x - nodePosition.x, 2) + Math.pow(y - nodePosition.y, 2));\n                // TODO: sort by min size also for cases where center is the same\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    nodeAtPosition = node;\n                }\n            }\n        }\n        return nodeAtPosition;\n    };\n    /**\n     * Method binding event handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindEventHandlers = function () {\n        var _this = this;\n        // Handling window resize\n        this.activeListeners.handleResize = function () {\n            _this.needToSoftProcess = true;\n            _this._scheduleRefresh();\n        };\n        window.addEventListener(\"resize\", this.activeListeners.handleResize);\n        // Handling mouse move\n        this.activeListeners.handleMove = function (e) {\n            var baseEvent = {\n                event: e,\n                preventSigmaDefault: function () {\n                    e.preventSigmaDefault();\n                },\n            };\n            var nodeToHover = _this.getNodeAtPosition(e);\n            if (nodeToHover && _this.hoveredNode !== nodeToHover && !_this.nodeDataCache[nodeToHover].hidden) {\n                // Handling passing from one node to the other directly\n                if (_this.hoveredNode)\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: _this.hoveredNode }));\n                _this.hoveredNode = nodeToHover;\n                _this.emit(\"enterNode\", __assign(__assign({}, baseEvent), { node: nodeToHover }));\n                _this.scheduleHighlightedNodesRender();\n                return;\n            }\n            // Checking if the hovered node is still hovered\n            if (_this.hoveredNode) {\n                var data = _this.nodeDataCache[_this.hoveredNode];\n                var pos = _this.framedGraphToViewport(data);\n                var size = _this.scaleSize(data.size);\n                if (!_this.mouseIsOnNode(e, pos, size)) {\n                    var node = _this.hoveredNode;\n                    _this.hoveredNode = null;\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: node }));\n                    _this.scheduleHighlightedNodesRender();\n                    return;\n                }\n            }\n            if (_this.settings.enableEdgeHoverEvents === true) {\n                _this.checkEdgeHoverEvents(baseEvent);\n            }\n            else if (_this.settings.enableEdgeHoverEvents === \"debounce\") {\n                if (!_this.checkEdgesEventsFrame)\n                    _this.checkEdgesEventsFrame = (0, utils_1.requestFrame)(function () {\n                        _this.checkEdgeHoverEvents(baseEvent);\n                        _this.checkEdgesEventsFrame = null;\n                    });\n            }\n        };\n        // Handling click\n        var createMouseListener = function (eventType) {\n            return function (e) {\n                var baseEvent = {\n                    event: e,\n                    preventSigmaDefault: function () {\n                        e.preventSigmaDefault();\n                    },\n                };\n                var isFakeSigmaMouseEvent = e.original.isFakeSigmaMouseEvent;\n                var nodeAtPosition = isFakeSigmaMouseEvent ? _this.getNodeAtPosition(e) : _this.hoveredNode;\n                if (nodeAtPosition)\n                    return _this.emit(\"\".concat(eventType, \"Node\"), __assign(__assign({}, baseEvent), { node: nodeAtPosition }));\n                if (eventType === \"wheel\" ? _this.settings.enableEdgeWheelEvents : _this.settings.enableEdgeClickEvents) {\n                    var edge = _this.getEdgeAtPoint(e.x, e.y);\n                    if (edge)\n                        return _this.emit(\"\".concat(eventType, \"Edge\"), __assign(__assign({}, baseEvent), { edge: edge }));\n                }\n                return _this.emit(\"\".concat(eventType, \"Stage\"), baseEvent);\n            };\n        };\n        this.activeListeners.handleClick = createMouseListener(\"click\");\n        this.activeListeners.handleRightClick = createMouseListener(\"rightClick\");\n        this.activeListeners.handleDoubleClick = createMouseListener(\"doubleClick\");\n        this.activeListeners.handleWheel = createMouseListener(\"wheel\");\n        this.activeListeners.handleDown = createMouseListener(\"down\");\n        this.mouseCaptor.on(\"mousemove\", this.activeListeners.handleMove);\n        this.mouseCaptor.on(\"click\", this.activeListeners.handleClick);\n        this.mouseCaptor.on(\"rightClick\", this.activeListeners.handleRightClick);\n        this.mouseCaptor.on(\"doubleClick\", this.activeListeners.handleDoubleClick);\n        this.mouseCaptor.on(\"wheel\", this.activeListeners.handleWheel);\n        this.mouseCaptor.on(\"mousedown\", this.activeListeners.handleDown);\n        // TODO\n        // Deal with Touch captor events\n        return this;\n    };\n    /**\n     * Method binding graph handlers\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindGraphHandlers = function () {\n        var _this = this;\n        var graph = this.graph;\n        this.activeListeners.graphUpdate = function () {\n            _this.needToProcess = true;\n            _this._scheduleRefresh();\n        };\n        this.activeListeners.softGraphUpdate = function () {\n            _this.needToSoftProcess = true;\n            _this._scheduleRefresh();\n        };\n        this.activeListeners.dropNodeGraphUpdate = function (e) {\n            delete _this.nodeDataCache[e.key];\n            if (_this.hoveredNode === e.key)\n                _this.hoveredNode = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.dropEdgeGraphUpdate = function (e) {\n            delete _this.edgeDataCache[e.key];\n            if (_this.hoveredEdge === e.key)\n                _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearEdgesGraphUpdate = function () {\n            _this.edgeDataCache = {};\n            _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearGraphUpdate = function () {\n            _this.nodeDataCache = {};\n            _this.hoveredNode = null;\n            _this.activeListeners.clearEdgesGraphUpdate();\n        };\n        graph.on(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.on(\"nodeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.on(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.on(\"edgeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.on(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.on(\"cleared\", this.activeListeners.clearGraphUpdate);\n        return this;\n    };\n    /**\n     * Method dealing with \"leaveEdge\" and \"enterEdge\" events.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.checkEdgeHoverEvents = function (payload) {\n        var edgeToHover = this.hoveredNode ? null : this.getEdgeAtPoint(payload.event.x, payload.event.y);\n        if (edgeToHover !== this.hoveredEdge) {\n            if (this.hoveredEdge)\n                this.emit(\"leaveEdge\", __assign(__assign({}, payload), { edge: this.hoveredEdge }));\n            if (edgeToHover)\n                this.emit(\"enterEdge\", __assign(__assign({}, payload), { edge: edgeToHover }));\n            this.hoveredEdge = edgeToHover;\n        }\n        return this;\n    };\n    /**\n     * Method looking for an edge colliding with a given point at (x, y). Returns\n     * the key of the edge if any, or null else.\n     */\n    Sigma.prototype.getEdgeAtPoint = function (x, y) {\n        var e_1, _a;\n        var _this = this;\n        var _b = this, edgeDataCache = _b.edgeDataCache, nodeDataCache = _b.nodeDataCache;\n        // Check first that pixel is colored:\n        // Note that mouse positions must be corrected by pixel ratio to correctly\n        // index the drawing buffer.\n        if (!(0, edge_collisions_1.isPixelColored)(this.webGLContexts.edges, x * this.pixelRatio, y * this.pixelRatio))\n            return null;\n        // Check for each edge if it collides with the point:\n        var _c = this.viewportToGraph({ x: x, y: y }), graphX = _c.x, graphY = _c.y;\n        // To translate edge thicknesses to the graph system, we observe by how much\n        // the length of a non-null edge is transformed to between the graph system\n        // and the viewport system:\n        var transformationRatio = 0;\n        this.graph.someEdge(function (key, _, sourceId, targetId, _a, _b) {\n            var xs = _a.x, ys = _a.y;\n            var xt = _b.x, yt = _b.y;\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if (xs !== xt || ys !== yt) {\n                var graphLength = Math.sqrt(Math.pow(xt - xs, 2) + Math.pow(yt - ys, 2));\n                var _c = _this.graphToViewport({ x: xs, y: ys }), vp_xs = _c.x, vp_ys = _c.y;\n                var _d = _this.graphToViewport({ x: xt, y: yt }), vp_xt = _d.x, vp_yt = _d.y;\n                var viewportLength = Math.sqrt(Math.pow(vp_xt - vp_xs, 2) + Math.pow(vp_yt - vp_ys, 2));\n                transformationRatio = graphLength / viewportLength;\n                return true;\n            }\n        });\n        // If no non-null edge has been found, return null:\n        if (!transformationRatio)\n            return null;\n        // Now we can look for matching edges:\n        var edges = this.graph.filterEdges(function (key, edgeAttributes, sourceId, targetId, sourcePosition, targetPosition) {\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if ((0, edge_collisions_1.doEdgeCollideWithPoint)(graphX, graphY, sourcePosition.x, sourcePosition.y, targetPosition.x, targetPosition.y, \n            // Adapt the edge size to the zoom ratio:\n            (edgeDataCache[key].size * transformationRatio) / _this.cameraSizeRatio)) {\n                return true;\n            }\n        });\n        if (edges.length === 0)\n            return null; // no edges found\n        // if none of the edges have a zIndex, selected the most recently created one to match the rendering order\n        var selectedEdge = edges[edges.length - 1];\n        // otherwise select edge with highest zIndex\n        var highestZIndex = -Infinity;\n        try {\n            for (var edges_1 = __values(edges), edges_1_1 = edges_1.next(); !edges_1_1.done; edges_1_1 = edges_1.next()) {\n                var edge = edges_1_1.value;\n                var zIndex = this.graph.getEdgeAttribute(edge, \"zIndex\");\n                if (zIndex >= highestZIndex) {\n                    selectedEdge = edge;\n                    highestZIndex = zIndex;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (edges_1_1 && !edges_1_1.done && (_a = edges_1.return)) _a.call(edges_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return selectedEdge;\n    };\n    /**\n     * Method used to process the whole graph's data.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.process = function (keepArrays) {\n        var _this = this;\n        if (keepArrays === void 0) { keepArrays = false; }\n        var graph = this.graph;\n        var settings = this.settings;\n        var dimensions = this.getDimensions();\n        var nodeZExtent = [Infinity, -Infinity];\n        var edgeZExtent = [Infinity, -Infinity];\n        // Clearing the quad\n        this.quadtree.clear();\n        // Resetting the label grid\n        // TODO: it's probably better to do this explicitly or on resizes for layout and anims\n        this.labelGrid.resizeAndClear(dimensions, settings.labelGridCellSize);\n        // Clear the highlightedNodes\n        this.highlightedNodes = new Set();\n        // Computing extents\n        this.nodeExtent = (0, utils_1.graphExtent)(graph);\n        // Resetting `forceLabel` indices\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        // NOTE: it is important to compute this matrix after computing the node's extent\n        // because #.getGraphDimensions relies on it\n        var nullCamera = new camera_1.default();\n        var nullCameraMatrix = (0, utils_1.matrixFromCamera)(nullCamera.getState(), this.getDimensions(), this.getGraphDimensions(), this.getSetting(\"stagePadding\") || 0);\n        // Rescaling function\n        this.normalizationFunction = (0, utils_1.createNormalizationFunction)(this.customBBox || this.nodeExtent);\n        var nodesPerPrograms = {};\n        var nodes = graph.nodes();\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            // Node display data resolution:\n            //   1. First we get the node's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            //   4. We apply the normalization function\n            // We shallow copy node data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getNodeAttributes(node));\n            if (settings.nodeReducer)\n                attr = settings.nodeReducer(node, attr);\n            var data = applyNodeDefaults(this.settings, node, attr);\n            nodesPerPrograms[data.type] = (nodesPerPrograms[data.type] || 0) + 1;\n            this.nodeDataCache[node] = data;\n            this.normalizationFunction.applyTo(data);\n            if (data.forceLabel)\n                this.nodesWithForcedLabels.push(node);\n            if (this.settings.zIndex) {\n                if (data.zIndex < nodeZExtent[0])\n                    nodeZExtent[0] = data.zIndex;\n                if (data.zIndex > nodeZExtent[1])\n                    nodeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.nodePrograms) {\n            if (!this.nodePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(type, \"\\\"!\"));\n            }\n            if (!keepArrays)\n                this.nodePrograms[type].allocate(nodesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            nodesPerPrograms[type] = 0;\n        }\n        // Handling node z-index\n        // TODO: z-index needs us to compute display data before hand\n        if (this.settings.zIndex && nodeZExtent[0] !== nodeZExtent[1])\n            nodes = (0, utils_1.zIndexOrdering)(nodeZExtent, function (node) { return _this.nodeDataCache[node].zIndex; }, nodes);\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            var data = this.nodeDataCache[node];\n            this.quadtree.add(node, data.x, 1 - data.y, data.size / this.width);\n            if (typeof data.label === \"string\" && !data.hidden)\n                this.labelGrid.add(node, data.size, this.framedGraphToViewport(data, { matrix: nullCameraMatrix }));\n            this.nodePrograms[data.type].process(data, data.hidden, nodesPerPrograms[data.type]++);\n            // Save the node in the highlighted set if needed\n            if (data.highlighted && !data.hidden)\n                this.highlightedNodes.add(node);\n        }\n        this.labelGrid.organize();\n        var edgesPerPrograms = {};\n        var edges = graph.edges();\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            // Edge display data resolution:\n            //   1. First we get the edge's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            // We shallow copy edge data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getEdgeAttributes(edge));\n            if (settings.edgeReducer)\n                attr = settings.edgeReducer(edge, attr);\n            var data = applyEdgeDefaults(this.settings, edge, attr);\n            edgesPerPrograms[data.type] = (edgesPerPrograms[data.type] || 0) + 1;\n            this.edgeDataCache[edge] = data;\n            if (data.forceLabel && !data.hidden)\n                this.edgesWithForcedLabels.push(edge);\n            if (this.settings.zIndex) {\n                if (data.zIndex < edgeZExtent[0])\n                    edgeZExtent[0] = data.zIndex;\n                if (data.zIndex > edgeZExtent[1])\n                    edgeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.edgePrograms) {\n            if (!this.edgePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for edge type \\\"\".concat(type, \"\\\"!\"));\n            }\n            if (!keepArrays)\n                this.edgePrograms[type].allocate(edgesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            edgesPerPrograms[type] = 0;\n        }\n        // Handling edge z-index\n        if (this.settings.zIndex && edgeZExtent[0] !== edgeZExtent[1])\n            edges = (0, utils_1.zIndexOrdering)(edgeZExtent, function (edge) { return _this.edgeDataCache[edge].zIndex; }, edges);\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            var data = this.edgeDataCache[edge];\n            var extremities = graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]];\n            var hidden = data.hidden || sourceData.hidden || targetData.hidden;\n            this.edgePrograms[data.type].process(sourceData, targetData, data, hidden, edgesPerPrograms[data.type]++);\n        }\n        for (var type in this.edgePrograms) {\n            var program = this.edgePrograms[type];\n            if (!keepArrays && typeof program.computeIndices === \"function\")\n                program.computeIndices();\n        }\n        return this;\n    };\n    /**\n     * Method that backports potential settings updates where it's needed.\n     * @private\n     */\n    Sigma.prototype.handleSettingsUpdate = function () {\n        this.camera.minRatio = this.settings.minCameraRatio;\n        this.camera.maxRatio = this.settings.maxCameraRatio;\n        this.camera.setState(this.camera.validateState(this.camera.getState()));\n        return this;\n    };\n    /**\n     * Method that decides whether to reprocess graph or not, and then render the\n     * graph.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype._refresh = function () {\n        // Do we need to process data?\n        if (this.needToProcess) {\n            this.process();\n        }\n        else if (this.needToSoftProcess) {\n            this.process(true);\n        }\n        // Resetting state\n        this.needToProcess = false;\n        this.needToSoftProcess = false;\n        // Rendering\n        this.render();\n        return this;\n    };\n    /**\n     * Method that schedules a `_refresh` call if none has been scheduled yet. It\n     * will then be processed next available frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype._scheduleRefresh = function () {\n        var _this = this;\n        if (!this.renderFrame) {\n            this.renderFrame = (0, utils_1.requestFrame)(function () {\n                _this._refresh();\n                _this.renderFrame = null;\n            });\n        }\n        return this;\n    };\n    /**\n     * Method used to render labels.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderLabels = function () {\n        if (!this.settings.renderLabels)\n            return this;\n        var cameraState = this.camera.getState();\n        // Finding visible nodes to display their labels\n        var visibleNodes;\n        if (cameraState.ratio >= 1) {\n            // Camera is unzoomed so no need to ask the quadtree for visible nodes\n            visibleNodes = new Set(this.graph.nodes());\n        }\n        else {\n            // Let's ask the quadtree\n            var viewRectangle = this.viewRectangle();\n            visibleNodes = new Set(this.quadtree.rectangle(viewRectangle.x1, 1 - viewRectangle.y1, viewRectangle.x2, 1 - viewRectangle.y2, viewRectangle.height));\n        }\n        // Selecting labels to draw\n        // TODO: drop gridsettings likewise\n        // TODO: optimize through visible nodes\n        var labelsToDisplay = this.labelGrid\n            .getLabelsToDisplay(cameraState.ratio, this.settings.labelDensity)\n            .concat(this.nodesWithForcedLabels);\n        this.displayedLabels = new Set();\n        // Drawing labels\n        var context = this.canvasContexts.labels;\n        for (var i = 0, l = labelsToDisplay.length; i < l; i++) {\n            var node = labelsToDisplay[i];\n            var data = this.nodeDataCache[node];\n            // If the node was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            if (this.displayedLabels.has(node))\n                continue;\n            // If the node is hidden, we don't need to display its label obviously\n            if (data.hidden)\n                continue;\n            var _a = this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            // TODO: we can cache the labels we need to render until the camera's ratio changes\n            // TODO: this should be computed in the canvas components?\n            var size = this.scaleSize(data.size);\n            if (!data.forceLabel && size < this.settings.labelRenderedSizeThreshold)\n                continue;\n            if (!visibleNodes.has(node))\n                continue;\n            // TODO:\n            // Because displayed edge labels depend directly on actually rendered node\n            // labels, we need to only add to this.displayedLabels nodes whose label\n            // is rendered.\n            // This makes this.displayedLabels depend on viewport, which might become\n            // an issue once we start memoizing getLabelsToDisplay.\n            this.displayedLabels.add(node);\n            this.settings.labelRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), this.settings);\n        }\n        return this;\n    };\n    /**\n     * Method used to render edge labels, based on which node labels were\n     * rendered.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderEdgeLabels = function () {\n        if (!this.settings.renderEdgeLabels)\n            return this;\n        var context = this.canvasContexts.edgeLabels;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        var edgeLabelsToDisplay = (0, labels_1.edgeLabelsToDisplayFromNodes)({\n            graph: this.graph,\n            hoveredNode: this.hoveredNode,\n            displayedNodeLabels: this.displayedLabels,\n            highlightedNodes: this.highlightedNodes,\n        }).concat(this.edgesWithForcedLabels);\n        var displayedLabels = new Set();\n        for (var i = 0, l = edgeLabelsToDisplay.length; i < l; i++) {\n            var edge = edgeLabelsToDisplay[i], extremities = this.graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]], edgeData = this.edgeDataCache[edge];\n            // If the edge was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            if (displayedLabels.has(edge))\n                continue;\n            // If the edge is hidden we don't need to display its label\n            // NOTE: the test on sourceData & targetData is probably paranoid at this point?\n            if (edgeData.hidden || sourceData.hidden || targetData.hidden) {\n                continue;\n            }\n            this.settings.edgeLabelRenderer(context, __assign(__assign({ key: edge }, edgeData), { size: this.scaleSize(edgeData.size) }), __assign(__assign(__assign({ key: extremities[0] }, sourceData), this.framedGraphToViewport(sourceData)), { size: this.scaleSize(sourceData.size) }), __assign(__assign(__assign({ key: extremities[1] }, targetData), this.framedGraphToViewport(targetData)), { size: this.scaleSize(targetData.size) }), this.settings);\n            displayedLabels.add(edge);\n        }\n        return this;\n    };\n    /**\n     * Method used to render the highlighted nodes.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderHighlightedNodes = function () {\n        var _this = this;\n        var context = this.canvasContexts.hovers;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        // Rendering\n        var render = function (node) {\n            var data = _this.nodeDataCache[node];\n            var _a = _this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            var size = _this.scaleSize(data.size);\n            _this.settings.hoverRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), _this.settings);\n        };\n        var nodesToRender = [];\n        if (this.hoveredNode && !this.nodeDataCache[this.hoveredNode].hidden) {\n            nodesToRender.push(this.hoveredNode);\n        }\n        this.highlightedNodes.forEach(function (node) {\n            // The hovered node has already been highlighted\n            if (node !== _this.hoveredNode)\n                nodesToRender.push(node);\n        });\n        // Draw labels:\n        nodesToRender.forEach(function (node) { return render(node); });\n        // Draw WebGL nodes on top of the labels:\n        var nodesPerPrograms = {};\n        // 1. Count nodes per type:\n        nodesToRender.forEach(function (node) {\n            var type = _this.nodeDataCache[node].type;\n            nodesPerPrograms[type] = (nodesPerPrograms[type] || 0) + 1;\n        });\n        // 2. Allocate for each type for the proper number of nodes\n        for (var type in this.hoverNodePrograms) {\n            this.hoverNodePrograms[type].allocate(nodesPerPrograms[type] || 0);\n            // Also reset count, to use when rendering:\n            nodesPerPrograms[type] = 0;\n        }\n        // 3. Process all nodes to render:\n        nodesToRender.forEach(function (node) {\n            var data = _this.nodeDataCache[node];\n            _this.hoverNodePrograms[data.type].process(data, data.hidden, nodesPerPrograms[data.type]++);\n        });\n        // 4. Clear hovered nodes layer:\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        // 5. Render:\n        for (var type in this.hoverNodePrograms) {\n            var program = this.hoverNodePrograms[type];\n            program.bind();\n            program.bufferData();\n            program.render({\n                matrix: this.matrix,\n                width: this.width,\n                height: this.height,\n                ratio: this.camera.ratio,\n                correctionRatio: this.correctionRatio / this.camera.ratio,\n                scalingRatio: this.pixelRatio,\n            });\n        }\n    };\n    /**\n     * Method used to schedule a hover render.\n     *\n     */\n    Sigma.prototype.scheduleHighlightedNodesRender = function () {\n        var _this = this;\n        if (this.renderHighlightedNodesFrame || this.renderFrame)\n            return;\n        this.renderHighlightedNodesFrame = (0, utils_1.requestFrame)(function () {\n            // Resetting state\n            _this.renderHighlightedNodesFrame = null;\n            // Rendering\n            _this.renderHighlightedNodes();\n            _this.renderEdgeLabels();\n        });\n    };\n    /**\n     * Method used to render.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.render = function () {\n        var _this = this;\n        this.emit(\"beforeRender\");\n        var handleEscape = function () {\n            _this.emit(\"afterRender\");\n            return _this;\n        };\n        // If a render was scheduled, we cancel it\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n            this.needToProcess = false;\n            this.needToSoftProcess = false;\n        }\n        // First we need to resize\n        this.resize();\n        // Clearing the canvases\n        this.clear();\n        // Recomputing useful camera-related values:\n        this.updateCachedValues();\n        // If we have no nodes we can stop right there\n        if (!this.graph.order)\n            return handleEscape();\n        // TODO: improve this heuristic or move to the captor itself?\n        // TODO: deal with the touch captor here as well\n        var mouseCaptor = this.mouseCaptor;\n        var moving = this.camera.isAnimated() ||\n            mouseCaptor.isMoving ||\n            mouseCaptor.draggedEvents ||\n            mouseCaptor.currentWheelDirection;\n        // Then we need to extract a matrix from the camera\n        var cameraState = this.camera.getState();\n        var viewportDimensions = this.getDimensions();\n        var graphDimensions = this.getGraphDimensions();\n        var padding = this.getSetting(\"stagePadding\") || 0;\n        this.matrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding);\n        this.invMatrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding, true);\n        this.correctionRatio = (0, utils_1.getMatrixImpact)(this.matrix, cameraState, viewportDimensions);\n        // Drawing nodes\n        for (var type in this.nodePrograms) {\n            var program = this.nodePrograms[type];\n            program.bind();\n            program.bufferData();\n            program.render({\n                matrix: this.matrix,\n                width: this.width,\n                height: this.height,\n                ratio: cameraState.ratio,\n                correctionRatio: this.correctionRatio / cameraState.ratio,\n                scalingRatio: this.pixelRatio,\n            });\n        }\n        // Drawing edges\n        if (!this.settings.hideEdgesOnMove || !moving) {\n            for (var type in this.edgePrograms) {\n                var program = this.edgePrograms[type];\n                program.bind();\n                program.bufferData();\n                program.render({\n                    matrix: this.matrix,\n                    width: this.width,\n                    height: this.height,\n                    ratio: cameraState.ratio,\n                    correctionRatio: this.correctionRatio / cameraState.ratio,\n                    scalingRatio: this.pixelRatio,\n                });\n            }\n        }\n        // Do not display labels on move per setting\n        if (this.settings.hideLabelsOnMove && moving)\n            return handleEscape();\n        this.renderLabels();\n        this.renderEdgeLabels();\n        this.renderHighlightedNodes();\n        return handleEscape();\n    };\n    /**\n     * Internal method used to update expensive and therefore cached values\n     * each time the camera state is updated.\n     */\n    Sigma.prototype.updateCachedValues = function () {\n        var ratio = this.camera.getState().ratio;\n        this.cameraSizeRatio = Math.sqrt(ratio);\n    };\n    /**---------------------------------------------------------------------------\n     * Public API.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Method returning the renderer's camera.\n     *\n     * @return {Camera}\n     */\n    Sigma.prototype.getCamera = function () {\n        return this.camera;\n    };\n    /**\n     * Method returning the container DOM element.\n     *\n     * @return {HTMLElement}\n     */\n    Sigma.prototype.getContainer = function () {\n        return this.container;\n    };\n    /**\n     * Method returning the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.getGraph = function () {\n        return this.graph;\n    };\n    /**\n     * Method returning the mouse captor.\n     *\n     * @return {MouseCaptor}\n     */\n    Sigma.prototype.getMouseCaptor = function () {\n        return this.mouseCaptor;\n    };\n    /**\n     * Method returning the touch captor.\n     *\n     * @return {TouchCaptor}\n     */\n    Sigma.prototype.getTouchCaptor = function () {\n        return this.touchCaptor;\n    };\n    /**\n     * Method returning the current renderer's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getDimensions = function () {\n        return { width: this.width, height: this.height };\n    };\n    /**\n     * Method returning the current graph's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getGraphDimensions = function () {\n        var extent = this.customBBox || this.nodeExtent;\n        return {\n            width: extent.x[1] - extent.x[0] || 1,\n            height: extent.y[1] - extent.y[0] || 1,\n        };\n    };\n    /**\n     * Method used to get all the sigma node attributes.\n     * It's usefull for example to get the position of a node\n     * and to get values that are set by the nodeReducer\n     *\n     * @param  {string} key - The node's key.\n     * @return {NodeDisplayData | undefined} A copy of the desired node's attribute or undefined if not found\n     */\n    Sigma.prototype.getNodeDisplayData = function (key) {\n        var node = this.nodeDataCache[key];\n        return node ? Object.assign({}, node) : undefined;\n    };\n    /**\n     * Method used to get all the sigma edge attributes.\n     * It's usefull for example to get values that are set by the edgeReducer.\n     *\n     * @param  {string} key - The edge's key.\n     * @return {EdgeDisplayData | undefined} A copy of the desired edge's attribute or undefined if not found\n     */\n    Sigma.prototype.getEdgeDisplayData = function (key) {\n        var edge = this.edgeDataCache[key];\n        return edge ? Object.assign({}, edge) : undefined;\n    };\n    /**\n     * Method returning a copy of the settings collection.\n     *\n     * @return {Settings} A copy of the settings collection.\n     */\n    Sigma.prototype.getSettings = function () {\n        return __assign({}, this.settings);\n    };\n    /**\n     * Method returning the current value for a given setting key.\n     *\n     * @param  {string} key - The setting key to get.\n     * @return {any} The value attached to this setting key or undefined if not found\n     */\n    Sigma.prototype.getSetting = function (key) {\n        return this.settings[key];\n    };\n    /**\n     * Method setting the value of a given setting key. Note that this will schedule\n     * a new render next frame.\n     *\n     * @param  {string} key - The setting key to set.\n     * @param  {any}    value - The value to set.\n     * @return {Sigma}\n     */\n    Sigma.prototype.setSetting = function (key, value) {\n        this.settings[key] = value;\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.needToProcess = true; // TODO: some keys may work with only needToSoftProcess or even nothing\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method updating the value of a given setting key using the provided function.\n     * Note that this will schedule a new render next frame.\n     *\n     * @param  {string}   key     - The setting key to set.\n     * @param  {function} updater - The update function.\n     * @return {Sigma}\n     */\n    Sigma.prototype.updateSetting = function (key, updater) {\n        this.settings[key] = updater(this.settings[key]);\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.needToProcess = true; // TODO: some keys may work with only needToSoftProcess or even nothing\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to resize the renderer.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.resize = function () {\n        var previousWidth = this.width, previousHeight = this.height;\n        this.width = this.container.offsetWidth;\n        this.height = this.container.offsetHeight;\n        this.pixelRatio = (0, utils_1.getPixelRatio)();\n        if (this.width === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.width = 1;\n            else\n                throw new Error(\"Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seing this error.\");\n        }\n        if (this.height === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.height = 1;\n            else\n                throw new Error(\"Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seing this error.\");\n        }\n        // If nothing has changed, we can stop right here\n        if (previousWidth === this.width && previousHeight === this.height)\n            return this;\n        this.emit(\"resize\");\n        // Sizing dom elements\n        for (var id in this.elements) {\n            var element = this.elements[id];\n            element.style.width = this.width + \"px\";\n            element.style.height = this.height + \"px\";\n        }\n        // Sizing canvas contexts\n        for (var id in this.canvasContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            if (this.pixelRatio !== 1)\n                this.canvasContexts[id].scale(this.pixelRatio, this.pixelRatio);\n        }\n        // Sizing WebGL contexts\n        for (var id in this.webGLContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            this.webGLContexts[id].viewport(0, 0, this.width * this.pixelRatio, this.height * this.pixelRatio);\n        }\n        return this;\n    };\n    /**\n     * Method used to clear all the canvases.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.clear = function () {\n        this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT);\n        this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT);\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        this.canvasContexts.labels.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.hovers.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.edgeLabels.clearRect(0, 0, this.width, this.height);\n        return this;\n    };\n    /**\n     * Method used to refresh all computed data.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.refresh = function () {\n        this.needToProcess = true;\n        this._refresh();\n        return this;\n    };\n    /**\n     * Method used to refresh all computed data, at the next available frame.\n     * If this method has already been called this frame, then it will only render once at the next available frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.scheduleRefresh = function () {\n        this.needToProcess = true;\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to (un)zoom, while preserving the position of a viewport point.\n     * Used for instance to zoom \"on the mouse cursor\".\n     *\n     * @param viewportTarget\n     * @param newRatio\n     * @return {CameraState}\n     */\n    Sigma.prototype.getViewportZoomedState = function (viewportTarget, newRatio) {\n        var _a = this.camera.getState(), ratio = _a.ratio, angle = _a.angle, x = _a.x, y = _a.y;\n        // TODO: handle max zoom\n        var ratioDiff = newRatio / ratio;\n        var center = {\n            x: this.width / 2,\n            y: this.height / 2,\n        };\n        var graphMousePosition = this.viewportToFramedGraph(viewportTarget);\n        var graphCenterPosition = this.viewportToFramedGraph(center);\n        return {\n            angle: angle,\n            x: (graphMousePosition.x - graphCenterPosition.x) * (1 - ratioDiff) + x,\n            y: (graphMousePosition.y - graphCenterPosition.y) * (1 - ratioDiff) + y,\n            ratio: newRatio,\n        };\n    };\n    /**\n     * Method returning the abstract rectangle containing the graph according\n     * to the camera's state.\n     *\n     * @return {object} - The view's rectangle.\n     */\n    Sigma.prototype.viewRectangle = function () {\n        // TODO: reduce relative margin?\n        var marginX = (0 * this.width) / 8, marginY = (0 * this.height) / 8;\n        var p1 = this.viewportToFramedGraph({ x: 0 - marginX, y: 0 - marginY }), p2 = this.viewportToFramedGraph({ x: this.width + marginX, y: 0 - marginY }), h = this.viewportToFramedGraph({ x: 0, y: this.height + marginY });\n        return {\n            x1: p1.x,\n            y1: p1.y,\n            x2: p2.x,\n            y2: p2.y,\n            height: p2.y - h.y,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the framed graph system to the viewport system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.framedGraphToViewport = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !!override.graphDimensions;\n        var matrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0)\n                : this.matrix;\n        var viewportPos = (0, matrices_1.multiplyVec2)(matrix, coordinates);\n        return {\n            x: ((1 + viewportPos.x) * this.width) / 2,\n            y: ((1 - viewportPos.y) * this.height) / 2,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the viewport system to the framed graph system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.viewportToFramedGraph = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !override.graphDimensions;\n        var invMatrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0, true)\n                : this.invMatrix;\n        var res = (0, matrices_1.multiplyVec2)(invMatrix, {\n            x: (coordinates.x / this.width) * 2 - 1,\n            y: 1 - (coordinates.y / this.height) * 2,\n        });\n        if (isNaN(res.x))\n            res.x = 0;\n        if (isNaN(res.y))\n            res.y = 0;\n        return res;\n    };\n    /**\n     * Method used to translate a point's coordinates from the viewport system (pixel distance from the top-left of the\n     * stage) to the graph system (the reference system of data as they are in the given graph instance).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  viewportPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.viewportToGraph = function (viewportPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.normalizationFunction.inverse(this.viewportToFramedGraph(viewportPoint, override));\n    };\n    /**\n     * Method used to translate a point's coordinates from the graph system (the reference system of data as they are in\n     * the given graph instance) to the viewport system (pixel distance from the top-left of the stage).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  graphPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.graphToViewport = function (graphPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.framedGraphToViewport(this.normalizationFunction(graphPoint), override);\n    };\n    /**\n     * Method returning the graph's bounding box.\n     *\n     * @return {{ x: Extent, y: Extent }}\n     */\n    Sigma.prototype.getBBox = function () {\n        return (0, utils_1.graphExtent)(this.graph);\n    };\n    /**\n     * Method returning the graph's custom bounding box, if any.\n     *\n     * @return {{ x: Extent, y: Extent } | null}\n     */\n    Sigma.prototype.getCustomBBox = function () {\n        return this.customBBox;\n    };\n    /**\n     * Method used to override the graph's bounding box with a custom one. Give `null` as the argument to stop overriding.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.setCustomBBox = function (customBBox) {\n        this.customBBox = customBBox;\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to shut the container & release event listeners.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.kill = function () {\n        var graph = this.graph;\n        // Emitting \"kill\" events so that plugins and such can cleanup\n        this.emit(\"kill\");\n        // Releasing events\n        this.removeAllListeners();\n        // Releasing camera handlers\n        this.camera.removeListener(\"updated\", this.activeListeners.camera);\n        // Releasing DOM events & captors\n        window.removeEventListener(\"resize\", this.activeListeners.handleResize);\n        this.mouseCaptor.kill();\n        this.touchCaptor.kill();\n        // Releasing graph handlers\n        graph.removeListener(\"nodeAdded\", this.activeListeners.dropNodeGraphUpdate);\n        graph.removeListener(\"nodeDropped\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"nodeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.removeListener(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.removeListener(\"edgeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.removeListener(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.removeListener(\"cleared\", this.activeListeners.clearGraphUpdate);\n        // Releasing cache & state\n        this.quadtree = new quadtree_1.default();\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        this.highlightedNodes.clear();\n        // Clearing frames\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n        }\n        if (this.renderHighlightedNodesFrame) {\n            (0, utils_1.cancelFrame)(this.renderHighlightedNodesFrame);\n            this.renderHighlightedNodesFrame = null;\n        }\n        // Destroying canvases\n        var container = this.container;\n        while (container.firstChild)\n            container.removeChild(container.firstChild);\n    };\n    /**\n     * Method used to scale the given size according to the camera's ratio, i.e.\n     * zooming state.\n     *\n     * @param  {number} size - The size to scale (node size, edge thickness etc.).\n     * @return {number}      - The scaled size.\n     */\n    Sigma.prototype.scaleSize = function (size) {\n        return size / this.cameraSizeRatio;\n    };\n    /**\n     * Method that returns the collection of all used canvases.\n     * At the moment, the instantiated canvases are the following, and in the\n     * following order in the DOM:\n     * - `edges`\n     * - `nodes`\n     * - `edgeLabels`\n     * - `labels`\n     * - `hovers`\n     * - `hoverNodes`\n     * - `mouse`\n     *\n     * @return {PlainObject<HTMLCanvasElement>} - The collection of canvases.\n     */\n    Sigma.prototype.getCanvases = function () {\n        return __assign({}, this.elements);\n    };\n    return Sigma;\n}(types_1.TypedEventEmitter));\nexports.default = Sigma;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypedEventEmitter = void 0;\n/**\n * Sigma.js Types\n * ===============\n *\n * Various type declarations used throughout the library.\n * @module\n */\nvar events_1 = require(\"events\");\nvar TypedEventEmitter = /** @class */ (function (_super) {\n    __extends(TypedEventEmitter, _super);\n    function TypedEventEmitter() {\n        var _this = _super.call(this) || this;\n        _this.rawEmitter = _this;\n        return _this;\n    }\n    return TypedEventEmitter;\n}(events_1.EventEmitter));\nexports.TypedEventEmitter = TypedEventEmitter;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.animateNodes = exports.ANIMATE_DEFAULTS = void 0;\nvar index_1 = require(\"./index\");\nvar easings_1 = __importDefault(require(\"./easings\"));\nexports.ANIMATE_DEFAULTS = {\n    easing: \"quadraticInOut\",\n    duration: 150,\n};\n/**\n * Function used to animate the nodes.\n */\nfunction animateNodes(graph, targets, opts, callback) {\n    var options = Object.assign({}, exports.ANIMATE_DEFAULTS, opts);\n    var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n    var start = Date.now();\n    var startPositions = {};\n    for (var node in targets) {\n        var attrs = targets[node];\n        startPositions[node] = {};\n        for (var k in attrs)\n            startPositions[node][k] = graph.getNodeAttribute(node, k);\n    }\n    var frame = null;\n    var step = function () {\n        frame = null;\n        var p = (Date.now() - start) / options.duration;\n        if (p >= 1) {\n            // Animation is done\n            for (var node in targets) {\n                var attrs = targets[node];\n                // We use given values to avoid precision issues and for convenience\n                for (var k in attrs)\n                    graph.setNodeAttribute(node, k, attrs[k]);\n            }\n            if (typeof callback === \"function\")\n                callback();\n            return;\n        }\n        p = easing(p);\n        for (var node in targets) {\n            var attrs = targets[node];\n            var s = startPositions[node];\n            for (var k in attrs)\n                graph.setNodeAttribute(node, k, attrs[k] * p + s[k] * (1 - p));\n        }\n        frame = (0, index_1.requestFrame)(step);\n    };\n    step();\n    return function () {\n        if (frame)\n            (0, index_1.cancelFrame)(frame);\n    };\n}\nexports.animateNodes = animateNodes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTML_COLORS = void 0;\nexports.HTML_COLORS = {\n    black: \"#000000\",\n    silver: \"#C0C0C0\",\n    gray: \"#808080\",\n    grey: \"#808080\",\n    white: \"#FFFFFF\",\n    maroon: \"#800000\",\n    red: \"#FF0000\",\n    purple: \"#800080\",\n    fuchsia: \"#FF00FF\",\n    green: \"#008000\",\n    lime: \"#00FF00\",\n    olive: \"#808000\",\n    yellow: \"#FFFF00\",\n    navy: \"#000080\",\n    blue: \"#0000FF\",\n    teal: \"#008080\",\n    aqua: \"#00FFFF\",\n    darkblue: \"#00008B\",\n    mediumblue: \"#0000CD\",\n    darkgreen: \"#006400\",\n    darkcyan: \"#008B8B\",\n    deepskyblue: \"#00BFFF\",\n    darkturquoise: \"#00CED1\",\n    mediumspringgreen: \"#00FA9A\",\n    springgreen: \"#00FF7F\",\n    cyan: \"#00FFFF\",\n    midnightblue: \"#191970\",\n    dodgerblue: \"#1E90FF\",\n    lightseagreen: \"#20B2AA\",\n    forestgreen: \"#228B22\",\n    seagreen: \"#2E8B57\",\n    darkslategray: \"#2F4F4F\",\n    darkslategrey: \"#2F4F4F\",\n    limegreen: \"#32CD32\",\n    mediumseagreen: \"#3CB371\",\n    turquoise: \"#40E0D0\",\n    royalblue: \"#4169E1\",\n    steelblue: \"#4682B4\",\n    darkslateblue: \"#483D8B\",\n    mediumturquoise: \"#48D1CC\",\n    indigo: \"#4B0082\",\n    darkolivegreen: \"#556B2F\",\n    cadetblue: \"#5F9EA0\",\n    cornflowerblue: \"#6495ED\",\n    rebeccapurple: \"#663399\",\n    mediumaquamarine: \"#66CDAA\",\n    dimgray: \"#696969\",\n    dimgrey: \"#696969\",\n    slateblue: \"#6A5ACD\",\n    olivedrab: \"#6B8E23\",\n    slategray: \"#708090\",\n    slategrey: \"#708090\",\n    lightslategray: \"#778899\",\n    lightslategrey: \"#778899\",\n    mediumslateblue: \"#7B68EE\",\n    lawngreen: \"#7CFC00\",\n    chartreuse: \"#7FFF00\",\n    aquamarine: \"#7FFFD4\",\n    skyblue: \"#87CEEB\",\n    lightskyblue: \"#87CEFA\",\n    blueviolet: \"#8A2BE2\",\n    darkred: \"#8B0000\",\n    darkmagenta: \"#8B008B\",\n    saddlebrown: \"#8B4513\",\n    darkseagreen: \"#8FBC8F\",\n    lightgreen: \"#90EE90\",\n    mediumpurple: \"#9370DB\",\n    darkviolet: \"#9400D3\",\n    palegreen: \"#98FB98\",\n    darkorchid: \"#9932CC\",\n    yellowgreen: \"#9ACD32\",\n    sienna: \"#A0522D\",\n    brown: \"#A52A2A\",\n    darkgray: \"#A9A9A9\",\n    darkgrey: \"#A9A9A9\",\n    lightblue: \"#ADD8E6\",\n    greenyellow: \"#ADFF2F\",\n    paleturquoise: \"#AFEEEE\",\n    lightsteelblue: \"#B0C4DE\",\n    powderblue: \"#B0E0E6\",\n    firebrick: \"#B22222\",\n    darkgoldenrod: \"#B8860B\",\n    mediumorchid: \"#BA55D3\",\n    rosybrown: \"#BC8F8F\",\n    darkkhaki: \"#BDB76B\",\n    mediumvioletred: \"#C71585\",\n    indianred: \"#CD5C5C\",\n    peru: \"#CD853F\",\n    chocolate: \"#D2691E\",\n    tan: \"#D2B48C\",\n    lightgray: \"#D3D3D3\",\n    lightgrey: \"#D3D3D3\",\n    thistle: \"#D8BFD8\",\n    orchid: \"#DA70D6\",\n    goldenrod: \"#DAA520\",\n    palevioletred: \"#DB7093\",\n    crimson: \"#DC143C\",\n    gainsboro: \"#DCDCDC\",\n    plum: \"#DDA0DD\",\n    burlywood: \"#DEB887\",\n    lightcyan: \"#E0FFFF\",\n    lavender: \"#E6E6FA\",\n    darksalmon: \"#E9967A\",\n    violet: \"#EE82EE\",\n    palegoldenrod: \"#EEE8AA\",\n    lightcoral: \"#F08080\",\n    khaki: \"#F0E68C\",\n    aliceblue: \"#F0F8FF\",\n    honeydew: \"#F0FFF0\",\n    azure: \"#F0FFFF\",\n    sandybrown: \"#F4A460\",\n    wheat: \"#F5DEB3\",\n    beige: \"#F5F5DC\",\n    whitesmoke: \"#F5F5F5\",\n    mintcream: \"#F5FFFA\",\n    ghostwhite: \"#F8F8FF\",\n    salmon: \"#FA8072\",\n    antiquewhite: \"#FAEBD7\",\n    linen: \"#FAF0E6\",\n    lightgoldenrodyellow: \"#FAFAD2\",\n    oldlace: \"#FDF5E6\",\n    magenta: \"#FF00FF\",\n    deeppink: \"#FF1493\",\n    orangered: \"#FF4500\",\n    tomato: \"#FF6347\",\n    hotpink: \"#FF69B4\",\n    coral: \"#FF7F50\",\n    darkorange: \"#FF8C00\",\n    lightsalmon: \"#FFA07A\",\n    orange: \"#FFA500\",\n    lightpink: \"#FFB6C1\",\n    pink: \"#FFC0CB\",\n    gold: \"#FFD700\",\n    peachpuff: \"#FFDAB9\",\n    navajowhite: \"#FFDEAD\",\n    moccasin: \"#FFE4B5\",\n    bisque: \"#FFE4C4\",\n    mistyrose: \"#FFE4E1\",\n    blanchedalmond: \"#FFEBCD\",\n    papayawhip: \"#FFEFD5\",\n    lavenderblush: \"#FFF0F5\",\n    seashell: \"#FFF5EE\",\n    cornsilk: \"#FFF8DC\",\n    lemonchiffon: \"#FFFACD\",\n    floralwhite: \"#FFFAF0\",\n    snow: \"#FFFAFA\",\n    lightyellow: \"#FFFFE0\",\n    ivory: \"#FFFFF0\",\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cubicInOut = exports.cubicOut = exports.cubicIn = exports.quadraticInOut = exports.quadraticOut = exports.quadraticIn = exports.linear = void 0;\n/**\n * Sigma.js Easings\n * =================\n *\n * Handy collection of easing functions.\n * @module\n */\nvar linear = function (k) { return k; };\nexports.linear = linear;\nvar quadraticIn = function (k) { return k * k; };\nexports.quadraticIn = quadraticIn;\nvar quadraticOut = function (k) { return k * (2 - k); };\nexports.quadraticOut = quadraticOut;\nvar quadraticInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k;\n    return -0.5 * (--k * (k - 2) - 1);\n};\nexports.quadraticInOut = quadraticInOut;\nvar cubicIn = function (k) { return k * k * k; };\nexports.cubicIn = cubicIn;\nvar cubicOut = function (k) { return --k * k * k + 1; };\nexports.cubicOut = cubicOut;\nvar cubicInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k * k;\n    return 0.5 * ((k -= 2) * k * k + 2);\n};\nexports.cubicInOut = cubicInOut;\nvar easings = {\n    linear: exports.linear,\n    quadraticIn: exports.quadraticIn,\n    quadraticOut: exports.quadraticOut,\n    quadraticInOut: exports.quadraticInOut,\n    cubicIn: exports.cubicIn,\n    cubicOut: exports.cubicOut,\n    cubicInOut: exports.cubicInOut,\n};\nexports.default = easings;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.doEdgeCollideWithPoint = exports.isPixelColored = void 0;\n/**\n * This helper returns true is the pixel at (x,y) in the given WebGL context is\n * colored, and false else.\n */\nfunction isPixelColored(gl, x, y) {\n    var pixels = new Uint8Array(4);\n    gl.readPixels(x, gl.drawingBufferHeight - y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return pixels[3] > 0;\n}\nexports.isPixelColored = isPixelColored;\n/**\n * This helper checks whether or not a point (x, y) collides with an\n * edge, connecting a source (xS, yS) to a target (xT, yT) with a thickness in\n * pixels.\n */\nfunction doEdgeCollideWithPoint(x, y, xS, yS, xT, yT, thickness) {\n    // Check first if point is out of the rectangle which opposite corners are the\n    // source and the target, rectangle we expand by `thickness` in every\n    // directions:\n    if (x < xS - thickness && x < xT - thickness)\n        return false;\n    if (y < yS - thickness && y < yT - thickness)\n        return false;\n    if (x > xS + thickness && x > xT + thickness)\n        return false;\n    if (y > yS + thickness && y > yT + thickness)\n        return false;\n    // Check actual collision now: Since we now the point is in this big rectangle\n    // we \"just\" need to check that the distance between the point and the line\n    // connecting the source and the target is less than `thickness`:\n    // https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n    var distance = Math.abs((xT - xS) * (yS - y) - (xS - x) * (yT - yS)) / Math.sqrt(Math.pow(xT - xS, 2) + Math.pow(yT - yS, 2));\n    return distance < thickness / 2;\n}\nexports.doEdgeCollideWithPoint = doEdgeCollideWithPoint;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateGraph = exports.canUse32BitsIndices = exports.extractPixel = exports.getMatrixImpact = exports.matrixFromCamera = exports.getCorrectionRatio = exports.floatColor = exports.floatArrayColor = exports.parseColor = exports.zIndexOrdering = exports.createNormalizationFunction = exports.graphExtent = exports.getPixelRatio = exports.createElement = exports.cancelFrame = exports.requestFrame = exports.assignDeep = exports.assign = exports.isPlainObject = void 0;\nvar is_graph_1 = __importDefault(require(\"graphology-utils/is-graph\"));\nvar matrices_1 = require(\"./matrices\");\nvar data_1 = require(\"./data\");\n/**\n * Checks whether the given value is a plain object.\n *\n * @param  {mixed}   value - Target value.\n * @return {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction isPlainObject(value) {\n    return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nexports.isPlainObject = isPlainObject;\n/**\n * Helper to use Object.assign with more than two objects.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assign(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        Object.assign(target, o);\n    }\n    return target;\n}\nexports.assign = assign;\n/**\n * Very simple recursive Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assignDeep(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        for (var k in o) {\n            if (isPlainObject(o[k])) {\n                target[k] = assignDeep(target[k], o[k]);\n            }\n            else {\n                target[k] = o[k];\n            }\n        }\n    }\n    return target;\n}\nexports.assignDeep = assignDeep;\n/**\n * Just some dirty trick to make requestAnimationFrame and cancelAnimationFrame \"work\" in Node.js, for unit tests:\n */\nexports.requestFrame = typeof requestAnimationFrame !== \"undefined\"\n    ? function (callback) { return requestAnimationFrame(callback); }\n    : function (callback) { return setTimeout(callback, 0); };\nexports.cancelFrame = typeof cancelAnimationFrame !== \"undefined\"\n    ? function (requestID) { return cancelAnimationFrame(requestID); }\n    : function (requestID) { return clearTimeout(requestID); };\n/**\n * Function used to create DOM elements easily.\n *\n * @param  {string} tag        - Tag name of the element to create.\n * @param  {object} style      - Styles map.\n * @param  {object} attributes - Attributes map.\n * @return {HTMLElement}\n */\nfunction createElement(tag, style, attributes) {\n    var element = document.createElement(tag);\n    if (style) {\n        for (var k in style) {\n            element.style[k] = style[k];\n        }\n    }\n    if (attributes) {\n        for (var k in attributes) {\n            element.setAttribute(k, attributes[k]);\n        }\n    }\n    return element;\n}\nexports.createElement = createElement;\n/**\n * Function returning the browser's pixel ratio.\n *\n * @return {number}\n */\nfunction getPixelRatio() {\n    if (typeof window.devicePixelRatio !== \"undefined\")\n        return window.devicePixelRatio;\n    return 1;\n}\nexports.getPixelRatio = getPixelRatio;\n/**\n * Function returning the graph's node extent in x & y.\n *\n * @param  {Graph}\n * @return {object}\n */\nfunction graphExtent(graph) {\n    if (!graph.order)\n        return { x: [0, 1], y: [0, 1] };\n    var xMin = Infinity;\n    var xMax = -Infinity;\n    var yMin = Infinity;\n    var yMax = -Infinity;\n    graph.forEachNode(function (_, attr) {\n        var x = attr.x, y = attr.y;\n        if (x < xMin)\n            xMin = x;\n        if (x > xMax)\n            xMax = x;\n        if (y < yMin)\n            yMin = y;\n        if (y > yMax)\n            yMax = y;\n    });\n    return { x: [xMin, xMax], y: [yMin, yMax] };\n}\nexports.graphExtent = graphExtent;\nfunction createNormalizationFunction(extent) {\n    var _a = __read(extent.x, 2), minX = _a[0], maxX = _a[1], _b = __read(extent.y, 2), minY = _b[0], maxY = _b[1];\n    var ratio = Math.max(maxX - minX, maxY - minY), dX = (maxX + minX) / 2, dY = (maxY + minY) / 2;\n    if (ratio === 0 || Math.abs(ratio) === Infinity || isNaN(ratio))\n        ratio = 1;\n    if (isNaN(dX))\n        dX = 0;\n    if (isNaN(dY))\n        dY = 0;\n    var fn = function (data) {\n        return {\n            x: 0.5 + (data.x - dX) / ratio,\n            y: 0.5 + (data.y - dY) / ratio,\n        };\n    };\n    // TODO: possibility to apply this in batch over array of indices\n    fn.applyTo = function (data) {\n        data.x = 0.5 + (data.x - dX) / ratio;\n        data.y = 0.5 + (data.y - dY) / ratio;\n    };\n    fn.inverse = function (data) {\n        return {\n            x: dX + ratio * (data.x - 0.5),\n            y: dY + ratio * (data.y - 0.5),\n        };\n    };\n    fn.ratio = ratio;\n    return fn;\n}\nexports.createNormalizationFunction = createNormalizationFunction;\n/**\n * Function ordering the given elements in reverse z-order so they drawn\n * the correct way.\n *\n * @param  {number}   extent   - [min, max] z values.\n * @param  {function} getter   - Z attribute getter function.\n * @param  {array}    elements - The array to sort.\n * @return {array} - The sorted array.\n */\nfunction zIndexOrdering(extent, getter, elements) {\n    // If k is > n, we'll use a standard sort\n    return elements.sort(function (a, b) {\n        var zA = getter(a) || 0, zB = getter(b) || 0;\n        if (zA < zB)\n            return -1;\n        if (zA > zB)\n            return 1;\n        return 0;\n    });\n    // TODO: counting sort optimization\n}\nexports.zIndexOrdering = zIndexOrdering;\n/**\n * WebGL utils\n * ===========\n */\n/**\n * Memoized function returning a float-encoded color from various string\n * formats describing colors.\n */\nvar INT8 = new Int8Array(4);\nvar INT32 = new Int32Array(INT8.buffer, 0, 1);\nvar FLOAT32 = new Float32Array(INT8.buffer, 0, 1);\nvar RGBA_TEST_REGEX = /^\\s*rgba?\\s*\\(/;\nvar RGBA_EXTRACT_REGEX = /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)(?:\\s*,\\s*(.*)?)?\\)\\s*$/;\nfunction parseColor(val) {\n    var r = 0; // byte\n    var g = 0; // byte\n    var b = 0; // byte\n    var a = 1; // float\n    // Handling hexadecimal notation\n    if (val[0] === \"#\") {\n        if (val.length === 4) {\n            r = parseInt(val.charAt(1) + val.charAt(1), 16);\n            g = parseInt(val.charAt(2) + val.charAt(2), 16);\n            b = parseInt(val.charAt(3) + val.charAt(3), 16);\n        }\n        else {\n            r = parseInt(val.charAt(1) + val.charAt(2), 16);\n            g = parseInt(val.charAt(3) + val.charAt(4), 16);\n            b = parseInt(val.charAt(5) + val.charAt(6), 16);\n        }\n        // TODO: parse hex with alpha?\n    }\n    // Handling rgb notation\n    else if (RGBA_TEST_REGEX.test(val)) {\n        var match = val.match(RGBA_EXTRACT_REGEX);\n        if (match) {\n            r = +match[1];\n            g = +match[2];\n            b = +match[3];\n            if (match[4])\n                a = +match[4];\n        }\n    }\n    return { r: r, g: g, b: b, a: a };\n}\nexports.parseColor = parseColor;\nvar FLOAT_COLOR_CACHE = {};\nfor (var htmlColor in data_1.HTML_COLORS) {\n    FLOAT_COLOR_CACHE[htmlColor] = floatColor(data_1.HTML_COLORS[htmlColor]);\n    // Replicating cache for hex values for free\n    FLOAT_COLOR_CACHE[data_1.HTML_COLORS[htmlColor]] = FLOAT_COLOR_CACHE[htmlColor];\n}\nfunction floatArrayColor(val) {\n    val = data_1.HTML_COLORS[val] || val;\n    // NOTE: this variant is not cached because it is mostly used for uniforms\n    var _a = parseColor(val), r = _a.r, g = _a.g, b = _a.b, a = _a.a;\n    return new Float32Array([r / 255, g / 255, b / 255, a]);\n}\nexports.floatArrayColor = floatArrayColor;\nfunction floatColor(val) {\n    // If the color is already computed, we yield it\n    if (typeof FLOAT_COLOR_CACHE[val] !== \"undefined\")\n        return FLOAT_COLOR_CACHE[val];\n    var parsed = parseColor(val);\n    var r = parsed.r, g = parsed.g, b = parsed.b;\n    var a = parsed.a;\n    a = (a * 255) | 0;\n    INT32[0] = ((a << 24) | (b << 16) | (g << 8) | r) & 0xfeffffff;\n    var color = FLOAT32[0];\n    FLOAT_COLOR_CACHE[val] = color;\n    return color;\n}\nexports.floatColor = floatColor;\n/**\n * In sigma, the graph is normalized into a [0, 1], [0, 1] square, before being given to the various renderers. This\n * helps dealing with quadtree in particular.\n * But at some point, we need to rescale it so that it takes the best place in the screen, ie. we always want to see two\n * nodes \"touching\" opposite sides of the graph, with the camera being at its default state.\n *\n * This function determines this ratio.\n */\nfunction getCorrectionRatio(viewportDimensions, graphDimensions) {\n    var viewportRatio = viewportDimensions.height / viewportDimensions.width;\n    var graphRatio = graphDimensions.height / graphDimensions.width;\n    // If the stage and the graphs are in different directions (such as the graph being wider that tall while the stage\n    // is taller than wide), we can stop here to have indeed nodes touching opposite sides:\n    if ((viewportRatio < 1 && graphRatio > 1) || (viewportRatio > 1 && graphRatio < 1)) {\n        return 1;\n    }\n    // Else, we need to fit the graph inside the stage:\n    // 1. If the graph is \"squarer\" (ie. with a ratio closer to 1), we need to make the largest sides touch;\n    // 2. If the stage is \"squarer\", we need to make the smallest sides touch.\n    return Math.min(Math.max(graphRatio, 1 / graphRatio), Math.max(1 / viewportRatio, viewportRatio));\n}\nexports.getCorrectionRatio = getCorrectionRatio;\n/**\n * Function returning a matrix from the current state of the camera.\n */\n// TODO: it's possible to optimize this drastically!\nfunction matrixFromCamera(state, viewportDimensions, graphDimensions, padding, inverse) {\n    var angle = state.angle, ratio = state.ratio, x = state.x, y = state.y;\n    var width = viewportDimensions.width, height = viewportDimensions.height;\n    var matrix = (0, matrices_1.identity)();\n    var smallestDimension = Math.min(width, height) - 2 * padding;\n    var correctionRatio = getCorrectionRatio(viewportDimensions, graphDimensions);\n    if (!inverse) {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 2 * (smallestDimension / width) * correctionRatio, 2 * (smallestDimension / height) * correctionRatio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), -angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 1 / ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), -x, -y));\n    }\n    else {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), x, y));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), width / smallestDimension / 2 / correctionRatio, height / smallestDimension / 2 / correctionRatio));\n    }\n    return matrix;\n}\nexports.matrixFromCamera = matrixFromCamera;\n/**\n * All these transformations we apply on the matrix to get it rescale the graph\n * as we want make it very hard to get pixel-perfect distances in WebGL. This\n * function returns a factor that properly cancels the matrix effect on lengths.\n *\n * [jacomyal]\n * To be fully honest, I can't really explain happens here... I notice that the\n * following ratio works (ie. it correctly compensates the matrix impact on all\n * camera states I could try):\n * > `R = size(V) / size(M * V) / W`\n * as long as `M * V` is in the direction of W (ie. parallel to (Ox)). It works\n * as well with H and a vector that transforms into something parallel to (Oy).\n *\n * Also, note that we use `angle` and not `-angle` (that would seem logical,\n * since we want to anticipate the rotation), because of the fact that in WebGL,\n * the image is vertically swapped.\n */\nfunction getMatrixImpact(matrix, cameraState, viewportDimensions) {\n    var _a = (0, matrices_1.multiplyVec2)(matrix, { x: Math.cos(cameraState.angle), y: Math.sin(cameraState.angle) }, 0), x = _a.x, y = _a.y;\n    return 1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2)) / viewportDimensions.width;\n}\nexports.getMatrixImpact = getMatrixImpact;\n/**\n * Function extracting the color at the given pixel.\n */\nfunction extractPixel(gl, x, y, array) {\n    var data = array || new Uint8Array(4);\n    gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    return data;\n}\nexports.extractPixel = extractPixel;\n/**\n * Function used to know whether given webgl context can use 32 bits indices.\n */\nfunction canUse32BitsIndices(gl) {\n    var webgl2 = typeof WebGL2RenderingContext !== \"undefined\" && gl instanceof WebGL2RenderingContext;\n    return webgl2 || !!gl.getExtension(\"OES_element_index_uint\");\n}\nexports.canUse32BitsIndices = canUse32BitsIndices;\n/**\n * Check if the graph variable is a valid graph, and if sigma can render it.\n */\nfunction validateGraph(graph) {\n    // check if it's a valid graphology instance\n    if (!(0, is_graph_1.default)(graph))\n        throw new Error(\"Sigma: invalid graph instance.\");\n    // check if nodes have x/y attributes\n    graph.forEachNode(function (key, attributes) {\n        if (!Number.isFinite(attributes.x) || !Number.isFinite(attributes.y)) {\n            throw new Error(\"Sigma: Coordinates of node \".concat(key, \" are invalid. A node must have a numeric 'x' and 'y' attribute.\"));\n        }\n    });\n}\nexports.validateGraph = validateGraph;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiplyVec2 = exports.multiply = exports.translate = exports.rotate = exports.scale = exports.identity = void 0;\nfunction identity() {\n    return Float32Array.of(1, 0, 0, 0, 1, 0, 0, 0, 1);\n}\nexports.identity = identity;\n// TODO: optimize\nfunction scale(m, x, y) {\n    m[0] = x;\n    m[4] = typeof y === \"number\" ? y : x;\n    return m;\n}\nexports.scale = scale;\nfunction rotate(m, r) {\n    var s = Math.sin(r), c = Math.cos(r);\n    m[0] = c;\n    m[1] = s;\n    m[3] = -s;\n    m[4] = c;\n    return m;\n}\nexports.rotate = rotate;\nfunction translate(m, x, y) {\n    m[6] = x;\n    m[7] = y;\n    return m;\n}\nexports.translate = translate;\nfunction multiply(a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2];\n    var a10 = a[3], a11 = a[4], a12 = a[5];\n    var a20 = a[6], a21 = a[7], a22 = a[8];\n    var b00 = b[0], b01 = b[1], b02 = b[2];\n    var b10 = b[3], b11 = b[4], b12 = b[5];\n    var b20 = b[6], b21 = b[7], b22 = b[8];\n    a[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    a[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    a[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    a[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    a[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    a[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    a[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    a[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    a[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return a;\n}\nexports.multiply = multiply;\nfunction multiplyVec2(a, b, z) {\n    if (z === void 0) { z = 1; }\n    var a00 = a[0];\n    var a01 = a[1];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a20 = a[6];\n    var a21 = a[7];\n    var b0 = b.x;\n    var b1 = b.y;\n    return { x: b0 * a00 + b1 * a10 + a20 * z, y: b0 * a01 + b1 * a11 + a21 * z };\n}\nexports.multiplyVec2 = multiplyVec2;\n","/* TODO:\n- enable pictures on full networks\n- add border nodes?\n- check Miles Morales missing\n- use communities labels for creators clusters and document it in explanations\n- adjust communities colors\n- prespatialize networks\n- add social network cards\n- test smartphone\n- fullscreen button\n- list comics associated with clicked node\n- click comic to show only attached nodes\n- test bipartite network between authors and characters filtered by category of author\n*/\n\nimport { Sigma } from \"sigma\";\nimport getNodeProgramImage from \"sigma/rendering/webgl/programs/node.image\";\n\nimport Graph from \"graphology\";\nimport { parse } from \"graphology-gexf\";\nimport { circular } from \"graphology-layout\";\nimport forceAtlas2 from \"graphology-layout-forceatlas2\";\nimport FA2Layout from \"graphology-layout-forceatlas2/worker\";\nimport noverlap from 'graphology-layout-noverlap';\nimport louvain from 'graphology-communities-louvain';\n\nconst clusters = {\n  resolutions: {\n    creators: 0.85,\n    characters: 1.2\n  },\n  roles: {\n    artist: \"#234fac\",\n    writer: \"#2b6718\",\n    both: \"#d4a129\"\n  },\n  creators: {\n    \"Silver Age\": {\n      match: \"Stan Lee\",\n      color: \"#CCC\"\n    },\n    \"Bronze Age\": {\n      match: \"Chris Claremont\",\n      color: \"#d4a129\"\n    },\n    \"Millenium Age\": {\n      match: \"Brian Michael Bendis\",\n      color: \"#8d32a7\"\n    },\n    \"Modern Age\": {\n      match: \"Donny Cates\",\n      color: \"#A22e23\"\n    }\n  },\n  characters: {\n    \"Avengers\": {\n      match: \"Avengers\",\n      color: \"#2b6718\"\n    },\n    \"Spider-Man & Marvel Knights\": {\n      match: \"Spider-Man (Peter Parker)\",\n      color: \"#822e23\"\n    },\n    \"X-Men\": {\n      match: \"X-Men\",\n      color: \"#d4a129\"\n    },\n    \"Other X-Teams\": {\n      match: \"X-Force\",\n      color: \"#d97a2d\"\n    },\n    \"Fantastic Four & Cosmic heroes\": {\n      match: \"Fantastic Four\",\n      color: \"#234fac\"\n    },\n    \"Ultimate Universe\": {\n      match: \"Ultimates\",\n      color: \"#424c9b\"\n    },\n    \"Champions\": {\n      match: \"Spider-Man (Miles Morales)\",\n      color: \"#57b23d\"\n    },\n    \"Alpha Flight\": {\n      match: \"Alpha Flight\",\n      color: \"#8d32a7\"\n    }\n  },\n  communities: {}\n}\n\nconst extraPalette = [\n  \"#5fb1ff\",\n  \"#ff993e\",\n  \"#8b4a98\",\n  \"#bce25b\",\n  \"#d52f3f\",\n  \"#0051c4\",\n  \"#2cc143\",\n  \"#c45ecf\",\n  \"#ded03f\",\n  \"#904f13\",\n];\n\n// Lighten colors function copied from Chris Coyier https://css-tricks.com/snippets/javascript/lighten-darken-color/\nconst lighten = function(col, amt) {\n  var usePound = false;\n  if (col[0] == \"#\") {\n    col = col.slice(1);\n    usePound = true;\n  }\n  var num = parseInt(col,16);\n  var r = (num >> 16) + amt;\n  if (r > 255) r = 255;\n  else if  (r < 0) r = 0;\n  var b = ((num >> 8) & 0x00FF) + amt;\n  if (b > 255) b = 255;\n  else if  (b < 0) b = 0;\n  var g = (num & 0x0000FF) + amt;\n  if (g > 255) g = 255;\n  else if (g < 0) g = 0;\n  return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\nconst container = document.getElementById(\"sigma-container\") as HTMLElement,\n  loader = document.getElementById(\"loader\") as HTMLElement,\n  modal = document.getElementById(\"modal\") as HTMLElement,\n  modalImg = document.getElementById(\"modal-img\") as HTMLImageElement,\n  explanations = document.getElementById(\"explanations\") as HTMLElement,\n  nodeDetails = document.getElementById(\"node-details\") as HTMLElement,\n  nodeLabel = document.getElementById(\"node-label\") as HTMLElement,\n  nodeImg = document.getElementById(\"node-img\") as HTMLImageElement,\n  nodeExtra = document.getElementById(\"node-extra\") as HTMLElement;\n\nmodal.addEventListener(\"click\", () => modal.style.display = \"none\");\n\nlet renderer = null;\n\nfunction divHeight(divId) {\n  return document.getElementById(divId).getBoundingClientRect().height;\n}\n\nfunction resize() {\n  const freeHeight = divHeight(\"sidebar\") - divHeight(\"header\") - divHeight(\"footer\");\n  explanations.style.height = (freeHeight - 8) + \"px\";\n  explanations.style[\"min-height\"] = (freeHeight - 8) + \"px\";\n  nodeDetails.style.height = (freeHeight - 23) + \"px\";\n  nodeDetails.style[\"min-height\"] = (freeHeight - 23) + \"px\";\n}\nwindow.addEventListener(\"resize\", resize);\n\nfunction loadNetwork() {\n  setTitle();\n  resize();\n\n  if (renderer) renderer.kill();\n  container.innerHTML = '';\n  loader.style.display = \"block\";\n  explanations.style.display = \"block\";\n  nodeDetails.style.display = \"none\";\n  modal.style.display = \"none\";\n  modalImg.src = \"\";\n  nodeLabel.innerHTML = \"\";\n  nodeImg.src = \"\";\n  nodeExtra.innerHTML = \"\";\n  clusters.communities = {};\n\n  fetch(\"./data/Marvel_\" + entity + \"_by_stories\" + (network_size === \"small\" ? \"\" : \"_full\") + \".gexf\")\n  .then((res) => res.text())\n  .then((gexf) => {\n    const graph = parse(Graph, gexf);\n    const circularPositions = circular(graph, { scale: 50 });\n    const communities = louvain(graph, {resolution: clusters.resolutions[entity]});\n    graph.forEachNode((node, {label}) => {\n      for (var cluster in clusters[entity])\n        if (label === clusters[entity][cluster].match) {\n          clusters[entity][cluster].community = communities[node];\n        clusters.communities[communities[node]] = clusters[entity][cluster];\n        clusters.communities[communities[node]].cluster = cluster;\n        }\n    });\n    graph.forEachNode((node, {stories, thumbnail, artist, writer}) => {\n      const artist_ratio = (entity === \"creators\" ? artist / (writer + artist) : undefined);\n      graph.mergeNodeAttributes(node, {\n        x: circularPositions[node].x,\n        y: circularPositions[node].y,\n        size: Math.pow(stories, 0.2) * (network_size === \"small\" ? 4 : (entity == \"characters\" ? 2 : 1.75)),\n        color: entity === \"characters\" ?\n          (clusters.communities[communities[node]] || {color: extraPalette[communities[node] % extraPalette.length]}).color :\n          (artist_ratio > 0.65 ? clusters.roles.artist : (artist_ratio < 0.34 ? clusters.roles.writer : clusters.roles.both))\n      });\n      if (network_size == \"small\")\n        graph.setNodeAttribute(node, \"type\", \"thumbnail\");\n    });\n    /*graph.forEachEdge((edge, attrs, n1, n2, n1_attrs, n2_attrs) => {\n      graph.mergeEdgeAttributes(edge, {size: 1});\n      if (n1_attrs.color === n2_attrs.color)\n        graph.setEdgeAttribute(edge, 'color', n1_attrs.color);\n    });*/\n\n    // Instantiate sigma:\n    let sigmaSettings = {\n      minCameraRatio: 0.08,\n      maxCameraRatio: 1.2,\n      defaultEdgeColor: '#1A1A1A',\n      labelWeight: 'bold',\n      labelFont: 'monospace',\n      labelColor: network_size === \"small\" ? {attribute: 'color'} : {color: '#999'},\n      labelRenderedSizeThreshold: network_size === \"small\" ? 11 : 6\n    };\n    if (network_size == \"small\")\n      sigmaSettings[\"nodeProgramClasses\"] = {\n        thumbnail: getNodeProgramImage()\n      };\n    renderer = new Sigma(graph, container, sigmaSettings);\n\n    // Bind zoom manipulation buttons\n    const camera = renderer.getCamera();\n    document.getElementById(\"zoom-in\").addEventListener(\"click\", () => {\n      camera.animatedZoom({ duration: 600 });\n    });\n    document.getElementById(\"zoom-out\").addEventListener(\"click\", () => {\n      camera.animatedUnzoom({ duration: 600 });\n    });\n    document.getElementById(\"zoom-reset\").addEventListener(\"click\", () => {\n      camera.animatedReset({ duration: 600 });\n    });\n\n    // Handle clicks on nodes\n    const clickNode = (node) => {\n      if (!node) {\n        explanations.style.display = \"block\";\n        nodeDetails.style.display = \"none\";\n        modal.style.display = \"none\";\n        nodeLabel.innerHTML = \"\";\n        nodeImg.src = \"\";\n        nodeExtra.innerHTML = \"\";\n        renderer.setSetting(\n          \"nodeReducer\", (n, data) => data\n        );\n        renderer.setSetting(\n          \"edgeReducer\", (edge, data) => data\n        );\n        return;\n      }\n      const attrs = graph.getNodeAttributes(node);\n      explanations.style.display = \"none\";\n      nodeDetails.style.display = \"block\";\n      nodeLabel.innerHTML = attrs.label;\n      nodeImg.src = attrs.image_url;\n      modalImg.src = attrs.image_url;\n      nodeImg.addEventListener(\"click\", () => {\n        modal.style.display = \"block\";\n      });\n      nodeExtra.innerHTML = \"<p>\" + attrs.description + \"</p>\";\n      nodeExtra.innerHTML += \"<p>Accounted in <b>\" + attrs.stories + \" stories</b> shared with <b>\" + graph.degree(node) + \" other \" + entity + \"</b></p>\";\n      if (entity === \"creators\") {\n        if (attrs.writer === 0 && attrs.artist)\n          nodeExtra.innerHTML += '<p>Always as <b style=\"color: ' + clusters.roles.artist + '\">artist</b></p>';\n        else if (attrs.artist === 0 && attrs.writer)\n          nodeExtra.innerHTML += '<p>Always as <b style=\"color: ' + clusters.roles.writer + '\">writer</b></p>';\n        else nodeExtra.innerHTML += '<p>Including <b style=\"color: ' + clusters.roles.writer + '\">' + attrs.writer + ' as writer</b> and <b style=\"color: ' + clusters.roles.artist + '\">' + attrs.artist + \" as artist</b></p>\";\n      } else if (clusters.communities[communities[node]])\n        nodeExtra.innerHTML += '<p>Attached to the <b style=\"color: ' + clusters.communities[communities[node]].color + '\">' + clusters.communities[communities[node]].cluster + '</b> community<sup>*</sup></p>';\n      if (attrs.url)\n        nodeExtra.innerHTML += '<p><a href=\"' + attrs.url + '\" target=\"_blank\">More on Marvel.com</a></p>';\n\n      renderer.setSetting(\n        \"nodeReducer\", (n, data) =>\n          n === node ||\n          graph.hasEdge(n, node)\n            ? { ...data, zIndex: 1, size: data.size * (n === node ? 1.5 : 1)}\n            : { ...data, zIndex: 0, color: \"#1A1A1A\", image: null, size: network_size === \"small\" ? 5 : 2 }\n      );\n      renderer.setSetting(\n        \"edgeReducer\", (edge, data) =>\n          graph.hasExtremity(edge, node)\n            ? { ...data, color: lighten(graph.getNodeAttribute(graph.opposite(node, edge), 'color'), 25), size: Math.log(graph.getEdgeAttribute(edge, 'weight'))}\n            : { ...data, color: \"#FFF\", hidden: true }\n      );\n    };\n    renderer.on(\"clickNode\", (event) => clickNode(event.node));\n    renderer.on(\"clickStage\", () => clickNode(null));\n\n    // Setup nodes search\n    const searchInput = document.getElementById(\"search-input\") as HTMLInputElement;\n    const searchSuggestions = document.getElementById(\"suggestions\") as HTMLDataListElement;\n    let selectedNode = null,\n      suggestions = [];\n    const setSearchQuery = (query) => {\n      if (searchInput.value !== query) searchInput.value = query;\n      if (query.length > 1) {\n        const lcQuery = query.toLowerCase();\n        suggestions = [];\n        graph.forEachNode((node, {label}) => {\n          if (label.toLowerCase().includes(lcQuery))\n            suggestions.push({node: node, label: label});\n        });\n\n        if (suggestions.length === 1 && suggestions[0].label === query) {\n          if (selectedNode)\n            graph.setNodeAttribute(selectedNode, \"highlighted\", false);\n          selectedNode = suggestions[0].node;\n          suggestions = [];\n          graph.setNodeAttribute(selectedNode, \"highlighted\", true);\n          clickNode(selectedNode);\n          // Move the camera to center it on the selected node:\n          renderer.getCamera().animate(renderer.getNodeDisplayData(selectedNode), {\n            duration: 500,\n          });\n        } else if (selectedNode) {\n          graph.setNodeAttribute(selectedNode, \"highlighted\", false);\n          selectedNode = null;\n        }\n      } else if (selectedNode) {\n        graph.setNodeAttribute(selectedNode, \"highlighted\", false);\n        selectedNode = null;\n        suggestions = [];\n      }\n      searchSuggestions.innerHTML = suggestions\n        .sort()\n        .map((node) => \"<option>\" + node.label + \"</option>\")\n        .join(\"\\n\");\n      // Refresh rendering:\n      renderer.refresh();\n    }\n    searchInput.addEventListener(\"input\", () => {\n      setSearchQuery(searchInput.value || \"\");\n    });\n    searchInput.addEventListener(\"blur\", () => {\n      setSearchQuery(\"\");\n    });\n\n    const sensibleSettings = forceAtlas2.inferSettings(graph);\n    const fa2Layout = new FA2Layout(graph, {\n      settings: sensibleSettings\n    });\n    fa2Layout.start();\n    loader.style.display = \"none\";\n    setTimeout(() => {\n      fa2Layout.stop();\n      noverlap.assign(graph);\n    }, network_size === \"small\" ? 15000 : 90000);\n\n  });\n}\n\nconst conf = {};\nlet entity = \"characters\",\n  network_size = \"small\";\n\nconst setTitle = function() {\n  window.location.hash = entity + \"/\" + network_size;\n  const title = \"raph of \" + (network_size === \"small\" ? \"the main\" : \"most\") + \" Marvel \" + entity + \" featuring together within same stories\";\n  document.querySelector(\"title\").innerHTML = \"MARVEL networks &mdash; G\" + title;\n  document.getElementById(\"title\").innerHTML = \"This is a g\" + title;\n}\n\nconst switchCharacters = document.getElementById(\"switch-characters\") as HTMLButtonElement,\n  switchCreators = document.getElementById(\"switch-creators\") as HTMLButtonElement,\n  switchSmall = document.getElementById(\"switch-small\") as HTMLButtonElement,\n  switchFull = document.getElementById(\"switch-full\") as HTMLButtonElement,\n  entitySpans = document.querySelectorAll(\".entity\") as NodeListOf<HTMLElement>,\n  charactersDetailsSpans = document.querySelectorAll(\".characters-details\") as NodeListOf<HTMLElement>,\n  creatorsDetailsSpans = document.querySelectorAll(\".creators-details\") as NodeListOf<HTMLElement>,\n  smallDetailsSpans = document.querySelectorAll(\".small-details\") as NodeListOf<HTMLElement>,\n  fullDetailsSpans = document.querySelectorAll(\".full-details\") as NodeListOf<HTMLElement>;\n\nconst setEntity = function(val, load) {\n  entity = val;\n  if (val === \"characters\") {\n    switchCreators.disabled = false;\n    switchCharacters.disabled = true;\n  } else {\n    switchCreators.disabled = true;\n    switchCharacters.disabled = false;\n  }\n  entitySpans.forEach((span) => span.innerHTML = val);\n  creatorsDetailsSpans.forEach((span) => span.style.display = (val === \"creators\" ? \"inline\" : \"none\"));\n  charactersDetailsSpans.forEach((span) => span.style.display = (val === \"characters\" ? \"inline\" : \"none\"));\n  document.getElementById(\"clusters\").innerHTML = Object.keys(clusters.characters)\n    .map((k) => '<span style=\"color: ' + clusters.characters[k].color + '\">' + k + '</span>')\n    .join(\", \");\n  document.getElementById(\"min-stories\").innerHTML = conf[\"min_stories_for_\" + val];\n  document.getElementById(\"cooccurrence-threshold\").innerHTML = conf[\"cooccurrence_threshold_for_\" + entity];\n  if (load)\n    loadNetwork();\n};\n\nconst setSize = function(val) {\n  network_size = val;\n  if (val === \"small\") {\n    switchSmall.disabled = true;\n    switchFull.disabled = false;\n  } else {\n    switchSmall.disabled = false;\n    switchFull.disabled = true;\n  }\n  smallDetailsSpans.forEach((span) => span.style.display = (val === \"small\" ? \"inline\" : \"none\"));\n  fullDetailsSpans.forEach((span) => span.style.display = (val === \"full\" ? \"inline\" : \"none\"));\n  loadNetwork();\n};\n\nswitchCharacters.addEventListener(\"click\", () => setEntity(\"characters\", true));\nswitchCreators.addEventListener(\"click\", () => setEntity(\"creators\", true));\nswitchFull.addEventListener(\"click\", () => setSize(\"full\"));\nswitchSmall.addEventListener(\"click\", () => setSize(\"small\"));\n\nfetch(\"./config.yml.example\")\n.then((res) => res.text())\n.then((confdata) => {\n  confdata.split(\"\\n\").forEach((line) => {\n    const keyval = line.split(/:\\s*/);\n    conf[keyval[0]] = keyval[1];\n  });\n  Object.keys(clusters.roles).forEach((k) =>\n    document.getElementById(k + \"-color\").style.color = clusters.roles[k]\n  );\n  let currentUrl = window.location.hash.replace(/^#/, '')\n  if (currentUrl === \"\")\n    currentUrl = entity + \"/\" + network_size;\n  const args = currentUrl.split(\"/\");\n  setEntity(args[0], false);\n  setSize(args[1]);\n})\n","module.exports = require('./lib/xml-writer.js');\n","\nfunction isFalse(s) {\n  return typeof s !== 'number' && !s;\n}\n\nfunction strval(s) {\n  if (typeof s == 'string') {\n    return s;\n  }\n  else if (typeof s == 'number') {\n    return s+'';\n  }\n  else if (typeof s == 'function') {\n    return s();\n  }\n  else if (s instanceof XMLWriter) {\n    return s.toString();\n  }\n  else throw Error('Bad Parameter');\n}\n\nfunction XMLWriter(indent, callback) {\n\n    if (!(this instanceof XMLWriter)) {\n        return new XMLWriter();\n    }\n\n    this.name_regex = /[_:A-Za-z][-._:A-Za-z0-9]*/;\n    this.indent = indent ? true : false;\n    this.indentString = this.indent && typeof indent === 'string' ? indent : '    ';\n    this.output = '';\n    this.stack = [];\n    this.tags = 0;\n    this.attributes = 0;\n    this.attribute = 0;\n    this.texts = 0;\n    this.comment = 0;\n    this.dtd = 0;\n    this.root = '';\n    this.pi = 0;\n    this.cdata = 0;\n    this.started_write = false;\n    this.writer;\n    this.writer_encoding = 'UTF-8';\n\n    if (typeof callback == 'function') {\n        this.writer = callback;\n    } else {\n        this.writer = function (s, e) {\n            this.output += s;\n        }\n    }\n}\n\nXMLWriter.prototype = {\n    toString : function () {\n        this.flush();\n        return this.output;\n    },\n\n    indenter : function () {\n      if (this.indent) {\n        this.write('\\n');\n        for (var i = 1; i < this.tags; i++) {\n          this.write(this.indentString);\n        }\n      }\n    },\n\n    write : function () {\n        for (var i = 0; i < arguments.length; i++) {\n            this.writer(arguments[i], this.writer_encoding);\n        }\n    },\n\n\n    flush : function () {\n        for (var i = this.tags; i > 0; i--) {\n            this.endElement();\n        }\n        this.tags = 0;\n    },\n\n    startDocument : function (version, encoding, standalone) {\n        if (this.tags || this.attributes) return this;\n\n        this.startPI('xml');\n        this.startAttribute('version');\n        this.text(typeof version == \"string\" ? version : \"1.0\");\n        this.endAttribute();\n        if (typeof encoding == \"string\") {\n            this.startAttribute('encoding');\n            this.text(encoding);\n            this.endAttribute();\n            this.writer_encoding = encoding;\n        }\n        if (standalone) {\n            this.startAttribute('standalone');\n            this.text(\"yes\");\n            this.endAttribute();\n        }\n        this.endPI();\n        if (!this.indent) {\n          this.write('\\n');\n        }\n        return this;\n    },\n\n    endDocument : function () {\n        if (this.attributes) this.endAttributes();\n        return this;\n    },\n\n    writeElement : function (name, content) {\n        return this.startElement(name).text(content).endElement();\n    },\n\n    writeElementNS : function (prefix, name, uri, content) {\n        if (!content) {\n            content = uri;\n        }\n        return this.startElementNS(prefix, name, uri).text(content).endElement();\n    },\n\n    startElement : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.tags === 0 && this.root && this.root !== name) throw Error('Invalid Parameter');\n        if (this.attributes) this.endAttributes();\n        ++this.tags;\n        this.texts = 0;\n        if (this.stack.length > 0)\n          this.stack[this.stack.length-1].containsTag = true;\n\n        this.stack.push({\n            name: name,\n            tags: this.tags\n        });\n        if (this.started_write) this.indenter();\n        this.write('<', name);\n        this.startAttributes();\n        this.started_write = true;\n        return this;\n    },\n    startElementNS : function (prefix, name, uri) {\n        prefix = strval(prefix);\n        name = strval(name);\n\n        if (!prefix.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.attributes) this.endAttributes();\n        ++this.tags;\n        this.texts = 0;\n        if (this.stack.length > 0)\n          this.stack[this.stack.length-1].containsTag = true;\n\n        this.stack.push({\n            name: prefix + ':' + name,\n            tags: this.tags\n        });\n        if (this.started_write) this.indenter();\n        this.write('<', prefix + ':' + name);\n        this.startAttributes();\n        this.started_write = true;\n        return this;\n    },\n\n    endElement : function () {\n        if (!this.tags) return this;\n        var t = this.stack.pop();\n        if (this.attributes > 0) {\n            if (this.attribute) {\n                if (this.texts) this.endAttribute();\n                this.endAttribute();\n            }\n            this.write('/');\n            this.endAttributes();\n        } else {\n            if (t.containsTag) this.indenter();\n            this.write('</', t.name, '>');\n        }\n        --this.tags;\n        this.texts = 0;\n        return this;\n    },\n\n    writeAttribute : function (name, content) {\n        if (typeof content == 'function') {\n          content = content();\n        }\n        if (isFalse(content)) {\n           return this;\n        }\n        return this.startAttribute(name).text(content).endAttribute();\n    },\n    writeAttributeNS : function (prefix, name, uri, content) {\n        if (!content) {\n            content = uri;\n        }\n        if (typeof content == 'function') {\n          content = content();\n        }\n        if (isFalse(content)) {\n          return this;\n        }\n        return this.startAttributeNS(prefix, name, uri).text(content).endAttribute();\n    },\n\n    startAttributes : function () {\n        this.attributes = 1;\n        return this;\n    },\n\n    endAttributes : function () {\n        if (!this.attributes) return this;\n        if (this.attribute) this.endAttribute();\n        this.attributes = 0;\n        this.attribute = 0;\n        this.texts = 0;\n        this.write('>');\n        return this;\n    },\n\n    startAttribute : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!this.attributes && !this.pi) return this;\n        if (this.attribute) return this;\n        this.attribute = 1;\n        this.write(' ', name, '=\"');\n        return this;\n    },\n    startAttributeNS : function (prefix, name, uri) {\n        prefix = strval(prefix);\n        name = strval(name);\n\n        if (!prefix.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!this.attributes && !this.pi) return this;\n        if (this.attribute) return this;\n        this.attribute = 1;\n        this.write(' ', prefix + ':' + name, '=\"');\n        return this;\n    },\n    endAttribute : function () {\n        if (!this.attribute) return this;\n        this.attribute = 0;\n        this.texts = 0;\n        this.write('\"');\n        return this;\n    },\n\n    text : function (content) {\n        content = strval(content);\n        if (!this.tags && !this.comment && !this.pi && !this.cdata) return this;\n        if (this.attributes && this.attribute) {\n            ++this.texts;\n            this.write(content\n                       .replace(/&/g, '&amp;')\n                       .replace(/</g, '&lt;')\n                       .replace(/\"/g, '&quot;')\n                       .replace(/\\t/g, '&#x9;')\n                       .replace(/\\n/g, '&#xA;')\n                       .replace(/\\r/g, '&#xD;')\n                      );\n            return this;\n        } else if (this.attributes && !this.attribute) {\n            this.endAttributes();\n        }\n        if (this.comment || this.cdata) {\n            this.write(content);\n        }\n        else {\n          this.write(content.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;'));\n        }\n        ++this.texts;\n        this.started_write = true;\n        return this;\n    },\n\n    writeComment : function (content) {\n        return this.startComment().text(content).endComment();\n    },\n\n    startComment : function () {\n        if (this.comment) return this;\n        if (this.attributes) this.endAttributes();\n        this.indenter();\n        this.write('<!--');\n        this.comment = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endComment : function () {\n        if (!this.comment) return this;\n        this.write('-->');\n        this.comment = 0;\n        return this;\n    },\n\n    writeDocType : function (name, pubid, sysid, subset) {\n        return this.startDocType(name, pubid, sysid, subset).endDocType()\n    },\n\n    startDocType : function (name, pubid, sysid, subset) {\n        if (this.dtd || this.tags) return this;\n\n        name = strval(name);\n        pubid = pubid ? strval(pubid) : pubid;\n        sysid = sysid ? strval(sysid) : sysid;\n        subset = subset ? strval(subset) : subset;\n\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (pubid && !pubid.match(/^[\\w\\-][\\w\\s\\-\\/\\+\\:\\.]*/)) throw Error('Invalid Parameter');\n        if (sysid && !sysid.match(/^[\\w\\.][\\w\\-\\/\\\\\\:\\.]*/)) throw Error('Invalid Parameter');\n        if (subset && !subset.match(/[\\w\\s\\<\\>\\+\\.\\!\\#\\-\\?\\*\\,\\(\\)\\|]*/)) throw Error('Invalid Parameter');\n\n        pubid = pubid ? ' PUBLIC \"' + pubid + '\"' : (sysid) ? ' SYSTEM' : '';\n        sysid = sysid ? ' \"' + sysid + '\"' : '';\n        subset = subset ? ' [' + subset + ']': '';\n\n        if (this.started_write) this.indenter();\n        this.write('<!DOCTYPE ', name, pubid, sysid, subset);\n        this.root = name;\n        this.dtd = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endDocType : function () {\n        if (!this.dtd) return this;\n        this.write('>');\n        return this;\n    },\n\n    writePI : function (name, content) {\n        return this.startPI(name).text(content).endPI()\n    },\n\n    startPI : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.pi) return this;\n        if (this.attributes) this.endAttributes();\n        if (this.started_write) this.indenter();\n        this.write('<?', name);\n        this.pi = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endPI : function () {\n        if (!this.pi) return this;\n        this.write('?>');\n        this.pi = 0;\n        return this;\n    },\n\n    writeCData : function (content) {\n        return this.startCData().text(content).endCData();\n    },\n\n    startCData : function () {\n        if (this.cdata) return this;\n        if (this.attributes) this.endAttributes();\n        this.indenter();\n        this.write('<![CDATA[');\n        this.cdata = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endCData : function () {\n        if (!this.cdata) return this;\n        this.write(']]>');\n        this.cdata = 0;\n        return this;\n    },\n\n    writeRaw : function(content) {\n        content = strval(content);\n        if (!this.tags && !this.comment && !this.pi && !this.cdata) return this;\n        if (this.attributes && this.attribute) {\n            ++this.texts;\n            this.write(content.replace('&', '&amp;').replace('\"', '&quot;'));\n            return this;\n        } else if (this.attributes && !this.attribute) {\n            this.endAttributes();\n        }\n        ++this.texts;\n        this.write(content);\n        this.started_write = true;\n        return this;\n    }\n\n}\n\nmodule.exports = XMLWriter;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(8492);\n"],"names":["freeze","object","oc","undefined","Object","MIME_TYPE","HTML","isHTML","value","XML_APPLICATION","XML_TEXT","XML_XHTML_APPLICATION","XML_SVG_IMAGE","NAMESPACE","uri","SVG","XML","XMLNS","exports","conventions","dom","entities","sax","DOMImplementation","ParseError","XMLReader","DOMParser","options","this","locator","DOMHandler","cdata","position","node","lineNumber","columnNumber","_locator","l","systemId","_toString","chars","start","length","substr","java","lang","String","appendElement","hander","currentElement","appendChild","doc","prototype","parseFromString","source","mimeType","domBuilder","errorHandler","defaultNSMap","xmlns","test","entityMap","HTML_ENTITIES","XML_ENTITIES","setDocumentLocator","errorImpl","isCallback","Function","build","key","fn","msg","buildErrorHandler","xml","parse","error","startDocument","createDocument","documentURI","startElement","namespaceURI","localName","qName","attrs","el","createElementNS","len","i","getURI","getValue","attr","getQName","createAttributeNS","getLocator","nodeValue","setAttributeNode","endElement","current","tagName","parentNode","startPrefixMapping","prefix","endPrefixMapping","processingInstruction","target","data","ins","createProcessingInstruction","ignorableWhitespace","ch","characters","apply","arguments","charNode","createCDATASection","createTextNode","skippedEntity","name","endDocument","normalize","comment","comm","createComment","startCDATA","endCDATA","startDTD","publicId","impl","implementation","createDocumentType","dt","doctype","warning","console","warn","fatalError","replace","XMLSerializer","notEmptyString","input","orderedSetReducer","element","hasOwnProperty","toOrderedSet","list","split","filter","splitOnASCIIWhitespace","keys","reduce","copy","src","dest","p","_extends","Class","Super","pt","t","constructor","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","NOT_FOUND_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","NOT_SUPPORTED_ERR","DOMException","code","message","Error","call","captureStackTrace","NodeList","LiveNodeList","refresh","_node","_refresh","_updateLiveList","inc","_inc","ownerDocument","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_nsMap","_onAddAttribute","_removeNamedNode","lastIndex","Node","_xmlEncoder","c","charCodeAt","_visitNode","callback","firstChild","nextSibling","Document","remove","_onUpdateChild","newChild","cs","childNodes","child","_removeChild","previous","previousSibling","next","lastChild","_insertBefore","nextChild","cp","removeChild","nodeType","newFirst","newLast","pre","Element","Attr","CharacterData","Text","Comment","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","ProcessingInstruction","nodeSerializeToString","isHtml","nodeFilter","buf","refNode","documentElement","lookupPrefix","visibleNamespaces","namespace","serializeToString","join","needNamespaceDefine","ns","addSerializedAttribute","qualifiedName","push","attributes","nodeName","prefixedNodeName","defaultNS","ai","item","nsi","slice","pubid","sysid","sub","internalSubset","importNode","deep","node2","cloneNode","n","v","attrs2","_ownerElement","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","index","toString","getNamedItem","setNamedItem","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","hasFeature","feature","version","root","insertBefore","refChild","replaceChild","oldChild","hasChildNodes","appendData","isSupported","hasAttributes","map","lookupNamespaceURI","isDefaultNamespace","importedNode","getElementById","id","rtv","getAttribute","getElementsByClassName","classNames","classNamesSet","base","nodeClassNames","matches","nodeClassNamesSet","every","indexOf","createElement","createDocumentFragment","createAttribute","specified","createEntityReference","pl","hasAttribute","getAttributeNode","setAttribute","removeAttribute","removeAttributeNode","_appendSingleChild","setAttributeNodeNS","removeAttributeNS","old","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagName","getElementsByTagNameNS","substringData","offset","count","substring","text","insertData","replaceData","deleteData","splitText","newText","newNode","defineProperty","getTextContent","get","$$length","set","e","amp","apos","gt","lt","quot","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","euro","trade","larr","uarr","rarr","darr","harr","crarr","lceil","rceil","lfloor","rfloor","loz","spades","clubs","hearts","diams","nameStartChar","nameChar","RegExp","tagNamePattern","copyLocator","f","parseElementStartPart","currentNSMap","entityReplacer","addAttribute","qname","startIndex","attributeNames","addValue","attrName","s","charAt","setTagName","closed","match","localNSMap","a","nsp","nsPrefix","_copy","parseHtmlSpecialContent","elStartEnd","elEndStart","fixSelfClosed","closeMap","pos","lastIndexOf","parseDCC","end","matchs","exec","lastMatch","endDTD","parseInstruction","ElementAttributes","defaultNSMapCopy","k","surrogate1","surrogate2","fromCharCode","fixedFromCharCode","parseInt","appendText","xt","m","lineEnd","linePattern","lineStart","parseStack","tagStart","config","pop","endMatch","toLowerCase","locator2","Math","max","getLocalName","module","array","values","l2","l1","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","args","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","EventEmitter","init","once","emitter","Promise","resolve","reject","errorListener","err","removeListener","resolver","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","events","existing","create","newListener","emit","unshift","warned","w","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","unwrapListeners","arrayClone","listenerCount","addEventListener","wrapListener","arg","removeEventListener","enumerable","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","context","listeners","addListener","prependListener","prependOnceListener","originalListener","shift","spliceOne","off","removeAllListeners","rawListeners","eventNames","resolveDefaults","isGraph","inferType","SparseMap","SparseQueueSet","createRandomIndex","indices","UndirectedLouvainIndex","DirectedLouvainIndex","DEFAULTS","nodeCommunityAttribute","getEdgeWeight","fastLocalMoves","randomWalk","resolution","rng","random","addWeightToCommunity","community","weight","currentWeight","tieBreaker","bestCommunity","currentCommunity","targetCommunity","bestDelta","abs","undirectedLouvain","detailed","graph","queue","ci","ri","j","degree","targetCommunityDegree","localMoves","currentMoves","keepDendrogram","randomIndex","moveWasMade","localMoveWasMade","communities","Float64Array","C","deltaComputations","nodesVisited","moves","enqueue","size","dequeue","clear","belongings","starts","neighborhood","weights","fastDeltaWithOwnCommunity","dense","vals","fastDelta","isolate","move","zoomOut","directedLouvain","out","inDegree","outDegree","offsets","deltaWithOwnCommunity","louvain","assign","forEachNode","setNodeAttribute","order","dendrogram","level","modularity","NaN","results","collect","output","defaults","cast","SANITIZE_PATTERN","sanitizeTagName","trim","isGraphConstructor","mergeEdge","toMixed","toMulti","getFirstMatchingVizTag","vizElement","extractModel","elements","defaultElement","model","title","textContent","collectAttributes","label","valueElement","valueElements","x","y","z","color","r","g","b","toRGBString","shape","thickness","Graph","mergeResult","result","addMissingNodes","xmlDoc","GRAPH_ELEMENT","META_ELEMENT","META_ELEMENTS","NODE_ELEMENTS","EDGE_ELEMENTS","MODEL_ELEMENTS","NODE_MODEL_ELEMENTS","EDGE_MODEL_ELEMENTS","DEFAULT_EDGE_TYPE","NODE_MODEL","NODE_DEFAULT_ATTRIBUTES","EDGE_MODEL","EDGE_DEFAULT_ATTRIBUTES","meta","collectMeta","lastModifiedDate","replaceAttributes","addNode","multi","hasDirectedEdge","hasUndirectedEdge","XMLWriter","VIZ_RESERVED_NAMES","Set","RGBA_TEST","RGBA_MATCH","CSSColorToRGBA","DEFAULT_ELEMENT_FORMATTER","has","viz","isEmptyValue","isArray","inferModel","number","writeModel","writer","modelClass","writeAttribute","writeElements","edgeType","emptyModel","undirected","defaultEdgeType","startElementNS","encoding","pretty","formatNode","formatEdge","indent","metaTagName","graphAttribute","graphAttributes","getAttributes","writeElement","nodes","format","collectNodeData","edges","reducer","forEachEdge","edge","_sa","_ta","collectEdgeData","nodeModel","edgeModel","xmldom","createParserFunction","write","typed","createEdgeWeightGetter","INSPECT","Symbol","for","fromEntry","selfLoopCount","NeighborhoodPointerArray","getPointerArray","NodesPointerArray","WeightsArray","M","E","U","loops","mapping","counts","unused","totalWeights","ids","self","undirectedDegreeWithoutSelfLoops","sa","ta","u","startSource","startTarget","totalInWeights","totalOutWeights","outDegreeWithoutSelfLoops","inDegreeWithoutSelfLoops","newCommunity","nowEmpty","computeNodeDegree","o","expensiveIsolate","expensiveMove","cj","adj","currentLevel","nextLevel","inducedGraph","newLabels","N","internalWeights","Q","M2","pow","targetCommunityTotalWeight","bounds","project","projection","forEach","from","proxy","inBounds","outBounds","projectIn","projectOut","computeNodeInDegree","computeNodeOutDegree","inAdj","outAdj","targetCommunityTotalInWeight","targetCommunityTotalOutWeight","linLogMode","outboundAttractionDistribution","adjustSizes","edgeWeightInfluence","scalingRatio","strongGravityMode","gravity","slowDown","barnesHutOptimize","barnesHutTheta","objects","validateSettings","settings","graphToByteArrays","NodeMatrix","Float32Array","EdgeMatrix","fixed","sj","tj","assignLayoutChanges","outputReducer","updateEachNodeAttributes","readGraphPositions","collectLayoutChanges","positions","getNodeAttributes","createWorker","xURL","window","URL","webkitURL","objectUrl","createObjectURL","Blob","worker","Worker","revokeObjectURL","iterate","helpers","DEFAULT_SETTINGS","abstractSynchronousLayout","params","iterations","validationError","matrices","synchronousLayout","inferSettings","log","PPN","n1","n2","rn","outboundAttCompensation","coefficient","xDist","yDist","ewc","distance","factor","force","swinging","traction","nodespeed","newX","newY","thetaSquared","RegionMatrix","q","q2","subdivisionAttempts","minX","Infinity","maxX","minY","maxY","min","dx","dy","PPR","sqrt","NODES","EDGES","moduleShim","event","postMessage","buffer","workerFunction","FA2LayoutSupervisor","running","killed","handleMessage","respawnFrame","handleGraphUpdate","terminate","clearTimeout","setTimeout","spawnWorker","isRunning","matrix","askForIterations","withEdges","payload","buffers","stop","kill","gridSize","margin","expansion","ratio","speed","graphToByteArray","mergeNodeAttributes","maxIterations","inputReducer","converged","jitter","deltaX","deltaY","xMin","yMin","xMax","yMax","width","height","xCenter","yCenter","nxMin","nxMax","nyMin","nyMax","xMinBox","xMaxBox","yMinBox","yMaxBox","col","row","cell","grid","gridLength","floor","x1","x2","y1","y2","s1","s2","h","dist","collisions","add","shuffle","center","hierarchyAttributes","scale","CircleWrap","circleWrap","wrappedCircle","children","countChildren","setNode","parentCircle","posMap","circle","hasChildren","enclosesNot","dr","enclosesWeak","enclosesWeakAll","B","encloseBasis2","r1","r2","x21","y21","r21","encloseBasis3","x3","y3","r3","a2","a3","b2","b3","c2","c3","d1","d2","d3","ab","xa","xb","ya","yb","A","encloseBasis","extendBasis","score","place","intersects","packHierarchy","shuffleFunc","circles","aa","ca","sk","pack","safety","circlesLoc","enclose","packEnclose","genericCirclePackLayout","createShuffleInPlace","container","newCircleWrap","parentContainer","getChild","addChild","applyPositionToChildren","packHierarchyAndShift","circlePackLayout","dimensions","genericCircularLayout","PI","assignPosition","cos","sin","_","circularLayout","circlepack","circular","rotation","createRandom","customRandom","sequence","shuffleInPlace","genericRandomLayout","d","randomLayout","RAD_CONVERSION","centeredOnZero","degrees","genericRotation","angle","xd","yd","mergeUndirectedEdge","mergeUndirectedEdgeWithKey","mergeDirectedEdge","mergeDirectedEdgeWithKey","def","Map","Date","coerceWeight","nameOrFunction","defaultValue","getter","coerceToDefault","returnDefault","fromAttributes","fromGraph","getEdgeAttributes","fromPartialEntry","fromMinimalEntry","extremities","isUndirected","createEdgeValueGetter","declaredType","directedSize","undirectedSize","addUndirectedEdgeWithKey","dropNode","iterator","setPrototypeOf","__proto__","construct","sham","Proxy","Boolean","valueOf","writable","configurable","ReferenceError","_nodes","G","S","D","L","of","done","fromSequence","is","O","ARRAY_BUFFER_SUPPORT","ArrayBuffer","SYMBOL_SUPPORT","W","P","isView","K","T","F","I","Y","J","V","H","_edges","undirectedDegree","in","attach","attachMulti","detach","detachMulti","X","attacher","Z","$","tt","et","nt","direction","rt","it","ot","sourceAttributes","targetAttributes","at","ut","ct","st","ht","ft","yt","wt","vt","bt","mt","kt","wrap","_t","neighbor","Et","At","St","Dt","Lt","Ut","Nt","jt","allowSelfLoops","Ot","NodeDataClass","Ct","_edgeKeyGenerator","_undirectedSelfLoopCount","_directedSelfLoopCount","_undirectedSize","_directedSize","zt","Mt","delete","Wt","_options","_resetInstanceCounters","hasNode","hasEdge","directedEdge","undirectedEdge","areDirectedNeighbors","areOutNeighbors","areInNeighbors","areUndirectedNeighbors","areNeighbors","areInboundNeighbors","areOutboundNeighbors","directedDegree","inboundDegree","outboundDegree","directedDegreeWithoutSelfLoops","inboundDegreeWithoutSelfLoops","outboundDegreeWithoutSelfLoops","degreeWithoutSelfLoops","opposite","hasExtremity","isDirected","isSelfLoop","mergeNode","updateNode","dropEdge","dropDirectedEdge","dropUndirectedEdge","clearEdges","_attributes","updateAttribute","mergeAttributes","updateAttributes","hints","updateEachEdgeAttributes","forEachAdjacencyEntry","forEachAdjacencyEntryWithOrphans","forEachAssymetricAdjacencyEntry","forEachAssymetricAdjacencyEntryWithOrphans","findNode","mapNodes","someNode","everyNode","filterNodes","reduceNodes","nodeEntries","export","import","addDirectedEdgeWithKey","addUndirectedEdge","addDirectedEdge","nullCopy","emptyCopy","toJSON","inspect","startsWith","generateKey","toUpperCase","Gt","Pt","Rt","Kt","Tt","Bt","Ft","DirectedGraph","UndirectedGraph","MultiGraph","MultiDirectedGraph","MultiUndirectedGraph","InvalidArgumentsGraphError","NotFoundGraphError","UsageGraphError","Iterator","Values","ByteArray","sparse","member","scope","entries","capacity","MAX_8BIT_INTEGER","MAX_16BIT_INTEGER","MAX_32BIT_INTEGER","MAX_SIGNED_8BIT_INTEGER","MAX_SIGNED_16BIT_INTEGER","MAX_SIGNED_32BIT_INTEGER","maxIndex","Uint8Array","Uint16Array","Uint32Array","getSignedPointerArray","Int8Array","Int16Array","Int32Array","getNumberType","sign","TYPE_PRIORITY","getMinimalRepresentation","maxType","maxPriority","isTypedArray","extendStatics","__extends","__","__importDefault","mod","__esModule","animate_1","easings_1","utils_1","types_1","DEFAULT_ZOOMING_RATIO","Camera","_super","_this","minRatio","maxRatio","nextFrame","previousState","enabled","getState","setState","enable","disable","hasState","getPreviousState","getBoundedRatio","validateState","validatedState","isAnimated","validState","animate","opts","ANIMATE_DEFAULTS","easing","default","now","initialState","duration","animationCallback","newState","requestFrame","cancelFrame","animatedZoom","factorOrOptions","animatedUnzoom","animatedReset","TypedEventEmitter","__assign","getWheelDelta","getTouchCoords","getTouchesArray","getWheelCoords","getMouseCoords","getPosition","bbox","getBoundingClientRect","clientX","left","clientY","top","res","sigmaDefaultPrevented","preventSigmaDefault","original","touches","detail","touch","Captor","renderer","__createBinding","k2","__setModuleDefault","__importStar","captor_1","MouseCaptor","draggedEvents","downStartTime","lastMouseX","lastMouseY","isMouseDown","isMoving","movingTimeout","startCameraState","clicks","doubleClickTimeout","currentWheelDirection","handleClick","handleRightClick","handleDown","handleUp","handleMove","handleWheel","handleOut","document","handleDoubleClick","preventDefault","stopPropagation","mouseCoords","camera","getCamera","newRatio","getViewportZoomedState","_a","cameraState","previousCameraState","eX","eY","lastMouse","viewportToFramedGraph","mouse","offsetX","offsetY","wheelCoords","ratioDiff","wheelDirection","lastWheelTriggerTime","MOUSE_ZOOM_DURATION","__read","ar","TouchCaptor","touchMode","handleStart","handleLeave","getDimensions","offsetWidth","offsetHeight","dispatchRelatedMouseEvent","mousePosition","mouseEvent","MouseEvent","altKey","ctrlKey","isFakeSigmaMouseEvent","dispatchEvent","startTouchesPositions","lastTouchesPositions","_b","x0","y0","_c","startTouchesAngle","atan2","startTouchesDistance","touchesPositions","xStart","yStart","newCameraState","_d","_e","angleDiff","hypot","touchGraphPosition","smallestDimension","edgeLabelsToDisplayFromNodes","LabelGrid","LabelCandidate","compare","first","second","cellSize","columns","rows","cells","resizeAndClear","ceil","getIndex","xIndex","candidate","organize","sort","getLabelsToDisplay","density","cellArea","scaledDensity","labelsToDisplayPerCell","labels","hoveredNode","highlightedNodes","displayedNodeLabels","worthyEdges","__spreadArray","to","rectangleCollidesWithQuad","squareCollidesWithQuad","getCircumscribedAlignedRectangle","isRectangleAligned","extend_1","hasWarnedTooMuchOutside","rect","heightVector","tl","tr","bl","br","xL","xR","yT","qx","qy","qw","qh","pointIsInQuad","QuadTree","containers","cache","lastRectangle","boundaries","resize","maxLevel","block","topLeftBlock","topRightBlock","bottomLeftBlock","bottomRightBlock","collidingWithTopLeft","collidingWithTopRight","collidingWithBottomLeft","collidingWithBottomRight","acc","insertNode","stack","hw","hh","buildQuadrants","point","rectangle","lr","collectedNodes","getNodesInAxisAlignedRectangleArea","sigma_1","camera_1","quadtree_1","mouse_1","edgeData","sourceData","targetData","edgeLabelSize","font","edgeLabelFont","edgeLabelWeight","edgeLabelColor","attribute","fillStyle","cx","cy","sSize","tSize","sx","sy","tx","ty","textLength","measureText","acos","asin","save","translate","rotate","fillText","restore","label_1","labelSize","labelFont","labelWeight","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","textWidth","boxWidth","round","boxHeight","radius","angleRadian","xDeltaCoord","beginPath","moveTo","lineTo","arc","closePath","fill","labelColor","createEdgeCompoundProgram","AbstractEdgeProgram","gl","vertexShaderSource","fragmentShaderSource","points","AbstractProgram","programClasses","EdgeCompoundProgram","programs","ProgramClass","bufferData","program","allocate","computeIndices","render","process","hidden","createNodeCompoundProgram","AbstractNodeProgram","positionLocation","getAttribLocation","sizeLocation","colorLocation","matrixLocation","getUniformLocation","ratioLocation","scaleLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","BYTES_PER_ELEMENT","UNSIGNED_BYTE","NodeCompoundProgram","createBuffer","bindBuffer","ARRAY_BUFFER","vertexShader","loadVertexShader","fragmentShader","loadFragmentShader","loadProgram","DYNAMIC_DRAW","hasNothingToRender","edge_1","edge_arrowHead_1","edge_clamped_1","EdgeArrowProgram","edge_arrowHead_vert_glsl_1","edge_arrowHead_frag_glsl_1","EdgeArrowHeadProgram","normalLocation","radiusLocation","barycentricLocation","sqrtZoomRatioLocation","correctionRatioLocation","i_1","POINTS","floatColor","useProgram","uniformMatrix3fv","uniform1f","correctionRatio","drawArrays","TRIANGLES","edge_clamped_vert_glsl_1","edge_frag_glsl_1","EdgeClampedProgram","indicesBuffer","canUse32BitsIndices","IndicesArray","indicesArray","indicesType","UNSIGNED_INT","UNSIGNED_SHORT","ELEMENT_ARRAY_BUFFER","STATIC_DRAW","drawElements","edge_vert_glsl_1","EdgeProgram","node_fast_vert_glsl_1","node_fast_frag_glsl_1","NodeFastProgram","node_image_vert_glsl_1","node_image_frag_glsl_1","node_1","AbstractNodeImageProgram","rebindTexture","textureImage","rebindTextureFns","images","hasReceivedImages","pendingImagesFrameID","NodeImageProgram","ImageData","textureLocation","atlasLocation","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","imageSource","image","imageState","Image","status","requestAnimationFrame","pendingImages","canvas","ctx","getContext","iter","xOffset","putImageData","imageSizeInTexture","drawImage","getImageData","finalizePendingImages","loadImage","latestRenderParams","uniform1i","generateMipmap","toStringTag","loadShader","glType","VERTEX_SHADER","FRAGMENT_SHADER","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","infoLog","getShaderInfoLog","deleteShader","shaders","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","deleteProgram","hover_1","edge_label_1","node_fast_1","edge_arrow_1","labelDensity","minCameraRatio","maxCameraRatio","hideEdgesOnMove","hideLabelsOnMove","renderLabels","renderEdgeLabels","enableEdgeClickEvents","enableEdgeWheelEvents","enableEdgeHoverEvents","defaultNodeColor","defaultNodeType","defaultEdgeColor","stagePadding","labelGridCellSize","labelRenderedSizeThreshold","nodeReducer","edgeReducer","zIndex","labelRenderer","hoverRenderer","edgeLabelRenderer","allowInvalidContainer","nodeProgramClasses","edgeProgramClasses","arrow","line","__values","labels_1","settings_1","touch_1","matrices_1","edge_collisions_1","applyNodeDefaults","highlighted","forceLabel","applyEdgeDefaults","canvasContexts","webGLContexts","activeListeners","quadtree","labelGrid","nodeDataCache","edgeDataCache","nodesWithForcedLabels","edgesWithForcedLabels","nodeExtent","identity","invMatrix","customBBox","normalizationFunction","createNormalizationFunction","cameraSizeRatio","pixelRatio","getPixelRatio","displayedLabels","hoveredEdge","renderFrame","renderHighlightedNodesFrame","needToProcess","needToSoftProcess","checkEdgesEventsFrame","nodePrograms","hoverNodePrograms","edgePrograms","validateGraph","HTMLElement","createWebGLContext","preserveDrawingBuffer","createCanvasContext","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","BLEND","NodeProgramClass","hoverNodes","EdgeProgramClass","bindCameraHandlers","mouseCaptor","touchCaptor","bindEventHandlers","bindGraphHandlers","handleSettingsUpdate","createCanvas","class","antialias","contextOptions","_scheduleRefresh","mouseIsOnNode","nodeX","nodeY","getQuadNodes","mouseGraphPosition","getNodeAtPosition","quadNodes","minDistance","nodeAtPosition","nodePosition","framedGraphToViewport","scaleSize","handleResize","baseEvent","nodeToHover","scheduleHighlightedNodesRender","checkEdgeHoverEvents","createMouseListener","eventType","getEdgeAtPoint","graphUpdate","softGraphUpdate","dropNodeGraphUpdate","dropEdgeGraphUpdate","clearEdgesGraphUpdate","clearGraphUpdate","edgeToHover","e_1","isPixelColored","viewportToGraph","graphX","graphY","transformationRatio","someEdge","sourceId","targetId","xs","ys","graphLength","graphToViewport","vp_xs","vp_ys","vp_xt","vp_yt","viewportLength","filterEdges","edgeAttributes","sourcePosition","targetPosition","doEdgeCollideWithPoint","selectedEdge","highestZIndex","edges_1","edges_1_1","getEdgeAttribute","e_1_1","return","keepArrays","nodeZExtent","edgeZExtent","graphExtent","nullCamera","nullCameraMatrix","matrixFromCamera","getGraphDimensions","getSetting","nodesPerPrograms","applyTo","zIndexOrdering","edgesPerPrograms","visibleNodes","viewRectangle","labelsToDisplay","edgeLabels","clearRect","edgeLabelsToDisplay","renderHighlightedNodes","hovers","nodesToRender","COLOR_BUFFER_BIT","handleEscape","updateCachedValues","moving","viewportDimensions","graphDimensions","padding","getMatrixImpact","getContainer","getGraph","getMouseCaptor","getTouchCaptor","extent","getNodeDisplayData","getEdgeDisplayData","getSettings","setSetting","updateSetting","updater","previousWidth","previousHeight","style","viewport","scheduleRefresh","viewportTarget","graphMousePosition","graphCenterPosition","marginX","marginY","p1","p2","coordinates","override","recomputeMatrix","viewportPos","multiplyVec2","viewportPoint","inverse","graphPoint","getBBox","getCustomBBox","setCustomBBox","getCanvases","rawEmitter","animateNodes","index_1","targets","startPositions","getNodeAttribute","frame","step","HTML_COLORS","black","silver","gray","grey","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","darkblue","mediumblue","darkgreen","darkcyan","deepskyblue","darkturquoise","mediumspringgreen","springgreen","cyan","midnightblue","dodgerblue","lightseagreen","forestgreen","seagreen","darkslategray","darkslategrey","limegreen","mediumseagreen","turquoise","royalblue","steelblue","darkslateblue","mediumturquoise","indigo","darkolivegreen","cadetblue","cornflowerblue","rebeccapurple","mediumaquamarine","dimgray","dimgrey","slateblue","olivedrab","slategray","slategrey","lightslategray","lightslategrey","mediumslateblue","lawngreen","chartreuse","aquamarine","skyblue","lightskyblue","blueviolet","darkred","darkmagenta","saddlebrown","darkseagreen","lightgreen","mediumpurple","darkviolet","palegreen","darkorchid","yellowgreen","sienna","brown","darkgray","darkgrey","lightblue","greenyellow","paleturquoise","lightsteelblue","powderblue","firebrick","darkgoldenrod","mediumorchid","rosybrown","darkkhaki","mediumvioletred","indianred","peru","chocolate","tan","lightgray","lightgrey","thistle","orchid","goldenrod","palevioletred","crimson","gainsboro","plum","burlywood","lightcyan","lavender","darksalmon","violet","palegoldenrod","lightcoral","khaki","aliceblue","honeydew","azure","sandybrown","wheat","beige","whitesmoke","mintcream","ghostwhite","salmon","antiquewhite","linen","lightgoldenrodyellow","oldlace","magenta","deeppink","orangered","tomato","hotpink","coral","darkorange","lightsalmon","orange","lightpink","pink","gold","peachpuff","navajowhite","moccasin","bisque","mistyrose","blanchedalmond","papayawhip","lavenderblush","seashell","cornsilk","lemonchiffon","floralwhite","snow","lightyellow","ivory","cubicInOut","cubicOut","cubicIn","quadraticInOut","quadraticOut","quadraticIn","linear","easings","pixels","readPixels","drawingBufferHeight","xS","yS","xT","extractPixel","getCorrectionRatio","floatArrayColor","parseColor","assignDeep","isPlainObject","is_graph_1","data_1","_i","cancelAnimationFrame","requestID","tag","devicePixelRatio","dX","dY","zA","zB","INT8","INT32","FLOAT32","RGBA_TEST_REGEX","RGBA_EXTRACT_REGEX","val","FLOAT_COLOR_CACHE","htmlColor","parsed","viewportRatio","graphRatio","multiply","WebGL2RenderingContext","getExtension","isFinite","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","b0","b1","clusters","resolutions","creators","roles","artist","both","extraPalette","lighten","amt","usePound","num","loader","modal","modalImg","explanations","nodeDetails","nodeLabel","nodeImg","nodeExtra","display","divHeight","divId","freeHeight","loadNetwork","setTitle","innerHTML","fetch","entity","network_size","then","gexf","circularPositions","cluster","stories","artist_ratio","sigmaSettings","thumbnail","clickNode","image_url","description","url","searchInput","searchSuggestions","selectedNode","suggestions","setSearchQuery","query","includes","sensibleSettings","fa2Layout","conf","location","hash","querySelector","switchCharacters","switchCreators","switchSmall","switchFull","entitySpans","querySelectorAll","charactersDetailsSpans","creatorsDetailsSpans","smallDetailsSpans","fullDetailsSpans","setEntity","load","disabled","span","setSize","confdata","keyval","currentUrl","isFalse","strval","name_regex","indentString","tags","texts","dtd","started_write","writer_encoding","flush","indenter","standalone","startPI","startAttribute","endAttribute","endPI","endAttributes","content","writeElementNS","containsTag","startAttributes","writeAttributeNS","startAttributeNS","writeComment","startComment","endComment","writeDocType","subset","startDocType","endDocType","writePI","writeCData","startCData","endCData","writeRaw","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}