{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/conventions.js","webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/dom-parser.js","webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/dom.js","webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/entities.js","webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/index.js","webpack://MARVEL networks/./node_modules/@xmldom/xmldom/lib/sax.js","webpack://MARVEL networks/./sigma.js/core/camera.js","webpack://MARVEL networks/./sigma.js/core/captors/captor.js","webpack://MARVEL networks/./sigma.js/core/captors/mouse.js","webpack://MARVEL networks/./sigma.js/core/captors/touch.js","webpack://MARVEL networks/./sigma.js/core/labels.js","webpack://MARVEL networks/./sigma.js/core/quadtree.js","webpack://MARVEL networks/./sigma.js/index.js","webpack://MARVEL networks/./sigma.js/rendering/canvas/edge-label.js","webpack://MARVEL networks/./sigma.js/rendering/canvas/hover.js","webpack://MARVEL networks/./sigma.js/rendering/canvas/label.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/programs/common/edge.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/programs/common/node.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/programs/common/program.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/programs/edge.arrow.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/programs/edge.arrowHead.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/programs/edge.clamped.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/programs/edge.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/programs/node.fast.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/programs/node.image.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/shaders/edge.arrowHead.frag.glsl.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/shaders/edge.arrowHead.vert.glsl.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/shaders/edge.clamped.vert.glsl.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/shaders/edge.frag.glsl.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/shaders/edge.vert.glsl.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/shaders/node.fast.frag.glsl.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/shaders/node.fast.vert.glsl.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/shaders/node.image.frag.glsl.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/shaders/node.image.vert.glsl.js","webpack://MARVEL networks/./sigma.js/rendering/webgl/shaders/utils.js","webpack://MARVEL networks/./sigma.js/settings.js","webpack://MARVEL networks/./sigma.js/sigma.js","webpack://MARVEL networks/./sigma.js/types.js","webpack://MARVEL networks/./sigma.js/utils/animate.js","webpack://MARVEL networks/./sigma.js/utils/data.js","webpack://MARVEL networks/./sigma.js/utils/easings.js","webpack://MARVEL networks/./sigma.js/utils/edge-collisions.js","webpack://MARVEL networks/./sigma.js/utils/index.js","webpack://MARVEL networks/./sigma.js/utils/matrices.js","webpack://MARVEL networks/./node_modules/graphology-communities-louvain/index.js","webpack://MARVEL networks/./node_modules/graphology-gexf/common/helpers.js","webpack://MARVEL networks/./node_modules/graphology-gexf/common/parser.js","webpack://MARVEL networks/./node_modules/graphology-gexf/common/writer.js","webpack://MARVEL networks/./node_modules/graphology-gexf/index.js","webpack://MARVEL networks/./node_modules/graphology-gexf/node/index.js","webpack://MARVEL networks/./node_modules/graphology-indices/louvain.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/defaults.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/helpers.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/index.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/iterate.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/webworker.js","webpack://MARVEL networks/./node_modules/graphology-layout-forceatlas2/worker.js","webpack://MARVEL networks/./node_modules/graphology-layout-noverlap/defaults.js","webpack://MARVEL networks/./node_modules/graphology-layout-noverlap/helpers.js","webpack://MARVEL networks/./node_modules/graphology-layout-noverlap/index.js","webpack://MARVEL networks/./node_modules/graphology-layout-noverlap/iterate.js","webpack://MARVEL networks/./node_modules/graphology-layout/circlepack.js","webpack://MARVEL networks/./node_modules/graphology-layout/circular.js","webpack://MARVEL networks/./node_modules/graphology-layout/index.js","webpack://MARVEL networks/./node_modules/graphology-layout/node_modules/pandemonium/random.js","webpack://MARVEL networks/./node_modules/graphology-layout/node_modules/pandemonium/shuffle-in-place.js","webpack://MARVEL networks/./node_modules/graphology-layout/random.js","webpack://MARVEL networks/./node_modules/graphology-layout/rotation.js","webpack://MARVEL networks/./node_modules/graphology-operators/to-mixed.js","webpack://MARVEL networks/./node_modules/graphology-operators/to-multi.js","webpack://MARVEL networks/./node_modules/graphology-utils/add-edge.js","webpack://MARVEL networks/./node_modules/graphology-utils/defaults.js","webpack://MARVEL networks/./node_modules/graphology-utils/getters.js","webpack://MARVEL networks/./node_modules/graphology-utils/infer-type.js","webpack://MARVEL networks/./node_modules/graphology-utils/is-graph-constructor.js","webpack://MARVEL networks/./node_modules/graphology-utils/is-graph.js","webpack://MARVEL networks/./node_modules/graphology/dist/graphology.umd.min.js","webpack://MARVEL networks/./node_modules/mnemonist/sparse-map.js","webpack://MARVEL networks/./node_modules/mnemonist/sparse-queue-set.js","webpack://MARVEL networks/./node_modules/mnemonist/utils/typed-arrays.js","webpack://MARVEL networks/./node_modules/obliterator/iterator.js","webpack://MARVEL networks/./node_modules/pandemonium/random-index.js","webpack://MARVEL networks/./index.ts","webpack://MARVEL networks/./node_modules/xml-writer/index.js","webpack://MARVEL networks/./node_modules/xml-writer/lib/xml-writer.js","webpack://MARVEL networks/./sigma.js/node_modules/@yomguithereal/helpers/extend.js","webpack://MARVEL networks/./sigma.js/node_modules/events/events.js","webpack://MARVEL networks/./sigma.js/node_modules/graphology-utils/is-graph.js","webpack://MARVEL networks/webpack/bootstrap","webpack://MARVEL networks/webpack/startup"],"sourcesContent":["'use strict'\n\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nfunction freeze(object, oc) {\n\tif (oc === undefined) {\n\t\toc = Object\n\t}\n\treturn oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object\n}\n\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\nvar MIME_TYPE = freeze({\n\t/**\n\t * `text/html`, the only mime type that triggers treating an XML document as HTML.\n\t *\n\t * @see DOMParser.SupportedType.isHTML\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n\t */\n\tHTML: 'text/html',\n\n\t/**\n\t * Helper method to check a mime type if it indicates an HTML document\n\t *\n\t * @param {string} [value]\n\t * @returns {boolean}\n\t *\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n\tisHTML: function (value) {\n\t\treturn value === MIME_TYPE.HTML\n\t},\n\n\t/**\n\t * `application/xml`, the standard mime type for XML documents.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_APPLICATION: 'application/xml',\n\n\t/**\n\t * `text/html`, an alias for `application/xml`.\n\t *\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n\t * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_TEXT: 'text/xml',\n\n\t/**\n\t * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n\t * but is parsed as an XML document.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n\t * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n\t */\n\tXML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n\t/**\n\t * `image/svg+xml`,\n\t *\n\t * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n\t * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n\t * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n\t */\n\tXML_SVG_IMAGE: 'image/svg+xml',\n})\n\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\nvar NAMESPACE = freeze({\n\t/**\n\t * The XHTML namespace.\n\t *\n\t * @see http://www.w3.org/1999/xhtml\n\t */\n\tHTML: 'http://www.w3.org/1999/xhtml',\n\n\t/**\n\t * Checks if `uri` equals `NAMESPACE.HTML`.\n\t *\n\t * @param {string} [uri]\n\t *\n\t * @see NAMESPACE.HTML\n\t */\n\tisHTML: function (uri) {\n\t\treturn uri === NAMESPACE.HTML\n\t},\n\n\t/**\n\t * The SVG namespace.\n\t *\n\t * @see http://www.w3.org/2000/svg\n\t */\n\tSVG: 'http://www.w3.org/2000/svg',\n\n\t/**\n\t * The `xml:` namespace.\n\t *\n\t * @see http://www.w3.org/XML/1998/namespace\n\t */\n\tXML: 'http://www.w3.org/XML/1998/namespace',\n\n\t/**\n\t * The `xmlns:` namespace\n\t *\n\t * @see https://www.w3.org/2000/xmlns/\n\t */\n\tXMLNS: 'http://www.w3.org/2000/xmlns/',\n})\n\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;\n","var conventions = require(\"./conventions\");\nvar dom = require('./dom')\nvar entities = require('./entities');\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tif(source && typeof source === 'string'){\n\t\tsax.parse(source,defaultNSMap,entityMap);\n\t}else{\n\t\tsax.errorHandler.error(\"invalid doc source\");\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.DOMParser = DOMParser;\n\n/**\n * @deprecated Import/require from main entry point instead\n */\nexports.DOMImplementation = dom.DOMImplementation;\n\n/**\n * @deprecated Import/require from main entry point instead\n */\nexports.XMLSerializer = dom.XMLSerializer;\n","var conventions = require(\"./conventions\");\n\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0, \n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long \n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t}\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t\t\n\t\t\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\t\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises \n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises \n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\nfunction _onUpdateChild(doc,el,newChild){\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif(newChild){\n\t\t\tcs[cs.length++] = newChild;\n\t\t}else{\n\t\t\t//console.log(1)\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile(child){\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild =child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t}\n\t}\n}\n\n/**\n * attributes;\n * children;\n * \n * writeable properties:\n * nodeValue,Attr:value,CharacterData:data\n * prefix\n */\nfunction _removeChild(parentNode,child){\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif(previous){\n\t\tprevious.nextSibling = next;\n\t}else{\n\t\tparentNode.firstChild = next\n\t}\n\tif(next){\n\t\tnext.previousSibling = previous;\n\t}else{\n\t\tparentNode.lastChild = previous;\n\t}\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\n\treturn child;\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\t\n\t\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\t//console.log(parentNode.lastChild.nextSibling == null)\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\nfunction _appendSingleChild(parentNode,newChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tvar pre = parentNode.lastChild;\n\t\tcp.removeChild(newChild);//remove and update\n\t\tvar pre = parentNode.lastChild;\n\t}\n\tvar pre = parentNode.lastChild;\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = pre;\n\tnewChild.nextSibling = null;\n\tif(pre){\n\t\tpre.nextSibling = newChild;\n\t}else{\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\n\treturn newChild;\n\t//console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\t\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\t\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\t\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t\t\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\t\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\t\n\tvar i = visibleNamespaces.length \n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * The replacement text of any entity referred to directly or indirectly in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml/#CleanAttrVals\n * @see https://www.w3.org/TR/xml/#NT-AttValue\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<&\"]/g,_xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\t\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\t\t\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\t\t\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&]/g,_xmlEncoder)\n\t\t\t.replace(/]]>/g, ']]&gt;')\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n","var freeze = require('./conventions').freeze;\n\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\nexports.XML_ENTITIES = freeze({amp:'&', apos:\"'\", gt:'>', lt:'<', quot:'\"'})\n\n/**\n * A map of currently 241 entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\nexports.HTML_ENTITIES = freeze({\n       lt: '<',\n       gt: '>',\n       amp: '&',\n       quot: '\"',\n       apos: \"'\",\n       Agrave: \"\",\n       Aacute: \"\",\n       Acirc: \"\",\n       Atilde: \"\",\n       Auml: \"\",\n       Aring: \"\",\n       AElig: \"\",\n       Ccedil: \"\",\n       Egrave: \"\",\n       Eacute: \"\",\n       Ecirc: \"\",\n       Euml: \"\",\n       Igrave: \"\",\n       Iacute: \"\",\n       Icirc: \"\",\n       Iuml: \"\",\n       ETH: \"\",\n       Ntilde: \"\",\n       Ograve: \"\",\n       Oacute: \"\",\n       Ocirc: \"\",\n       Otilde: \"\",\n       Ouml: \"\",\n       Oslash: \"\",\n       Ugrave: \"\",\n       Uacute: \"\",\n       Ucirc: \"\",\n       Uuml: \"\",\n       Yacute: \"\",\n       THORN: \"\",\n       szlig: \"\",\n       agrave: \"\",\n       aacute: \"\",\n       acirc: \"\",\n       atilde: \"\",\n       auml: \"\",\n       aring: \"\",\n       aelig: \"\",\n       ccedil: \"\",\n       egrave: \"\",\n       eacute: \"\",\n       ecirc: \"\",\n       euml: \"\",\n       igrave: \"\",\n       iacute: \"\",\n       icirc: \"\",\n       iuml: \"\",\n       eth: \"\",\n       ntilde: \"\",\n       ograve: \"\",\n       oacute: \"\",\n       ocirc: \"\",\n       otilde: \"\",\n       ouml: \"\",\n       oslash: \"\",\n       ugrave: \"\",\n       uacute: \"\",\n       ucirc: \"\",\n       uuml: \"\",\n       yacute: \"\",\n       thorn: \"\",\n       yuml: \"\",\n       nbsp: \"\\u00a0\",\n       iexcl: \"\",\n       cent: \"\",\n       pound: \"\",\n       curren: \"\",\n       yen: \"\",\n       brvbar: \"\",\n       sect: \"\",\n       uml: \"\",\n       copy: \"\",\n       ordf: \"\",\n       laquo: \"\",\n       not: \"\",\n       shy: \"\",\n       reg: \"\",\n       macr: \"\",\n       deg: \"\",\n       plusmn: \"\",\n       sup2: \"\",\n       sup3: \"\",\n       acute: \"\",\n       micro: \"\",\n       para: \"\",\n       middot: \"\",\n       cedil: \"\",\n       sup1: \"\",\n       ordm: \"\",\n       raquo: \"\",\n       frac14: \"\",\n       frac12: \"\",\n       frac34: \"\",\n       iquest: \"\",\n       times: \"\",\n       divide: \"\",\n       forall: \"\",\n       part: \"\",\n       exist: \"\",\n       empty: \"\",\n       nabla: \"\",\n       isin: \"\",\n       notin: \"\",\n       ni: \"\",\n       prod: \"\",\n       sum: \"\",\n       minus: \"\",\n       lowast: \"\",\n       radic: \"\",\n       prop: \"\",\n       infin: \"\",\n       ang: \"\",\n       and: \"\",\n       or: \"\",\n       cap: \"\",\n       cup: \"\",\n       'int': \"\",\n       there4: \"\",\n       sim: \"\",\n       cong: \"\",\n       asymp: \"\",\n       ne: \"\",\n       equiv: \"\",\n       le: \"\",\n       ge: \"\",\n       sub: \"\",\n       sup: \"\",\n       nsub: \"\",\n       sube: \"\",\n       supe: \"\",\n       oplus: \"\",\n       otimes: \"\",\n       perp: \"\",\n       sdot: \"\",\n       Alpha: \"\",\n       Beta: \"\",\n       Gamma: \"\",\n       Delta: \"\",\n       Epsilon: \"\",\n       Zeta: \"\",\n       Eta: \"\",\n       Theta: \"\",\n       Iota: \"\",\n       Kappa: \"\",\n       Lambda: \"\",\n       Mu: \"\",\n       Nu: \"\",\n       Xi: \"\",\n       Omicron: \"\",\n       Pi: \"\",\n       Rho: \"\",\n       Sigma: \"\",\n       Tau: \"\",\n       Upsilon: \"\",\n       Phi: \"\",\n       Chi: \"\",\n       Psi: \"\",\n       Omega: \"\",\n       alpha: \"\",\n       beta: \"\",\n       gamma: \"\",\n       delta: \"\",\n       epsilon: \"\",\n       zeta: \"\",\n       eta: \"\",\n       theta: \"\",\n       iota: \"\",\n       kappa: \"\",\n       lambda: \"\",\n       mu: \"\",\n       nu: \"\",\n       xi: \"\",\n       omicron: \"\",\n       pi: \"\",\n       rho: \"\",\n       sigmaf: \"\",\n       sigma: \"\",\n       tau: \"\",\n       upsilon: \"\",\n       phi: \"\",\n       chi: \"\",\n       psi: \"\",\n       omega: \"\",\n       thetasym: \"\",\n       upsih: \"\",\n       piv: \"\",\n       OElig: \"\",\n       oelig: \"\",\n       Scaron: \"\",\n       scaron: \"\",\n       Yuml: \"\",\n       fnof: \"\",\n       circ: \"\",\n       tilde: \"\",\n       ensp: \"\",\n       emsp: \"\",\n       thinsp: \"\",\n       zwnj: \"\",\n       zwj: \"\",\n       lrm: \"\",\n       rlm: \"\",\n       ndash: \"\",\n       mdash: \"\",\n       lsquo: \"\",\n       rsquo: \"\",\n       sbquo: \"\",\n       ldquo: \"\",\n       rdquo: \"\",\n       bdquo: \"\",\n       dagger: \"\",\n       Dagger: \"\",\n       bull: \"\",\n       hellip: \"\",\n       permil: \"\",\n       prime: \"\",\n       Prime: \"\",\n       lsaquo: \"\",\n       rsaquo: \"\",\n       oline: \"\",\n       euro: \"\",\n       trade: \"\",\n       larr: \"\",\n       uarr: \"\",\n       rarr: \"\",\n       darr: \"\",\n       harr: \"\",\n       crarr: \"\",\n       lceil: \"\",\n       rceil: \"\",\n       lfloor: \"\",\n       rfloor: \"\",\n       loz: \"\",\n       spades: \"\",\n       clubs: \"\",\n       hearts: \"\",\n       diams: \"\"\n});\n\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\nexports.entityMap = exports.HTML_ENTITIES\n","var dom = require('./dom')\nexports.DOMImplementation = dom.DOMImplementation\nexports.XMLSerializer = dom.XMLSerializer\nexports.DOMParser = require('./dom-parser').DOMParser\n","var NAMESPACE = require(\"./conventions\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring \nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\t\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif(k in entityMap){\n\t\t\treturn entityMap[k]; \n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\t\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\t\t\t\t\t\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor(var prefix in localNSMap){\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\t\t\t\t\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: sax\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(qname, value, startIndex)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t//console.log(attrName,value,start,p)\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\t//console.dir(el)\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value.replace(/&#?\\w+;/g,entityReplacer), start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute \n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\t\t\t\t\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor(prefix in localNSMap){\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\t\t\t\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//} \n}\nfunction _copy(source,target){\n\tfor(var n in source){target[n] = source[n]}\n}\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA() \n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId) \n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\t\t\t\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\t\t\t\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js Camera Class\n * ======================\n *\n * Class designed to store camera information & used to update it.\n * @module\n */\nvar animate_1 = require(\"../utils/animate\");\nvar easings_1 = __importDefault(require(\"../utils/easings\"));\nvar utils_1 = require(\"../utils\");\nvar types_1 = require(\"../types\");\n/**\n * Defaults.\n */\nvar DEFAULT_ZOOMING_RATIO = 1.5;\n/**\n * Camera class\n *\n * @constructor\n */\nvar Camera = /** @class */ (function (_super) {\n    __extends(Camera, _super);\n    function Camera() {\n        var _this = _super.call(this) || this;\n        _this.x = 0.5;\n        _this.y = 0.5;\n        _this.angle = 0;\n        _this.ratio = 1;\n        _this.minRatio = null;\n        _this.maxRatio = null;\n        _this.nextFrame = null;\n        _this.previousState = null;\n        _this.enabled = true;\n        // State\n        _this.previousState = _this.getState();\n        return _this;\n    }\n    /**\n     * Static method used to create a Camera object with a given state.\n     *\n     * @param state\n     * @return {Camera}\n     */\n    Camera.from = function (state) {\n        var camera = new Camera();\n        return camera.setState(state);\n    };\n    /**\n     * Method used to enable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.enable = function () {\n        this.enabled = true;\n        return this;\n    };\n    /**\n     * Method used to disable the camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.disable = function () {\n        this.enabled = false;\n        return this;\n    };\n    /**\n     * Method used to retrieve the camera's current state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getState = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            angle: this.angle,\n            ratio: this.ratio,\n        };\n    };\n    /**\n     * Method used to check whether the camera has the given state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.hasState = function (state) {\n        return this.x === state.x && this.y === state.y && this.ratio === state.ratio && this.angle === state.angle;\n    };\n    /**\n     * Method used to retrieve the camera's previous state.\n     *\n     * @return {object}\n     */\n    Camera.prototype.getPreviousState = function () {\n        var state = this.previousState;\n        if (!state)\n            return null;\n        return {\n            x: state.x,\n            y: state.y,\n            angle: state.angle,\n            ratio: state.ratio,\n        };\n    };\n    /**\n     * Method used to check minRatio and maxRatio values.\n     *\n     * @param ratio\n     * @return {number}\n     */\n    Camera.prototype.getBoundedRatio = function (ratio) {\n        var r = ratio;\n        if (typeof this.minRatio === \"number\")\n            r = Math.max(r, this.minRatio);\n        if (typeof this.maxRatio === \"number\")\n            r = Math.min(r, this.maxRatio);\n        return r;\n    };\n    /**\n     * Method used to check various things to return a legit state candidate.\n     *\n     * @param state\n     * @return {object}\n     */\n    Camera.prototype.validateState = function (state) {\n        var validatedState = {};\n        if (typeof state.x === \"number\")\n            validatedState.x = state.x;\n        if (typeof state.y === \"number\")\n            validatedState.y = state.y;\n        if (typeof state.angle === \"number\")\n            validatedState.angle = state.angle;\n        if (typeof state.ratio === \"number\")\n            validatedState.ratio = this.getBoundedRatio(state.ratio);\n        return validatedState;\n    };\n    /**\n     * Method used to check whether the camera is currently being animated.\n     *\n     * @return {boolean}\n     */\n    Camera.prototype.isAnimated = function () {\n        return !!this.nextFrame;\n    };\n    /**\n     * Method used to set the camera's state.\n     *\n     * @param  {object} state - New state.\n     * @return {Camera}\n     */\n    Camera.prototype.setState = function (state) {\n        if (!this.enabled)\n            return this;\n        // TODO: update by function\n        // Keeping track of last state\n        this.previousState = this.getState();\n        var validState = this.validateState(state);\n        if (typeof validState.x === \"number\")\n            this.x = validState.x;\n        if (typeof validState.y === \"number\")\n            this.y = validState.y;\n        if (typeof validState.angle === \"number\")\n            this.angle = validState.angle;\n        if (typeof validState.ratio === \"number\")\n            this.ratio = validState.ratio;\n        // Emitting\n        if (!this.hasState(this.previousState))\n            this.emit(\"updated\", this.getState());\n        return this;\n    };\n    /**\n     * Method used to animate the camera.\n     *\n     * @param  {object}                    state      - State to reach eventually.\n     * @param  {object}                    opts       - Options:\n     * @param  {number}                      duration - Duration of the animation.\n     * @param  {string | number => number}   easing   - Easing function or name of an existing one\n     * @param  {function}                  callback   - Callback\n     */\n    Camera.prototype.animate = function (state, opts, callback) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var options = Object.assign({}, animate_1.ANIMATE_DEFAULTS, opts);\n        var validState = this.validateState(state);\n        var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n        // State\n        var start = Date.now(), initialState = this.getState();\n        // Function performing the animation\n        var fn = function () {\n            var t = (Date.now() - start) / options.duration;\n            // The animation is over:\n            if (t >= 1) {\n                _this.nextFrame = null;\n                _this.setState(validState);\n                if (_this.animationCallback) {\n                    _this.animationCallback.call(null);\n                    _this.animationCallback = undefined;\n                }\n                return;\n            }\n            var coefficient = easing(t);\n            var newState = {};\n            if (typeof validState.x === \"number\")\n                newState.x = initialState.x + (validState.x - initialState.x) * coefficient;\n            if (typeof validState.y === \"number\")\n                newState.y = initialState.y + (validState.y - initialState.y) * coefficient;\n            if (typeof validState.angle === \"number\")\n                newState.angle = initialState.angle + (validState.angle - initialState.angle) * coefficient;\n            if (typeof validState.ratio === \"number\")\n                newState.ratio = initialState.ratio + (validState.ratio - initialState.ratio) * coefficient;\n            _this.setState(newState);\n            _this.nextFrame = (0, utils_1.requestFrame)(fn);\n        };\n        if (this.nextFrame) {\n            (0, utils_1.cancelFrame)(this.nextFrame);\n            if (this.animationCallback)\n                this.animationCallback.call(null);\n            this.nextFrame = (0, utils_1.requestFrame)(fn);\n        }\n        else {\n            fn();\n        }\n        this.animationCallback = callback;\n    };\n    /**\n     * Method used to zoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     * @return {function}\n     */\n    Camera.prototype.animatedZoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio / DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio / factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio / (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to unzoom the camera.\n     *\n     * @param  {number|object} factorOrOptions - Factor or options.\n     */\n    Camera.prototype.animatedUnzoom = function (factorOrOptions) {\n        if (!factorOrOptions) {\n            this.animate({ ratio: this.ratio * DEFAULT_ZOOMING_RATIO });\n        }\n        else {\n            if (typeof factorOrOptions === \"number\")\n                return this.animate({ ratio: this.ratio * factorOrOptions });\n            else\n                this.animate({\n                    ratio: this.ratio * (factorOrOptions.factor || DEFAULT_ZOOMING_RATIO),\n                }, factorOrOptions);\n        }\n    };\n    /**\n     * Method used to reset the camera.\n     *\n     * @param  {object} options - Options.\n     */\n    Camera.prototype.animatedReset = function (options) {\n        this.animate({\n            x: 0.5,\n            y: 0.5,\n            ratio: 1,\n            angle: 0,\n        }, options);\n    };\n    /**\n     * Returns a new Camera instance, with the same state as the current camera.\n     *\n     * @return {Camera}\n     */\n    Camera.prototype.copy = function () {\n        return Camera.from(this.getState());\n    };\n    return Camera;\n}(types_1.TypedEventEmitter));\nexports.default = Camera;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWheelDelta = exports.getTouchCoords = exports.getTouchesArray = exports.getWheelCoords = exports.getMouseCoords = exports.getPosition = void 0;\n/**\n * Sigma.js Captor Class\n * ======================\n * @module\n */\nvar types_1 = require(\"../../types\");\n/**\n * Captor utils functions\n * ======================\n */\n/**\n * Extract the local X and Y coordinates from a mouse event or touch object. If\n * a DOM element is given, it uses this element's offset to compute the position\n * (this allows using events that are not bound to the container itself and\n * still have a proper position).\n *\n * @param  {event}       e - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {number}      The local Y value of the mouse.\n */\nfunction getPosition(e, dom) {\n    var bbox = dom.getBoundingClientRect();\n    return {\n        x: e.clientX - bbox.left,\n        y: e.clientY - bbox.top,\n    };\n}\nexports.getPosition = getPosition;\n/**\n * Convert mouse coords to sigma coords.\n *\n * @param  {event}       e   - A mouse event or touch object.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getMouseCoords(e, dom) {\n    var res = __assign(__assign({}, getPosition(e, dom)), { sigmaDefaultPrevented: false, preventSigmaDefault: function () {\n            res.sigmaDefaultPrevented = true;\n        }, original: e });\n    return res;\n}\nexports.getMouseCoords = getMouseCoords;\n/**\n * Convert mouse wheel event coords to sigma coords.\n *\n * @param  {event}       e   - A wheel mouse event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getWheelCoords(e, dom) {\n    return __assign(__assign({}, getMouseCoords(e, dom)), { delta: getWheelDelta(e) });\n}\nexports.getWheelCoords = getWheelCoords;\nvar MAX_TOUCHES = 2;\nfunction getTouchesArray(touches) {\n    var arr = [];\n    for (var i = 0, l = Math.min(touches.length, MAX_TOUCHES); i < l; i++)\n        arr.push(touches[i]);\n    return arr;\n}\nexports.getTouchesArray = getTouchesArray;\n/**\n * Convert touch coords to sigma coords.\n *\n * @param  {event}       e   - A touch event.\n * @param  {HTMLElement} dom - A DOM element to compute offset relatively to.\n * @return {object}\n */\nfunction getTouchCoords(e, dom) {\n    return {\n        touches: getTouchesArray(e.touches).map(function (touch) { return getPosition(touch, dom); }),\n        original: e,\n    };\n}\nexports.getTouchCoords = getTouchCoords;\n/**\n * Extract the wheel delta from a mouse event or touch object.\n *\n * @param  {event}  e - A mouse event or touch object.\n * @return {number}     The wheel delta of the mouse.\n */\nfunction getWheelDelta(e) {\n    // TODO: check those ratios again to ensure a clean Chrome/Firefox compat\n    if (typeof e.deltaY !== \"undefined\")\n        return (e.deltaY * -3) / 360;\n    if (typeof e.detail !== \"undefined\")\n        return e.detail / -9;\n    throw new Error(\"Captor: could not extract delta from event.\");\n}\nexports.getWheelDelta = getWheelDelta;\n/**\n * Abstract class representing a captor like the user's mouse or touch controls.\n */\nvar Captor = /** @class */ (function (_super) {\n    __extends(Captor, _super);\n    function Captor(container, renderer) {\n        var _this = _super.call(this) || this;\n        // Properties\n        _this.container = container;\n        _this.renderer = renderer;\n        return _this;\n    }\n    return Captor;\n}(types_1.TypedEventEmitter));\nexports.default = Captor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\n/**\n * Constants.\n */\nvar DRAG_TIMEOUT = 100;\nvar DRAGGED_EVENTS_TOLERANCE = 3;\nvar MOUSE_INERTIA_DURATION = 200;\nvar MOUSE_INERTIA_RATIO = 3;\nvar MOUSE_ZOOM_DURATION = 250;\nvar ZOOMING_RATIO = 1.7;\nvar DOUBLE_CLICK_TIMEOUT = 300;\nvar DOUBLE_CLICK_ZOOMING_RATIO = 2.2;\nvar DOUBLE_CLICK_ZOOMING_DURATION = 200;\n/**\n * Mouse captor class.\n *\n * @constructor\n */\nvar MouseCaptor = /** @class */ (function (_super) {\n    __extends(MouseCaptor, _super);\n    function MouseCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        // State\n        _this.enabled = true;\n        _this.draggedEvents = 0;\n        _this.downStartTime = null;\n        _this.lastMouseX = null;\n        _this.lastMouseY = null;\n        _this.isMouseDown = false;\n        _this.isMoving = false;\n        _this.movingTimeout = null;\n        _this.startCameraState = null;\n        _this.clicks = 0;\n        _this.doubleClickTimeout = null;\n        _this.currentWheelDirection = 0;\n        // Binding methods\n        _this.handleClick = _this.handleClick.bind(_this);\n        _this.handleRightClick = _this.handleRightClick.bind(_this);\n        _this.handleDown = _this.handleDown.bind(_this);\n        _this.handleUp = _this.handleUp.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        _this.handleWheel = _this.handleWheel.bind(_this);\n        _this.handleOut = _this.handleOut.bind(_this);\n        // Binding events\n        container.addEventListener(\"click\", _this.handleClick, false);\n        container.addEventListener(\"contextmenu\", _this.handleRightClick, false);\n        container.addEventListener(\"mousedown\", _this.handleDown, false);\n        container.addEventListener(\"wheel\", _this.handleWheel, false);\n        container.addEventListener(\"mouseout\", _this.handleOut, false);\n        document.addEventListener(\"mousemove\", _this.handleMove, false);\n        document.addEventListener(\"mouseup\", _this.handleUp, false);\n        return _this;\n    }\n    MouseCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"click\", this.handleClick);\n        container.removeEventListener(\"contextmenu\", this.handleRightClick);\n        container.removeEventListener(\"mousedown\", this.handleDown);\n        container.removeEventListener(\"wheel\", this.handleWheel);\n        container.removeEventListener(\"mouseout\", this.handleOut);\n        document.removeEventListener(\"mousemove\", this.handleMove);\n        document.removeEventListener(\"mouseup\", this.handleUp);\n    };\n    MouseCaptor.prototype.handleClick = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        this.clicks++;\n        if (this.clicks === 2) {\n            this.clicks = 0;\n            if (typeof this.doubleClickTimeout === \"number\") {\n                clearTimeout(this.doubleClickTimeout);\n                this.doubleClickTimeout = null;\n            }\n            return this.handleDoubleClick(e);\n        }\n        setTimeout(function () {\n            _this.clicks = 0;\n            _this.doubleClickTimeout = null;\n        }, DOUBLE_CLICK_TIMEOUT);\n        // NOTE: this is here to prevent click events on drag\n        if (this.draggedEvents < DRAGGED_EVENTS_TOLERANCE)\n            this.emit(\"click\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleRightClick = function (e) {\n        if (!this.enabled)\n            return;\n        this.emit(\"rightClick\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleDoubleClick = function (e) {\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        this.emit(\"doubleClick\", mouseCoords);\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // default behavior\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio / DOUBLE_CLICK_ZOOMING_RATIO);\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticInOut\",\n            duration: DOUBLE_CLICK_ZOOMING_DURATION,\n        });\n    };\n    MouseCaptor.prototype.handleDown = function (e) {\n        if (!this.enabled)\n            return;\n        this.startCameraState = this.renderer.getCamera().getState();\n        var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n        this.lastMouseX = x;\n        this.lastMouseY = y;\n        this.draggedEvents = 0;\n        this.downStartTime = Date.now();\n        // TODO: dispatch events\n        // Left button pressed\n        this.isMouseDown = true;\n        this.emit(\"mousedown\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleUp = function (e) {\n        var _this = this;\n        if (!this.enabled || !this.isMouseDown)\n            return;\n        var camera = this.renderer.getCamera();\n        this.isMouseDown = false;\n        if (typeof this.movingTimeout === \"number\") {\n            clearTimeout(this.movingTimeout);\n            this.movingTimeout = null;\n        }\n        var _a = (0, captor_1.getPosition)(e, this.container), x = _a.x, y = _a.y;\n        var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n        if (this.isMoving) {\n            camera.animate({\n                x: cameraState.x + MOUSE_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                y: cameraState.y + MOUSE_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n            }, {\n                duration: MOUSE_INERTIA_DURATION,\n                easing: \"quadraticOut\",\n            });\n        }\n        else if (this.lastMouseX !== x || this.lastMouseY !== y) {\n            camera.setState({\n                x: cameraState.x,\n                y: cameraState.y,\n            });\n        }\n        this.isMoving = false;\n        setTimeout(function () {\n            _this.draggedEvents = 0;\n            _this.renderer.refresh();\n        }, 0);\n        this.emit(\"mouseup\", (0, captor_1.getMouseCoords)(e, this.container));\n    };\n    MouseCaptor.prototype.handleMove = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        var mouseCoords = (0, captor_1.getMouseCoords)(e, this.container);\n        // Always trigger a \"mousemovebody\" event, so that it is possible to develop\n        // a drag-and-drop effect that works even when the mouse is out of the\n        // container:\n        this.emit(\"mousemovebody\", mouseCoords);\n        // Only trigger the \"mousemove\" event when the mouse is actually hovering\n        // the container, to avoid weirdly hovering nodes and/or edges when the\n        // mouse is not hover the container:\n        if (e.target === this.container) {\n            this.emit(\"mousemove\", mouseCoords);\n        }\n        if (mouseCoords.sigmaDefaultPrevented)\n            return;\n        // Handle the case when \"isMouseDown\" all the time, to allow dragging the\n        // stage while the mouse is not hover the container:\n        if (this.isMouseDown) {\n            this.isMoving = true;\n            this.draggedEvents++;\n            if (typeof this.movingTimeout === \"number\") {\n                clearTimeout(this.movingTimeout);\n            }\n            this.movingTimeout = window.setTimeout(function () {\n                _this.movingTimeout = null;\n                _this.isMoving = false;\n            }, DRAG_TIMEOUT);\n            var camera = this.renderer.getCamera();\n            var _a = (0, captor_1.getPosition)(e, this.container), eX = _a.x, eY = _a.y;\n            var lastMouse = this.renderer.viewportToFramedGraph({\n                x: this.lastMouseX,\n                y: this.lastMouseY,\n            });\n            var mouse = this.renderer.viewportToFramedGraph({ x: eX, y: eY });\n            var offsetX = lastMouse.x - mouse.x, offsetY = lastMouse.y - mouse.y;\n            var cameraState = camera.getState();\n            var x = cameraState.x + offsetX, y = cameraState.y + offsetY;\n            camera.setState({ x: x, y: y });\n            this.lastMouseX = eX;\n            this.lastMouseY = eY;\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    };\n    MouseCaptor.prototype.handleWheel = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        e.preventDefault();\n        e.stopPropagation();\n        var delta = (0, captor_1.getWheelDelta)(e);\n        if (!delta)\n            return;\n        var wheelCoords = (0, captor_1.getWheelCoords)(e, this.container);\n        this.emit(\"wheel\", wheelCoords);\n        if (wheelCoords.sigmaDefaultPrevented)\n            return;\n        // Default behavior\n        var ratioDiff = delta > 0 ? 1 / ZOOMING_RATIO : ZOOMING_RATIO;\n        var camera = this.renderer.getCamera();\n        var newRatio = camera.getBoundedRatio(camera.getState().ratio * ratioDiff);\n        var wheelDirection = delta > 0 ? 1 : -1;\n        var now = Date.now();\n        // Cancel events that are too close too each other and in the same direction:\n        if (this.currentWheelDirection === wheelDirection &&\n            this.lastWheelTriggerTime &&\n            now - this.lastWheelTriggerTime < MOUSE_ZOOM_DURATION / 5) {\n            return;\n        }\n        camera.animate(this.renderer.getViewportZoomedState((0, captor_1.getPosition)(e, this.container), newRatio), {\n            easing: \"quadraticOut\",\n            duration: MOUSE_ZOOM_DURATION,\n        }, function () {\n            _this.currentWheelDirection = 0;\n        });\n        this.currentWheelDirection = wheelDirection;\n        this.lastWheelTriggerTime = now;\n    };\n    MouseCaptor.prototype.handleOut = function () {\n        // TODO: dispatch event\n    };\n    return MouseCaptor;\n}(captor_1.default));\nexports.default = MouseCaptor;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar captor_1 = __importStar(require(\"./captor\"));\nvar DRAG_TIMEOUT = 200;\nvar TOUCH_INERTIA_RATIO = 3;\nvar TOUCH_INERTIA_DURATION = 200;\n/**\n * Touch captor class.\n *\n * @constructor\n */\nvar TouchCaptor = /** @class */ (function (_super) {\n    __extends(TouchCaptor, _super);\n    function TouchCaptor(container, renderer) {\n        var _this = _super.call(this, container, renderer) || this;\n        _this.enabled = true;\n        _this.isMoving = false;\n        _this.touchMode = 0; // number of touches down\n        // Binding methods:\n        _this.handleStart = _this.handleStart.bind(_this);\n        _this.handleLeave = _this.handleLeave.bind(_this);\n        _this.handleMove = _this.handleMove.bind(_this);\n        // Binding events\n        container.addEventListener(\"touchstart\", _this.handleStart, false);\n        container.addEventListener(\"touchend\", _this.handleLeave, false);\n        container.addEventListener(\"touchcancel\", _this.handleLeave, false);\n        container.addEventListener(\"touchmove\", _this.handleMove, false);\n        return _this;\n    }\n    TouchCaptor.prototype.kill = function () {\n        var container = this.container;\n        container.removeEventListener(\"touchstart\", this.handleStart);\n        container.removeEventListener(\"touchend\", this.handleLeave);\n        container.removeEventListener(\"touchcancel\", this.handleLeave);\n        container.removeEventListener(\"touchmove\", this.handleMove);\n    };\n    TouchCaptor.prototype.getDimensions = function () {\n        return {\n            width: this.container.offsetWidth,\n            height: this.container.offsetHeight,\n        };\n    };\n    TouchCaptor.prototype.dispatchRelatedMouseEvent = function (type, e, position, emitter) {\n        var mousePosition = position || (0, captor_1.getPosition)(e.touches[0], this.container);\n        var mouseEvent = new MouseEvent(type, {\n            clientX: mousePosition.x,\n            clientY: mousePosition.y,\n            altKey: e.altKey,\n            ctrlKey: e.ctrlKey,\n        });\n        mouseEvent.isFakeSigmaMouseEvent = true;\n        (emitter || this.container).dispatchEvent(mouseEvent);\n    };\n    TouchCaptor.prototype.handleStart = function (e) {\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousedown\", e);\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        this.isMoving = true;\n        this.touchMode = touches.length;\n        this.startCameraState = this.renderer.getCamera().getState();\n        this.startTouchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouchesPositions = this.startTouchesPositions;\n        // When there are two touches down, let's record distance and angle as well:\n        if (this.touchMode === 2) {\n            var _a = __read(this.startTouchesPositions, 2), _b = _a[0], x0 = _b.x, y0 = _b.y, _c = _a[1], x1 = _c.x, y1 = _c.y;\n            this.startTouchesAngle = Math.atan2(y1 - y0, x1 - x0);\n            this.startTouchesDistance = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));\n        }\n        this.emit(\"touchdown\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleLeave = function (e) {\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 0 && this.lastTouchesPositions && this.lastTouchesPositions.length) {\n            this.dispatchRelatedMouseEvent(\"mouseup\", e, this.lastTouchesPositions[0], document);\n            this.dispatchRelatedMouseEvent(\"click\", e, this.lastTouchesPositions[0]);\n        }\n        if (this.movingTimeout) {\n            this.isMoving = false;\n            clearTimeout(this.movingTimeout);\n        }\n        switch (this.touchMode) {\n            case 2:\n                if (e.touches.length === 1) {\n                    this.handleStart(e);\n                    e.preventDefault();\n                    break;\n                }\n            /* falls through */\n            case 1:\n                // TODO\n                // Dispatch event\n                if (this.isMoving) {\n                    var camera = this.renderer.getCamera();\n                    var cameraState = camera.getState(), previousCameraState = camera.getPreviousState() || { x: 0, y: 0 };\n                    camera.animate({\n                        x: cameraState.x + TOUCH_INERTIA_RATIO * (cameraState.x - previousCameraState.x),\n                        y: cameraState.y + TOUCH_INERTIA_RATIO * (cameraState.y - previousCameraState.y),\n                    }, {\n                        duration: TOUCH_INERTIA_DURATION,\n                        easing: \"quadraticOut\",\n                    });\n                }\n                this.isMoving = false;\n                this.touchMode = 0;\n                break;\n        }\n        this.emit(\"touchup\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    TouchCaptor.prototype.handleMove = function (e) {\n        var _a;\n        var _this = this;\n        if (!this.enabled)\n            return;\n        // Prevent default to avoid default browser behaviors...\n        e.preventDefault();\n        // ...but simulate mouse behavior anyway, to get the MouseCaptor working as well:\n        if (e.touches.length === 1)\n            this.dispatchRelatedMouseEvent(\"mousemove\", e);\n        var camera = this.renderer.getCamera();\n        var startCameraState = this.startCameraState;\n        var touches = (0, captor_1.getTouchesArray)(e.touches);\n        var touchesPositions = touches.map(function (touch) { return (0, captor_1.getPosition)(touch, _this.container); });\n        this.lastTouchesPositions = touchesPositions;\n        this.isMoving = true;\n        if (this.movingTimeout)\n            clearTimeout(this.movingTimeout);\n        this.movingTimeout = window.setTimeout(function () {\n            _this.isMoving = false;\n        }, DRAG_TIMEOUT);\n        switch (this.touchMode) {\n            case 1: {\n                var _b = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0]), xStart = _b.x, yStart = _b.y;\n                var _c = this.renderer.viewportToFramedGraph(touchesPositions[0]), x = _c.x, y = _c.y;\n                camera.setState({\n                    x: startCameraState.x + xStart - x,\n                    y: startCameraState.y + yStart - y,\n                });\n                break;\n            }\n            case 2: {\n                /**\n                 * Here is the thinking here:\n                 *\n                 * 1. We can find the new angle and ratio, by comparing the vector from \"touch one\" to \"touch two\" at the start\n                 *    of the d'n'd and now\n                 *\n                 * 2. We can use `Camera#viewportToGraph` inside formula to retrieve the new camera position, using the graph\n                 *    position of a touch at the beginning of the d'n'd (using `startCamera.viewportToGraph`) and the viewport\n                 *    position of this same touch now\n                 */\n                var newCameraState = {};\n                var _d = touchesPositions[0], x0 = _d.x, y0 = _d.y;\n                var _e = touchesPositions[1], x1 = _e.x, y1 = _e.y;\n                var angleDiff = Math.atan2(y1 - y0, x1 - x0) - this.startTouchesAngle;\n                var ratioDiff = Math.hypot(y1 - y0, x1 - x0) / this.startTouchesDistance;\n                // 1.\n                var newRatio = camera.getBoundedRatio(startCameraState.ratio / ratioDiff);\n                newCameraState.ratio = newRatio;\n                newCameraState.angle = startCameraState.angle + angleDiff;\n                // 2.\n                var dimensions = this.getDimensions();\n                var touchGraphPosition = this.renderer.viewportToFramedGraph((this.startTouchesPositions || [])[0], { cameraState: startCameraState });\n                var smallestDimension = Math.min(dimensions.width, dimensions.height);\n                var dx = smallestDimension / dimensions.width;\n                var dy = smallestDimension / dimensions.height;\n                var ratio = newRatio / smallestDimension;\n                // Align with center of the graph:\n                var x = x0 - smallestDimension / 2 / dx;\n                var y = y0 - smallestDimension / 2 / dy;\n                // Rotate:\n                _a = __read([\n                    x * Math.cos(-newCameraState.angle) - y * Math.sin(-newCameraState.angle),\n                    y * Math.cos(-newCameraState.angle) + x * Math.sin(-newCameraState.angle),\n                ], 2), x = _a[0], y = _a[1];\n                newCameraState.x = touchGraphPosition.x - x * ratio;\n                newCameraState.y = touchGraphPosition.y + y * ratio;\n                camera.setState(newCameraState);\n                break;\n            }\n        }\n        this.emit(\"touchmove\", (0, captor_1.getTouchCoords)(e, this.container));\n    };\n    return TouchCaptor;\n}(captor_1.default));\nexports.default = TouchCaptor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.edgeLabelsToDisplayFromNodes = exports.LabelGrid = void 0;\n/**\n * Class representing a single candidate for the label grid selection.\n *\n * It also describes a deterministic way to compare two candidates to assess\n * which one is better.\n */\nvar LabelCandidate = /** @class */ (function () {\n    function LabelCandidate(key, size) {\n        this.key = key;\n        this.size = size;\n    }\n    LabelCandidate.compare = function (first, second) {\n        // First we compare by size\n        if (first.size > second.size)\n            return -1;\n        if (first.size < second.size)\n            return 1;\n        // Then since no two nodes can have the same key, we use it to\n        // deterministically tie-break by key\n        if (first.key > second.key)\n            return 1;\n        // NOTE: this comparator cannot return 0\n        return -1;\n    };\n    return LabelCandidate;\n}());\n/**\n * Class representing a 2D spatial grid divided into constant-size cells.\n */\nvar LabelGrid = /** @class */ (function () {\n    function LabelGrid() {\n        this.width = 0;\n        this.height = 0;\n        this.cellSize = 0;\n        this.columns = 0;\n        this.rows = 0;\n        this.cells = {};\n    }\n    LabelGrid.prototype.resizeAndClear = function (dimensions, cellSize) {\n        this.width = dimensions.width;\n        this.height = dimensions.height;\n        this.cellSize = cellSize;\n        this.columns = Math.ceil(dimensions.width / cellSize);\n        this.rows = Math.ceil(dimensions.height / cellSize);\n        this.cells = {};\n    };\n    LabelGrid.prototype.getIndex = function (pos) {\n        var xIndex = Math.floor(pos.x / this.cellSize);\n        var yIndex = Math.floor(pos.y / this.cellSize);\n        return yIndex * this.columns + xIndex;\n    };\n    LabelGrid.prototype.add = function (key, size, pos) {\n        var candidate = new LabelCandidate(key, size);\n        var index = this.getIndex(pos);\n        var cell = this.cells[index];\n        if (!cell) {\n            cell = [];\n            this.cells[index] = cell;\n        }\n        cell.push(candidate);\n    };\n    LabelGrid.prototype.organize = function () {\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            cell.sort(LabelCandidate.compare);\n        }\n    };\n    LabelGrid.prototype.getLabelsToDisplay = function (ratio, density) {\n        // TODO: work on visible nodes to optimize? ^ -> threshold outside so that memoization works?\n        // TODO: adjust threshold lower, but increase cells a bit?\n        // TODO: hunt for geom issue in disguise\n        // TODO: memoize while ratio does not move. method to force recompute\n        var cellArea = this.cellSize * this.cellSize;\n        var scaledCellArea = cellArea / ratio / ratio;\n        var scaledDensity = (scaledCellArea * density) / cellArea;\n        var labelsToDisplayPerCell = Math.ceil(scaledDensity);\n        var labels = [];\n        for (var k in this.cells) {\n            var cell = this.cells[k];\n            for (var i = 0; i < Math.min(labelsToDisplayPerCell, cell.length); i++) {\n                labels.push(cell[i].key);\n            }\n        }\n        return labels;\n    };\n    return LabelGrid;\n}());\nexports.LabelGrid = LabelGrid;\n/**\n * Label heuristic selecting edge labels to display, based on displayed node\n * labels\n *\n * @param  {object} params                 - Parameters:\n * @param  {Set}      displayedNodeLabels  - Currently displayed node labels.\n * @param  {Set}      highlightedNodes     - Highlighted nodes.\n * @param  {Graph}    graph                - The rendered graph.\n * @param  {string}   hoveredNode          - Hovered node (optional)\n * @return {Array}                         - The selected labels.\n */\nfunction edgeLabelsToDisplayFromNodes(params) {\n    var graph = params.graph, hoveredNode = params.hoveredNode, highlightedNodes = params.highlightedNodes, displayedNodeLabels = params.displayedNodeLabels;\n    var worthyEdges = [];\n    // TODO: the code below can be optimized using #.forEach and batching the code per adj\n    // We should display an edge's label if:\n    //   - Any of its extremities is highlighted or hovered\n    //   - Both of its extremities has its label shown\n    graph.forEachEdge(function (edge, _, source, target) {\n        if (source === hoveredNode ||\n            target === hoveredNode ||\n            highlightedNodes.has(source) ||\n            highlightedNodes.has(target) ||\n            (displayedNodeLabels.has(source) && displayedNodeLabels.has(target))) {\n            worthyEdges.push(edge);\n        }\n    });\n    return worthyEdges;\n}\nexports.edgeLabelsToDisplayFromNodes = edgeLabelsToDisplayFromNodes;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.rectangleCollidesWithQuad = exports.squareCollidesWithQuad = exports.getCircumscribedAlignedRectangle = exports.isRectangleAligned = void 0;\n/**\n * Sigma.js Quad Tree Class\n * =========================\n *\n * Class implementing the quad tree data structure used to solve hovers and\n * determine which elements are currently in the scope of the camera so that\n * we don't waste time rendering things the user cannot see anyway.\n * @module\n */\n/* eslint no-nested-ternary: 0 */\n/* eslint no-constant-condition: 0 */\nvar extend_1 = __importDefault(require(\"@yomguithereal/helpers/extend\"));\n// TODO: should not ask the quadtree when the camera has the whole graph in\n// sight.\n// TODO: a square can be represented as topleft + width, saying for the quad blocks (reduce mem)\n// TODO: jsdoc\n// TODO: be sure we can handle cases overcoming boundaries (because of size) or use a maxed size\n// TODO: filtering unwanted labels beforehand through the filter function\n// NOTE: this is basically a MX-CIF Quadtree at this point\n// NOTE: need to explore R-Trees for edges\n// NOTE: need to explore 2d segment tree for edges\n// NOTE: probably can do faster using spatial hashing\n/**\n * Constants.\n *\n * Note that since we are representing a static 4-ary tree, the indices of the\n * quadrants are the following:\n *   - TOP_LEFT:     4i + b\n *   - TOP_RIGHT:    4i + 2b\n *   - BOTTOM_LEFT:  4i + 3b\n *   - BOTTOM_RIGHT: 4i + 4b\n */\nvar BLOCKS = 4, MAX_LEVEL = 5;\nvar OUTSIDE_BLOCK = \"outside\";\nvar X_OFFSET = 0, Y_OFFSET = 1, WIDTH_OFFSET = 2, HEIGHT_OFFSET = 3;\nvar TOP_LEFT = 1, TOP_RIGHT = 2, BOTTOM_LEFT = 3, BOTTOM_RIGHT = 4;\nvar hasWarnedTooMuchOutside = false;\n/**\n * Geometry helpers.\n */\n/**\n * Function returning whether the given rectangle is axis-aligned.\n *\n * @param  {Rectangle} rect\n * @return {boolean}\n */\nfunction isRectangleAligned(rect) {\n    return rect.x1 === rect.x2 || rect.y1 === rect.y2;\n}\nexports.isRectangleAligned = isRectangleAligned;\n/**\n * Function returning the smallest rectangle that contains the given rectangle, and that is aligned with the axis.\n *\n * @param {Rectangle} rect\n * @return {Rectangle}\n */\nfunction getCircumscribedAlignedRectangle(rect) {\n    var width = Math.sqrt(Math.pow(rect.x2 - rect.x1, 2) + Math.pow(rect.y2 - rect.y1, 2));\n    var heightVector = {\n        x: ((rect.y1 - rect.y2) * rect.height) / width,\n        y: ((rect.x2 - rect.x1) * rect.height) / width,\n    };\n    // Compute all corners:\n    var tl = { x: rect.x1, y: rect.y1 };\n    var tr = { x: rect.x2, y: rect.y2 };\n    var bl = {\n        x: rect.x1 + heightVector.x,\n        y: rect.y1 + heightVector.y,\n    };\n    var br = {\n        x: rect.x2 + heightVector.x,\n        y: rect.y2 + heightVector.y,\n    };\n    var xL = Math.min(tl.x, tr.x, bl.x, br.x);\n    var xR = Math.max(tl.x, tr.x, bl.x, br.x);\n    var yT = Math.min(tl.y, tr.y, bl.y, br.y);\n    var yB = Math.max(tl.y, tr.y, bl.y, br.y);\n    return {\n        x1: xL,\n        y1: yT,\n        x2: xR,\n        y2: yT,\n        height: yB - yT,\n    };\n}\nexports.getCircumscribedAlignedRectangle = getCircumscribedAlignedRectangle;\n/**\n *\n * @param x1\n * @param y1\n * @param w\n * @param qx\n * @param qy\n * @param qw\n * @param qh\n */\nfunction squareCollidesWithQuad(x1, y1, w, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + w > qy;\n}\nexports.squareCollidesWithQuad = squareCollidesWithQuad;\nfunction rectangleCollidesWithQuad(x1, y1, w, h, qx, qy, qw, qh) {\n    return x1 < qx + qw && x1 + w > qx && y1 < qy + qh && y1 + h > qy;\n}\nexports.rectangleCollidesWithQuad = rectangleCollidesWithQuad;\nfunction pointIsInQuad(x, y, qx, qy, qw, qh) {\n    var xmp = qx + qw / 2, ymp = qy + qh / 2, top = y < ymp, left = x < xmp;\n    return top ? (left ? TOP_LEFT : TOP_RIGHT) : left ? BOTTOM_LEFT : BOTTOM_RIGHT;\n}\n/**\n * Helper functions that are not bound to the class so an external user\n * cannot mess with them.\n */\nfunction buildQuadrants(maxLevel, data) {\n    // [block, level]\n    var stack = [0, 0];\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var x = data[block + X_OFFSET], y = data[block + Y_OFFSET], width = data[block + WIDTH_OFFSET], height = data[block + HEIGHT_OFFSET], hw = width / 2, hh = height / 2;\n        data[topLeftBlock + X_OFFSET] = x;\n        data[topLeftBlock + Y_OFFSET] = y;\n        data[topLeftBlock + WIDTH_OFFSET] = hw;\n        data[topLeftBlock + HEIGHT_OFFSET] = hh;\n        data[topRightBlock + X_OFFSET] = x + hw;\n        data[topRightBlock + Y_OFFSET] = y;\n        data[topRightBlock + WIDTH_OFFSET] = hw;\n        data[topRightBlock + HEIGHT_OFFSET] = hh;\n        data[bottomLeftBlock + X_OFFSET] = x;\n        data[bottomLeftBlock + Y_OFFSET] = y + hh;\n        data[bottomLeftBlock + WIDTH_OFFSET] = hw;\n        data[bottomLeftBlock + HEIGHT_OFFSET] = hh;\n        data[bottomRightBlock + X_OFFSET] = x + hw;\n        data[bottomRightBlock + Y_OFFSET] = y + hh;\n        data[bottomRightBlock + WIDTH_OFFSET] = hw;\n        data[bottomRightBlock + HEIGHT_OFFSET] = hh;\n        if (level < maxLevel - 1) {\n            stack.push(bottomRightBlock, level + 1);\n            stack.push(bottomLeftBlock, level + 1);\n            stack.push(topRightBlock, level + 1);\n            stack.push(topLeftBlock, level + 1);\n        }\n    }\n}\nfunction insertNode(maxLevel, data, containers, key, x, y, size) {\n    var x1 = x - size, y1 = y - size, w = size * 2;\n    var level = 0, block = 0;\n    while (true) {\n        // If we reached max level\n        if (level >= maxLevel) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = squareCollidesWithQuad(x1, y1, w, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = squareCollidesWithQuad(x1, y1, w, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = squareCollidesWithQuad(x1, y1, w, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = squareCollidesWithQuad(x1, y1, w, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        var collisions = [\n            collidingWithTopLeft,\n            collidingWithTopRight,\n            collidingWithBottomLeft,\n            collidingWithBottomRight,\n        ].reduce(function (acc, current) {\n            if (current)\n                return acc + 1;\n            else\n                return acc;\n        }, 0);\n        // If we have no collision at root level, inject node in the outside block\n        if (collisions === 0 && level === 0) {\n            containers[OUTSIDE_BLOCK].push(key);\n            if (!hasWarnedTooMuchOutside && containers[OUTSIDE_BLOCK].length >= 5) {\n                hasWarnedTooMuchOutside = true;\n                console.warn(\"sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. \" +\n                    \"You might have a problem with the normalization function or the custom bounding box.\");\n            }\n            return;\n        }\n        // If we don't have at least a collision but deeper, there is an issue\n        if (collisions === 0)\n            throw new Error(\"sigma/quadtree.insertNode: no collision (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have 3 collisions, we have a geometry problem obviously\n        if (collisions === 3)\n            throw new Error(\"sigma/quadtree.insertNode: 3 impossible collisions (level: \".concat(level, \", key: \").concat(key, \", x: \").concat(x, \", y: \").concat(y, \", size: \").concat(size, \").\"));\n        // If we have more that one collision, we stop here and store the node\n        // in the relevant containers\n        if (collisions > 1) {\n            containers[block] = containers[block] || [];\n            containers[block].push(key);\n            return;\n        }\n        else {\n            level++;\n        }\n        // Else we recurse into the correct quads\n        if (collidingWithTopLeft)\n            block = topLeftBlock;\n        if (collidingWithTopRight)\n            block = topRightBlock;\n        if (collidingWithBottomLeft)\n            block = bottomLeftBlock;\n        if (collidingWithBottomRight)\n            block = bottomRightBlock;\n    }\n}\nfunction getNodesInAxisAlignedRectangleArea(maxLevel, data, containers, x1, y1, w, h) {\n    // [block, level]\n    var stack = [0, 0];\n    var collectedNodes = [];\n    var container;\n    while (stack.length) {\n        var level = stack.pop(), block = stack.pop();\n        // Collecting nodes\n        container = containers[block];\n        if (container)\n            (0, extend_1.default)(collectedNodes, container);\n        // If we reached max level\n        if (level >= maxLevel)\n            continue;\n        var topLeftBlock = 4 * block + BLOCKS, topRightBlock = 4 * block + 2 * BLOCKS, bottomLeftBlock = 4 * block + 3 * BLOCKS, bottomRightBlock = 4 * block + 4 * BLOCKS;\n        var collidingWithTopLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[topLeftBlock + X_OFFSET], data[topLeftBlock + Y_OFFSET], data[topLeftBlock + WIDTH_OFFSET], data[topLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithTopRight = rectangleCollidesWithQuad(x1, y1, w, h, data[topRightBlock + X_OFFSET], data[topRightBlock + Y_OFFSET], data[topRightBlock + WIDTH_OFFSET], data[topRightBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomLeft = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomLeftBlock + X_OFFSET], data[bottomLeftBlock + Y_OFFSET], data[bottomLeftBlock + WIDTH_OFFSET], data[bottomLeftBlock + HEIGHT_OFFSET]);\n        var collidingWithBottomRight = rectangleCollidesWithQuad(x1, y1, w, h, data[bottomRightBlock + X_OFFSET], data[bottomRightBlock + Y_OFFSET], data[bottomRightBlock + WIDTH_OFFSET], data[bottomRightBlock + HEIGHT_OFFSET]);\n        if (collidingWithTopLeft)\n            stack.push(topLeftBlock, level + 1);\n        if (collidingWithTopRight)\n            stack.push(topRightBlock, level + 1);\n        if (collidingWithBottomLeft)\n            stack.push(bottomLeftBlock, level + 1);\n        if (collidingWithBottomRight)\n            stack.push(bottomRightBlock, level + 1);\n    }\n    return collectedNodes;\n}\n/**\n * QuadTree class.\n *\n * @constructor\n * @param {object} boundaries - The graph boundaries.\n */\nvar QuadTree = /** @class */ (function () {\n    function QuadTree(params) {\n        var _a;\n        if (params === void 0) { params = {}; }\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        this.cache = null;\n        this.lastRectangle = null;\n        // Allocating the underlying byte array\n        var L = Math.pow(4, MAX_LEVEL);\n        this.data = new Float32Array(BLOCKS * ((4 * L - 1) / 3));\n        if (params.boundaries)\n            this.resize(params.boundaries);\n        else\n            this.resize({\n                x: 0,\n                y: 0,\n                width: 1,\n                height: 1,\n            });\n    }\n    QuadTree.prototype.add = function (key, x, y, size) {\n        insertNode(MAX_LEVEL, this.data, this.containers, key, x, y, size);\n        return this;\n    };\n    QuadTree.prototype.resize = function (boundaries) {\n        this.clear();\n        // Building the quadrants\n        this.data[X_OFFSET] = boundaries.x;\n        this.data[Y_OFFSET] = boundaries.y;\n        this.data[WIDTH_OFFSET] = boundaries.width;\n        this.data[HEIGHT_OFFSET] = boundaries.height;\n        buildQuadrants(MAX_LEVEL, this.data);\n    };\n    QuadTree.prototype.clear = function () {\n        var _a;\n        this.containers = (_a = {}, _a[OUTSIDE_BLOCK] = [], _a);\n        return this;\n    };\n    QuadTree.prototype.point = function (x, y) {\n        var nodes = this.containers[OUTSIDE_BLOCK];\n        var block = 0, level = 0;\n        do {\n            if (this.containers[block])\n                nodes.push.apply(nodes, __spreadArray([], __read(this.containers[block]), false));\n            var quad = pointIsInQuad(x, y, this.data[block + X_OFFSET], this.data[block + Y_OFFSET], this.data[block + WIDTH_OFFSET], this.data[block + HEIGHT_OFFSET]);\n            block = 4 * block + quad * BLOCKS;\n            level++;\n        } while (level <= MAX_LEVEL);\n        return nodes;\n    };\n    QuadTree.prototype.rectangle = function (x1, y1, x2, y2, height) {\n        var _a;\n        var lr = this.lastRectangle;\n        if (lr && x1 === lr.x1 && x2 === lr.x2 && y1 === lr.y1 && y2 === lr.y2 && height === lr.height) {\n            return this.cache;\n        }\n        this.lastRectangle = {\n            x1: x1,\n            y1: y1,\n            x2: x2,\n            y2: y2,\n            height: height,\n        };\n        // If the rectangle is shifted, we use the smallest aligned rectangle that contains the shifted one:\n        if (!isRectangleAligned(this.lastRectangle))\n            this.lastRectangle = getCircumscribedAlignedRectangle(this.lastRectangle);\n        this.cache = getNodesInAxisAlignedRectangleArea(MAX_LEVEL, this.data, this.containers, x1, y1, Math.abs(x1 - x2) || Math.abs(y1 - y2), height);\n        // Add all the nodes in the outside block, since they might be relevant, and since they should be very few:\n        (_a = this.cache).push.apply(_a, __spreadArray([], __read(this.containers[OUTSIDE_BLOCK]), false));\n        return this.cache;\n    };\n    return QuadTree;\n}());\nexports.default = QuadTree;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sigma = exports.MouseCaptor = exports.QuadTree = exports.Camera = void 0;\n/**\n * Sigma.js Library Endpoint\n * =========================\n *\n * The library endpoint.\n * @module\n */\nvar sigma_1 = __importDefault(require(\"./sigma\"));\nexports.Sigma = sigma_1.default;\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nexports.Camera = camera_1.default;\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nexports.QuadTree = quadtree_1.default;\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nexports.MouseCaptor = mouse_1.default;\nexports.default = sigma_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawEdgeLabel(context, edgeData, sourceData, targetData, settings) {\n    var size = settings.edgeLabelSize, font = settings.edgeLabelFont, weight = settings.edgeLabelWeight, color = settings.edgeLabelColor.attribute\n        ? edgeData[settings.edgeLabelColor.attribute] || settings.edgeLabelColor.color || \"#000\"\n        : settings.edgeLabelColor.color;\n    var label = edgeData.label;\n    if (!label)\n        return;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Computing positions without considering nodes sizes:\n    var sSize = sourceData.size;\n    var tSize = targetData.size;\n    var sx = sourceData.x;\n    var sy = sourceData.y;\n    var tx = targetData.x;\n    var ty = targetData.y;\n    var cx = (sx + tx) / 2;\n    var cy = (sy + ty) / 2;\n    var dx = tx - sx;\n    var dy = ty - sy;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    if (d < sSize + tSize)\n        return;\n    // Adding nodes sizes:\n    sx += (dx * sSize) / d;\n    sy += (dy * sSize) / d;\n    tx -= (dx * tSize) / d;\n    ty -= (dy * tSize) / d;\n    cx = (sx + tx) / 2;\n    cy = (sy + ty) / 2;\n    dx = tx - sx;\n    dy = ty - sy;\n    d = Math.sqrt(dx * dx + dy * dy);\n    // Handling ellipsis\n    var textLength = context.measureText(label).width;\n    if (textLength > d) {\n        var ellipsis = \"\";\n        label = label + ellipsis;\n        textLength = context.measureText(label).width;\n        while (textLength > d && label.length > 1) {\n            label = label.slice(0, -2) + ellipsis;\n            textLength = context.measureText(label).width;\n        }\n        if (label.length < 4)\n            return;\n    }\n    var angle;\n    if (dx > 0) {\n        if (dy > 0)\n            angle = Math.acos(dx / d);\n        else\n            angle = Math.asin(dy / d);\n    }\n    else {\n        if (dy > 0)\n            angle = Math.acos(dx / d) + Math.PI;\n        else\n            angle = Math.asin(dx / d) + Math.PI / 2;\n    }\n    context.save();\n    context.translate(cx, cy);\n    context.rotate(angle);\n    context.fillText(label, -textLength / 2, edgeData.size / 2 + size);\n    context.restore();\n}\nexports.default = drawEdgeLabel;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar label_1 = __importDefault(require(\"./label\"));\n/**\n * Draw an hovered node.\n * - if there is no label => display a shadow on the node\n * - if the label box is bigger than node size => display a label box that contains the node with a shadow\n * - else node with shadow and the label box\n */\nfunction drawHover(context, data, settings) {\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    // Then we draw the label background\n    context.fillStyle = \"#FFF\";\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 8;\n    context.shadowColor = \"#000\";\n    var PADDING = 2;\n    if (typeof data.label === \"string\") {\n        var textWidth = context.measureText(data.label).width, boxWidth = Math.round(textWidth + 5), boxHeight = Math.round(size + 2 * PADDING), radius = Math.max(data.size, size / 2) + PADDING;\n        var angleRadian = Math.asin(boxHeight / 2 / radius);\n        var xDeltaCoord = Math.sqrt(Math.abs(Math.pow(radius, 2) - Math.pow(boxHeight / 2, 2)));\n        context.beginPath();\n        context.moveTo(data.x + xDeltaCoord, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y + boxHeight / 2);\n        context.lineTo(data.x + radius + boxWidth, data.y - boxHeight / 2);\n        context.lineTo(data.x + xDeltaCoord, data.y - boxHeight / 2);\n        context.arc(data.x, data.y, radius, angleRadian, -angleRadian);\n        context.closePath();\n        context.fill();\n    }\n    else {\n        context.beginPath();\n        context.arc(data.x, data.y, data.size + PADDING, 0, Math.PI * 2);\n        context.closePath();\n        context.fill();\n    }\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n    context.shadowBlur = 0;\n    // And finally we draw the label\n    (0, label_1.default)(context, data, settings);\n}\nexports.default = drawHover;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction drawLabel(context, data, settings) {\n    if (!data.label)\n        return;\n    var size = settings.labelSize, font = settings.labelFont, weight = settings.labelWeight, color = settings.labelColor.attribute\n        ? data[settings.labelColor.attribute] || settings.labelColor.color || \"#000\"\n        : settings.labelColor.color;\n    context.fillStyle = color;\n    context.font = \"\".concat(weight, \" \").concat(size, \"px \").concat(font);\n    context.fillText(data.label, data.x + data.size + 3, data.y + size / 3);\n}\nexports.default = drawLabel;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createEdgeCompoundProgram = exports.AbstractEdgeProgram = void 0;\n/**\n * Sigma.js WebGL Abstract Edge Program\n * =====================================\n *\n * @module\n */\nvar program_1 = require(\"./program\");\n/**\n * Edge Program class.\n *\n * @constructor\n */\nvar AbstractEdgeProgram = /** @class */ (function (_super) {\n    __extends(AbstractEdgeProgram, _super);\n    function AbstractEdgeProgram(gl, vertexShaderSource, fragmentShaderSource, points, attributes) {\n        return _super.call(this, gl, vertexShaderSource, fragmentShaderSource, points, attributes) || this;\n    }\n    return AbstractEdgeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractEdgeProgram = AbstractEdgeProgram;\nfunction createEdgeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function EdgeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (ProgramClass) { return new ProgramClass(gl, renderer); });\n        }\n        EdgeCompoundProgram.prototype.bufferData = function () {\n            this.programs.forEach(function (program) { return program.bufferData(); });\n        };\n        EdgeCompoundProgram.prototype.allocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.allocate(capacity); });\n        };\n        EdgeCompoundProgram.prototype.bind = function () {\n            // nothing todo, it's already done in each program constructor\n        };\n        EdgeCompoundProgram.prototype.computeIndices = function () {\n            this.programs.forEach(function (program) { return program.computeIndices(); });\n        };\n        EdgeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) {\n                program.bind();\n                program.bufferData();\n                program.render(params);\n            });\n        };\n        EdgeCompoundProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n            this.programs.forEach(function (program) { return program.process(sourceData, targetData, data, hidden, offset); });\n        };\n        return EdgeCompoundProgram;\n    }());\n}\nexports.createEdgeCompoundProgram = createEdgeCompoundProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createNodeCompoundProgram = exports.AbstractNodeProgram = void 0;\n/**\n * Sigma.js WebGL Abstract Node Program\n * =====================================\n *\n * @module\n */\nvar program_1 = require(\"./program\");\n/**\n * Node Program class.\n *\n * @constructor\n */\nvar AbstractNodeProgram = /** @class */ (function (_super) {\n    __extends(AbstractNodeProgram, _super);\n    function AbstractNodeProgram(gl, vertexShaderSource, fragmentShaderSource, points, attributes) {\n        var _this = _super.call(this, gl, vertexShaderSource, fragmentShaderSource, points, attributes) || this;\n        // Locations\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.sizeLocation = gl.getAttribLocation(_this.program, \"a_size\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        // Uniform Location\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"AbstractNodeProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var ratioLocation = gl.getUniformLocation(_this.program, \"u_ratio\");\n        if (ratioLocation === null)\n            throw new Error(\"AbstractNodeProgram: error while getting ratioLocation\");\n        _this.ratioLocation = ratioLocation;\n        var scaleLocation = gl.getUniformLocation(_this.program, \"u_scale\");\n        if (scaleLocation === null)\n            throw new Error(\"AbstractNodeProgram: error while getting scaleLocation\");\n        _this.scaleLocation = scaleLocation;\n        return _this;\n    }\n    AbstractNodeProgram.prototype.bind = function () {\n        var gl = this.gl;\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.sizeLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, this.attributes * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.sizeLocation, 1, gl.FLOAT, false, this.attributes * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, this.attributes * Float32Array.BYTES_PER_ELEMENT, 12);\n    };\n    return AbstractNodeProgram;\n}(program_1.AbstractProgram));\nexports.AbstractNodeProgram = AbstractNodeProgram;\n/**\n * Helper function combining two or more programs into a single compound one.\n * Note that this is more a quick & easy way to combine program than a really\n * performant option. More performant programs can be written entirely.\n *\n * @param  {array}    programClasses - Program classes to combine.\n * @return {function}\n */\nfunction createNodeCompoundProgram(programClasses) {\n    return /** @class */ (function () {\n        function NodeCompoundProgram(gl, renderer) {\n            this.programs = programClasses.map(function (ProgramClass) { return new ProgramClass(gl, renderer); });\n        }\n        NodeCompoundProgram.prototype.bufferData = function () {\n            this.programs.forEach(function (program) { return program.bufferData(); });\n        };\n        NodeCompoundProgram.prototype.allocate = function (capacity) {\n            this.programs.forEach(function (program) { return program.allocate(capacity); });\n        };\n        NodeCompoundProgram.prototype.bind = function () {\n            // nothing todo, it's already done in each program constructor\n        };\n        NodeCompoundProgram.prototype.render = function (params) {\n            this.programs.forEach(function (program) {\n                program.bind();\n                program.bufferData();\n                program.render(params);\n            });\n        };\n        NodeCompoundProgram.prototype.process = function (data, hidden, offset) {\n            this.programs.forEach(function (program) { return program.process(data, hidden, offset); });\n        };\n        return NodeCompoundProgram;\n    }());\n}\nexports.createNodeCompoundProgram = createNodeCompoundProgram;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractProgram = void 0;\n/**\n * Sigma.js WebGL Renderer Program\n * ================================\n *\n * Class representing a single WebGL program used by sigma's WebGL renderer.\n * @module\n */\nvar utils_1 = require(\"../../shaders/utils\");\n/**\n * Abstract Program class.\n *\n * @constructor\n */\nvar AbstractProgram = /** @class */ (function () {\n    function AbstractProgram(gl, vertexShaderSource, fragmentShaderSource, points, attributes) {\n        this.array = new Float32Array();\n        this.points = points;\n        this.attributes = attributes;\n        this.gl = gl;\n        this.vertexShaderSource = vertexShaderSource;\n        this.fragmentShaderSource = fragmentShaderSource;\n        var buffer = gl.createBuffer();\n        if (buffer === null)\n            throw new Error(\"AbstractProgram: error while creating the buffer\");\n        this.buffer = buffer;\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.buffer);\n        this.vertexShader = (0, utils_1.loadVertexShader)(gl, this.vertexShaderSource);\n        this.fragmentShader = (0, utils_1.loadFragmentShader)(gl, this.fragmentShaderSource);\n        this.program = (0, utils_1.loadProgram)(gl, [this.vertexShader, this.fragmentShader]);\n    }\n    AbstractProgram.prototype.bufferData = function () {\n        var gl = this.gl;\n        gl.bufferData(gl.ARRAY_BUFFER, this.array, gl.DYNAMIC_DRAW);\n    };\n    AbstractProgram.prototype.allocate = function (capacity) {\n        this.array = new Float32Array(this.points * this.attributes * capacity);\n    };\n    AbstractProgram.prototype.hasNothingToRender = function () {\n        return this.array.length === 0;\n    };\n    return AbstractProgram;\n}());\nexports.AbstractProgram = AbstractProgram;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Arrow Program\n * ===========================================\n *\n * Compound program rendering edges as an arrow from the source to the target.\n * @module\n */\nvar edge_1 = require(\"./common/edge\");\nvar edge_arrowHead_1 = __importDefault(require(\"./edge.arrowHead\"));\nvar edge_clamped_1 = __importDefault(require(\"./edge.clamped\"));\nvar EdgeArrowProgram = (0, edge_1.createEdgeCompoundProgram)([edge_clamped_1.default, edge_arrowHead_1.default]);\nexports.default = EdgeArrowProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar edge_arrowHead_vert_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.vert.glsl.js\"));\nvar edge_arrowHead_frag_glsl_1 = __importDefault(require(\"../shaders/edge.arrowHead.frag.glsl.js\"));\nvar edge_1 = require(\"./common/edge\");\nvar POINTS = 3, ATTRIBUTES = 9, STRIDE = POINTS * ATTRIBUTES;\nvar EdgeArrowHeadProgram = /** @class */ (function (_super) {\n    __extends(EdgeArrowHeadProgram, _super);\n    function EdgeArrowHeadProgram(gl) {\n        var _this = _super.call(this, gl, edge_arrowHead_vert_glsl_1.default, edge_arrowHead_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        // Locations\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        _this.normalLocation = gl.getAttribLocation(_this.program, \"a_normal\");\n        _this.radiusLocation = gl.getAttribLocation(_this.program, \"a_radius\");\n        _this.barycentricLocation = gl.getAttribLocation(_this.program, \"a_barycentric\");\n        // Uniform locations\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"EdgeArrowHeadProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var sqrtZoomRatioLocation = gl.getUniformLocation(_this.program, \"u_sqrtZoomRatio\");\n        if (sqrtZoomRatioLocation === null)\n            throw new Error(\"EdgeArrowHeadProgram: error while getting sqrtZoomRatioLocation\");\n        _this.sqrtZoomRatioLocation = sqrtZoomRatioLocation;\n        var correctionRatioLocation = gl.getUniformLocation(_this.program, \"u_correctionRatio\");\n        if (correctionRatioLocation === null)\n            throw new Error(\"EdgeArrowHeadProgram: error while getting correctionRatioLocation\");\n        _this.correctionRatioLocation = correctionRatioLocation;\n        _this.bind();\n        return _this;\n    }\n    EdgeArrowHeadProgram.prototype.bind = function () {\n        var gl = this.gl;\n        // Bindings\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.normalLocation);\n        gl.enableVertexAttribArray(this.radiusLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.enableVertexAttribArray(this.barycentricLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.radiusLocation, 1, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 16);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 20);\n        // TODO: maybe we can optimize here by packing this in a bit mask\n        gl.vertexAttribPointer(this.barycentricLocation, 3, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 24);\n    };\n    EdgeArrowHeadProgram.prototype.computeIndices = function () {\n        // nothing to do\n    };\n    EdgeArrowHeadProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n        if (hidden) {\n            for (var i_1 = offset * STRIDE, l = i_1 + STRIDE; i_1 < l; i_1++)\n                this.array[i_1] = 0;\n            return;\n        }\n        var thickness = data.size || 1, radius = targetData.size || 1, x1 = sourceData.x, y1 = sourceData.y, x2 = targetData.x, y2 = targetData.y, color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1, dy = y2 - y1;\n        var len = dx * dx + dy * dy, n1 = 0, n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var i = POINTS * ATTRIBUTES * offset;\n        var array = this.array;\n        // First point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 1;\n        array[i++] = 0;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 1;\n        array[i++] = 0;\n        // Third point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = radius;\n        array[i++] = color;\n        array[i++] = 0;\n        array[i++] = 0;\n        array[i] = 1;\n    };\n    EdgeArrowHeadProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        // Binding uniforms\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.uniform1f(this.sqrtZoomRatioLocation, Math.sqrt(params.ratio));\n        gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n        // Drawing:\n        gl.drawArrays(gl.TRIANGLES, 0, this.array.length / ATTRIBUTES);\n    };\n    return EdgeArrowHeadProgram;\n}(edge_1.AbstractEdgeProgram));\nexports.default = EdgeArrowHeadProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar edge_1 = require(\"./common/edge\");\nvar utils_1 = require(\"../../../utils\");\nvar edge_clamped_vert_glsl_1 = __importDefault(require(\"../shaders/edge.clamped.vert.glsl.js\"));\nvar edge_frag_glsl_1 = __importDefault(require(\"../shaders/edge.frag.glsl.js\"));\nvar POINTS = 4, ATTRIBUTES = 6, STRIDE = POINTS * ATTRIBUTES;\nvar EdgeClampedProgram = /** @class */ (function (_super) {\n    __extends(EdgeClampedProgram, _super);\n    function EdgeClampedProgram(gl) {\n        var _this = _super.call(this, gl, edge_clamped_vert_glsl_1.default, edge_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        // Initializing indices buffer\n        var indicesBuffer = gl.createBuffer();\n        if (indicesBuffer === null)\n            throw new Error(\"EdgeClampedProgram: error while getting resolutionLocation\");\n        _this.indicesBuffer = indicesBuffer;\n        // Locations:\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        _this.normalLocation = gl.getAttribLocation(_this.program, \"a_normal\");\n        _this.radiusLocation = gl.getAttribLocation(_this.program, \"a_radius\");\n        // Uniform locations\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"EdgeClampedProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var sqrtZoomRatioLocation = gl.getUniformLocation(_this.program, \"u_sqrtZoomRatio\");\n        if (sqrtZoomRatioLocation === null)\n            throw new Error(\"EdgeClampedProgram: error while getting cameraRatioLocation\");\n        _this.sqrtZoomRatioLocation = sqrtZoomRatioLocation;\n        var correctionRatioLocation = gl.getUniformLocation(_this.program, \"u_correctionRatio\");\n        if (correctionRatioLocation === null)\n            throw new Error(\"EdgeClampedProgram: error while getting viewportRatioLocation\");\n        _this.correctionRatioLocation = correctionRatioLocation;\n        // Enabling the OES_element_index_uint extension\n        // NOTE: on older GPUs, this means that really large graphs won't\n        // have all their edges rendered. But it seems that the\n        // `OES_element_index_uint` is quite everywhere so we'll handle\n        // the potential issue if it really arises.\n        // NOTE: when using webgl2, the extension is enabled by default\n        _this.canUse32BitsIndices = (0, utils_1.canUse32BitsIndices)(gl);\n        _this.IndicesArray = _this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n        _this.indicesArray = new _this.IndicesArray();\n        _this.indicesType = _this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n        _this.bind();\n        return _this;\n    }\n    EdgeClampedProgram.prototype.bind = function () {\n        var gl = this.gl;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n        // Bindings\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.normalLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.enableVertexAttribArray(this.radiusLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 16);\n        gl.vertexAttribPointer(this.radiusLocation, 1, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 20);\n    };\n    EdgeClampedProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n        if (hidden) {\n            for (var i_1 = offset * STRIDE, l = i_1 + STRIDE; i_1 < l; i_1++)\n                this.array[i_1] = 0;\n            return;\n        }\n        var thickness = data.size || 1, x1 = sourceData.x, y1 = sourceData.y, x2 = targetData.x, y2 = targetData.y, radius = targetData.size || 1, color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1, dy = y2 - y1;\n        var len = dx * dx + dy * dy, n1 = 0, n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var i = POINTS * ATTRIBUTES * offset;\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i++] = 0;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        array[i++] = radius;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        array[i] = -radius;\n    };\n    EdgeClampedProgram.prototype.computeIndices = function () {\n        var l = this.array.length / ATTRIBUTES;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeClampedProgram.prototype.bufferData = function () {\n        _super.prototype.bufferData.call(this);\n        // Indices data\n        var gl = this.gl;\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n    };\n    EdgeClampedProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        // Binding uniforms\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.uniform1f(this.sqrtZoomRatioLocation, Math.sqrt(params.ratio));\n        gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n        // Drawing:\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeClampedProgram;\n}(edge_1.AbstractEdgeProgram));\nexports.default = EdgeClampedProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sigma.js WebGL Renderer Edge Program\n * =====================================\n *\n * Program rendering edges as thick lines using four points translated\n * orthogonally from the source & target's centers by half thickness.\n *\n * Rendering two triangles by using only four points is made possible through\n * the use of indices.\n *\n * This method should be faster than the 6 points / 2 triangles approach and\n * should handle thickness better than with gl.LINES.\n *\n * This version of the shader balances geometry computation evenly between\n * the CPU & GPU (normals are computed on the CPU side).\n * @module\n */\nvar utils_1 = require(\"../../../utils\");\nvar edge_vert_glsl_1 = __importDefault(require(\"../shaders/edge.vert.glsl.js\"));\nvar edge_frag_glsl_1 = __importDefault(require(\"../shaders/edge.frag.glsl.js\"));\nvar edge_1 = require(\"./common/edge\");\nvar POINTS = 4, ATTRIBUTES = 5, STRIDE = POINTS * ATTRIBUTES;\nvar EdgeProgram = /** @class */ (function (_super) {\n    __extends(EdgeProgram, _super);\n    function EdgeProgram(gl) {\n        var _this = _super.call(this, gl, edge_vert_glsl_1.default, edge_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        // Initializing indices buffer\n        var indicesBuffer = gl.createBuffer();\n        if (indicesBuffer === null)\n            throw new Error(\"EdgeProgram: error while creating indicesBuffer\");\n        _this.indicesBuffer = indicesBuffer;\n        // Locations\n        _this.positionLocation = gl.getAttribLocation(_this.program, \"a_position\");\n        _this.colorLocation = gl.getAttribLocation(_this.program, \"a_color\");\n        _this.normalLocation = gl.getAttribLocation(_this.program, \"a_normal\");\n        var matrixLocation = gl.getUniformLocation(_this.program, \"u_matrix\");\n        if (matrixLocation === null)\n            throw new Error(\"EdgeProgram: error while getting matrixLocation\");\n        _this.matrixLocation = matrixLocation;\n        var correctionRatioLocation = gl.getUniformLocation(_this.program, \"u_correctionRatio\");\n        if (correctionRatioLocation === null)\n            throw new Error(\"EdgeProgram: error while getting correctionRatioLocation\");\n        _this.correctionRatioLocation = correctionRatioLocation;\n        var sqrtZoomRatioLocation = gl.getUniformLocation(_this.program, \"u_sqrtZoomRatio\");\n        if (sqrtZoomRatioLocation === null)\n            throw new Error(\"EdgeProgram: error while getting sqrtZoomRatioLocation\");\n        _this.sqrtZoomRatioLocation = sqrtZoomRatioLocation;\n        // Enabling the OES_element_index_uint extension\n        // NOTE: on older GPUs, this means that really large graphs won't\n        // have all their edges rendered. But it seems that the\n        // `OES_element_index_uint` is quite everywhere so we'll handle\n        // the potential issue if it really arises.\n        // NOTE: when using webgl2, the extension is enabled by default\n        _this.canUse32BitsIndices = (0, utils_1.canUse32BitsIndices)(gl);\n        _this.IndicesArray = _this.canUse32BitsIndices ? Uint32Array : Uint16Array;\n        _this.indicesArray = new _this.IndicesArray();\n        _this.indicesType = _this.canUse32BitsIndices ? gl.UNSIGNED_INT : gl.UNSIGNED_SHORT;\n        _this.bind();\n        return _this;\n    }\n    EdgeProgram.prototype.bind = function () {\n        var gl = this.gl;\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.indicesBuffer);\n        // Bindings\n        gl.enableVertexAttribArray(this.positionLocation);\n        gl.enableVertexAttribArray(this.normalLocation);\n        gl.enableVertexAttribArray(this.colorLocation);\n        gl.vertexAttribPointer(this.positionLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 0);\n        gl.vertexAttribPointer(this.normalLocation, 2, gl.FLOAT, false, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 8);\n        gl.vertexAttribPointer(this.colorLocation, 4, gl.UNSIGNED_BYTE, true, ATTRIBUTES * Float32Array.BYTES_PER_ELEMENT, 16);\n    };\n    EdgeProgram.prototype.computeIndices = function () {\n        var l = this.array.length / ATTRIBUTES;\n        var size = l + l / 2;\n        var indices = new this.IndicesArray(size);\n        for (var i = 0, c = 0; i < l; i += 4) {\n            indices[c++] = i;\n            indices[c++] = i + 1;\n            indices[c++] = i + 2;\n            indices[c++] = i + 2;\n            indices[c++] = i + 1;\n            indices[c++] = i + 3;\n        }\n        this.indicesArray = indices;\n    };\n    EdgeProgram.prototype.bufferData = function () {\n        _super.prototype.bufferData.call(this);\n        // Indices data\n        var gl = this.gl;\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indicesArray, gl.STATIC_DRAW);\n    };\n    EdgeProgram.prototype.process = function (sourceData, targetData, data, hidden, offset) {\n        if (hidden) {\n            for (var i_1 = offset * STRIDE, l = i_1 + STRIDE; i_1 < l; i_1++)\n                this.array[i_1] = 0;\n            return;\n        }\n        var thickness = data.size || 1, x1 = sourceData.x, y1 = sourceData.y, x2 = targetData.x, y2 = targetData.y, color = (0, utils_1.floatColor)(data.color);\n        // Computing normals\n        var dx = x2 - x1, dy = y2 - y1;\n        var len = dx * dx + dy * dy, n1 = 0, n2 = 0;\n        if (len) {\n            len = 1 / Math.sqrt(len);\n            n1 = -dy * len * thickness;\n            n2 = dx * len * thickness;\n        }\n        var i = POINTS * ATTRIBUTES * offset;\n        var array = this.array;\n        // First point\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // First point flipped\n        array[i++] = x1;\n        array[i++] = y1;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i++] = color;\n        // Second point\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = n1;\n        array[i++] = n2;\n        array[i++] = color;\n        // Second point flipped\n        array[i++] = x2;\n        array[i++] = y2;\n        array[i++] = -n1;\n        array[i++] = -n2;\n        array[i] = color;\n    };\n    EdgeProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.uniform1f(this.sqrtZoomRatioLocation, Math.sqrt(params.ratio));\n        gl.uniform1f(this.correctionRatioLocation, params.correctionRatio);\n        // Drawing:\n        gl.drawElements(gl.TRIANGLES, this.indicesArray.length, this.indicesType, 0);\n    };\n    return EdgeProgram;\n}(edge_1.AbstractEdgeProgram));\nexports.default = EdgeProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_fast_vert_glsl_1 = __importDefault(require(\"../shaders/node.fast.vert.glsl.js\"));\nvar node_fast_frag_glsl_1 = __importDefault(require(\"../shaders/node.fast.frag.glsl.js\"));\nvar node_1 = require(\"./common/node\");\nvar POINTS = 1, ATTRIBUTES = 4;\nvar NodeFastProgram = /** @class */ (function (_super) {\n    __extends(NodeFastProgram, _super);\n    function NodeFastProgram(gl) {\n        var _this = _super.call(this, gl, node_fast_vert_glsl_1.default, node_fast_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n        _this.bind();\n        return _this;\n    }\n    NodeFastProgram.prototype.process = function (data, hidden, offset) {\n        var array = this.array;\n        var i = offset * POINTS * ATTRIBUTES;\n        if (hidden) {\n            array[i++] = 0;\n            array[i++] = 0;\n            array[i++] = 0;\n            array[i++] = 0;\n            return;\n        }\n        var color = (0, utils_1.floatColor)(data.color);\n        array[i++] = data.x;\n        array[i++] = data.y;\n        array[i++] = data.size;\n        array[i] = color;\n    };\n    NodeFastProgram.prototype.render = function (params) {\n        if (this.hasNothingToRender())\n            return;\n        var gl = this.gl;\n        var program = this.program;\n        gl.useProgram(program);\n        gl.uniform1f(this.ratioLocation, 1 / Math.sqrt(params.ratio));\n        gl.uniform1f(this.scaleLocation, params.scalingRatio);\n        gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n        gl.drawArrays(gl.POINTS, 0, this.array.length / ATTRIBUTES);\n    };\n    return NodeFastProgram;\n}(node_1.AbstractNodeProgram));\nexports.default = NodeFastProgram;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"../../../utils\");\nvar node_image_vert_glsl_1 = __importDefault(require(\"../shaders/node.image.vert.glsl.js\"));\nvar node_image_frag_glsl_1 = __importDefault(require(\"../shaders/node.image.frag.glsl.js\"));\nvar node_1 = require(\"./common/node\");\nvar POINTS = 1, ATTRIBUTES = 8, \n// maximum size of single texture in atlas\nMAX_TEXTURE_SIZE = 192, \n// maximum width of atlas texture (limited by browser)\n// low setting of 2048 works on iPads\nMAX_CANVAS_WIDTH = 2048;\n// This class only exists for the return typing of `getNodeImageProgram`:\nvar AbstractNodeImageProgram = /** @class */ (function (_super) {\n    __extends(AbstractNodeImageProgram, _super);\n    /* eslint-disable @typescript-eslint/no-empty-function, @typescript-eslint/no-unused-vars */\n    function AbstractNodeImageProgram(gl, renderer) {\n        return _super.call(this, gl, node_image_vert_glsl_1.default, node_image_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n    }\n    AbstractNodeImageProgram.prototype.bind = function () { };\n    AbstractNodeImageProgram.prototype.process = function (data, hidden, offset) { };\n    AbstractNodeImageProgram.prototype.render = function (params) { };\n    AbstractNodeImageProgram.prototype.rebindTexture = function () { };\n    return AbstractNodeImageProgram;\n}(node_1.AbstractNodeProgram));\n/**\n * To share the texture between the program instances of the graph and the\n * hovered nodes (to prevent some flickering, mostly), this program must be\n * \"built\" for each sigma instance:\n */\nfunction getNodeImageProgram() {\n    /**\n     * These attributes are shared between all instances of this exact class,\n     * returned by this call to getNodeProgramImage:\n     */\n    var rebindTextureFns = [];\n    var images = {};\n    var textureImage;\n    var hasReceivedImages = false;\n    var pendingImagesFrameID = undefined;\n    // next write position in texture\n    var writePositionX = 0;\n    var writePositionY = 0;\n    // height of current row\n    var writeRowHeight = 0;\n    /**\n     * Helper to load an image:\n     */\n    function loadImage(imageSource) {\n        if (images[imageSource])\n            return;\n        var image = new Image();\n        image.addEventListener(\"load\", function () {\n            images[imageSource] = {\n                status: \"pending\",\n                image: image,\n            };\n            if (typeof pendingImagesFrameID !== \"number\") {\n                pendingImagesFrameID = requestAnimationFrame(function () { return finalizePendingImages(); });\n            }\n        });\n        image.addEventListener(\"error\", function () {\n            images[imageSource] = { status: \"error\" };\n        });\n        images[imageSource] = { status: \"loading\" };\n        // Load image:\n        image.setAttribute(\"crossOrigin\", \"\");\n        image.src = imageSource;\n    }\n    /**\n     * Helper that takes all pending images and adds them into the texture:\n     */\n    function finalizePendingImages() {\n        pendingImagesFrameID = undefined;\n        var pendingImages = [];\n        // List all pending images:\n        for (var id in images) {\n            var state = images[id];\n            if (state.status === \"pending\") {\n                pendingImages.push({\n                    id: id,\n                    image: state.image,\n                    size: Math.min(state.image.width, state.image.height) || 1,\n                });\n            }\n        }\n        // Add images to texture:\n        var canvas = document.createElement(\"canvas\");\n        var ctx = canvas.getContext(\"2d\");\n        // limit canvas size to avoid browser and platform limits\n        var totalWidth = hasReceivedImages ? textureImage.width : 0;\n        var totalHeight = hasReceivedImages ? textureImage.height : 0;\n        // initialize image drawing offsets with current write position\n        var xOffset = writePositionX;\n        var yOffset = writePositionY;\n        /**\n         * Draws a (full or partial) row of images into the atlas texture\n         * @param pendingImages\n         */\n        var drawRow = function (pendingImages) {\n            // update canvas size before drawing\n            if (canvas.width !== totalWidth || canvas.height !== totalHeight) {\n                canvas.width = Math.min(MAX_CANVAS_WIDTH, totalWidth);\n                canvas.height = totalHeight;\n                // draw previous texture into resized canvas\n                if (hasReceivedImages) {\n                    ctx.putImageData(textureImage, 0, 0);\n                }\n            }\n            pendingImages.forEach(function (_a) {\n                var id = _a.id, image = _a.image, size = _a.size;\n                var imageSizeInTexture = Math.min(MAX_TEXTURE_SIZE, size);\n                // Crop image, to only keep the biggest square, centered:\n                var dx = 0, dy = 0;\n                if ((image.width || 0) > (image.height || 0)) {\n                    dx = (image.width - image.height) / 2;\n                }\n                else {\n                    dy = (image.height - image.width) / 2;\n                }\n                ctx.drawImage(image, dx, dy, size, size, xOffset, yOffset, imageSizeInTexture, imageSizeInTexture);\n                // Update image state:\n                images[id] = {\n                    status: \"ready\",\n                    x: xOffset,\n                    y: yOffset,\n                    width: imageSizeInTexture,\n                    height: imageSizeInTexture,\n                };\n                xOffset += imageSizeInTexture;\n            });\n            hasReceivedImages = true;\n            textureImage = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        };\n        var rowImages = [];\n        pendingImages.forEach(function (image) {\n            var size = image.size;\n            var imageSizeInTexture = Math.min(size, MAX_TEXTURE_SIZE);\n            if (writePositionX + imageSizeInTexture > MAX_CANVAS_WIDTH) {\n                // existing row is full: flush row and continue on next line\n                if (rowImages.length > 0) {\n                    totalWidth = Math.max(writePositionX, totalWidth);\n                    totalHeight = Math.max(writePositionY + writeRowHeight, totalHeight);\n                    drawRow(rowImages);\n                    rowImages = [];\n                    writeRowHeight = 0;\n                }\n                writePositionX = 0;\n                writePositionY = totalHeight;\n                xOffset = 0;\n                yOffset = totalHeight;\n            }\n            // add image to row\n            rowImages.push(image);\n            // advance write position and update maximum row height\n            writePositionX += imageSizeInTexture;\n            writeRowHeight = Math.max(writeRowHeight, imageSizeInTexture);\n        });\n        // flush pending images in row - keep write position (and drawing cursor)\n        totalWidth = Math.max(writePositionX, totalWidth);\n        totalHeight = Math.max(writePositionY + writeRowHeight, totalHeight);\n        drawRow(rowImages);\n        rowImages = [];\n        rebindTextureFns.forEach(function (fn) { return fn(); });\n    }\n    return /** @class */ (function (_super) {\n        __extends(NodeImageProgram, _super);\n        function NodeImageProgram(gl, renderer) {\n            var _this = _super.call(this, gl, node_image_vert_glsl_1.default, node_image_frag_glsl_1.default, POINTS, ATTRIBUTES) || this;\n            rebindTextureFns.push(function () {\n                if (_this && _this.rebindTexture)\n                    _this.rebindTexture();\n                if (renderer && renderer.refresh)\n                    renderer.refresh();\n            });\n            textureImage = new ImageData(1, 1);\n            // Attribute Location\n            _this.textureLocation = gl.getAttribLocation(_this.program, \"a_texture\");\n            // Uniform Location\n            var atlasLocation = gl.getUniformLocation(_this.program, \"u_atlas\");\n            if (atlasLocation === null)\n                throw new Error(\"NodeProgramImage: error while getting atlasLocation\");\n            _this.atlasLocation = atlasLocation;\n            // Initialize WebGL texture:\n            _this.texture = gl.createTexture();\n            gl.bindTexture(gl.TEXTURE_2D, _this.texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([0, 0, 0, 0]));\n            _this.bind();\n            return _this;\n        }\n        NodeImageProgram.prototype.bind = function () {\n            _super.prototype.bind.call(this);\n            var gl = this.gl;\n            gl.enableVertexAttribArray(this.textureLocation);\n            gl.vertexAttribPointer(this.textureLocation, 4, gl.FLOAT, false, this.attributes * Float32Array.BYTES_PER_ELEMENT, 16);\n        };\n        NodeImageProgram.prototype.process = function (data, hidden, offset) {\n            var array = this.array;\n            var i = offset * POINTS * ATTRIBUTES;\n            var imageSource = data.image;\n            var imageState = imageSource && images[imageSource];\n            if (typeof imageSource === \"string\" && !imageState)\n                loadImage(imageSource);\n            if (hidden) {\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                // Texture:\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                return;\n            }\n            array[i++] = data.x;\n            array[i++] = data.y;\n            array[i++] = data.size;\n            array[i++] = (0, utils_1.floatColor)(data.color);\n            // Reference texture:\n            if (imageState && imageState.status === \"ready\") {\n                var width = textureImage.width, height = textureImage.height;\n                array[i++] = imageState.x / width;\n                array[i++] = imageState.y / height;\n                array[i++] = imageState.width / width;\n                array[i++] = imageState.height / height;\n            }\n            else {\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n                array[i++] = 0;\n            }\n        };\n        NodeImageProgram.prototype.render = function (params) {\n            if (this.hasNothingToRender())\n                return;\n            this.latestRenderParams = params;\n            var gl = this.gl;\n            var program = this.program;\n            gl.useProgram(program);\n            gl.uniform1f(this.ratioLocation, 1 / Math.sqrt(params.ratio));\n            gl.uniform1f(this.scaleLocation, params.scalingRatio);\n            gl.uniformMatrix3fv(this.matrixLocation, false, params.matrix);\n            gl.uniform1i(this.atlasLocation, 0);\n            gl.drawArrays(gl.POINTS, 0, this.array.length / ATTRIBUTES);\n        };\n        NodeImageProgram.prototype.rebindTexture = function () {\n            var gl = this.gl;\n            gl.bindTexture(gl.TEXTURE_2D, this.texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureImage);\n            gl.generateMipmap(gl.TEXTURE_2D);\n            if (this.latestRenderParams) {\n                this.bind();\n                this.bufferData();\n                this.render(this.latestRenderParams);\n            }\n        };\n        return NodeImageProgram;\n    }(node_1.AbstractNodeProgram));\n}\nexports.default = getNodeImageProgram;\n","(()=>{\"use strict\";var e={d:(o,r)=>{for(var t in r)e.o(r,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\n\\nvoid main(void) {\\n  gl_FragColor = v_color;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var a={d:(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(a,e)=>Object.prototype.hasOwnProperty.call(a,e),r:a=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(a,\"__esModule\",{value:!0})}},e={};a.r(e),a.d(e,{default:()=>t});const t=\"attribute vec2 a_position;\\nattribute vec2 a_normal;\\nattribute float a_radius;\\nattribute vec4 a_color;\\nattribute vec3 a_barycentric;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sqrtZoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadWidthLengthRatio = 0.66;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl and\\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\\n  // happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio;\\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\\n  float adaptedWebGLNodeRadius = a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n  float adaptedWebGLArrowHeadHalfWidth = adaptedWebGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\\n\\n  float da = a_barycentric.x;\\n  float db = a_barycentric.y;\\n  float dc = a_barycentric.z;\\n\\n  vec2 delta = vec2(\\n      da * (adaptedWebGLNodeRadius * unitNormal.y)\\n    + db * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y + adaptedWebGLArrowHeadHalfWidth * unitNormal.x)\\n    + dc * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y - adaptedWebGLArrowHeadHalfWidth * unitNormal.x),\\n\\n      da * (-adaptedWebGLNodeRadius * unitNormal.x)\\n    + db * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x + adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\\n    + dc * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x - adaptedWebGLArrowHeadHalfWidth * unitNormal.y)\\n  );\\n\\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\\n\\n  gl_Position = vec4(position, 0, 1);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=e})();","(()=>{\"use strict\";var e={d:(o,n)=>{for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>n});const n=\"attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\nattribute float a_radius;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sqrtZoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\nconst float arrowHeadLengthThicknessRatio = 2.5;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // These first computations are taken from edge.vert.glsl. Please read it to\\n  // get better comments on what's happening:\\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\\n  float webGLThickness = pixelsThickness * u_correctionRatio;\\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\\n\\n  // Here, we move the point to leave space for the arrow head:\\n  float direction = sign(a_radius);\\n  float adaptedWebGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;\\n  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\\n\\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength);\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness + compensationVector, 1)).xy, 0, 1);\\n\\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>t});const t=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float feather = 0.001;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  float dist = length(v_normal) * v_thickness;\\n\\n  float t = smoothstep(\\n    v_thickness - feather,\\n    v_thickness,\\n    dist\\n  );\\n\\n  gl_FragColor = mix(v_color, transparent, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o='attribute vec4 a_color;\\nattribute vec2 a_normal;\\nattribute vec2 a_position;\\n\\nuniform mat3 u_matrix;\\nuniform float u_sqrtZoomRatio;\\nuniform float u_correctionRatio;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_thickness;\\n\\nconst float minThickness = 1.7;\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  float normalLength = length(a_normal);\\n  vec2 unitNormal = a_normal / normalLength;\\n\\n  // We require edges to be at least `minThickness` pixels thick *on screen*\\n  // (so we need to compensate the SQRT zoom ratio):\\n  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);\\n\\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\\n  // referential (in a ([0, 1], [0, 1]) space), using our \"magic\" correction\\n  // ratio:\\n  float webGLThickness = pixelsThickness * u_correctionRatio;\\n\\n  // Finally, we adapt the edge thickness to the \"SQRT rule\" in sigma (so that\\n  // items are not too big when zoomed in, and not too small when zoomed out).\\n  // The exact computation should be `adapted = value * zoom / sqrt(zoom)`, but\\n  // it\\'s simpler like this:\\n  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;\\n\\n  // Here is the proper position of the vertex\\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness, 1)).xy, 0, 1);\\n\\n  // For the fragment shader though, we need a thickness that takes the \"magic\"\\n  // correction ratio into account (as in webGLThickness), but so that the\\n  // antialiasint effect does not depend on the zoom level. So here\\'s yet\\n  // another thickness version:\\n  v_thickness = webGLThickness / u_sqrtZoomRatio;\\n\\n  v_normal = unitNormal;\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n';module.exports=n})();","(()=>{\"use strict\";var e={d:(n,o)=>{for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},n={};e.r(n),e.d(n,{default:()=>o});const o=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = radius - length(m);\\n\\n  float t = 0.0;\\n  if (dist > v_border)\\n    t = 1.0;\\n  else if (dist > 0.0)\\n    t = dist / v_border;\\n\\n  gl_FragColor = mix(transparent, v_color, t);\\n}\\n\";module.exports=n})();","(()=>{\"use strict\";var o={d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(o,\"__esModule\",{value:!0})}},t={};o.r(t),o.d(t,{default:()=>e});const e=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\n\\nuniform float u_ratio;\\nuniform float u_scale;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\\n\\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n}\\n\";module.exports=t})();","(()=>{\"use strict\";var e={d:(o,r)=>{for(var n in r)e.o(r,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:r[n]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r:e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})}},o={};e.r(o),e.d(o,{default:()=>r});const r=\"precision mediump float;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nuniform sampler2D u_atlas;\\n\\nconst float radius = 0.5;\\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\\n\\nvoid main(void) {\\n  vec4 color;\\n\\n  if (v_texture.w > 0.0) {\\n    vec4 texel = texture2D(u_atlas, v_texture.xy + gl_PointCoord * v_texture.zw, -1.0);\\n    color = vec4(mix(v_color, texel, texel.a).rgb, max(texel.a, v_color.a));\\n  } else {\\n    color = v_color;\\n  }\\n\\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\\n  float dist = length(m);\\n\\n  if (dist < radius - v_border) {\\n    gl_FragColor = color;\\n  } else if (dist < radius) {\\n    gl_FragColor = mix(transparent, color, (radius - dist) / v_border);\\n  } else {\\n    gl_FragColor = transparent;\\n  }\\n}\\n\";module.exports=o})();","(()=>{\"use strict\";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})}},e={};t.r(e),t.d(e,{default:()=>n});const n=\"attribute vec2 a_position;\\nattribute float a_size;\\nattribute vec4 a_color;\\nattribute vec4 a_texture;\\n\\nuniform float u_ratio;\\nuniform float u_scale;\\nuniform mat3 u_matrix;\\n\\nvarying vec4 v_color;\\nvarying float v_border;\\nvarying vec4 v_texture;\\n\\nconst float bias = 255.0 / 254.0;\\n\\nvoid main() {\\n  gl_Position = vec4(\\n    (u_matrix * vec3(a_position, 1)).xy,\\n    0,\\n    1\\n  );\\n\\n  // Multiply the point size twice:\\n  //  - x SCALING_RATIO to correct the canvas scaling\\n  //  - x 2 to correct the formulae\\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\\n\\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\\n\\n  // Extract the color:\\n  v_color = a_color;\\n  v_color.a *= bias;\\n\\n  // Pass the texture coordinates:\\n  v_texture = a_texture;\\n}\\n\";module.exports=e})();","\"use strict\";\n/**\n * Sigma.js Shader Utils\n * ======================\n *\n * Code used to load sigma's shaders.\n * @module\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadProgram = exports.loadFragmentShader = exports.loadVertexShader = void 0;\n/**\n * Function used to load a shader.\n */\nfunction loadShader(type, gl, source) {\n    var glType = type === \"VERTEX\" ? gl.VERTEX_SHADER : gl.FRAGMENT_SHADER;\n    // Creating the shader\n    var shader = gl.createShader(glType);\n    if (shader === null) {\n        throw new Error(\"loadShader: error while creating the shader\");\n    }\n    // Loading source\n    gl.shaderSource(shader, source);\n    // Compiling the shader\n    gl.compileShader(shader);\n    // Retrieving compilation status\n    var successfullyCompiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    // Throwing if something went awry\n    if (!successfullyCompiled) {\n        var infoLog = gl.getShaderInfoLog(shader);\n        gl.deleteShader(shader);\n        throw new Error(\"loadShader: error while compiling the shader:\\n\".concat(infoLog, \"\\n\").concat(source));\n    }\n    return shader;\n}\nfunction loadVertexShader(gl, source) {\n    return loadShader(\"VERTEX\", gl, source);\n}\nexports.loadVertexShader = loadVertexShader;\nfunction loadFragmentShader(gl, source) {\n    return loadShader(\"FRAGMENT\", gl, source);\n}\nexports.loadFragmentShader = loadFragmentShader;\n/**\n * Function used to load a program.\n */\nfunction loadProgram(gl, shaders) {\n    var program = gl.createProgram();\n    if (program === null) {\n        throw new Error(\"loadProgram: error while creating the program.\");\n    }\n    var i, l;\n    // Attaching the shaders\n    for (i = 0, l = shaders.length; i < l; i++)\n        gl.attachShader(program, shaders[i]);\n    gl.linkProgram(program);\n    // Checking status\n    var successfullyLinked = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (!successfullyLinked) {\n        gl.deleteProgram(program);\n        throw new Error(\"loadProgram: error while linking the program.\");\n    }\n    return program;\n}\nexports.loadProgram = loadProgram;\n","\"use strict\";\n/**\n * Sigma.js Settings\n * =================================\n *\n * The list of settings and some handy functions.\n * @module\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_SETTINGS = exports.validateSettings = void 0;\nvar label_1 = __importDefault(require(\"./rendering/canvas/label\"));\nvar hover_1 = __importDefault(require(\"./rendering/canvas/hover\"));\nvar edge_label_1 = __importDefault(require(\"./rendering/canvas/edge-label\"));\nvar node_fast_1 = __importDefault(require(\"./rendering/webgl/programs/node.fast\"));\nvar edge_1 = __importDefault(require(\"./rendering/webgl/programs/edge\"));\nvar edge_arrow_1 = __importDefault(require(\"./rendering/webgl/programs/edge.arrow\"));\nfunction validateSettings(settings) {\n    if (typeof settings.labelDensity !== \"number\" || settings.labelDensity < 0) {\n        throw new Error(\"Settings: invalid `labelDensity`. Expecting a positive number.\");\n    }\n    var minCameraRatio = settings.minCameraRatio, maxCameraRatio = settings.maxCameraRatio;\n    if (typeof minCameraRatio === \"number\" && typeof maxCameraRatio === \"number\" && maxCameraRatio < minCameraRatio) {\n        throw new Error(\"Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.\");\n    }\n}\nexports.validateSettings = validateSettings;\nexports.DEFAULT_SETTINGS = {\n    // Performance\n    hideEdgesOnMove: false,\n    hideLabelsOnMove: false,\n    renderLabels: true,\n    renderEdgeLabels: false,\n    enableEdgeClickEvents: false,\n    enableEdgeWheelEvents: false,\n    enableEdgeHoverEvents: false,\n    // Component rendering\n    defaultNodeColor: \"#999\",\n    defaultNodeType: \"circle\",\n    defaultEdgeColor: \"#ccc\",\n    defaultEdgeType: \"line\",\n    labelFont: \"Arial\",\n    labelSize: 14,\n    labelWeight: \"normal\",\n    labelColor: { color: \"#000\" },\n    edgeLabelFont: \"Arial\",\n    edgeLabelSize: 14,\n    edgeLabelWeight: \"normal\",\n    edgeLabelColor: { attribute: \"color\" },\n    stagePadding: 30,\n    // Labels\n    labelDensity: 1,\n    labelGridCellSize: 100,\n    labelRenderedSizeThreshold: 6,\n    // Reducers\n    nodeReducer: null,\n    edgeReducer: null,\n    // Features\n    zIndex: false,\n    minCameraRatio: null,\n    maxCameraRatio: null,\n    // Renderers\n    labelRenderer: label_1.default,\n    hoverRenderer: hover_1.default,\n    edgeLabelRenderer: edge_label_1.default,\n    // Lifecycle\n    allowInvalidContainer: false,\n    // Program classes\n    nodeProgramClasses: {\n        circle: node_fast_1.default,\n    },\n    edgeProgramClasses: {\n        arrow: edge_arrow_1.default,\n        line: edge_1.default,\n    },\n};\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar camera_1 = __importDefault(require(\"./core/camera\"));\nvar mouse_1 = __importDefault(require(\"./core/captors/mouse\"));\nvar quadtree_1 = __importDefault(require(\"./core/quadtree\"));\nvar types_1 = require(\"./types\");\nvar utils_1 = require(\"./utils\");\nvar labels_1 = require(\"./core/labels\");\nvar settings_1 = require(\"./settings\");\nvar touch_1 = __importDefault(require(\"./core/captors/touch\"));\nvar matrices_1 = require(\"./utils/matrices\");\nvar edge_collisions_1 = require(\"./utils/edge-collisions\");\n/**\n * Important functions.\n */\nfunction applyNodeDefaults(settings, key, data) {\n    if (!data.hasOwnProperty(\"x\") || !data.hasOwnProperty(\"y\"))\n        throw new Error(\"Sigma: could not find a valid position (x, y) for node \\\"\".concat(key, \"\\\". All your nodes must have a number \\\"x\\\" and \\\"y\\\". Maybe your forgot to apply a layout or your \\\"nodeReducer\\\" is not returning the correct data?\"));\n    if (!data.color)\n        data.color = settings.defaultNodeColor;\n    if (!data.label && data.label !== \"\")\n        data.label = null;\n    if (data.label !== undefined && data.label !== null)\n        data.label = \"\" + data.label;\n    else\n        data.label = null;\n    if (!data.size)\n        data.size = 2;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"highlighted\"))\n        data.highlighted = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultNodeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\nfunction applyEdgeDefaults(settings, key, data) {\n    if (!data.color)\n        data.color = settings.defaultEdgeColor;\n    if (!data.label)\n        data.label = \"\";\n    if (!data.size)\n        data.size = 0.5;\n    if (!data.hasOwnProperty(\"hidden\"))\n        data.hidden = false;\n    if (!data.hasOwnProperty(\"forceLabel\"))\n        data.forceLabel = false;\n    if (!data.type || data.type === \"\")\n        data.type = settings.defaultEdgeType;\n    if (!data.zIndex)\n        data.zIndex = 0;\n    return data;\n}\n/**\n * Main class.\n *\n * @constructor\n * @param {Graph}       graph     - Graph to render.\n * @param {HTMLElement} container - DOM container in which to render.\n * @param {object}      settings  - Optional settings.\n */\nvar Sigma = /** @class */ (function (_super) {\n    __extends(Sigma, _super);\n    function Sigma(graph, container, settings) {\n        if (settings === void 0) { settings = {}; }\n        var _this = _super.call(this) || this;\n        _this.elements = {};\n        _this.canvasContexts = {};\n        _this.webGLContexts = {};\n        _this.activeListeners = {};\n        _this.quadtree = new quadtree_1.default();\n        _this.labelGrid = new labels_1.LabelGrid();\n        _this.nodeDataCache = {};\n        _this.edgeDataCache = {};\n        _this.nodesWithForcedLabels = [];\n        _this.edgesWithForcedLabels = [];\n        _this.nodeExtent = { x: [0, 1], y: [0, 1] };\n        _this.matrix = (0, matrices_1.identity)();\n        _this.invMatrix = (0, matrices_1.identity)();\n        _this.correctionRatio = 1;\n        _this.customBBox = null;\n        _this.normalizationFunction = (0, utils_1.createNormalizationFunction)({\n            x: [0, 1],\n            y: [0, 1],\n        });\n        // Cache:\n        _this.cameraSizeRatio = 1;\n        // Starting dimensions and pixel ratio\n        _this.width = 0;\n        _this.height = 0;\n        _this.pixelRatio = (0, utils_1.getPixelRatio)();\n        // State\n        _this.displayedLabels = new Set();\n        _this.highlightedNodes = new Set();\n        _this.hoveredNode = null;\n        _this.hoveredEdge = null;\n        _this.renderFrame = null;\n        _this.renderHighlightedNodesFrame = null;\n        _this.needToProcess = false;\n        _this.needToSoftProcess = false;\n        _this.checkEdgesEventsFrame = null;\n        // Programs\n        _this.nodePrograms = {};\n        _this.hoverNodePrograms = {};\n        _this.edgePrograms = {};\n        _this.settings = (0, utils_1.assign)({}, settings_1.DEFAULT_SETTINGS, settings);\n        // Validating\n        (0, settings_1.validateSettings)(_this.settings);\n        (0, utils_1.validateGraph)(graph);\n        if (!(container instanceof HTMLElement))\n            throw new Error(\"Sigma: container should be an html element.\");\n        // Properties\n        _this.graph = graph;\n        _this.container = container;\n        // Initializing contexts\n        _this.createWebGLContext(\"edges\", { preserveDrawingBuffer: true });\n        _this.createCanvasContext(\"edgeLabels\");\n        _this.createWebGLContext(\"nodes\");\n        _this.createCanvasContext(\"labels\");\n        _this.createCanvasContext(\"hovers\");\n        _this.createWebGLContext(\"hoverNodes\");\n        _this.createCanvasContext(\"mouse\");\n        // Blending\n        for (var key in _this.webGLContexts) {\n            var gl = _this.webGLContexts[key];\n            gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n            gl.enable(gl.BLEND);\n        }\n        // Loading programs\n        for (var type in _this.settings.nodeProgramClasses) {\n            var NodeProgramClass = _this.settings.nodeProgramClasses[type];\n            _this.nodePrograms[type] = new NodeProgramClass(_this.webGLContexts.nodes, _this);\n            _this.hoverNodePrograms[type] = new NodeProgramClass(_this.webGLContexts.hoverNodes, _this);\n        }\n        for (var type in _this.settings.edgeProgramClasses) {\n            var EdgeProgramClass = _this.settings.edgeProgramClasses[type];\n            _this.edgePrograms[type] = new EdgeProgramClass(_this.webGLContexts.edges, _this);\n        }\n        // Initial resize\n        _this.resize();\n        // Initializing the camera\n        _this.camera = new camera_1.default();\n        // Binding camera events\n        _this.bindCameraHandlers();\n        // Initializing captors\n        _this.mouseCaptor = new mouse_1.default(_this.elements.mouse, _this);\n        _this.touchCaptor = new touch_1.default(_this.elements.mouse, _this);\n        // Binding event handlers\n        _this.bindEventHandlers();\n        // Binding graph handlers\n        _this.bindGraphHandlers();\n        // Trigger eventual settings-related things\n        _this.handleSettingsUpdate();\n        // Processing data for the first time & render\n        _this.process();\n        _this.render();\n        return _this;\n    }\n    /**---------------------------------------------------------------------------\n     * Internal methods.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Internal function used to create a canvas element.\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvas = function (id) {\n        var canvas = (0, utils_1.createElement)(\"canvas\", {\n            position: \"absolute\",\n        }, {\n            class: \"sigma-\".concat(id),\n        });\n        this.elements[id] = canvas;\n        this.container.appendChild(canvas);\n        return canvas;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string} id - Context's id.\n     * @return {Sigma}\n     */\n    Sigma.prototype.createCanvasContext = function (id) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = {\n            preserveDrawingBuffer: false,\n            antialias: false,\n        };\n        this.canvasContexts[id] = canvas.getContext(\"2d\", contextOptions);\n        return this;\n    };\n    /**\n     * Internal function used to create a canvas context and add the relevant\n     * DOM elements.\n     *\n     * @param  {string}  id      - Context's id.\n     * @param  {object?} options - #getContext params to override (optional)\n     * @return {Sigma}\n     */\n    Sigma.prototype.createWebGLContext = function (id, options) {\n        var canvas = this.createCanvas(id);\n        var contextOptions = __assign({ preserveDrawingBuffer: false, antialias: false }, (options || {}));\n        var context;\n        // First we try webgl2 for an easy performance boost\n        context = canvas.getContext(\"webgl2\", contextOptions);\n        // Else we fall back to webgl\n        if (!context)\n            context = canvas.getContext(\"webgl\", contextOptions);\n        // Edge, I am looking right at you...\n        if (!context)\n            context = canvas.getContext(\"experimental-webgl\", contextOptions);\n        this.webGLContexts[id] = context;\n        return this;\n    };\n    /**\n     * Method binding camera handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindCameraHandlers = function () {\n        var _this = this;\n        this.activeListeners.camera = function () {\n            _this._scheduleRefresh();\n        };\n        this.camera.on(\"updated\", this.activeListeners.camera);\n        return this;\n    };\n    /**\n     * Method that checks whether or not a node collides with a given position.\n     */\n    Sigma.prototype.mouseIsOnNode = function (_a, _b, size) {\n        var x = _a.x, y = _a.y;\n        var nodeX = _b.x, nodeY = _b.y;\n        return (x > nodeX - size &&\n            x < nodeX + size &&\n            y > nodeY - size &&\n            y < nodeY + size &&\n            Math.sqrt(Math.pow(x - nodeX, 2) + Math.pow(y - nodeY, 2)) < size);\n    };\n    /**\n     * Method that returns all nodes in quad at a given position.\n     */\n    Sigma.prototype.getQuadNodes = function (position) {\n        var mouseGraphPosition = this.viewportToFramedGraph(position);\n        return this.quadtree.point(mouseGraphPosition.x, 1 - mouseGraphPosition.y);\n    };\n    /**\n     * Method that returns the closest node to a given position.\n     */\n    Sigma.prototype.getNodeAtPosition = function (position) {\n        var x = position.x, y = position.y;\n        var quadNodes = this.getQuadNodes(position);\n        // We will hover the node whose center is closest to mouse\n        var minDistance = Infinity, nodeAtPosition = null;\n        for (var i = 0, l = quadNodes.length; i < l; i++) {\n            var node = quadNodes[i];\n            var data = this.nodeDataCache[node];\n            var nodePosition = this.framedGraphToViewport(data);\n            var size = this.scaleSize(data.size);\n            if (!data.hidden && this.mouseIsOnNode(position, nodePosition, size)) {\n                var distance = Math.sqrt(Math.pow(x - nodePosition.x, 2) + Math.pow(y - nodePosition.y, 2));\n                // TODO: sort by min size also for cases where center is the same\n                if (distance < minDistance) {\n                    minDistance = distance;\n                    nodeAtPosition = node;\n                }\n            }\n        }\n        return nodeAtPosition;\n    };\n    /**\n     * Method binding event handlers.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindEventHandlers = function () {\n        var _this = this;\n        // Handling window resize\n        this.activeListeners.handleResize = function () {\n            _this.needToSoftProcess = true;\n            _this._scheduleRefresh();\n        };\n        window.addEventListener(\"resize\", this.activeListeners.handleResize);\n        // Handling mouse move\n        this.activeListeners.handleMove = function (e) {\n            var baseEvent = {\n                event: e,\n                preventSigmaDefault: function () {\n                    e.preventSigmaDefault();\n                },\n            };\n            var nodeToHover = _this.getNodeAtPosition(e);\n            if (nodeToHover && _this.hoveredNode !== nodeToHover && !_this.nodeDataCache[nodeToHover].hidden) {\n                // Handling passing from one node to the other directly\n                if (_this.hoveredNode)\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: _this.hoveredNode }));\n                _this.hoveredNode = nodeToHover;\n                _this.emit(\"enterNode\", __assign(__assign({}, baseEvent), { node: nodeToHover }));\n                _this.scheduleHighlightedNodesRender();\n                return;\n            }\n            // Checking if the hovered node is still hovered\n            if (_this.hoveredNode) {\n                var data = _this.nodeDataCache[_this.hoveredNode];\n                var pos = _this.framedGraphToViewport(data);\n                var size = _this.scaleSize(data.size);\n                if (!_this.mouseIsOnNode(e, pos, size)) {\n                    var node = _this.hoveredNode;\n                    _this.hoveredNode = null;\n                    _this.emit(\"leaveNode\", __assign(__assign({}, baseEvent), { node: node }));\n                    _this.scheduleHighlightedNodesRender();\n                    return;\n                }\n            }\n            if (_this.settings.enableEdgeHoverEvents === true) {\n                _this.checkEdgeHoverEvents(baseEvent);\n            }\n            else if (_this.settings.enableEdgeHoverEvents === \"debounce\") {\n                if (!_this.checkEdgesEventsFrame)\n                    _this.checkEdgesEventsFrame = (0, utils_1.requestFrame)(function () {\n                        _this.checkEdgeHoverEvents(baseEvent);\n                        _this.checkEdgesEventsFrame = null;\n                    });\n            }\n        };\n        // Handling click\n        var createMouseListener = function (eventType) {\n            return function (e) {\n                var baseEvent = {\n                    event: e,\n                    preventSigmaDefault: function () {\n                        e.preventSigmaDefault();\n                    },\n                };\n                var isFakeSigmaMouseEvent = e.original.isFakeSigmaMouseEvent;\n                var nodeAtPosition = isFakeSigmaMouseEvent ? _this.getNodeAtPosition(e) : _this.hoveredNode;\n                if (nodeAtPosition)\n                    return _this.emit(\"\".concat(eventType, \"Node\"), __assign(__assign({}, baseEvent), { node: nodeAtPosition }));\n                if (eventType === \"wheel\" ? _this.settings.enableEdgeWheelEvents : _this.settings.enableEdgeClickEvents) {\n                    var edge = _this.getEdgeAtPoint(e.x, e.y);\n                    if (edge)\n                        return _this.emit(\"\".concat(eventType, \"Edge\"), __assign(__assign({}, baseEvent), { edge: edge }));\n                }\n                return _this.emit(\"\".concat(eventType, \"Stage\"), baseEvent);\n            };\n        };\n        this.activeListeners.handleClick = createMouseListener(\"click\");\n        this.activeListeners.handleRightClick = createMouseListener(\"rightClick\");\n        this.activeListeners.handleDoubleClick = createMouseListener(\"doubleClick\");\n        this.activeListeners.handleWheel = createMouseListener(\"wheel\");\n        this.activeListeners.handleDown = createMouseListener(\"down\");\n        this.mouseCaptor.on(\"mousemove\", this.activeListeners.handleMove);\n        this.mouseCaptor.on(\"click\", this.activeListeners.handleClick);\n        this.mouseCaptor.on(\"rightClick\", this.activeListeners.handleRightClick);\n        this.mouseCaptor.on(\"doubleClick\", this.activeListeners.handleDoubleClick);\n        this.mouseCaptor.on(\"wheel\", this.activeListeners.handleWheel);\n        this.mouseCaptor.on(\"mousedown\", this.activeListeners.handleDown);\n        // TODO\n        // Deal with Touch captor events\n        return this;\n    };\n    /**\n     * Method binding graph handlers\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.bindGraphHandlers = function () {\n        var _this = this;\n        var graph = this.graph;\n        this.activeListeners.graphUpdate = function () {\n            _this.needToProcess = true;\n            _this._scheduleRefresh();\n        };\n        this.activeListeners.softGraphUpdate = function () {\n            _this.needToSoftProcess = true;\n            _this._scheduleRefresh();\n        };\n        this.activeListeners.dropNodeGraphUpdate = function (e) {\n            delete _this.nodeDataCache[e.key];\n            if (_this.hoveredNode === e.key)\n                _this.hoveredNode = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.dropEdgeGraphUpdate = function (e) {\n            delete _this.edgeDataCache[e.key];\n            if (_this.hoveredEdge === e.key)\n                _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearEdgesGraphUpdate = function () {\n            _this.edgeDataCache = {};\n            _this.hoveredEdge = null;\n            _this.activeListeners.graphUpdate();\n        };\n        this.activeListeners.clearGraphUpdate = function () {\n            _this.nodeDataCache = {};\n            _this.hoveredNode = null;\n            _this.activeListeners.clearEdgesGraphUpdate();\n        };\n        graph.on(\"nodeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"nodeDropped\", this.activeListeners.dropNodeGraphUpdate);\n        graph.on(\"nodeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.on(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.on(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.on(\"edgeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.on(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.on(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.on(\"cleared\", this.activeListeners.clearGraphUpdate);\n        return this;\n    };\n    /**\n     * Method dealing with \"leaveEdge\" and \"enterEdge\" events.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.checkEdgeHoverEvents = function (payload) {\n        var edgeToHover = this.hoveredNode ? null : this.getEdgeAtPoint(payload.event.x, payload.event.y);\n        if (edgeToHover !== this.hoveredEdge) {\n            if (this.hoveredEdge)\n                this.emit(\"leaveEdge\", __assign(__assign({}, payload), { edge: this.hoveredEdge }));\n            if (edgeToHover)\n                this.emit(\"enterEdge\", __assign(__assign({}, payload), { edge: edgeToHover }));\n            this.hoveredEdge = edgeToHover;\n        }\n        return this;\n    };\n    /**\n     * Method looking for an edge colliding with a given point at (x, y). Returns\n     * the key of the edge if any, or null else.\n     */\n    Sigma.prototype.getEdgeAtPoint = function (x, y) {\n        var e_1, _a;\n        var _this = this;\n        var _b = this, edgeDataCache = _b.edgeDataCache, nodeDataCache = _b.nodeDataCache;\n        // Check first that pixel is colored:\n        // Note that mouse positions must be corrected by pixel ratio to correctly\n        // index the drawing buffer.\n        if (!(0, edge_collisions_1.isPixelColored)(this.webGLContexts.edges, x * this.pixelRatio, y * this.pixelRatio))\n            return null;\n        // Check for each edge if it collides with the point:\n        var _c = this.viewportToGraph({ x: x, y: y }), graphX = _c.x, graphY = _c.y;\n        // To translate edge thicknesses to the graph system, we observe by how much\n        // the length of a non-null edge is transformed to between the graph system\n        // and the viewport system:\n        var transformationRatio = 0;\n        this.graph.someEdge(function (key, _, sourceId, targetId, _a, _b) {\n            var xs = _a.x, ys = _a.y;\n            var xt = _b.x, yt = _b.y;\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if (xs !== xt || ys !== yt) {\n                var graphLength = Math.sqrt(Math.pow(xt - xs, 2) + Math.pow(yt - ys, 2));\n                var _c = _this.graphToViewport({ x: xs, y: ys }), vp_xs = _c.x, vp_ys = _c.y;\n                var _d = _this.graphToViewport({ x: xt, y: yt }), vp_xt = _d.x, vp_yt = _d.y;\n                var viewportLength = Math.sqrt(Math.pow(vp_xt - vp_xs, 2) + Math.pow(vp_yt - vp_ys, 2));\n                transformationRatio = graphLength / viewportLength;\n                return true;\n            }\n        });\n        // If no non-null edge has been found, return null:\n        if (!transformationRatio)\n            return null;\n        // Now we can look for matching edges:\n        var edges = this.graph.filterEdges(function (key, edgeAttributes, sourceId, targetId, sourcePosition, targetPosition) {\n            if (edgeDataCache[key].hidden || nodeDataCache[sourceId].hidden || nodeDataCache[targetId].hidden)\n                return false;\n            if ((0, edge_collisions_1.doEdgeCollideWithPoint)(graphX, graphY, sourcePosition.x, sourcePosition.y, targetPosition.x, targetPosition.y, \n            // Adapt the edge size to the zoom ratio:\n            (edgeDataCache[key].size * transformationRatio) / _this.cameraSizeRatio)) {\n                return true;\n            }\n        });\n        if (edges.length === 0)\n            return null; // no edges found\n        // if none of the edges have a zIndex, selected the most recently created one to match the rendering order\n        var selectedEdge = edges[edges.length - 1];\n        // otherwise select edge with highest zIndex\n        var highestZIndex = -Infinity;\n        try {\n            for (var edges_1 = __values(edges), edges_1_1 = edges_1.next(); !edges_1_1.done; edges_1_1 = edges_1.next()) {\n                var edge = edges_1_1.value;\n                var zIndex = this.graph.getEdgeAttribute(edge, \"zIndex\");\n                if (zIndex >= highestZIndex) {\n                    selectedEdge = edge;\n                    highestZIndex = zIndex;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (edges_1_1 && !edges_1_1.done && (_a = edges_1.return)) _a.call(edges_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return selectedEdge;\n    };\n    /**\n     * Method used to process the whole graph's data.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.process = function (keepArrays) {\n        var _this = this;\n        if (keepArrays === void 0) { keepArrays = false; }\n        var graph = this.graph;\n        var settings = this.settings;\n        var dimensions = this.getDimensions();\n        var nodeZExtent = [Infinity, -Infinity];\n        var edgeZExtent = [Infinity, -Infinity];\n        // Clearing the quad\n        this.quadtree.clear();\n        // Resetting the label grid\n        // TODO: it's probably better to do this explicitly or on resizes for layout and anims\n        this.labelGrid.resizeAndClear(dimensions, settings.labelGridCellSize);\n        // Clear the highlightedNodes\n        this.highlightedNodes = new Set();\n        // Computing extents\n        this.nodeExtent = (0, utils_1.graphExtent)(graph);\n        // Resetting `forceLabel` indices\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        // NOTE: it is important to compute this matrix after computing the node's extent\n        // because #.getGraphDimensions relies on it\n        var nullCamera = new camera_1.default();\n        var nullCameraMatrix = (0, utils_1.matrixFromCamera)(nullCamera.getState(), this.getDimensions(), this.getGraphDimensions(), this.getSetting(\"stagePadding\") || 0);\n        // Rescaling function\n        this.normalizationFunction = (0, utils_1.createNormalizationFunction)(this.customBBox || this.nodeExtent);\n        var nodesPerPrograms = {};\n        var nodes = graph.nodes();\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            // Node display data resolution:\n            //   1. First we get the node's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            //   4. We apply the normalization function\n            // We shallow copy node data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getNodeAttributes(node));\n            if (settings.nodeReducer)\n                attr = settings.nodeReducer(node, attr);\n            var data = applyNodeDefaults(this.settings, node, attr);\n            nodesPerPrograms[data.type] = (nodesPerPrograms[data.type] || 0) + 1;\n            this.nodeDataCache[node] = data;\n            this.normalizationFunction.applyTo(data);\n            if (data.forceLabel)\n                this.nodesWithForcedLabels.push(node);\n            if (this.settings.zIndex) {\n                if (data.zIndex < nodeZExtent[0])\n                    nodeZExtent[0] = data.zIndex;\n                if (data.zIndex > nodeZExtent[1])\n                    nodeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.nodePrograms) {\n            if (!this.nodePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(type, \"\\\"!\"));\n            }\n            if (!keepArrays)\n                this.nodePrograms[type].allocate(nodesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            nodesPerPrograms[type] = 0;\n        }\n        // Handling node z-index\n        // TODO: z-index needs us to compute display data before hand\n        if (this.settings.zIndex && nodeZExtent[0] !== nodeZExtent[1])\n            nodes = (0, utils_1.zIndexOrdering)(nodeZExtent, function (node) { return _this.nodeDataCache[node].zIndex; }, nodes);\n        for (var i = 0, l = nodes.length; i < l; i++) {\n            var node = nodes[i];\n            var data = this.nodeDataCache[node];\n            this.quadtree.add(node, data.x, 1 - data.y, data.size / this.width);\n            if (typeof data.label === \"string\" && !data.hidden)\n                this.labelGrid.add(node, data.size, this.framedGraphToViewport(data, { matrix: nullCameraMatrix }));\n            var nodeProgram = this.nodePrograms[data.type];\n            if (!nodeProgram)\n                throw new Error(\"Sigma: could not find a suitable program for node type \\\"\".concat(data.type, \"\\\"!\"));\n            nodeProgram.process(data, data.hidden, nodesPerPrograms[data.type]++);\n            // Save the node in the highlighted set if needed\n            if (data.highlighted && !data.hidden)\n                this.highlightedNodes.add(node);\n        }\n        this.labelGrid.organize();\n        var edgesPerPrograms = {};\n        var edges = graph.edges();\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            // Edge display data resolution:\n            //   1. First we get the edge's attributes\n            //   2. We optionally reduce them using the function provided by the user\n            //      Note that this function must return a total object and won't be merged\n            //   3. We apply our defaults, while running some vital checks\n            // We shallow copy edge data to avoid dangerous behaviors from reducers\n            var attr = Object.assign({}, graph.getEdgeAttributes(edge));\n            if (settings.edgeReducer)\n                attr = settings.edgeReducer(edge, attr);\n            var data = applyEdgeDefaults(this.settings, edge, attr);\n            edgesPerPrograms[data.type] = (edgesPerPrograms[data.type] || 0) + 1;\n            this.edgeDataCache[edge] = data;\n            if (data.forceLabel && !data.hidden)\n                this.edgesWithForcedLabels.push(edge);\n            if (this.settings.zIndex) {\n                if (data.zIndex < edgeZExtent[0])\n                    edgeZExtent[0] = data.zIndex;\n                if (data.zIndex > edgeZExtent[1])\n                    edgeZExtent[1] = data.zIndex;\n            }\n        }\n        for (var type in this.edgePrograms) {\n            if (!this.edgePrograms.hasOwnProperty(type)) {\n                throw new Error(\"Sigma: could not find a suitable program for edge type \\\"\".concat(type, \"\\\"!\"));\n            }\n            if (!keepArrays)\n                this.edgePrograms[type].allocate(edgesPerPrograms[type] || 0);\n            // We reset that count here, so that we can reuse it while calling the Program#process methods:\n            edgesPerPrograms[type] = 0;\n        }\n        // Handling edge z-index\n        if (this.settings.zIndex && edgeZExtent[0] !== edgeZExtent[1])\n            edges = (0, utils_1.zIndexOrdering)(edgeZExtent, function (edge) { return _this.edgeDataCache[edge].zIndex; }, edges);\n        for (var i = 0, l = edges.length; i < l; i++) {\n            var edge = edges[i];\n            var data = this.edgeDataCache[edge];\n            var extremities = graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]];\n            var hidden = data.hidden || sourceData.hidden || targetData.hidden;\n            this.edgePrograms[data.type].process(sourceData, targetData, data, hidden, edgesPerPrograms[data.type]++);\n        }\n        for (var type in this.edgePrograms) {\n            var program = this.edgePrograms[type];\n            if (!keepArrays && typeof program.computeIndices === \"function\")\n                program.computeIndices();\n        }\n        return this;\n    };\n    /**\n     * Method that backports potential settings updates where it's needed.\n     * @private\n     */\n    Sigma.prototype.handleSettingsUpdate = function () {\n        this.camera.minRatio = this.settings.minCameraRatio;\n        this.camera.maxRatio = this.settings.maxCameraRatio;\n        this.camera.setState(this.camera.validateState(this.camera.getState()));\n        return this;\n    };\n    /**\n     * Method that decides whether to reprocess graph or not, and then render the\n     * graph.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype._refresh = function () {\n        // Do we need to process data?\n        if (this.needToProcess) {\n            this.process();\n        }\n        else if (this.needToSoftProcess) {\n            this.process(true);\n        }\n        // Resetting state\n        this.needToProcess = false;\n        this.needToSoftProcess = false;\n        // Rendering\n        this.render();\n        return this;\n    };\n    /**\n     * Method that schedules a `_refresh` call if none has been scheduled yet. It\n     * will then be processed next available frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype._scheduleRefresh = function () {\n        var _this = this;\n        if (!this.renderFrame) {\n            this.renderFrame = (0, utils_1.requestFrame)(function () {\n                _this._refresh();\n                _this.renderFrame = null;\n            });\n        }\n        return this;\n    };\n    /**\n     * Method used to render labels.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderLabels = function () {\n        if (!this.settings.renderLabels)\n            return this;\n        var cameraState = this.camera.getState();\n        // Finding visible nodes to display their labels\n        var visibleNodes;\n        if (cameraState.ratio >= 1) {\n            // Camera is unzoomed so no need to ask the quadtree for visible nodes\n            visibleNodes = new Set(this.graph.nodes());\n        }\n        else {\n            // Let's ask the quadtree\n            var viewRectangle = this.viewRectangle();\n            visibleNodes = new Set(this.quadtree.rectangle(viewRectangle.x1, 1 - viewRectangle.y1, viewRectangle.x2, 1 - viewRectangle.y2, viewRectangle.height));\n        }\n        // Selecting labels to draw\n        // TODO: drop gridsettings likewise\n        // TODO: optimize through visible nodes\n        var labelsToDisplay = this.labelGrid\n            .getLabelsToDisplay(cameraState.ratio, this.settings.labelDensity)\n            .concat(this.nodesWithForcedLabels);\n        this.displayedLabels = new Set();\n        // Drawing labels\n        var context = this.canvasContexts.labels;\n        for (var i = 0, l = labelsToDisplay.length; i < l; i++) {\n            var node = labelsToDisplay[i];\n            var data = this.nodeDataCache[node];\n            // If the node was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            if (this.displayedLabels.has(node))\n                continue;\n            // If the node is hidden, we don't need to display its label obviously\n            if (data.hidden)\n                continue;\n            var _a = this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            // TODO: we can cache the labels we need to render until the camera's ratio changes\n            // TODO: this should be computed in the canvas components?\n            var size = this.scaleSize(data.size);\n            if (!data.forceLabel && size < this.settings.labelRenderedSizeThreshold)\n                continue;\n            if (!visibleNodes.has(node))\n                continue;\n            // TODO:\n            // Because displayed edge labels depend directly on actually rendered node\n            // labels, we need to only add to this.displayedLabels nodes whose label\n            // is rendered.\n            // This makes this.displayedLabels depend on viewport, which might become\n            // an issue once we start memoizing getLabelsToDisplay.\n            this.displayedLabels.add(node);\n            this.settings.labelRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), this.settings);\n        }\n        return this;\n    };\n    /**\n     * Method used to render edge labels, based on which node labels were\n     * rendered.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderEdgeLabels = function () {\n        if (!this.settings.renderEdgeLabels)\n            return this;\n        var context = this.canvasContexts.edgeLabels;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        var edgeLabelsToDisplay = (0, labels_1.edgeLabelsToDisplayFromNodes)({\n            graph: this.graph,\n            hoveredNode: this.hoveredNode,\n            displayedNodeLabels: this.displayedLabels,\n            highlightedNodes: this.highlightedNodes,\n        }).concat(this.edgesWithForcedLabels);\n        var displayedLabels = new Set();\n        for (var i = 0, l = edgeLabelsToDisplay.length; i < l; i++) {\n            var edge = edgeLabelsToDisplay[i], extremities = this.graph.extremities(edge), sourceData = this.nodeDataCache[extremities[0]], targetData = this.nodeDataCache[extremities[1]], edgeData = this.edgeDataCache[edge];\n            // If the edge was already drawn (like if it is eligible AND has\n            // `forceLabel`), we don't want to draw it again\n            if (displayedLabels.has(edge))\n                continue;\n            // If the edge is hidden we don't need to display its label\n            // NOTE: the test on sourceData & targetData is probably paranoid at this point?\n            if (edgeData.hidden || sourceData.hidden || targetData.hidden) {\n                continue;\n            }\n            this.settings.edgeLabelRenderer(context, __assign(__assign({ key: edge }, edgeData), { size: this.scaleSize(edgeData.size) }), __assign(__assign(__assign({ key: extremities[0] }, sourceData), this.framedGraphToViewport(sourceData)), { size: this.scaleSize(sourceData.size) }), __assign(__assign(__assign({ key: extremities[1] }, targetData), this.framedGraphToViewport(targetData)), { size: this.scaleSize(targetData.size) }), this.settings);\n            displayedLabels.add(edge);\n        }\n        return this;\n    };\n    /**\n     * Method used to render the highlighted nodes.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.renderHighlightedNodes = function () {\n        var _this = this;\n        var context = this.canvasContexts.hovers;\n        // Clearing\n        context.clearRect(0, 0, this.width, this.height);\n        // Rendering\n        var render = function (node) {\n            var data = _this.nodeDataCache[node];\n            var _a = _this.framedGraphToViewport(data), x = _a.x, y = _a.y;\n            var size = _this.scaleSize(data.size);\n            _this.settings.hoverRenderer(context, __assign(__assign({ key: node }, data), { size: size, x: x, y: y }), _this.settings);\n        };\n        var nodesToRender = [];\n        if (this.hoveredNode && !this.nodeDataCache[this.hoveredNode].hidden) {\n            nodesToRender.push(this.hoveredNode);\n        }\n        this.highlightedNodes.forEach(function (node) {\n            // The hovered node has already been highlighted\n            if (node !== _this.hoveredNode)\n                nodesToRender.push(node);\n        });\n        // Draw labels:\n        nodesToRender.forEach(function (node) { return render(node); });\n        // Draw WebGL nodes on top of the labels:\n        var nodesPerPrograms = {};\n        // 1. Count nodes per type:\n        nodesToRender.forEach(function (node) {\n            var type = _this.nodeDataCache[node].type;\n            nodesPerPrograms[type] = (nodesPerPrograms[type] || 0) + 1;\n        });\n        // 2. Allocate for each type for the proper number of nodes\n        for (var type in this.hoverNodePrograms) {\n            this.hoverNodePrograms[type].allocate(nodesPerPrograms[type] || 0);\n            // Also reset count, to use when rendering:\n            nodesPerPrograms[type] = 0;\n        }\n        // 3. Process all nodes to render:\n        nodesToRender.forEach(function (node) {\n            var data = _this.nodeDataCache[node];\n            _this.hoverNodePrograms[data.type].process(data, data.hidden, nodesPerPrograms[data.type]++);\n        });\n        // 4. Clear hovered nodes layer:\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        // 5. Render:\n        for (var type in this.hoverNodePrograms) {\n            var program = this.hoverNodePrograms[type];\n            program.bind();\n            program.bufferData();\n            program.render({\n                matrix: this.matrix,\n                width: this.width,\n                height: this.height,\n                ratio: this.camera.ratio,\n                correctionRatio: this.correctionRatio / this.camera.ratio,\n                scalingRatio: this.pixelRatio,\n            });\n        }\n    };\n    /**\n     * Method used to schedule a hover render.\n     *\n     */\n    Sigma.prototype.scheduleHighlightedNodesRender = function () {\n        var _this = this;\n        if (this.renderHighlightedNodesFrame || this.renderFrame)\n            return;\n        this.renderHighlightedNodesFrame = (0, utils_1.requestFrame)(function () {\n            // Resetting state\n            _this.renderHighlightedNodesFrame = null;\n            // Rendering\n            _this.renderHighlightedNodes();\n            _this.renderEdgeLabels();\n        });\n    };\n    /**\n     * Method used to render.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.render = function () {\n        var _this = this;\n        this.emit(\"beforeRender\");\n        var handleEscape = function () {\n            _this.emit(\"afterRender\");\n            return _this;\n        };\n        // If a render was scheduled, we cancel it\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n            this.needToProcess = false;\n            this.needToSoftProcess = false;\n        }\n        // First we need to resize\n        this.resize();\n        // Clearing the canvases\n        this.clear();\n        // Recomputing useful camera-related values:\n        this.updateCachedValues();\n        // If we have no nodes we can stop right there\n        if (!this.graph.order)\n            return handleEscape();\n        // TODO: improve this heuristic or move to the captor itself?\n        // TODO: deal with the touch captor here as well\n        var mouseCaptor = this.mouseCaptor;\n        var moving = this.camera.isAnimated() ||\n            mouseCaptor.isMoving ||\n            mouseCaptor.draggedEvents ||\n            mouseCaptor.currentWheelDirection;\n        // Then we need to extract a matrix from the camera\n        var cameraState = this.camera.getState();\n        var viewportDimensions = this.getDimensions();\n        var graphDimensions = this.getGraphDimensions();\n        var padding = this.getSetting(\"stagePadding\") || 0;\n        this.matrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding);\n        this.invMatrix = (0, utils_1.matrixFromCamera)(cameraState, viewportDimensions, graphDimensions, padding, true);\n        this.correctionRatio = (0, utils_1.getMatrixImpact)(this.matrix, cameraState, viewportDimensions);\n        // Drawing nodes\n        for (var type in this.nodePrograms) {\n            var program = this.nodePrograms[type];\n            program.bind();\n            program.bufferData();\n            program.render({\n                matrix: this.matrix,\n                width: this.width,\n                height: this.height,\n                ratio: cameraState.ratio,\n                correctionRatio: this.correctionRatio / cameraState.ratio,\n                scalingRatio: this.pixelRatio,\n            });\n        }\n        // Drawing edges\n        if (!this.settings.hideEdgesOnMove || !moving) {\n            for (var type in this.edgePrograms) {\n                var program = this.edgePrograms[type];\n                program.bind();\n                program.bufferData();\n                program.render({\n                    matrix: this.matrix,\n                    width: this.width,\n                    height: this.height,\n                    ratio: cameraState.ratio,\n                    correctionRatio: this.correctionRatio / cameraState.ratio,\n                    scalingRatio: this.pixelRatio,\n                });\n            }\n        }\n        // Do not display labels on move per setting\n        if (this.settings.hideLabelsOnMove && moving)\n            return handleEscape();\n        this.renderLabels();\n        this.renderEdgeLabels();\n        this.renderHighlightedNodes();\n        return handleEscape();\n    };\n    /**\n     * Internal method used to update expensive and therefore cached values\n     * each time the camera state is updated.\n     */\n    Sigma.prototype.updateCachedValues = function () {\n        var ratio = this.camera.getState().ratio;\n        this.cameraSizeRatio = Math.sqrt(ratio);\n    };\n    /**---------------------------------------------------------------------------\n     * Public API.\n     **---------------------------------------------------------------------------\n     */\n    /**\n     * Method returning the renderer's camera.\n     *\n     * @return {Camera}\n     */\n    Sigma.prototype.getCamera = function () {\n        return this.camera;\n    };\n    /**\n     * Method returning the container DOM element.\n     *\n     * @return {HTMLElement}\n     */\n    Sigma.prototype.getContainer = function () {\n        return this.container;\n    };\n    /**\n     * Method returning the renderer's graph.\n     *\n     * @return {Graph}\n     */\n    Sigma.prototype.getGraph = function () {\n        return this.graph;\n    };\n    /**\n     * Method returning the mouse captor.\n     *\n     * @return {MouseCaptor}\n     */\n    Sigma.prototype.getMouseCaptor = function () {\n        return this.mouseCaptor;\n    };\n    /**\n     * Method returning the touch captor.\n     *\n     * @return {TouchCaptor}\n     */\n    Sigma.prototype.getTouchCaptor = function () {\n        return this.touchCaptor;\n    };\n    /**\n     * Method returning the current renderer's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getDimensions = function () {\n        return { width: this.width, height: this.height };\n    };\n    /**\n     * Method returning the current graph's dimensions.\n     *\n     * @return {Dimensions}\n     */\n    Sigma.prototype.getGraphDimensions = function () {\n        var extent = this.customBBox || this.nodeExtent;\n        return {\n            width: extent.x[1] - extent.x[0] || 1,\n            height: extent.y[1] - extent.y[0] || 1,\n        };\n    };\n    /**\n     * Method used to get all the sigma node attributes.\n     * It's usefull for example to get the position of a node\n     * and to get values that are set by the nodeReducer\n     *\n     * @param  {string} key - The node's key.\n     * @return {NodeDisplayData | undefined} A copy of the desired node's attribute or undefined if not found\n     */\n    Sigma.prototype.getNodeDisplayData = function (key) {\n        var node = this.nodeDataCache[key];\n        return node ? Object.assign({}, node) : undefined;\n    };\n    /**\n     * Method used to get all the sigma edge attributes.\n     * It's usefull for example to get values that are set by the edgeReducer.\n     *\n     * @param  {string} key - The edge's key.\n     * @return {EdgeDisplayData | undefined} A copy of the desired edge's attribute or undefined if not found\n     */\n    Sigma.prototype.getEdgeDisplayData = function (key) {\n        var edge = this.edgeDataCache[key];\n        return edge ? Object.assign({}, edge) : undefined;\n    };\n    /**\n     * Method returning a copy of the settings collection.\n     *\n     * @return {Settings} A copy of the settings collection.\n     */\n    Sigma.prototype.getSettings = function () {\n        return __assign({}, this.settings);\n    };\n    /**\n     * Method returning the current value for a given setting key.\n     *\n     * @param  {string} key - The setting key to get.\n     * @return {any} The value attached to this setting key or undefined if not found\n     */\n    Sigma.prototype.getSetting = function (key) {\n        return this.settings[key];\n    };\n    /**\n     * Method setting the value of a given setting key. Note that this will schedule\n     * a new render next frame.\n     *\n     * @param  {string} key - The setting key to set.\n     * @param  {any}    value - The value to set.\n     * @return {Sigma}\n     */\n    Sigma.prototype.setSetting = function (key, value) {\n        this.settings[key] = value;\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.needToProcess = true; // TODO: some keys may work with only needToSoftProcess or even nothing\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method updating the value of a given setting key using the provided function.\n     * Note that this will schedule a new render next frame.\n     *\n     * @param  {string}   key     - The setting key to set.\n     * @param  {function} updater - The update function.\n     * @return {Sigma}\n     */\n    Sigma.prototype.updateSetting = function (key, updater) {\n        this.settings[key] = updater(this.settings[key]);\n        (0, settings_1.validateSettings)(this.settings);\n        this.handleSettingsUpdate();\n        this.needToProcess = true; // TODO: some keys may work with only needToSoftProcess or even nothing\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to resize the renderer.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.resize = function () {\n        var previousWidth = this.width, previousHeight = this.height;\n        this.width = this.container.offsetWidth;\n        this.height = this.container.offsetHeight;\n        this.pixelRatio = (0, utils_1.getPixelRatio)();\n        if (this.width === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.width = 1;\n            else\n                throw new Error(\"Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        if (this.height === 0) {\n            if (this.settings.allowInvalidContainer)\n                this.height = 1;\n            else\n                throw new Error(\"Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.\");\n        }\n        // If nothing has changed, we can stop right here\n        if (previousWidth === this.width && previousHeight === this.height)\n            return this;\n        this.emit(\"resize\");\n        // Sizing dom elements\n        for (var id in this.elements) {\n            var element = this.elements[id];\n            element.style.width = this.width + \"px\";\n            element.style.height = this.height + \"px\";\n        }\n        // Sizing canvas contexts\n        for (var id in this.canvasContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            if (this.pixelRatio !== 1)\n                this.canvasContexts[id].scale(this.pixelRatio, this.pixelRatio);\n        }\n        // Sizing WebGL contexts\n        for (var id in this.webGLContexts) {\n            this.elements[id].setAttribute(\"width\", this.width * this.pixelRatio + \"px\");\n            this.elements[id].setAttribute(\"height\", this.height * this.pixelRatio + \"px\");\n            this.webGLContexts[id].viewport(0, 0, this.width * this.pixelRatio, this.height * this.pixelRatio);\n        }\n        return this;\n    };\n    /**\n     * Method used to clear all the canvases.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.clear = function () {\n        this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT);\n        this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT);\n        this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);\n        this.canvasContexts.labels.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.hovers.clearRect(0, 0, this.width, this.height);\n        this.canvasContexts.edgeLabels.clearRect(0, 0, this.width, this.height);\n        return this;\n    };\n    /**\n     * Method used to refresh all computed data.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.refresh = function () {\n        this.needToProcess = true;\n        this._refresh();\n        return this;\n    };\n    /**\n     * Method used to refresh all computed data, at the next available frame.\n     * If this method has already been called this frame, then it will only render once at the next available frame.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.scheduleRefresh = function () {\n        this.needToProcess = true;\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to (un)zoom, while preserving the position of a viewport point.\n     * Used for instance to zoom \"on the mouse cursor\".\n     *\n     * @param viewportTarget\n     * @param newRatio\n     * @return {CameraState}\n     */\n    Sigma.prototype.getViewportZoomedState = function (viewportTarget, newRatio) {\n        var _a = this.camera.getState(), ratio = _a.ratio, angle = _a.angle, x = _a.x, y = _a.y;\n        // TODO: handle max zoom\n        var ratioDiff = newRatio / ratio;\n        var center = {\n            x: this.width / 2,\n            y: this.height / 2,\n        };\n        var graphMousePosition = this.viewportToFramedGraph(viewportTarget);\n        var graphCenterPosition = this.viewportToFramedGraph(center);\n        return {\n            angle: angle,\n            x: (graphMousePosition.x - graphCenterPosition.x) * (1 - ratioDiff) + x,\n            y: (graphMousePosition.y - graphCenterPosition.y) * (1 - ratioDiff) + y,\n            ratio: newRatio,\n        };\n    };\n    /**\n     * Method returning the abstract rectangle containing the graph according\n     * to the camera's state.\n     *\n     * @return {object} - The view's rectangle.\n     */\n    Sigma.prototype.viewRectangle = function () {\n        // TODO: reduce relative margin?\n        var marginX = (0 * this.width) / 8, marginY = (0 * this.height) / 8;\n        var p1 = this.viewportToFramedGraph({ x: 0 - marginX, y: 0 - marginY }), p2 = this.viewportToFramedGraph({ x: this.width + marginX, y: 0 - marginY }), h = this.viewportToFramedGraph({ x: 0, y: this.height + marginY });\n        return {\n            x1: p1.x,\n            y1: p1.y,\n            x2: p2.x,\n            y2: p2.y,\n            height: p2.y - h.y,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the framed graph system to the viewport system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.framedGraphToViewport = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !!override.graphDimensions;\n        var matrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0)\n                : this.matrix;\n        var viewportPos = (0, matrices_1.multiplyVec2)(matrix, coordinates);\n        return {\n            x: ((1 + viewportPos.x) * this.width) / 2,\n            y: ((1 - viewportPos.y) * this.height) / 2,\n        };\n    };\n    /**\n     * Method returning the coordinates of a point from the viewport system to the framed graph system. It allows\n     * overriding anything that is used to get the translation matrix, or even the matrix itself.\n     *\n     * Be careful if overriding dimensions, padding or cameraState, as the computation of the matrix is not the lightest\n     * of computations.\n     */\n    Sigma.prototype.viewportToFramedGraph = function (coordinates, override) {\n        if (override === void 0) { override = {}; }\n        var recomputeMatrix = !!override.cameraState || !!override.viewportDimensions || !override.graphDimensions;\n        var invMatrix = override.matrix\n            ? override.matrix\n            : recomputeMatrix\n                ? (0, utils_1.matrixFromCamera)(override.cameraState || this.camera.getState(), override.viewportDimensions || this.getDimensions(), override.graphDimensions || this.getGraphDimensions(), override.padding || this.getSetting(\"stagePadding\") || 0, true)\n                : this.invMatrix;\n        var res = (0, matrices_1.multiplyVec2)(invMatrix, {\n            x: (coordinates.x / this.width) * 2 - 1,\n            y: 1 - (coordinates.y / this.height) * 2,\n        });\n        if (isNaN(res.x))\n            res.x = 0;\n        if (isNaN(res.y))\n            res.y = 0;\n        return res;\n    };\n    /**\n     * Method used to translate a point's coordinates from the viewport system (pixel distance from the top-left of the\n     * stage) to the graph system (the reference system of data as they are in the given graph instance).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  viewportPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.viewportToGraph = function (viewportPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.normalizationFunction.inverse(this.viewportToFramedGraph(viewportPoint, override));\n    };\n    /**\n     * Method used to translate a point's coordinates from the graph system (the reference system of data as they are in\n     * the given graph instance) to the viewport system (pixel distance from the top-left of the stage).\n     *\n     * This method accepts an optional camera which can be useful if you need to translate coordinates\n     * based on a different view than the one being currently being displayed on screen.\n     *\n     * @param {Coordinates}                  graphPoint\n     * @param {CoordinateConversionOverride} override\n     */\n    Sigma.prototype.graphToViewport = function (graphPoint, override) {\n        if (override === void 0) { override = {}; }\n        return this.framedGraphToViewport(this.normalizationFunction(graphPoint), override);\n    };\n    /**\n     * Method returning the graph's bounding box.\n     *\n     * @return {{ x: Extent, y: Extent }}\n     */\n    Sigma.prototype.getBBox = function () {\n        return (0, utils_1.graphExtent)(this.graph);\n    };\n    /**\n     * Method returning the graph's custom bounding box, if any.\n     *\n     * @return {{ x: Extent, y: Extent } | null}\n     */\n    Sigma.prototype.getCustomBBox = function () {\n        return this.customBBox;\n    };\n    /**\n     * Method used to override the graph's bounding box with a custom one. Give `null` as the argument to stop overriding.\n     *\n     * @return {Sigma}\n     */\n    Sigma.prototype.setCustomBBox = function (customBBox) {\n        this.customBBox = customBBox;\n        this._scheduleRefresh();\n        return this;\n    };\n    /**\n     * Method used to shut the container & release event listeners.\n     *\n     * @return {undefined}\n     */\n    Sigma.prototype.kill = function () {\n        var graph = this.graph;\n        // Emitting \"kill\" events so that plugins and such can cleanup\n        this.emit(\"kill\");\n        // Releasing events\n        this.removeAllListeners();\n        // Releasing camera handlers\n        this.camera.removeListener(\"updated\", this.activeListeners.camera);\n        // Releasing DOM events & captors\n        window.removeEventListener(\"resize\", this.activeListeners.handleResize);\n        this.mouseCaptor.kill();\n        this.touchCaptor.kill();\n        // Releasing graph handlers\n        graph.removeListener(\"nodeAdded\", this.activeListeners.dropNodeGraphUpdate);\n        graph.removeListener(\"nodeDropped\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"nodeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.removeListener(\"eachNodeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeAdded\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgeDropped\", this.activeListeners.dropEdgeGraphUpdate);\n        graph.removeListener(\"edgeAttributesUpdated\", this.activeListeners.softGraphUpdate);\n        graph.removeListener(\"eachEdgeAttributesUpdated\", this.activeListeners.graphUpdate);\n        graph.removeListener(\"edgesCleared\", this.activeListeners.clearEdgesGraphUpdate);\n        graph.removeListener(\"cleared\", this.activeListeners.clearGraphUpdate);\n        // Releasing cache & state\n        this.quadtree = new quadtree_1.default();\n        this.nodeDataCache = {};\n        this.edgeDataCache = {};\n        this.nodesWithForcedLabels = [];\n        this.edgesWithForcedLabels = [];\n        this.highlightedNodes.clear();\n        // Clearing frames\n        if (this.renderFrame) {\n            (0, utils_1.cancelFrame)(this.renderFrame);\n            this.renderFrame = null;\n        }\n        if (this.renderHighlightedNodesFrame) {\n            (0, utils_1.cancelFrame)(this.renderHighlightedNodesFrame);\n            this.renderHighlightedNodesFrame = null;\n        }\n        // Destroying canvases\n        var container = this.container;\n        while (container.firstChild)\n            container.removeChild(container.firstChild);\n    };\n    /**\n     * Method used to scale the given size according to the camera's ratio, i.e.\n     * zooming state.\n     *\n     * @param  {number} size - The size to scale (node size, edge thickness etc.).\n     * @return {number}      - The scaled size.\n     */\n    Sigma.prototype.scaleSize = function (size) {\n        return size / this.cameraSizeRatio;\n    };\n    /**\n     * Method that returns the collection of all used canvases.\n     * At the moment, the instantiated canvases are the following, and in the\n     * following order in the DOM:\n     * - `edges`\n     * - `nodes`\n     * - `edgeLabels`\n     * - `labels`\n     * - `hovers`\n     * - `hoverNodes`\n     * - `mouse`\n     *\n     * @return {PlainObject<HTMLCanvasElement>} - The collection of canvases.\n     */\n    Sigma.prototype.getCanvases = function () {\n        return __assign({}, this.elements);\n    };\n    return Sigma;\n}(types_1.TypedEventEmitter));\nexports.default = Sigma;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypedEventEmitter = void 0;\n/**\n * Sigma.js Types\n * ===============\n *\n * Various type declarations used throughout the library.\n * @module\n */\nvar events_1 = require(\"events\");\nvar TypedEventEmitter = /** @class */ (function (_super) {\n    __extends(TypedEventEmitter, _super);\n    function TypedEventEmitter() {\n        var _this = _super.call(this) || this;\n        _this.rawEmitter = _this;\n        return _this;\n    }\n    return TypedEventEmitter;\n}(events_1.EventEmitter));\nexports.TypedEventEmitter = TypedEventEmitter;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.animateNodes = exports.ANIMATE_DEFAULTS = void 0;\nvar index_1 = require(\"./index\");\nvar easings_1 = __importDefault(require(\"./easings\"));\nexports.ANIMATE_DEFAULTS = {\n    easing: \"quadraticInOut\",\n    duration: 150,\n};\n/**\n * Function used to animate the nodes.\n */\nfunction animateNodes(graph, targets, opts, callback) {\n    var options = Object.assign({}, exports.ANIMATE_DEFAULTS, opts);\n    var easing = typeof options.easing === \"function\" ? options.easing : easings_1.default[options.easing];\n    var start = Date.now();\n    var startPositions = {};\n    for (var node in targets) {\n        var attrs = targets[node];\n        startPositions[node] = {};\n        for (var k in attrs)\n            startPositions[node][k] = graph.getNodeAttribute(node, k);\n    }\n    var frame = null;\n    var step = function () {\n        frame = null;\n        var p = (Date.now() - start) / options.duration;\n        if (p >= 1) {\n            // Animation is done\n            for (var node in targets) {\n                var attrs = targets[node];\n                // We use given values to avoid precision issues and for convenience\n                for (var k in attrs)\n                    graph.setNodeAttribute(node, k, attrs[k]);\n            }\n            if (typeof callback === \"function\")\n                callback();\n            return;\n        }\n        p = easing(p);\n        for (var node in targets) {\n            var attrs = targets[node];\n            var s = startPositions[node];\n            for (var k in attrs)\n                graph.setNodeAttribute(node, k, attrs[k] * p + s[k] * (1 - p));\n        }\n        frame = (0, index_1.requestFrame)(step);\n    };\n    step();\n    return function () {\n        if (frame)\n            (0, index_1.cancelFrame)(frame);\n    };\n}\nexports.animateNodes = animateNodes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HTML_COLORS = void 0;\nexports.HTML_COLORS = {\n    black: \"#000000\",\n    silver: \"#C0C0C0\",\n    gray: \"#808080\",\n    grey: \"#808080\",\n    white: \"#FFFFFF\",\n    maroon: \"#800000\",\n    red: \"#FF0000\",\n    purple: \"#800080\",\n    fuchsia: \"#FF00FF\",\n    green: \"#008000\",\n    lime: \"#00FF00\",\n    olive: \"#808000\",\n    yellow: \"#FFFF00\",\n    navy: \"#000080\",\n    blue: \"#0000FF\",\n    teal: \"#008080\",\n    aqua: \"#00FFFF\",\n    darkblue: \"#00008B\",\n    mediumblue: \"#0000CD\",\n    darkgreen: \"#006400\",\n    darkcyan: \"#008B8B\",\n    deepskyblue: \"#00BFFF\",\n    darkturquoise: \"#00CED1\",\n    mediumspringgreen: \"#00FA9A\",\n    springgreen: \"#00FF7F\",\n    cyan: \"#00FFFF\",\n    midnightblue: \"#191970\",\n    dodgerblue: \"#1E90FF\",\n    lightseagreen: \"#20B2AA\",\n    forestgreen: \"#228B22\",\n    seagreen: \"#2E8B57\",\n    darkslategray: \"#2F4F4F\",\n    darkslategrey: \"#2F4F4F\",\n    limegreen: \"#32CD32\",\n    mediumseagreen: \"#3CB371\",\n    turquoise: \"#40E0D0\",\n    royalblue: \"#4169E1\",\n    steelblue: \"#4682B4\",\n    darkslateblue: \"#483D8B\",\n    mediumturquoise: \"#48D1CC\",\n    indigo: \"#4B0082\",\n    darkolivegreen: \"#556B2F\",\n    cadetblue: \"#5F9EA0\",\n    cornflowerblue: \"#6495ED\",\n    rebeccapurple: \"#663399\",\n    mediumaquamarine: \"#66CDAA\",\n    dimgray: \"#696969\",\n    dimgrey: \"#696969\",\n    slateblue: \"#6A5ACD\",\n    olivedrab: \"#6B8E23\",\n    slategray: \"#708090\",\n    slategrey: \"#708090\",\n    lightslategray: \"#778899\",\n    lightslategrey: \"#778899\",\n    mediumslateblue: \"#7B68EE\",\n    lawngreen: \"#7CFC00\",\n    chartreuse: \"#7FFF00\",\n    aquamarine: \"#7FFFD4\",\n    skyblue: \"#87CEEB\",\n    lightskyblue: \"#87CEFA\",\n    blueviolet: \"#8A2BE2\",\n    darkred: \"#8B0000\",\n    darkmagenta: \"#8B008B\",\n    saddlebrown: \"#8B4513\",\n    darkseagreen: \"#8FBC8F\",\n    lightgreen: \"#90EE90\",\n    mediumpurple: \"#9370DB\",\n    darkviolet: \"#9400D3\",\n    palegreen: \"#98FB98\",\n    darkorchid: \"#9932CC\",\n    yellowgreen: \"#9ACD32\",\n    sienna: \"#A0522D\",\n    brown: \"#A52A2A\",\n    darkgray: \"#A9A9A9\",\n    darkgrey: \"#A9A9A9\",\n    lightblue: \"#ADD8E6\",\n    greenyellow: \"#ADFF2F\",\n    paleturquoise: \"#AFEEEE\",\n    lightsteelblue: \"#B0C4DE\",\n    powderblue: \"#B0E0E6\",\n    firebrick: \"#B22222\",\n    darkgoldenrod: \"#B8860B\",\n    mediumorchid: \"#BA55D3\",\n    rosybrown: \"#BC8F8F\",\n    darkkhaki: \"#BDB76B\",\n    mediumvioletred: \"#C71585\",\n    indianred: \"#CD5C5C\",\n    peru: \"#CD853F\",\n    chocolate: \"#D2691E\",\n    tan: \"#D2B48C\",\n    lightgray: \"#D3D3D3\",\n    lightgrey: \"#D3D3D3\",\n    thistle: \"#D8BFD8\",\n    orchid: \"#DA70D6\",\n    goldenrod: \"#DAA520\",\n    palevioletred: \"#DB7093\",\n    crimson: \"#DC143C\",\n    gainsboro: \"#DCDCDC\",\n    plum: \"#DDA0DD\",\n    burlywood: \"#DEB887\",\n    lightcyan: \"#E0FFFF\",\n    lavender: \"#E6E6FA\",\n    darksalmon: \"#E9967A\",\n    violet: \"#EE82EE\",\n    palegoldenrod: \"#EEE8AA\",\n    lightcoral: \"#F08080\",\n    khaki: \"#F0E68C\",\n    aliceblue: \"#F0F8FF\",\n    honeydew: \"#F0FFF0\",\n    azure: \"#F0FFFF\",\n    sandybrown: \"#F4A460\",\n    wheat: \"#F5DEB3\",\n    beige: \"#F5F5DC\",\n    whitesmoke: \"#F5F5F5\",\n    mintcream: \"#F5FFFA\",\n    ghostwhite: \"#F8F8FF\",\n    salmon: \"#FA8072\",\n    antiquewhite: \"#FAEBD7\",\n    linen: \"#FAF0E6\",\n    lightgoldenrodyellow: \"#FAFAD2\",\n    oldlace: \"#FDF5E6\",\n    magenta: \"#FF00FF\",\n    deeppink: \"#FF1493\",\n    orangered: \"#FF4500\",\n    tomato: \"#FF6347\",\n    hotpink: \"#FF69B4\",\n    coral: \"#FF7F50\",\n    darkorange: \"#FF8C00\",\n    lightsalmon: \"#FFA07A\",\n    orange: \"#FFA500\",\n    lightpink: \"#FFB6C1\",\n    pink: \"#FFC0CB\",\n    gold: \"#FFD700\",\n    peachpuff: \"#FFDAB9\",\n    navajowhite: \"#FFDEAD\",\n    moccasin: \"#FFE4B5\",\n    bisque: \"#FFE4C4\",\n    mistyrose: \"#FFE4E1\",\n    blanchedalmond: \"#FFEBCD\",\n    papayawhip: \"#FFEFD5\",\n    lavenderblush: \"#FFF0F5\",\n    seashell: \"#FFF5EE\",\n    cornsilk: \"#FFF8DC\",\n    lemonchiffon: \"#FFFACD\",\n    floralwhite: \"#FFFAF0\",\n    snow: \"#FFFAFA\",\n    lightyellow: \"#FFFFE0\",\n    ivory: \"#FFFFF0\",\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cubicInOut = exports.cubicOut = exports.cubicIn = exports.quadraticInOut = exports.quadraticOut = exports.quadraticIn = exports.linear = void 0;\n/**\n * Sigma.js Easings\n * =================\n *\n * Handy collection of easing functions.\n * @module\n */\nvar linear = function (k) { return k; };\nexports.linear = linear;\nvar quadraticIn = function (k) { return k * k; };\nexports.quadraticIn = quadraticIn;\nvar quadraticOut = function (k) { return k * (2 - k); };\nexports.quadraticOut = quadraticOut;\nvar quadraticInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k;\n    return -0.5 * (--k * (k - 2) - 1);\n};\nexports.quadraticInOut = quadraticInOut;\nvar cubicIn = function (k) { return k * k * k; };\nexports.cubicIn = cubicIn;\nvar cubicOut = function (k) { return --k * k * k + 1; };\nexports.cubicOut = cubicOut;\nvar cubicInOut = function (k) {\n    if ((k *= 2) < 1)\n        return 0.5 * k * k * k;\n    return 0.5 * ((k -= 2) * k * k + 2);\n};\nexports.cubicInOut = cubicInOut;\nvar easings = {\n    linear: exports.linear,\n    quadraticIn: exports.quadraticIn,\n    quadraticOut: exports.quadraticOut,\n    quadraticInOut: exports.quadraticInOut,\n    cubicIn: exports.cubicIn,\n    cubicOut: exports.cubicOut,\n    cubicInOut: exports.cubicInOut,\n};\nexports.default = easings;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.doEdgeCollideWithPoint = exports.isPixelColored = void 0;\n/**\n * This helper returns true is the pixel at (x,y) in the given WebGL context is\n * colored, and false else.\n */\nfunction isPixelColored(gl, x, y) {\n    var pixels = new Uint8Array(4);\n    gl.readPixels(x, gl.drawingBufferHeight - y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    return pixels[3] > 0;\n}\nexports.isPixelColored = isPixelColored;\n/**\n * This helper checks whether or not a point (x, y) collides with an\n * edge, connecting a source (xS, yS) to a target (xT, yT) with a thickness in\n * pixels.\n */\nfunction doEdgeCollideWithPoint(x, y, xS, yS, xT, yT, thickness) {\n    // Check first if point is out of the rectangle which opposite corners are the\n    // source and the target, rectangle we expand by `thickness` in every\n    // directions:\n    if (x < xS - thickness && x < xT - thickness)\n        return false;\n    if (y < yS - thickness && y < yT - thickness)\n        return false;\n    if (x > xS + thickness && x > xT + thickness)\n        return false;\n    if (y > yS + thickness && y > yT + thickness)\n        return false;\n    // Check actual collision now: Since we now the point is in this big rectangle\n    // we \"just\" need to check that the distance between the point and the line\n    // connecting the source and the target is less than `thickness`:\n    // https://en.wikipedia.org/wiki/Distance_from_a_point_to_a_line\n    var distance = Math.abs((xT - xS) * (yS - y) - (xS - x) * (yT - yS)) / Math.sqrt(Math.pow(xT - xS, 2) + Math.pow(yT - yS, 2));\n    return distance < thickness / 2;\n}\nexports.doEdgeCollideWithPoint = doEdgeCollideWithPoint;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateGraph = exports.canUse32BitsIndices = exports.extractPixel = exports.getMatrixImpact = exports.matrixFromCamera = exports.getCorrectionRatio = exports.floatColor = exports.floatArrayColor = exports.parseColor = exports.zIndexOrdering = exports.createNormalizationFunction = exports.graphExtent = exports.getPixelRatio = exports.createElement = exports.cancelFrame = exports.requestFrame = exports.assignDeep = exports.assign = exports.isPlainObject = void 0;\nvar is_graph_1 = __importDefault(require(\"graphology-utils/is-graph\"));\nvar matrices_1 = require(\"./matrices\");\nvar data_1 = require(\"./data\");\n/**\n * Checks whether the given value is a plain object.\n *\n * @param  {mixed}   value - Target value.\n * @return {boolean}\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction isPlainObject(value) {\n    return typeof value === \"object\" && value !== null && value.constructor === Object;\n}\nexports.isPlainObject = isPlainObject;\n/**\n * Helper to use Object.assign with more than two objects.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assign(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        Object.assign(target, o);\n    }\n    return target;\n}\nexports.assign = assign;\n/**\n * Very simple recursive Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nfunction assignDeep(target) {\n    var objects = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        objects[_i - 1] = arguments[_i];\n    }\n    target = target || {};\n    for (var i = 0, l = objects.length; i < l; i++) {\n        var o = objects[i];\n        if (!o)\n            continue;\n        for (var k in o) {\n            if (isPlainObject(o[k])) {\n                target[k] = assignDeep(target[k], o[k]);\n            }\n            else {\n                target[k] = o[k];\n            }\n        }\n    }\n    return target;\n}\nexports.assignDeep = assignDeep;\n/**\n * Just some dirty trick to make requestAnimationFrame and cancelAnimationFrame \"work\" in Node.js, for unit tests:\n */\nexports.requestFrame = typeof requestAnimationFrame !== \"undefined\"\n    ? function (callback) { return requestAnimationFrame(callback); }\n    : function (callback) { return setTimeout(callback, 0); };\nexports.cancelFrame = typeof cancelAnimationFrame !== \"undefined\"\n    ? function (requestID) { return cancelAnimationFrame(requestID); }\n    : function (requestID) { return clearTimeout(requestID); };\n/**\n * Function used to create DOM elements easily.\n *\n * @param  {string} tag        - Tag name of the element to create.\n * @param  {object} style      - Styles map.\n * @param  {object} attributes - Attributes map.\n * @return {HTMLElement}\n */\nfunction createElement(tag, style, attributes) {\n    var element = document.createElement(tag);\n    if (style) {\n        for (var k in style) {\n            element.style[k] = style[k];\n        }\n    }\n    if (attributes) {\n        for (var k in attributes) {\n            element.setAttribute(k, attributes[k]);\n        }\n    }\n    return element;\n}\nexports.createElement = createElement;\n/**\n * Function returning the browser's pixel ratio.\n *\n * @return {number}\n */\nfunction getPixelRatio() {\n    if (typeof window.devicePixelRatio !== \"undefined\")\n        return window.devicePixelRatio;\n    return 1;\n}\nexports.getPixelRatio = getPixelRatio;\n/**\n * Function returning the graph's node extent in x & y.\n *\n * @param  {Graph}\n * @return {object}\n */\nfunction graphExtent(graph) {\n    if (!graph.order)\n        return { x: [0, 1], y: [0, 1] };\n    var xMin = Infinity;\n    var xMax = -Infinity;\n    var yMin = Infinity;\n    var yMax = -Infinity;\n    graph.forEachNode(function (_, attr) {\n        var x = attr.x, y = attr.y;\n        if (x < xMin)\n            xMin = x;\n        if (x > xMax)\n            xMax = x;\n        if (y < yMin)\n            yMin = y;\n        if (y > yMax)\n            yMax = y;\n    });\n    return { x: [xMin, xMax], y: [yMin, yMax] };\n}\nexports.graphExtent = graphExtent;\nfunction createNormalizationFunction(extent) {\n    var _a = __read(extent.x, 2), minX = _a[0], maxX = _a[1], _b = __read(extent.y, 2), minY = _b[0], maxY = _b[1];\n    var ratio = Math.max(maxX - minX, maxY - minY), dX = (maxX + minX) / 2, dY = (maxY + minY) / 2;\n    if (ratio === 0 || Math.abs(ratio) === Infinity || isNaN(ratio))\n        ratio = 1;\n    if (isNaN(dX))\n        dX = 0;\n    if (isNaN(dY))\n        dY = 0;\n    var fn = function (data) {\n        return {\n            x: 0.5 + (data.x - dX) / ratio,\n            y: 0.5 + (data.y - dY) / ratio,\n        };\n    };\n    // TODO: possibility to apply this in batch over array of indices\n    fn.applyTo = function (data) {\n        data.x = 0.5 + (data.x - dX) / ratio;\n        data.y = 0.5 + (data.y - dY) / ratio;\n    };\n    fn.inverse = function (data) {\n        return {\n            x: dX + ratio * (data.x - 0.5),\n            y: dY + ratio * (data.y - 0.5),\n        };\n    };\n    fn.ratio = ratio;\n    return fn;\n}\nexports.createNormalizationFunction = createNormalizationFunction;\n/**\n * Function ordering the given elements in reverse z-order so they drawn\n * the correct way.\n *\n * @param  {number}   extent   - [min, max] z values.\n * @param  {function} getter   - Z attribute getter function.\n * @param  {array}    elements - The array to sort.\n * @return {array} - The sorted array.\n */\nfunction zIndexOrdering(extent, getter, elements) {\n    // If k is > n, we'll use a standard sort\n    return elements.sort(function (a, b) {\n        var zA = getter(a) || 0, zB = getter(b) || 0;\n        if (zA < zB)\n            return -1;\n        if (zA > zB)\n            return 1;\n        return 0;\n    });\n    // TODO: counting sort optimization\n}\nexports.zIndexOrdering = zIndexOrdering;\n/**\n * WebGL utils\n * ===========\n */\n/**\n * Memoized function returning a float-encoded color from various string\n * formats describing colors.\n */\nvar INT8 = new Int8Array(4);\nvar INT32 = new Int32Array(INT8.buffer, 0, 1);\nvar FLOAT32 = new Float32Array(INT8.buffer, 0, 1);\nvar RGBA_TEST_REGEX = /^\\s*rgba?\\s*\\(/;\nvar RGBA_EXTRACT_REGEX = /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)(?:\\s*,\\s*(.*)?)?\\)\\s*$/;\nfunction parseColor(val) {\n    var r = 0; // byte\n    var g = 0; // byte\n    var b = 0; // byte\n    var a = 1; // float\n    // Handling hexadecimal notation\n    if (val[0] === \"#\") {\n        if (val.length === 4) {\n            r = parseInt(val.charAt(1) + val.charAt(1), 16);\n            g = parseInt(val.charAt(2) + val.charAt(2), 16);\n            b = parseInt(val.charAt(3) + val.charAt(3), 16);\n        }\n        else {\n            r = parseInt(val.charAt(1) + val.charAt(2), 16);\n            g = parseInt(val.charAt(3) + val.charAt(4), 16);\n            b = parseInt(val.charAt(5) + val.charAt(6), 16);\n        }\n        if (val.length === 9) {\n            a = parseInt(val.charAt(7) + val.charAt(8), 16) / 255;\n        }\n    }\n    // Handling rgb notation\n    else if (RGBA_TEST_REGEX.test(val)) {\n        var match = val.match(RGBA_EXTRACT_REGEX);\n        if (match) {\n            r = +match[1];\n            g = +match[2];\n            b = +match[3];\n            if (match[4])\n                a = +match[4];\n        }\n    }\n    return { r: r, g: g, b: b, a: a };\n}\nexports.parseColor = parseColor;\nvar FLOAT_COLOR_CACHE = {};\nfor (var htmlColor in data_1.HTML_COLORS) {\n    FLOAT_COLOR_CACHE[htmlColor] = floatColor(data_1.HTML_COLORS[htmlColor]);\n    // Replicating cache for hex values for free\n    FLOAT_COLOR_CACHE[data_1.HTML_COLORS[htmlColor]] = FLOAT_COLOR_CACHE[htmlColor];\n}\nfunction floatArrayColor(val) {\n    val = data_1.HTML_COLORS[val] || val;\n    // NOTE: this variant is not cached because it is mostly used for uniforms\n    var _a = parseColor(val), r = _a.r, g = _a.g, b = _a.b, a = _a.a;\n    return new Float32Array([r / 255, g / 255, b / 255, a]);\n}\nexports.floatArrayColor = floatArrayColor;\nfunction floatColor(val) {\n    // If the color is already computed, we yield it\n    if (typeof FLOAT_COLOR_CACHE[val] !== \"undefined\")\n        return FLOAT_COLOR_CACHE[val];\n    var parsed = parseColor(val);\n    var r = parsed.r, g = parsed.g, b = parsed.b;\n    var a = parsed.a;\n    a = (a * 255) | 0;\n    INT32[0] = ((a << 24) | (b << 16) | (g << 8) | r) & 0xfeffffff;\n    var color = FLOAT32[0];\n    FLOAT_COLOR_CACHE[val] = color;\n    return color;\n}\nexports.floatColor = floatColor;\n/**\n * In sigma, the graph is normalized into a [0, 1], [0, 1] square, before being given to the various renderers. This\n * helps dealing with quadtree in particular.\n * But at some point, we need to rescale it so that it takes the best place in the screen, ie. we always want to see two\n * nodes \"touching\" opposite sides of the graph, with the camera being at its default state.\n *\n * This function determines this ratio.\n */\nfunction getCorrectionRatio(viewportDimensions, graphDimensions) {\n    var viewportRatio = viewportDimensions.height / viewportDimensions.width;\n    var graphRatio = graphDimensions.height / graphDimensions.width;\n    // If the stage and the graphs are in different directions (such as the graph being wider that tall while the stage\n    // is taller than wide), we can stop here to have indeed nodes touching opposite sides:\n    if ((viewportRatio < 1 && graphRatio > 1) || (viewportRatio > 1 && graphRatio < 1)) {\n        return 1;\n    }\n    // Else, we need to fit the graph inside the stage:\n    // 1. If the graph is \"squarer\" (ie. with a ratio closer to 1), we need to make the largest sides touch;\n    // 2. If the stage is \"squarer\", we need to make the smallest sides touch.\n    return Math.min(Math.max(graphRatio, 1 / graphRatio), Math.max(1 / viewportRatio, viewportRatio));\n}\nexports.getCorrectionRatio = getCorrectionRatio;\n/**\n * Function returning a matrix from the current state of the camera.\n */\n// TODO: it's possible to optimize this drastically!\nfunction matrixFromCamera(state, viewportDimensions, graphDimensions, padding, inverse) {\n    var angle = state.angle, ratio = state.ratio, x = state.x, y = state.y;\n    var width = viewportDimensions.width, height = viewportDimensions.height;\n    var matrix = (0, matrices_1.identity)();\n    var smallestDimension = Math.min(width, height) - 2 * padding;\n    var correctionRatio = getCorrectionRatio(viewportDimensions, graphDimensions);\n    if (!inverse) {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 2 * (smallestDimension / width) * correctionRatio, 2 * (smallestDimension / height) * correctionRatio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), -angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), 1 / ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), -x, -y));\n    }\n    else {\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.translate)((0, matrices_1.identity)(), x, y));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), ratio));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.rotate)((0, matrices_1.identity)(), angle));\n        (0, matrices_1.multiply)(matrix, (0, matrices_1.scale)((0, matrices_1.identity)(), width / smallestDimension / 2 / correctionRatio, height / smallestDimension / 2 / correctionRatio));\n    }\n    return matrix;\n}\nexports.matrixFromCamera = matrixFromCamera;\n/**\n * All these transformations we apply on the matrix to get it rescale the graph\n * as we want make it very hard to get pixel-perfect distances in WebGL. This\n * function returns a factor that properly cancels the matrix effect on lengths.\n *\n * [jacomyal]\n * To be fully honest, I can't really explain happens here... I notice that the\n * following ratio works (ie. it correctly compensates the matrix impact on all\n * camera states I could try):\n * > `R = size(V) / size(M * V) / W`\n * as long as `M * V` is in the direction of W (ie. parallel to (Ox)). It works\n * as well with H and a vector that transforms into something parallel to (Oy).\n *\n * Also, note that we use `angle` and not `-angle` (that would seem logical,\n * since we want to anticipate the rotation), because of the fact that in WebGL,\n * the image is vertically swapped.\n */\nfunction getMatrixImpact(matrix, cameraState, viewportDimensions) {\n    var _a = (0, matrices_1.multiplyVec2)(matrix, { x: Math.cos(cameraState.angle), y: Math.sin(cameraState.angle) }, 0), x = _a.x, y = _a.y;\n    return 1 / Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2)) / viewportDimensions.width;\n}\nexports.getMatrixImpact = getMatrixImpact;\n/**\n * Function extracting the color at the given pixel.\n */\nfunction extractPixel(gl, x, y, array) {\n    var data = array || new Uint8Array(4);\n    gl.readPixels(x, y, 1, 1, gl.RGBA, gl.UNSIGNED_BYTE, data);\n    return data;\n}\nexports.extractPixel = extractPixel;\n/**\n * Function used to know whether given webgl context can use 32 bits indices.\n */\nfunction canUse32BitsIndices(gl) {\n    var webgl2 = typeof WebGL2RenderingContext !== \"undefined\" && gl instanceof WebGL2RenderingContext;\n    return webgl2 || !!gl.getExtension(\"OES_element_index_uint\");\n}\nexports.canUse32BitsIndices = canUse32BitsIndices;\n/**\n * Check if the graph variable is a valid graph, and if sigma can render it.\n */\nfunction validateGraph(graph) {\n    // check if it's a valid graphology instance\n    if (!(0, is_graph_1.default)(graph))\n        throw new Error(\"Sigma: invalid graph instance.\");\n    // check if nodes have x/y attributes\n    graph.forEachNode(function (key, attributes) {\n        if (!Number.isFinite(attributes.x) || !Number.isFinite(attributes.y)) {\n            throw new Error(\"Sigma: Coordinates of node \".concat(key, \" are invalid. A node must have a numeric 'x' and 'y' attribute.\"));\n        }\n    });\n}\nexports.validateGraph = validateGraph;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiplyVec2 = exports.multiply = exports.translate = exports.rotate = exports.scale = exports.identity = void 0;\nfunction identity() {\n    return Float32Array.of(1, 0, 0, 0, 1, 0, 0, 0, 1);\n}\nexports.identity = identity;\n// TODO: optimize\nfunction scale(m, x, y) {\n    m[0] = x;\n    m[4] = typeof y === \"number\" ? y : x;\n    return m;\n}\nexports.scale = scale;\nfunction rotate(m, r) {\n    var s = Math.sin(r), c = Math.cos(r);\n    m[0] = c;\n    m[1] = s;\n    m[3] = -s;\n    m[4] = c;\n    return m;\n}\nexports.rotate = rotate;\nfunction translate(m, x, y) {\n    m[6] = x;\n    m[7] = y;\n    return m;\n}\nexports.translate = translate;\nfunction multiply(a, b) {\n    var a00 = a[0], a01 = a[1], a02 = a[2];\n    var a10 = a[3], a11 = a[4], a12 = a[5];\n    var a20 = a[6], a21 = a[7], a22 = a[8];\n    var b00 = b[0], b01 = b[1], b02 = b[2];\n    var b10 = b[3], b11 = b[4], b12 = b[5];\n    var b20 = b[6], b21 = b[7], b22 = b[8];\n    a[0] = b00 * a00 + b01 * a10 + b02 * a20;\n    a[1] = b00 * a01 + b01 * a11 + b02 * a21;\n    a[2] = b00 * a02 + b01 * a12 + b02 * a22;\n    a[3] = b10 * a00 + b11 * a10 + b12 * a20;\n    a[4] = b10 * a01 + b11 * a11 + b12 * a21;\n    a[5] = b10 * a02 + b11 * a12 + b12 * a22;\n    a[6] = b20 * a00 + b21 * a10 + b22 * a20;\n    a[7] = b20 * a01 + b21 * a11 + b22 * a21;\n    a[8] = b20 * a02 + b21 * a12 + b22 * a22;\n    return a;\n}\nexports.multiply = multiply;\nfunction multiplyVec2(a, b, z) {\n    if (z === void 0) { z = 1; }\n    var a00 = a[0];\n    var a01 = a[1];\n    var a10 = a[3];\n    var a11 = a[4];\n    var a20 = a[6];\n    var a21 = a[7];\n    var b0 = b.x;\n    var b1 = b.y;\n    return { x: b0 * a00 + b1 * a10 + a20 * z, y: b0 * a01 + b1 * a11 + a21 * z };\n}\nexports.multiplyVec2 = multiplyVec2;\n","/**\n * Graphology Louvain Algorithm\n * =============================\n *\n * JavaScript implementation of the famous Louvain community detection\n * algorithm for graphology.\n *\n * [Articles]\n * M. E. J. Newman,  Modularity and community structure in networks ,\n * Proc. Natl. Acad. Sci. USA, vol. 103, no 23, 2006, p. 85778582\n * https://dx.doi.org/10.1073%2Fpnas.0601602103\n *\n * Newman, M. E. J.  Community detection in networks: Modularity optimization\n * and maximum likelihood are equivalent . Physical Review E, vol. 94, no 5,\n * novembre 2016, p. 052315. arXiv.org, doi:10.1103/PhysRevE.94.052315.\n * https://arxiv.org/pdf/1606.02319.pdf\n *\n * Blondel, Vincent D., et al.  Fast unfolding of communities in large\n * networks . Journal of Statistical Mechanics: Theory and Experiment,\n * vol. 2008, no 10, octobre 2008, p. P10008. DOI.org (Crossref),\n * doi:10.1088/1742-5468/2008/10/P10008.\n * https://arxiv.org/pdf/0803.0476.pdf\n *\n * Nicolas Dugue, Anthony Perez. Directed Louvain: maximizing modularity in\n * directed networks. [Research Report] Universite dOrleans. 2015. hal-01231784\n * https://hal.archives-ouvertes.fr/hal-01231784\n *\n * R. Lambiotte, J.-C. Delvenne and M. Barahona. Laplacian Dynamics and\n * Multiscale Modular Structure in Networks,\n * doi:10.1109/TNSE.2015.2391998.\n * https://arxiv.org/abs/0812.1770\n *\n * Traag, V. A., et al.  From Louvain to Leiden: Guaranteeing Well-Connected\n * Communities . Scientific Reports, vol. 9, no 1, dcembre 2019, p. 5233.\n * DOI.org (Crossref), doi:10.1038/s41598-019-41695-z.\n * https://arxiv.org/abs/1810.08473\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\nvar inferType = require('graphology-utils/infer-type');\nvar SparseMap = require('mnemonist/sparse-map');\nvar SparseQueueSet = require('mnemonist/sparse-queue-set');\nvar createRandomIndex = require('pandemonium/random-index').createRandomIndex;\n\nvar indices = require('graphology-indices/louvain');\n\nvar UndirectedLouvainIndex = indices.UndirectedLouvainIndex;\nvar DirectedLouvainIndex = indices.DirectedLouvainIndex;\n\nvar DEFAULTS = {\n  nodeCommunityAttribute: 'community',\n  getEdgeWeight: 'weight',\n  fastLocalMoves: true,\n  randomWalk: true,\n  resolution: 1,\n  rng: Math.random\n};\n\nfunction addWeightToCommunity(map, community, weight) {\n  var currentWeight = map.get(community);\n\n  if (typeof currentWeight === 'undefined') currentWeight = 0;\n\n  currentWeight += weight;\n\n  map.set(community, currentWeight);\n}\n\nvar EPSILON = 1e-10;\n\nfunction tieBreaker(\n  bestCommunity,\n  currentCommunity,\n  targetCommunity,\n  delta,\n  bestDelta\n) {\n  if (Math.abs(delta - bestDelta) < EPSILON) {\n    if (bestCommunity === currentCommunity) {\n      return false;\n    } else {\n      return targetCommunity > bestCommunity;\n    }\n  } else if (delta > bestDelta) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction undirectedLouvain(detailed, graph, options) {\n  var index = new UndirectedLouvainIndex(graph, {\n    getEdgeWeight: options.getEdgeWeight,\n    keepDendrogram: detailed,\n    resolution: options.resolution\n  });\n\n  var randomIndex = createRandomIndex(options.rng);\n\n  // State variables\n  var moveWasMade = true,\n    localMoveWasMade = true;\n\n  // Communities\n  var currentCommunity, targetCommunity;\n  var communities = new SparseMap(Float64Array, index.C);\n\n  // Traversal\n  var queue, start, end, weight, ci, ri, s, i, j, l;\n\n  // Metrics\n  var degree, targetCommunityDegree;\n\n  // Moves\n  var bestCommunity, bestDelta, deltaIsBetter, delta;\n\n  // Details\n  var deltaComputations = 0,\n    nodesVisited = 0,\n    moves = [],\n    localMoves,\n    currentMoves;\n\n  if (options.fastLocalMoves) queue = new SparseQueueSet(index.C);\n\n  while (moveWasMade) {\n    l = index.C;\n\n    moveWasMade = false;\n    localMoveWasMade = true;\n\n    if (options.fastLocalMoves) {\n      currentMoves = 0;\n\n      // Traversal of the graph\n      ri = options.randomWalk ? randomIndex(l) : 0;\n\n      for (s = 0; s < l; s++, ri++) {\n        i = ri % l;\n        queue.enqueue(i);\n      }\n\n      while (queue.size !== 0) {\n        i = queue.dequeue();\n        nodesVisited++;\n\n        degree = 0;\n        communities.clear();\n\n        currentCommunity = index.belongings[i];\n\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        // Traversing neighbors\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          weight = index.weights[start];\n\n          targetCommunity = index.belongings[j];\n\n          // Incrementing metrics\n          degree += weight;\n          addWeightToCommunity(communities, targetCommunity, weight);\n        }\n\n        // Finding best community to move to\n        bestDelta = index.fastDeltaWithOwnCommunity(\n          i,\n          degree,\n          communities.get(currentCommunity) || 0,\n          currentCommunity\n        );\n        bestCommunity = currentCommunity;\n\n        for (ci = 0; ci < communities.size; ci++) {\n          targetCommunity = communities.dense[ci];\n\n          if (targetCommunity === currentCommunity) continue;\n\n          targetCommunityDegree = communities.vals[ci];\n\n          deltaComputations++;\n\n          delta = index.fastDelta(\n            i,\n            degree,\n            targetCommunityDegree,\n            targetCommunity\n          );\n\n          deltaIsBetter = tieBreaker(\n            bestCommunity,\n            currentCommunity,\n            targetCommunity,\n            delta,\n            bestDelta\n          );\n\n          if (deltaIsBetter) {\n            bestDelta = delta;\n            bestCommunity = targetCommunity;\n          }\n        }\n\n        // Should we move the node?\n        if (bestDelta < 0) {\n          // NOTE: this is to allow nodes to move back to their own singleton\n          // This code however only deals with modularity (e.g. the condition\n          // about bestDelta < 0, which is the delta for moving back to\n          // singleton wrt. modularity). Indeed, rarely, the Louvain\n          // algorithm can produce such cases when a node would be better in\n          // a singleton that in its own community when considering self loops\n          // or a resolution != 1. In this case, delta with your own community\n          // is indeed less than 0. To handle different metrics, one should\n          // consider computing the delta for going back to singleton because\n          // it might not be 0.\n          bestCommunity = index.isolate(i, degree);\n\n          // If the node was already in a singleton community, we don't consider\n          // a move was made\n          if (bestCommunity === currentCommunity) continue;\n        } else {\n          // If no move was made, we continue to next node\n          if (bestCommunity === currentCommunity) {\n            continue;\n          } else {\n            // Actually moving the node to a new community\n            index.move(i, degree, bestCommunity);\n          }\n        }\n\n        moveWasMade = true;\n        currentMoves++;\n\n        // Adding neighbors from other communities to the queue\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          targetCommunity = index.belongings[j];\n\n          if (targetCommunity !== bestCommunity) queue.enqueue(j);\n        }\n      }\n\n      moves.push(currentMoves);\n    } else {\n      localMoves = [];\n      moves.push(localMoves);\n\n      // Traditional Louvain iterative traversal of the graph\n      while (localMoveWasMade) {\n        localMoveWasMade = false;\n        currentMoves = 0;\n\n        ri = options.randomWalk ? randomIndex(l) : 0;\n\n        for (s = 0; s < l; s++, ri++) {\n          i = ri % l;\n\n          nodesVisited++;\n\n          degree = 0;\n          communities.clear();\n\n          currentCommunity = index.belongings[i];\n\n          start = index.starts[i];\n          end = index.starts[i + 1];\n\n          // Traversing neighbors\n          for (; start < end; start++) {\n            j = index.neighborhood[start];\n            weight = index.weights[start];\n\n            targetCommunity = index.belongings[j];\n\n            // Incrementing metrics\n            degree += weight;\n            addWeightToCommunity(communities, targetCommunity, weight);\n          }\n\n          // Finding best community to move to\n          bestDelta = index.fastDeltaWithOwnCommunity(\n            i,\n            degree,\n            communities.get(currentCommunity) || 0,\n            currentCommunity\n          );\n          bestCommunity = currentCommunity;\n\n          for (ci = 0; ci < communities.size; ci++) {\n            targetCommunity = communities.dense[ci];\n\n            if (targetCommunity === currentCommunity) continue;\n\n            targetCommunityDegree = communities.vals[ci];\n\n            deltaComputations++;\n\n            delta = index.fastDelta(\n              i,\n              degree,\n              targetCommunityDegree,\n              targetCommunity\n            );\n\n            deltaIsBetter = tieBreaker(\n              bestCommunity,\n              currentCommunity,\n              targetCommunity,\n              delta,\n              bestDelta\n            );\n\n            if (deltaIsBetter) {\n              bestDelta = delta;\n              bestCommunity = targetCommunity;\n            }\n          }\n\n          // Should we move the node?\n          if (bestDelta < 0) {\n            // NOTE: this is to allow nodes to move back to their own singleton\n            // This code however only deals with modularity (e.g. the condition\n            // about bestDelta < 0, which is the delta for moving back to\n            // singleton wrt. modularity). Indeed, rarely, the Louvain\n            // algorithm can produce such cases when a node would be better in\n            // a singleton that in its own community when considering self loops\n            // or a resolution != 1. In this case, delta with your own community\n            // is indeed less than 0. To handle different metrics, one should\n            // consider computing the delta for going back to singleton because\n            // it might not be 0.\n            bestCommunity = index.isolate(i, degree);\n\n            // If the node was already in a singleton community, we don't consider\n            // a move was made\n            if (bestCommunity === currentCommunity) continue;\n          } else {\n            // If no move was made, we continue to next node\n            if (bestCommunity === currentCommunity) {\n              continue;\n            } else {\n              // Actually moving the node to a new community\n              index.move(i, degree, bestCommunity);\n            }\n          }\n\n          localMoveWasMade = true;\n          currentMoves++;\n        }\n\n        localMoves.push(currentMoves);\n\n        moveWasMade = localMoveWasMade || moveWasMade;\n      }\n    }\n\n    // We continue working on the induced graph\n    if (moveWasMade) index.zoomOut();\n  }\n\n  var results = {\n    index: index,\n    deltaComputations: deltaComputations,\n    nodesVisited: nodesVisited,\n    moves: moves\n  };\n\n  return results;\n}\n\nfunction directedLouvain(detailed, graph, options) {\n  var index = new DirectedLouvainIndex(graph, {\n    getEdgeWeight: options.getEdgeWeight,\n    keepDendrogram: detailed,\n    resolution: options.resolution\n  });\n\n  var randomIndex = createRandomIndex(options.rng);\n\n  // State variables\n  var moveWasMade = true,\n    localMoveWasMade = true;\n\n  // Communities\n  var currentCommunity, targetCommunity;\n  var communities = new SparseMap(Float64Array, index.C);\n\n  // Traversal\n  var queue, start, end, offset, out, weight, ci, ri, s, i, j, l;\n\n  // Metrics\n  var inDegree, outDegree, targetCommunityDegree;\n\n  // Moves\n  var bestCommunity, bestDelta, deltaIsBetter, delta;\n\n  // Details\n  var deltaComputations = 0,\n    nodesVisited = 0,\n    moves = [],\n    localMoves,\n    currentMoves;\n\n  if (options.fastLocalMoves) queue = new SparseQueueSet(index.C);\n\n  while (moveWasMade) {\n    l = index.C;\n\n    moveWasMade = false;\n    localMoveWasMade = true;\n\n    if (options.fastLocalMoves) {\n      currentMoves = 0;\n\n      // Traversal of the graph\n      ri = options.randomWalk ? randomIndex(l) : 0;\n\n      for (s = 0; s < l; s++, ri++) {\n        i = ri % l;\n        queue.enqueue(i);\n      }\n\n      while (queue.size !== 0) {\n        i = queue.dequeue();\n        nodesVisited++;\n\n        inDegree = 0;\n        outDegree = 0;\n        communities.clear();\n\n        currentCommunity = index.belongings[i];\n\n        start = index.starts[i];\n        end = index.starts[i + 1];\n        offset = index.offsets[i];\n\n        // Traversing neighbors\n        for (; start < end; start++) {\n          out = start < offset;\n          j = index.neighborhood[start];\n          weight = index.weights[start];\n\n          targetCommunity = index.belongings[j];\n\n          // Incrementing metrics\n          if (out) outDegree += weight;\n          else inDegree += weight;\n\n          addWeightToCommunity(communities, targetCommunity, weight);\n        }\n\n        // Finding best community to move to\n        bestDelta = index.deltaWithOwnCommunity(\n          i,\n          inDegree,\n          outDegree,\n          communities.get(currentCommunity) || 0,\n          currentCommunity\n        );\n        bestCommunity = currentCommunity;\n\n        for (ci = 0; ci < communities.size; ci++) {\n          targetCommunity = communities.dense[ci];\n\n          if (targetCommunity === currentCommunity) continue;\n\n          targetCommunityDegree = communities.vals[ci];\n\n          deltaComputations++;\n\n          delta = index.delta(\n            i,\n            inDegree,\n            outDegree,\n            targetCommunityDegree,\n            targetCommunity\n          );\n\n          deltaIsBetter = tieBreaker(\n            bestCommunity,\n            currentCommunity,\n            targetCommunity,\n            delta,\n            bestDelta\n          );\n\n          if (deltaIsBetter) {\n            bestDelta = delta;\n            bestCommunity = targetCommunity;\n          }\n        }\n\n        // Should we move the node?\n        if (bestDelta < 0) {\n          // NOTE: this is to allow nodes to move back to their own singleton\n          // This code however only deals with modularity (e.g. the condition\n          // about bestDelta < 0, which is the delta for moving back to\n          // singleton wrt. modularity). Indeed, rarely, the Louvain\n          // algorithm can produce such cases when a node would be better in\n          // a singleton that in its own community when considering self loops\n          // or a resolution != 1. In this case, delta with your own community\n          // is indeed less than 0. To handle different metrics, one should\n          // consider computing the delta for going back to singleton because\n          // it might not be 0.\n          bestCommunity = index.isolate(i, inDegree, outDegree);\n\n          // If the node was already in a singleton community, we don't consider\n          // a move was made\n          if (bestCommunity === currentCommunity) continue;\n        } else {\n          // If no move was made, we continue to next node\n          if (bestCommunity === currentCommunity) {\n            continue;\n          } else {\n            // Actually moving the node to a new community\n            index.move(i, inDegree, outDegree, bestCommunity);\n          }\n        }\n\n        moveWasMade = true;\n        currentMoves++;\n\n        // Adding neighbors from other communities to the queue\n        start = index.starts[i];\n        end = index.starts[i + 1];\n\n        for (; start < end; start++) {\n          j = index.neighborhood[start];\n          targetCommunity = index.belongings[j];\n\n          if (targetCommunity !== bestCommunity) queue.enqueue(j);\n        }\n      }\n\n      moves.push(currentMoves);\n    } else {\n      localMoves = [];\n      moves.push(localMoves);\n\n      // Traditional Louvain iterative traversal of the graph\n      while (localMoveWasMade) {\n        localMoveWasMade = false;\n        currentMoves = 0;\n\n        ri = options.randomWalk ? randomIndex(l) : 0;\n\n        for (s = 0; s < l; s++, ri++) {\n          i = ri % l;\n\n          nodesVisited++;\n\n          inDegree = 0;\n          outDegree = 0;\n          communities.clear();\n\n          currentCommunity = index.belongings[i];\n\n          start = index.starts[i];\n          end = index.starts[i + 1];\n          offset = index.offsets[i];\n\n          // Traversing neighbors\n          for (; start < end; start++) {\n            out = start < offset;\n            j = index.neighborhood[start];\n            weight = index.weights[start];\n\n            targetCommunity = index.belongings[j];\n\n            // Incrementing metrics\n            if (out) outDegree += weight;\n            else inDegree += weight;\n\n            addWeightToCommunity(communities, targetCommunity, weight);\n          }\n\n          // Finding best community to move to\n          bestDelta = index.deltaWithOwnCommunity(\n            i,\n            inDegree,\n            outDegree,\n            communities.get(currentCommunity) || 0,\n            currentCommunity\n          );\n          bestCommunity = currentCommunity;\n\n          for (ci = 0; ci < communities.size; ci++) {\n            targetCommunity = communities.dense[ci];\n\n            if (targetCommunity === currentCommunity) continue;\n\n            targetCommunityDegree = communities.vals[ci];\n\n            deltaComputations++;\n\n            delta = index.delta(\n              i,\n              inDegree,\n              outDegree,\n              targetCommunityDegree,\n              targetCommunity\n            );\n\n            deltaIsBetter = tieBreaker(\n              bestCommunity,\n              currentCommunity,\n              targetCommunity,\n              delta,\n              bestDelta\n            );\n\n            if (deltaIsBetter) {\n              bestDelta = delta;\n              bestCommunity = targetCommunity;\n            }\n          }\n\n          // Should we move the node?\n          if (bestDelta < 0) {\n            // NOTE: this is to allow nodes to move back to their own singleton\n            // This code however only deals with modularity (e.g. the condition\n            // about bestDelta < 0, which is the delta for moving back to\n            // singleton wrt. modularity). Indeed, rarely, the Louvain\n            // algorithm can produce such cases when a node would be better in\n            // a singleton that in its own community when considering self loops\n            // or a resolution != 1. In this case, delta with your own community\n            // is indeed less than 0. To handle different metrics, one should\n            // consider computing the delta for going back to singleton because\n            // it might not be 0.\n            bestCommunity = index.isolate(i, inDegree, outDegree);\n\n            // If the node was already in a singleton community, we don't consider\n            // a move was made\n            if (bestCommunity === currentCommunity) continue;\n          } else {\n            // If no move was made, we continue to next node\n            if (bestCommunity === currentCommunity) {\n              continue;\n            } else {\n              // Actually moving the node to a new community\n              index.move(i, inDegree, outDegree, bestCommunity);\n            }\n          }\n\n          localMoveWasMade = true;\n          currentMoves++;\n        }\n\n        localMoves.push(currentMoves);\n\n        moveWasMade = localMoveWasMade || moveWasMade;\n      }\n    }\n\n    // We continue working on the induced graph\n    if (moveWasMade) index.zoomOut();\n  }\n\n  var results = {\n    index: index,\n    deltaComputations: deltaComputations,\n    nodesVisited: nodesVisited,\n    moves: moves\n  };\n\n  return results;\n}\n\n/**\n * Function returning the communities mapping of the graph.\n *\n * @param  {boolean} assign             - Assign communities to nodes attributes?\n * @param  {boolean} detailed           - Whether to return detailed information.\n * @param  {Graph}   graph              - Target graph.\n * @param  {object}  options            - Options:\n * @param  {string}    nodeCommunityAttribute - Community node attribute name.\n * @param  {string}    getEdgeWeight          - Weight edge attribute name or getter function.\n * @param  {string}    deltaComputation       - Method to use to compute delta computations.\n * @param  {boolean}   fastLocalMoves         - Whether to use the fast local move optimization.\n * @param  {boolean}   randomWalk             - Whether to traverse the graph in random order.\n * @param  {number}    resolution             - Resolution parameter.\n * @param  {function}  rng                    - RNG function to use.\n * @return {object}\n */\nfunction louvain(assign, detailed, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-communities-louvain: the given graph is not a valid graphology instance.'\n    );\n\n  var type = inferType(graph);\n\n  if (type === 'mixed')\n    throw new Error(\n      'graphology-communities-louvain: cannot run the algorithm on a true mixed graph.'\n    );\n\n  // Attributes name\n  options = resolveDefaults(options, DEFAULTS);\n\n  // Empty graph case\n  var c = 0;\n\n  if (graph.size === 0) {\n    if (assign) {\n      graph.forEachNode(function (node) {\n        graph.setNodeAttribute(node, options.nodeCommunityAttribute, c++);\n      });\n\n      return;\n    }\n\n    var communities = {};\n\n    graph.forEachNode(function (node) {\n      communities[node] = c++;\n    });\n\n    if (!detailed) return communities;\n\n    return {\n      communities: communities,\n      count: graph.order,\n      deltaComputations: 0,\n      dendrogram: null,\n      level: 0,\n      modularity: NaN,\n      moves: null,\n      nodesVisited: 0,\n      resolution: options.resolution\n    };\n  }\n\n  var fn = type === 'undirected' ? undirectedLouvain : directedLouvain;\n\n  var results = fn(detailed, graph, options);\n\n  var index = results.index;\n\n  // Standard output\n  if (!detailed) {\n    if (assign) {\n      index.assign(options.nodeCommunityAttribute);\n      return;\n    }\n\n    return index.collect();\n  }\n\n  // Detailed output\n  var output = {\n    count: index.C,\n    deltaComputations: results.deltaComputations,\n    dendrogram: index.dendrogram,\n    level: index.level,\n    modularity: index.modularity(),\n    moves: results.moves,\n    nodesVisited: results.nodesVisited,\n    resolution: options.resolution\n  };\n\n  if (assign) {\n    index.assign(options.nodeCommunityAttribute);\n    return output;\n  }\n\n  output.communities = index.collect();\n\n  return output;\n}\n\n/**\n * Exporting.\n */\nvar fn = louvain.bind(null, false, false);\nfn.assign = louvain.bind(null, true, false);\nfn.detailed = louvain.bind(null, false, true);\nfn.defaults = DEFAULTS;\n\nmodule.exports = fn;\n","/**\n * Graphology Common GEXF Helpers\n * ===============================\n *\n * Miscellaneous helpers used by both instance of the code.\n */\n\n/**\n * Function used to cast a string value to the desired type.\n *\n * @param  {string} type - Value type.\n * @param  {string} type - String value.\n * @return {any}         - Parsed type.\n */\nexports.cast = function (type, value) {\n  switch (type) {\n    case 'boolean':\n      value = value === 'true';\n      break;\n\n    case 'integer':\n    case 'long':\n    case 'float':\n    case 'double':\n      value = +value;\n      break;\n\n    case 'liststring':\n      value = value ? value.split('|') : [];\n      break;\n\n    default:\n  }\n\n  return value;\n};\n\n/**\n * Function deleting illegal characters from a potential tag name to avoid\n * generating invalid XML.\n *\n * @param  {string} type - Tag name.\n * @return {string}\n */\nvar SANITIZE_PATTERN = /[\"'<>&\\s]/g;\n\nexports.sanitizeTagName = function sanitizeTagName(tagName) {\n  return tagName.replace(SANITIZE_PATTERN, '').trim();\n};\n","/* eslint no-self-compare: 0 */\n/**\n * Graphology Browser GEXF Parser\n * ===============================\n *\n * Browser version of the graphology GEXF parser using DOMParser to function.\n */\nvar isGraphConstructor = require('graphology-utils/is-graph-constructor');\nvar mergeEdge = require('graphology-utils/add-edge').mergeEdge;\nvar toMixed = require('graphology-operators/to-mixed');\nvar toMulti = require('graphology-operators/to-multi');\nvar helpers = require('../common/helpers.js');\n\nvar cast = helpers.cast;\n\n/**\n * Function checking whether the given value is a NaN.\n *\n * @param  {any} value - Value to test.\n * @return {boolean}\n */\nfunction isReallyNaN(value) {\n  return value !== value;\n}\n\n/**\n * Function used to convert a viz:color attribute into a CSS rgba? string.\n *\n * @param  {Node}   element - DOM element.\n * @return {string}\n */\nfunction toRGBString(element) {\n  var a = element.getAttribute('a'),\n    r = element.getAttribute('r'),\n    g = element.getAttribute('g'),\n    b = element.getAttribute('b');\n\n  return a\n    ? 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')'\n    : 'rgb(' + r + ',' + g + ',' + b + ')';\n}\n\n/**\n * Function returning the first matching tag of the `viz` namespace matching\n * the desired tag name.\n *\n * @param  {Node}   element - Target DOM element.\n * @param  {string} name    - Tag name.\n * @return {Node}\n */\nfunction getFirstMatchingVizTag(element, name) {\n  var vizElement = element.getElementsByTagName('viz:' + name)[0];\n\n  if (!vizElement) vizElement = element.getElementsByTagNameNS('viz', name)[0];\n\n  if (!vizElement) vizElement = element.getElementsByTagName(name)[0];\n\n  return vizElement;\n}\n\n/**\n * Function used to collect meta information.\n *\n * @param  {Array<Node>} elements - Target DOM element.\n * @return {object}\n */\nfunction collectMeta(elements) {\n  var meta = {},\n    element,\n    value;\n\n  for (var i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n\n    if (element.nodeName === '#text') continue;\n\n    value = element.textContent.trim();\n\n    if (value) meta[element.tagName.toLowerCase()] = element.textContent;\n  }\n\n  return meta;\n}\n\n/**\n * Function used to extract the model from the right elements.\n *\n * @param  {Array<Node>} elements - Target DOM elements.\n * @return {array}                - The model & default attributes.\n */\nfunction extractModel(elements) {\n  var model = {},\n    defaults = {},\n    element,\n    defaultElement,\n    id;\n\n  for (var i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n    id = element.getAttribute('id') || element.getAttribute('for');\n\n    model[id] = {\n      id: id,\n      type: element.getAttribute('type') || 'string',\n      title: !isReallyNaN(+id) ? element.getAttribute('title') || id : id\n    };\n\n    // Default?\n    defaultElement = element.getElementsByTagName('default')[0];\n\n    if (defaultElement)\n      defaults[model[id].title] = cast(\n        model[id].type,\n        defaultElement.textContent\n      );\n  }\n\n  return [model, defaults];\n}\n\n/**\n * Function used to collect an element's attributes.\n *\n * @param  {object} model    - Data model to use.\n * @param  {object} defaults - Default values.\n * @param  {Node}   element  - Target DOM element.\n * @return {object}          - The collected attributes.\n */\nfunction collectAttributes(model, defaults, element) {\n  var data = {},\n    label = element.getAttribute('label'),\n    weight = element.getAttribute('weight');\n\n  if (label) data.label = label;\n\n  if (weight) data.weight = +weight;\n\n  var valueElements = element.getElementsByTagName('attvalue'),\n    valueElement,\n    id;\n\n  for (var i = 0, l = valueElements.length; i < l; i++) {\n    valueElement = valueElements[i];\n    id = valueElement.getAttribute('id') || valueElement.getAttribute('for');\n\n    data[model[id].title] = cast(\n      model[id].type,\n      valueElement.getAttribute('value')\n    );\n  }\n\n  // Applying default values\n  var k;\n\n  for (k in defaults) {\n    if (!(k in data)) data[k] = defaults[k];\n  }\n\n  // TODO: shortcut here to avoid viz when namespace is not set\n\n  // Attempting to find viz namespace tags\n\n  //-- 1) Color\n  var vizElement = getFirstMatchingVizTag(element, 'color');\n\n  if (vizElement) data.color = toRGBString(vizElement);\n\n  //-- 2) Size\n  vizElement = getFirstMatchingVizTag(element, 'size');\n\n  if (vizElement) data.size = +vizElement.getAttribute('value');\n\n  //-- 3) Position\n  var x, y, z;\n\n  vizElement = getFirstMatchingVizTag(element, 'position');\n\n  if (vizElement) {\n    x = vizElement.getAttribute('x');\n    y = vizElement.getAttribute('y');\n    z = vizElement.getAttribute('z');\n\n    if (x) data.x = +x;\n    if (y) data.y = +y;\n    if (z) data.z = +z;\n  }\n\n  //-- 4) Shape\n  vizElement = getFirstMatchingVizTag(element, 'shape');\n\n  if (vizElement) data.shape = vizElement.getAttribute('value');\n\n  //-- 5) Thickness\n  vizElement = getFirstMatchingVizTag(element, 'thickness');\n\n  if (vizElement) data.thickness = +vizElement.getAttribute('value');\n\n  return data;\n}\n\n/**\n * Factory taking implementations of `DOMParser` & `Document` returning\n * the parser function.\n */\nmodule.exports = function createParserFunction(DOMParser, Document) {\n  /**\n   * Function taking either a string or a document and returning a\n   * graphology instance.\n   *\n   * @param {function}        Graph  - A graphology constructor.\n   * @param {string|Document} source - The source to parse.\n   * @param {object}          options - Parsing options.\n   */\n\n  // TODO: option to map the data to the attributes for customization, nodeModel, edgeModel, nodeReducer, edgeReducer\n  // TODO: option to disable the model mapping heuristic\n  return function parse(Graph, source, options) {\n    options = options || {};\n\n    var addMissingNodes = options.addMissingNodes === true;\n    var mergeResult;\n\n    var xmlDoc = source;\n\n    var element, result, type, attributes, id, s, t, i, l;\n\n    if (!isGraphConstructor(Graph))\n      throw new Error('graphology-gexf/parser: invalid Graph constructor.');\n\n    // If source is a string, we are going to parse it\n    if (typeof source === 'string')\n      xmlDoc = new DOMParser().parseFromString(source, 'application/xml');\n\n    if (!(xmlDoc instanceof Document))\n      throw new Error(\n        'graphology-gexf/parser: source should either be a XML document or a string.'\n      );\n\n    // Finding useful elements\n    var GRAPH_ELEMENT = xmlDoc.getElementsByTagName('graph')[0],\n      META_ELEMENT = xmlDoc.getElementsByTagName('meta')[0],\n      META_ELEMENTS = (META_ELEMENT && META_ELEMENT.childNodes) || [],\n      NODE_ELEMENTS = xmlDoc.getElementsByTagName('node'),\n      EDGE_ELEMENTS = xmlDoc.getElementsByTagName('edge'),\n      MODEL_ELEMENTS = xmlDoc.getElementsByTagName('attributes'),\n      NODE_MODEL_ELEMENTS = [],\n      EDGE_MODEL_ELEMENTS = [];\n\n    for (i = 0, l = MODEL_ELEMENTS.length; i < l; i++) {\n      element = MODEL_ELEMENTS[i];\n\n      if (element.getAttribute('class') === 'node')\n        NODE_MODEL_ELEMENTS = element.getElementsByTagName('attribute');\n      else if (element.getAttribute('class') === 'edge')\n        EDGE_MODEL_ELEMENTS = element.getElementsByTagName('attribute');\n    }\n\n    // Information\n    var DEFAULT_EDGE_TYPE =\n      GRAPH_ELEMENT.getAttribute('defaultedgetype') || 'undirected';\n\n    if (DEFAULT_EDGE_TYPE === 'mutual') DEFAULT_EDGE_TYPE = 'undirected';\n\n    // Computing models\n    result = extractModel(NODE_MODEL_ELEMENTS);\n\n    var NODE_MODEL = result[0],\n      NODE_DEFAULT_ATTRIBUTES = result[1];\n\n    result = extractModel(EDGE_MODEL_ELEMENTS);\n\n    var EDGE_MODEL = result[0],\n      EDGE_DEFAULT_ATTRIBUTES = result[1];\n\n    // Polling the first edge to guess the type of the edges\n    var graphType = EDGE_ELEMENTS[0]\n      ? EDGE_ELEMENTS[0].getAttribute('type') || DEFAULT_EDGE_TYPE\n      : 'mixed';\n\n    // Instantiating our graph\n    var graph = new Graph({\n      type: graphType\n    });\n\n    // Collecting meta\n    var meta = collectMeta(META_ELEMENTS),\n      lastModifiedDate =\n        META_ELEMENT && META_ELEMENT.getAttribute('lastmodifieddate');\n\n    graph.replaceAttributes(meta);\n\n    if (lastModifiedDate)\n      graph.setAttribute('lastModifiedDate', lastModifiedDate);\n\n    // Adding nodes\n    for (i = 0, l = NODE_ELEMENTS.length; i < l; i++) {\n      element = NODE_ELEMENTS[i];\n\n      graph.addNode(\n        element.getAttribute('id'),\n        collectAttributes(NODE_MODEL, NODE_DEFAULT_ATTRIBUTES, element)\n      );\n    }\n\n    // Adding edges\n    for (i = 0, l = EDGE_ELEMENTS.length; i < l; i++) {\n      element = EDGE_ELEMENTS[i];\n\n      id = element.getAttribute('id');\n      type = element.getAttribute('type') || DEFAULT_EDGE_TYPE;\n      s = element.getAttribute('source');\n      t = element.getAttribute('target');\n      attributes = collectAttributes(\n        EDGE_MODEL,\n        EDGE_DEFAULT_ATTRIBUTES,\n        element\n      );\n\n      // If we encountered an edge with a different type, we upgrade the graph\n      if (type !== graph.type && graph.type !== 'mixed') {\n        graph = toMixed(graph);\n      }\n\n      // If we encountered twice the same edge, we upgrade the graph\n      if (\n        !graph.multi &&\n        ((type === 'directed' && graph.hasDirectedEdge(s, t)) ||\n          graph.hasUndirectedEdge(s, t))\n      ) {\n        graph = toMulti(graph);\n      }\n\n      mergeResult = mergeEdge(\n        graph,\n        type !== 'directed',\n        id || null,\n        s,\n        t,\n        attributes\n      );\n\n      if (!addMissingNodes && (mergeResult[2] || mergeResult[3])) {\n        throw new Error(\n          'graphology-gexf/parser: one of your gexf file edges points to an inexisting node. Set the parser `addMissingNodes` option to `true` if you do not care.'\n        );\n      }\n    }\n\n    return graph;\n  };\n};\n","/* eslint no-self-compare: 0 */\n/**\n * Graphology Common GEXF Writer\n * ==============================\n *\n * GEXF writer working for both node.js & the browser.\n */\nvar isGraph = require('graphology-utils/is-graph'),\n  inferType = require('graphology-utils/infer-type'),\n  XMLWriter = require('xml-writer'),\n  sanitizeTagName = require('./helpers.js').sanitizeTagName;\n\n// TODO: handle object in color, position with object for viz\n\n/**\n * Constants.\n */\nvar GEXF_NAMESPACE = 'http://www.gexf.net/1.2draft',\n  GEXF_VIZ_NAMESPACE = 'http:///www.gexf.net/1.1draft/viz';\n\nvar VIZ_RESERVED_NAMES = new Set([\n  'color',\n  'size',\n  'x',\n  'y',\n  'z',\n  'shape',\n  'thickness'\n]);\n\nvar RGBA_TEST = /^\\s*rgba?\\s*\\(/i,\n  RGBA_MATCH =\n    /^\\s*rgba?\\s*\\(\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*,\\s*([0-9]*)\\s*(?:,\\s*([.0-9]*))?\\)\\s*$/;\n\n/**\n * Function used to transform a CSS color into a RGBA object.\n *\n * @param  {string} value - Target value.\n * @return {object}\n */\nfunction CSSColorToRGBA(value) {\n  if (!value || typeof value !== 'string') return {};\n\n  if (value[0] === '#') {\n    value = value.slice(1);\n\n    return value.length === 3\n      ? {\n          r: parseInt(value[0] + value[0], 16),\n          g: parseInt(value[1] + value[1], 16),\n          b: parseInt(value[2] + value[2], 16)\n        }\n      : {\n          r: parseInt(value[0] + value[1], 16),\n          g: parseInt(value[2] + value[3], 16),\n          b: parseInt(value[4] + value[5], 16)\n        };\n  } else if (RGBA_TEST.test(value)) {\n    var result = {};\n\n    value = value.match(RGBA_MATCH);\n    result.r = +value[1];\n    result.g = +value[2];\n    result.b = +value[3];\n\n    if (value[4]) result.a = +value[4];\n\n    return result;\n  }\n\n  return {};\n}\n\n/**\n * Function used to map an element's attributes to a standardized map of\n * GEXF expected properties (label, viz, attributes).\n *\n * @param  {string} type       - The element's type.\n * @param  {string} key        - The element's key.\n * @param  {object} attributes - The element's attributes.\n * @return {object}\n */\nfunction DEFAULT_ELEMENT_FORMATTER(type, key, attributes) {\n  var output = {},\n    name;\n\n  for (name in attributes) {\n    if (name === 'label') {\n      output.label = attributes.label;\n    } else if (type === 'edge' && name === 'weight') {\n      output.weight = attributes.weight;\n    } else if (VIZ_RESERVED_NAMES.has(name)) {\n      output.viz = output.viz || {};\n      output.viz[name] = attributes[name];\n    } else {\n      output.attributes = output.attributes || {};\n      output.attributes[name] = attributes[name];\n    }\n  }\n\n  return output;\n}\n\nvar DEFAULT_NODE_FORMATTER = DEFAULT_ELEMENT_FORMATTER.bind(null, 'node'),\n  DEFAULT_EDGE_FORMATTER = DEFAULT_ELEMENT_FORMATTER.bind(null, 'edge');\n\n/**\n * Function used to check whether the given integer is 32 bits or not.\n *\n * @param  {number} number - Target number.\n * @return {boolean}\n */\nfunction is32BitInteger(number) {\n  return number <= 0x7fffffff && number >= -0x7fffffff;\n}\n\n/**\n * Function used to check whether the given value is \"empty\".\n *\n * @param  {any} value - Target value.\n * @return {boolean}\n */\nfunction isEmptyValue(value) {\n  return (\n    typeof value === 'undefined' ||\n    value === null ||\n    value === '' ||\n    value !== value\n  );\n}\n\n/**\n * Function used to detect a JavaScript's value type in the GEXF model.\n *\n * @param  {any}    value - Target value.\n * @return {string}\n */\nfunction detectValueType(value) {\n  if (isEmptyValue(value)) return 'empty';\n\n  if (Array.isArray(value)) return 'liststring';\n\n  if (typeof value === 'boolean') return 'boolean';\n\n  if (typeof value === 'object') return 'string';\n\n  // Numbers\n  if (typeof value === 'number') {\n    // Integer\n    if (value === (value | 0)) {\n      // Long (JavaScript integer can go up to 53 bit)?\n      return is32BitInteger(value) ? 'integer' : 'long';\n    }\n\n    // JavaScript numbers are 64 bit float, hence the double\n    return 'double';\n  }\n\n  return 'string';\n}\n\n/**\n * Function used to cast the given value into the given type.\n *\n * @param  {string} type  - Target type.\n * @param  {any}    value - Value to cast.\n * @return {string}\n */\nfunction cast(type, value) {\n  if (type === 'liststring' && Array.isArray(value)) return value.join('|');\n  return '' + value;\n}\n\n/**\n * Function used to collect data from a graph's nodes.\n *\n * @param  {Graph}    graph   - Target graph.\n * @param  {function} format  - Function formatting the nodes attributes.\n * @return {array}\n */\nfunction collectNodeData(graph, format) {\n  var nodes = new Array(graph.order);\n  var i = 0;\n\n  graph.forEachNode(function (node, attr) {\n    var data = format(node, attr);\n    data.key = node;\n    nodes[i++] = data;\n  });\n\n  return nodes;\n}\n\n/**\n * Function used to collect data from a graph's edges.\n *\n * @param  {Graph}    graph   - Target graph.\n * @param  {function} reducer - Function reducing the edges attributes.\n * @return {array}\n */\nfunction collectEdgeData(graph, reducer) {\n  var edges = new Array(graph.size);\n  var i = 0;\n\n  graph.forEachEdge(function (\n    edge,\n    attr,\n    source,\n    target,\n    _sa,\n    _ta,\n    undirected\n  ) {\n    var data = reducer(edge, attr);\n    data.key = edge;\n    data.source = source;\n    data.target = target;\n    data.undirected = undirected;\n    edges[i++] = data;\n  });\n\n  return edges;\n}\n\n/**\n * Function used to infer the model of the graph's nodes or edges.\n *\n * @param  {array} elements - The graph's relevant elements.\n * @return {array}\n */\n\n// TODO: on large graph, we could also sample or let the user indicate the types\nfunction inferModel(elements) {\n  var model = {},\n    attributes,\n    type,\n    k;\n\n  // Testing every attributes\n  for (var i = 0, l = elements.length; i < l; i++) {\n    attributes = elements[i].attributes;\n\n    if (!attributes) continue;\n\n    for (k in attributes) {\n      type = detectValueType(attributes[k]);\n\n      if (type === 'empty') continue;\n\n      if (!model[k]) model[k] = type;\n      else {\n        if (model[k] === 'integer' && type === 'long') model[k] = type;\n        else if (model[k] !== type) model[k] = 'string';\n      }\n    }\n  }\n\n  // TODO: check default values\n  return model;\n}\n\n/**\n * Function used to write a model.\n *\n * @param {XMLWriter} writer     - The writer to use.\n * @param {object}    model      - Model to write.\n * @param {string}    modelClass - Class of the model.\n */\nfunction writeModel(writer, model, modelClass) {\n  var name;\n\n  if (!Object.keys(model).length) return;\n\n  writer.startElement('attributes');\n  writer.writeAttribute('class', modelClass);\n\n  for (name in model) {\n    writer.startElement('attribute');\n    writer.writeAttribute('id', name);\n    writer.writeAttribute('title', name);\n    writer.writeAttribute('type', model[name]);\n    writer.endElement();\n  }\n\n  writer.endElement();\n}\n\nfunction writeElements(writer, type, model, elements) {\n  var emptyModel = !Object.keys(model).length,\n    element,\n    name,\n    color,\n    value,\n    edgeType,\n    attributes,\n    weight,\n    viz,\n    k,\n    i,\n    l;\n\n  writer.startElement(type + 's');\n\n  for (i = 0, l = elements.length; i < l; i++) {\n    element = elements[i];\n    attributes = element.attributes;\n    viz = element.viz;\n\n    writer.startElement(type);\n    writer.writeAttribute('id', element.key);\n\n    if (type === 'edge') {\n      edgeType = element.undirected ? 'undirected' : 'directed';\n\n      if (edgeType !== writer.defaultEdgeType)\n        writer.writeAttribute('type', edgeType);\n\n      writer.writeAttribute('source', element.source);\n      writer.writeAttribute('target', element.target);\n\n      weight = element.weight;\n\n      if (\n        (typeof weight === 'number' && !isNaN(weight)) ||\n        typeof weight === 'string'\n      )\n        writer.writeAttribute('weight', element.weight);\n    }\n\n    if (element.label) writer.writeAttribute('label', element.label);\n\n    if (!emptyModel && attributes) {\n      writer.startElement('attvalues');\n\n      for (name in model) {\n        if (name in attributes) {\n          value = attributes[name];\n\n          if (isEmptyValue(value)) continue;\n\n          writer.startElement('attvalue');\n          writer.writeAttribute('for', name);\n          writer.writeAttribute('value', cast(model[name], value));\n          writer.endElement();\n        }\n      }\n\n      writer.endElement();\n    }\n\n    if (viz) {\n      //-- 1) Color\n      if (viz.color) {\n        color = CSSColorToRGBA(viz.color);\n\n        writer.startElementNS('viz', 'color');\n\n        for (k in color) writer.writeAttribute(k, color[k]);\n\n        writer.endElement();\n      }\n\n      //-- 2) Size\n      if ('size' in viz) {\n        writer.startElementNS('viz', 'size');\n        writer.writeAttribute('value', viz.size);\n        writer.endElement();\n      }\n\n      //-- 3) Position\n      if ('x' in viz || 'y' in viz || 'z' in viz) {\n        writer.startElementNS('viz', 'position');\n\n        if ('x' in viz) writer.writeAttribute('x', viz.x);\n\n        if ('y' in viz) writer.writeAttribute('y', viz.y);\n\n        if ('z' in viz) writer.writeAttribute('z', viz.z);\n\n        writer.endElement();\n      }\n\n      //-- 4) Shape\n      if (viz.shape) {\n        writer.startElementNS('viz', 'shape');\n        writer.writeAttribute('value', viz.shape);\n        writer.endElement();\n      }\n\n      //-- 5) Thickness\n      if ('thickness' in viz) {\n        writer.startElementNS('viz', 'thickness');\n        writer.writeAttribute('value', viz.thickness);\n        writer.endElement();\n      }\n    }\n\n    writer.endElement();\n  }\n\n  writer.endElement();\n}\n\n/**\n * Defaults.\n */\nvar DEFAULTS = {\n  encoding: 'UTF-8',\n  pretty: true,\n  formatNode: DEFAULT_NODE_FORMATTER,\n  formatEdge: DEFAULT_EDGE_FORMATTER\n};\n\n/**\n * Function taking a graphology instance & outputting a gexf string.\n *\n * @param  {Graph}  graph        - Target graphology instance.\n * @param  {object} options      - Options:\n * @param  {string}   [encoding]   - Character encoding.\n * @param  {boolean}  [pretty]     - Whether to pretty print output.\n * @param  {function} [formatNode] - Function formatting nodes' output.\n * @param  {function} [formatEdge] - Function formatting edges' output.\n * @return {string}              - GEXF string.\n */\nmodule.exports = function write(graph, options) {\n  if (!isGraph(graph))\n    throw new Error('graphology-gexf/writer: invalid graphology instance.');\n\n  options = options || {};\n\n  var indent = options.pretty === false ? false : '  ';\n\n  var formatNode = options.formatNode || DEFAULTS.formatNode,\n    formatEdge = options.formatEdge || DEFAULTS.formatEdge;\n\n  var writer = new XMLWriter(indent);\n\n  writer.startDocument('1.0', options.encoding || DEFAULTS.encoding);\n\n  // Starting gexf\n  writer.startElement('gexf');\n  writer.writeAttribute('version', '1.2');\n  writer.writeAttribute('xmlns', GEXF_NAMESPACE);\n  writer.writeAttribute('xmlns:viz', GEXF_VIZ_NAMESPACE);\n\n  // Processing meta\n  writer.startElement('meta');\n  var graphAttributes = graph.getAttributes();\n\n  if (graphAttributes.lastModifiedDate)\n    writer.writeAttribute('lastmodifieddate', graphAttributes.lastModifiedDate);\n\n  var metaTagName;\n  var graphAttribute;\n\n  for (var k in graphAttributes) {\n    if (k === 'lastModifiedDate') continue;\n\n    metaTagName = sanitizeTagName(k);\n\n    if (!metaTagName) continue;\n\n    graphAttribute = graphAttributes[k];\n\n    // NOTE: if the graph attribute is not a scalar, we do not bother writing\n    // it as metadata in the gexf output. This means the writer/parser is not\n    // idempotent, but we cannot do better because the gexf format does not\n    // allow it, since it was not meant to handle complex values as graph\n    // metadata anyway.\n    if (\n      typeof graphAttribute === 'string' ||\n      typeof graphAttribute === 'number' ||\n      typeof graphAttribute === 'boolean'\n    ) {\n      writer.writeElement(metaTagName, '' + graphAttribute);\n    }\n  }\n\n  writer.endElement();\n  writer.startElement('graph');\n\n  var type = inferType(graph);\n\n  writer.defaultEdgeType = type === 'mixed' ? 'directed' : type;\n\n  writer.writeAttribute('defaultedgetype', writer.defaultEdgeType);\n\n  // Processing model\n  var nodes = collectNodeData(graph, formatNode),\n    edges = collectEdgeData(graph, formatEdge);\n\n  var nodeModel = inferModel(nodes);\n\n  writeModel(writer, nodeModel, 'node');\n\n  var edgeModel = inferModel(edges);\n\n  writeModel(writer, edgeModel, 'edge');\n\n  // Processing nodes\n  writeElements(writer, 'node', nodeModel, nodes);\n\n  // Processing edges\n  writeElements(writer, 'edge', edgeModel, edges);\n\n  return writer.toString();\n};\n","/**\n * Graphology GEXF\n * ================\n *\n * Library endpoint.\n */\nmodule.exports = require('./node/index.js');\n","/**\n * Graphology Node GEXF Endpoint\n * ==============================\n *\n * Endpoint gathering both parser & writer for Node.js.\n */\nvar xmldom = require('@xmldom/xmldom');\nvar createParserFunction = require('../common/parser.js');\n\nvar doc = new xmldom.DOMParser().parseFromString('<t></t>', 'application/xml');\n\nexports.parse = createParserFunction(xmldom.DOMParser, doc.constructor);\nexports.write = require('../common/writer.js');\n","/**\n * Graphology Louvain Indices\n * ===========================\n *\n * Undirected & Directed Louvain Index structures used to compute the famous\n * Louvain community detection algorithm.\n *\n * Most of the rationale is explained in `graphology-metrics`.\n *\n * Note that this index shares a lot with the classic Union-Find data\n * structure. It also relies on a unused id stack to make sure we can\n * increase again the number of communites when isolating nodes.\n *\n * [Articles]\n * M. E. J. Newman,  Modularity and community structure in networks ,\n * Proc. Natl. Acad. Sci. USA, vol. 103, no 23, 2006, p. 85778582\n * https://dx.doi.org/10.1073%2Fpnas.0601602103\n *\n * Newman, M. E. J.  Community detection in networks: Modularity optimization\n * and maximum likelihood are equivalent . Physical Review E, vol. 94, no 5,\n * novembre 2016, p. 052315. arXiv.org, doi:10.1103/PhysRevE.94.052315.\n * https://arxiv.org/pdf/1606.02319.pdf\n *\n * Blondel, Vincent D., et al.  Fast unfolding of communities in large\n * networks . Journal of Statistical Mechanics: Theory and Experiment,\n * vol. 2008, no 10, octobre 2008, p. P10008. DOI.org (Crossref),\n * doi:10.1088/1742-5468/2008/10/P10008.\n * https://arxiv.org/pdf/0803.0476.pdf\n *\n * Nicolas Dugue, Anthony Perez. Directed Louvain: maximizing modularity in\n * directed networks. [Research Report] Universite dOrleans. 2015. hal-01231784\n * https://hal.archives-ouvertes.fr/hal-01231784\n *\n * R. Lambiotte, J.-C. Delvenne and M. Barahona. Laplacian Dynamics and\n * Multiscale Modular Structure in Networks,\n * doi:10.1109/TNSE.2015.2391998.\n * https://arxiv.org/abs/0812.1770\n *\n * [Latex]:\n *\n * Undirected Case:\n * ----------------\n *\n * \\Delta Q=\\bigg{[}\\frac{\\sum^{c}_{in}-(2d_{c}+l)}{2m}-\\bigg{(}\\frac{\\sum^{c}_{tot}-(d+l)}{2m}\\bigg{)}^{2}+\\frac{\\sum^{t}_{in}+(2d_{t}+l)}{2m}-\\bigg{(}\\frac{\\sum^{t}_{tot}+(d+l)}{2m}\\bigg{)}^{2}\\bigg{]}-\\bigg{[}\\frac{\\sum^{c}_{in}}{2m}-\\bigg{(}\\frac{\\sum^{c}_{tot}}{2m}\\bigg{)}^{2}+\\frac{\\sum^{t}_{in}}{2m}-\\bigg{(}\\frac{\\sum^{t}_{tot}}{2m}\\bigg{)}^{2}\\bigg{]}\n * \\Delta Q=\\frac{d_{t}-d_{c}}{m}+\\frac{l\\sum^{c}_{tot}+d\\sum^{c}_{tot}-d^{2}-l^{2}-2dl-l\\sum^{t}_{tot}-d\\sum^{t}_{tot}}{2m^{2}}\n * \\Delta Q=\\frac{d_{t}-d_{c}}{m}+\\frac{(l+d)\\sum^{c}_{tot}-d^{2}-l^{2}-2dl-(l+d)\\sum^{t}_{tot}}{2m^{2}}\n *\n * Directed Case:\n * --------------\n * \\Delta Q_d=\\bigg{[}\\frac{\\sum^{c}_{in}-(d_{c.in}+d_{c.out}+l)}{m}-\\frac{(\\sum^{c}_{tot.in}-(d_{in}+l))(\\sum^{c}_{tot.out}-(d_{out}+l))}{m^{2}}+\\frac{\\sum^{t}_{in}+(d_{t.in}+d_{t.out}+l)}{m}-\\frac{(\\sum^{t}_{tot.in}+(d_{in}+l))(\\sum^{t}_{tot.out}+(d_{out}+l))}{m^{2}}\\bigg{]}-\\bigg{[}\\frac{\\sum^{c}_{in}}{m}-\\frac{\\sum^{c}_{tot.in}\\sum^{c}_{tot.out}}{m^{2}}+\\frac{\\sum^{t}_{in}}{m}-\\frac{\\sum^{t}_{tot.in}\\sum^{t}_{tot.out}}{m^{2}}\\bigg{]}\n *\n * [Notes]:\n * Louvain is a bit unclear on this but delta computation are not derived from\n * Q1 - Q2 but rather between Q when considered node is isolated in its own\n * community versus Q with this node in target community. This is in fact\n * an optimization because the subtract part is constant in the formulae and\n * does not affect delta comparisons.\n */\nvar typed = require('mnemonist/utils/typed-arrays');\nvar resolveDefaults = require('graphology-utils/defaults');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\n\nvar INSPECT = Symbol.for('nodejs.util.inspect.custom');\n\nvar DEFAULTS = {\n  getEdgeWeight: 'weight',\n  keepDendrogram: false,\n  resolution: 1\n};\n\nfunction UndirectedLouvainIndex(graph, options) {\n  // Solving options\n  options = resolveDefaults(options, DEFAULTS);\n\n  var resolution = options.resolution;\n\n  // Weight getters\n  var getEdgeWeight = createEdgeWeightGetter(options.getEdgeWeight).fromEntry;\n\n  // Building the index\n  var size = (graph.size - graph.selfLoopCount) * 2;\n\n  var NeighborhoodPointerArray = typed.getPointerArray(size);\n  var NodesPointerArray = typed.getPointerArray(graph.order + 1);\n\n  // NOTE: this memory optimization can yield overflow deopt when computing deltas\n  var WeightsArray = options.getEdgeWeight\n    ? Float64Array\n    : typed.getPointerArray(graph.size * 2);\n\n  // Properties\n  this.C = graph.order;\n  this.M = 0;\n  this.E = size;\n  this.U = 0;\n  this.resolution = resolution;\n  this.level = 0;\n  this.graph = graph;\n  this.nodes = new Array(graph.order);\n  this.keepDendrogram = options.keepDendrogram;\n\n  // Edge-level\n  this.neighborhood = new NodesPointerArray(size);\n  this.weights = new WeightsArray(size);\n\n  // Node-level\n  this.loops = new WeightsArray(graph.order);\n  this.starts = new NeighborhoodPointerArray(graph.order + 1);\n  this.belongings = new NodesPointerArray(graph.order);\n  this.dendrogram = [];\n  this.mapping = null;\n\n  // Community-level\n  this.counts = new NodesPointerArray(graph.order);\n  this.unused = new NodesPointerArray(graph.order);\n  this.totalWeights = new WeightsArray(graph.order);\n\n  var ids = {};\n\n  var weight;\n\n  var i = 0,\n    n = 0;\n\n  var self = this;\n\n  graph.forEachNode(function (node) {\n    self.nodes[i] = node;\n\n    // Node map to index\n    ids[node] = i;\n\n    // Initializing starts\n    n += graph.undirectedDegreeWithoutSelfLoops(node);\n    self.starts[i] = n;\n\n    // Belongings\n    self.belongings[i] = i;\n    self.counts[i] = 1;\n    i++;\n  });\n\n  // Single sweep over the edges\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    weight = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n\n    source = ids[source];\n    target = ids[target];\n\n    self.M += weight;\n\n    // Self loop?\n    if (source === target) {\n      self.totalWeights[source] += weight * 2;\n      self.loops[source] = weight * 2;\n    } else {\n      self.totalWeights[source] += weight;\n      self.totalWeights[target] += weight;\n\n      var startSource = --self.starts[source],\n        startTarget = --self.starts[target];\n\n      self.neighborhood[startSource] = target;\n      self.neighborhood[startTarget] = source;\n\n      self.weights[startSource] = weight;\n      self.weights[startTarget] = weight;\n    }\n  });\n\n  this.starts[i] = this.E;\n\n  if (this.keepDendrogram) this.dendrogram.push(this.belongings.slice());\n  else this.mapping = this.belongings.slice();\n}\n\nUndirectedLouvainIndex.prototype.isolate = function (i, degree) {\n  var currentCommunity = this.belongings[i];\n\n  // The node is already isolated\n  if (this.counts[currentCommunity] === 1) return currentCommunity;\n\n  var newCommunity = this.unused[--this.U];\n\n  var loops = this.loops[i];\n\n  this.totalWeights[currentCommunity] -= degree + loops;\n  this.totalWeights[newCommunity] += degree + loops;\n\n  this.belongings[i] = newCommunity;\n\n  this.counts[currentCommunity]--;\n  this.counts[newCommunity]++;\n\n  return newCommunity;\n};\n\nUndirectedLouvainIndex.prototype.move = function (i, degree, targetCommunity) {\n  var currentCommunity = this.belongings[i],\n    loops = this.loops[i];\n\n  this.totalWeights[currentCommunity] -= degree + loops;\n  this.totalWeights[targetCommunity] += degree + loops;\n\n  this.belongings[i] = targetCommunity;\n\n  var nowEmpty = this.counts[currentCommunity]-- === 1;\n  this.counts[targetCommunity]++;\n\n  if (nowEmpty) this.unused[this.U++] = currentCommunity;\n};\n\nUndirectedLouvainIndex.prototype.computeNodeDegree = function (i) {\n  var o, l, weight;\n\n  var degree = 0;\n\n  for (o = this.starts[i], l = this.starts[i + 1]; o < l; o++) {\n    weight = this.weights[o];\n\n    degree += weight;\n  }\n\n  return degree;\n};\n\nUndirectedLouvainIndex.prototype.expensiveIsolate = function (i) {\n  var degree = this.computeNodeDegree(i);\n  return this.isolate(i, degree);\n};\n\nUndirectedLouvainIndex.prototype.expensiveMove = function (i, ci) {\n  var degree = this.computeNodeDegree(i);\n  this.move(i, degree, ci);\n};\n\nUndirectedLouvainIndex.prototype.zoomOut = function () {\n  var inducedGraph = new Array(this.C - this.U),\n    newLabels = {};\n\n  var N = this.nodes.length;\n\n  var C = 0,\n    E = 0;\n\n  var i, j, l, m, n, ci, cj, data, adj;\n\n  // Renumbering communities\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    if (!(ci in newLabels)) {\n      newLabels[ci] = C;\n      inducedGraph[C] = {\n        adj: {},\n        totalWeights: this.totalWeights[ci],\n        internalWeights: 0\n      };\n      C++;\n    }\n\n    // We do this to otpimize the number of lookups in next loop\n    this.belongings[i] = newLabels[ci];\n  }\n\n  // Actualizing dendrogram\n  var currentLevel, nextLevel;\n\n  if (this.keepDendrogram) {\n    currentLevel = this.dendrogram[this.level];\n    nextLevel = new (typed.getPointerArray(C))(N);\n\n    for (i = 0; i < N; i++) nextLevel[i] = this.belongings[currentLevel[i]];\n\n    this.dendrogram.push(nextLevel);\n  } else {\n    for (i = 0; i < N; i++) this.mapping[i] = this.belongings[this.mapping[i]];\n  }\n\n  // Building induced graph matrix\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    data = inducedGraph[ci];\n    adj = data.adj;\n    data.internalWeights += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      n = this.neighborhood[j];\n      cj = this.belongings[n];\n\n      if (ci === cj) {\n        data.internalWeights += this.weights[j];\n        continue;\n      }\n\n      if (!(cj in adj)) adj[cj] = 0;\n\n      adj[cj] += this.weights[j];\n    }\n  }\n\n  // Rewriting neighborhood\n  this.C = C;\n\n  n = 0;\n\n  for (ci = 0; ci < C; ci++) {\n    data = inducedGraph[ci];\n    adj = data.adj;\n\n    ci = +ci;\n\n    this.totalWeights[ci] = data.totalWeights;\n    this.loops[ci] = data.internalWeights;\n    this.counts[ci] = 1;\n\n    this.starts[ci] = n;\n    this.belongings[ci] = ci;\n\n    for (cj in adj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = adj[cj];\n\n      E++;\n      n++;\n    }\n  }\n\n  this.starts[C] = E;\n\n  this.E = E;\n  this.U = 0;\n  this.level++;\n\n  return newLabels;\n};\n\nUndirectedLouvainIndex.prototype.modularity = function () {\n  var ci, cj, i, j, m;\n\n  var Q = 0;\n  var M2 = this.M * 2;\n  var internalWeights = new Float64Array(this.C);\n\n  for (i = 0; i < this.C; i++) {\n    ci = this.belongings[i];\n    internalWeights[ci] += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      cj = this.belongings[this.neighborhood[j]];\n\n      if (ci !== cj) continue;\n\n      internalWeights[ci] += this.weights[j];\n    }\n  }\n\n  for (i = 0; i < this.C; i++) {\n    Q +=\n      internalWeights[i] / M2 -\n      Math.pow(this.totalWeights[i] / M2, 2) * this.resolution;\n  }\n\n  return Q;\n};\n\nUndirectedLouvainIndex.prototype.delta = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree / M - // NOTE: formula is a bit different here because targetCommunityDegree is passed without * 2\n    (targetCommunityTotalWeight * degree * this.resolution) / (2 * M * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.deltaWithOwnCommunity = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree / M - // NOTE: formula is a bit different here because targetCommunityDegree is passed without * 2\n    ((targetCommunityTotalWeight - degree) * degree * this.resolution) /\n      (2 * M * M)\n  );\n};\n\n// NOTE: this is just a faster but equivalent version of #.delta\n// It is just off by a constant factor and is just faster to compute\nUndirectedLouvainIndex.prototype.fastDelta = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree -\n    (degree * targetCommunityTotalWeight * this.resolution) / (2 * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.fastDeltaWithOwnCommunity = function (\n  i,\n  degree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalWeight = this.totalWeights[targetCommunity];\n\n  degree += this.loops[i];\n\n  return (\n    targetCommunityDegree -\n    (degree * (targetCommunityTotalWeight - degree) * this.resolution) / (2 * M)\n  );\n};\n\nUndirectedLouvainIndex.prototype.bounds = function (i) {\n  return [this.starts[i], this.starts[i + 1]];\n};\n\nUndirectedLouvainIndex.prototype.project = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.starts[i], self.starts[i + 1])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nUndirectedLouvainIndex.prototype.collect = function (level) {\n  if (arguments.length < 1) level = this.level;\n\n  var o = {};\n\n  var mapping = this.keepDendrogram ? this.dendrogram[level] : this.mapping;\n\n  var i, l;\n\n  for (i = 0, l = mapping.length; i < l; i++) o[this.nodes[i]] = mapping[i];\n\n  return o;\n};\n\nUndirectedLouvainIndex.prototype.assign = function (prop, level) {\n  if (arguments.length < 2) level = this.level;\n\n  var mapping = this.keepDendrogram ? this.dendrogram[level] : this.mapping;\n\n  var i, l;\n\n  for (i = 0, l = mapping.length; i < l; i++)\n    this.graph.setNodeAttribute(this.nodes[i], prop, mapping[i]);\n};\n\nUndirectedLouvainIndex.prototype[INSPECT] = function () {\n  var proxy = {};\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: UndirectedLouvainIndex,\n    enumerable: false\n  });\n\n  proxy.C = this.C;\n  proxy.M = this.M;\n  proxy.E = this.E;\n  proxy.U = this.U;\n  proxy.resolution = this.resolution;\n  proxy.level = this.level;\n  proxy.nodes = this.nodes;\n  proxy.starts = this.starts.slice(0, proxy.C + 1);\n\n  var eTruncated = ['neighborhood', 'weights'];\n  var cTruncated = ['counts', 'loops', 'belongings', 'totalWeights'];\n\n  var self = this;\n\n  eTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.E);\n  });\n\n  cTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.C);\n  });\n\n  proxy.unused = this.unused.slice(0, this.U);\n\n  if (this.keepDendrogram) proxy.dendrogram = this.dendrogram;\n  else proxy.mapping = this.mapping;\n\n  return proxy;\n};\n\nfunction DirectedLouvainIndex(graph, options) {\n  // Solving options\n  options = resolveDefaults(options, DEFAULTS);\n\n  var resolution = options.resolution;\n\n  // Weight getters\n  var getEdgeWeight = createEdgeWeightGetter(options.getEdgeWeight).fromEntry;\n\n  // Building the index\n  var size = (graph.size - graph.selfLoopCount) * 2;\n\n  var NeighborhoodPointerArray = typed.getPointerArray(size);\n  var NodesPointerArray = typed.getPointerArray(graph.order + 1);\n\n  // NOTE: this memory optimization can yield overflow deopt when computing deltas\n  var WeightsArray = options.getEdgeWeight\n    ? Float64Array\n    : typed.getPointerArray(graph.size * 2);\n\n  // Properties\n  this.C = graph.order;\n  this.M = 0;\n  this.E = size;\n  this.U = 0;\n  this.resolution = resolution;\n  this.level = 0;\n  this.graph = graph;\n  this.nodes = new Array(graph.order);\n  this.keepDendrogram = options.keepDendrogram;\n\n  // Edge-level\n  // NOTE: edges are stored out then in, in this order\n  this.neighborhood = new NodesPointerArray(size);\n  this.weights = new WeightsArray(size);\n\n  // Node-level\n  this.loops = new WeightsArray(graph.order);\n  this.starts = new NeighborhoodPointerArray(graph.order + 1);\n  this.offsets = new NeighborhoodPointerArray(graph.order);\n  this.belongings = new NodesPointerArray(graph.order);\n  this.dendrogram = [];\n\n  // Community-level\n  this.counts = new NodesPointerArray(graph.order);\n  this.unused = new NodesPointerArray(graph.order);\n  this.totalInWeights = new WeightsArray(graph.order);\n  this.totalOutWeights = new WeightsArray(graph.order);\n\n  var ids = {};\n\n  var weight;\n\n  var i = 0,\n    n = 0;\n\n  var self = this;\n\n  graph.forEachNode(function (node) {\n    self.nodes[i] = node;\n\n    // Node map to index\n    ids[node] = i;\n\n    // Initializing starts & offsets\n    n += graph.outDegreeWithoutSelfLoops(node);\n    self.starts[i] = n;\n\n    n += graph.inDegreeWithoutSelfLoops(node);\n    self.offsets[i] = n;\n\n    // Belongings\n    self.belongings[i] = i;\n    self.counts[i] = 1;\n    i++;\n  });\n\n  // Single sweep over the edges\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    weight = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n\n    source = ids[source];\n    target = ids[target];\n\n    self.M += weight;\n\n    // Self loop?\n    if (source === target) {\n      self.loops[source] += weight;\n      self.totalInWeights[source] += weight;\n      self.totalOutWeights[source] += weight;\n    } else {\n      self.totalOutWeights[source] += weight;\n      self.totalInWeights[target] += weight;\n\n      var startSource = --self.starts[source],\n        startTarget = --self.offsets[target];\n\n      self.neighborhood[startSource] = target;\n      self.neighborhood[startTarget] = source;\n\n      self.weights[startSource] = weight;\n      self.weights[startTarget] = weight;\n    }\n  });\n\n  this.starts[i] = this.E;\n\n  if (this.keepDendrogram) this.dendrogram.push(this.belongings.slice());\n  else this.mapping = this.belongings.slice();\n}\n\nDirectedLouvainIndex.prototype.bounds = UndirectedLouvainIndex.prototype.bounds;\n\nDirectedLouvainIndex.prototype.inBounds = function (i) {\n  return [this.offsets[i], this.starts[i + 1]];\n};\n\nDirectedLouvainIndex.prototype.outBounds = function (i) {\n  return [this.starts[i], this.offsets[i]];\n};\n\nDirectedLouvainIndex.prototype.project =\n  UndirectedLouvainIndex.prototype.project;\n\nDirectedLouvainIndex.prototype.projectIn = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.offsets[i], self.starts[i + 1])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nDirectedLouvainIndex.prototype.projectOut = function () {\n  var self = this;\n\n  var projection = {};\n\n  self.nodes.slice(0, this.C).forEach(function (node, i) {\n    projection[node] = Array.from(\n      self.neighborhood.slice(self.starts[i], self.offsets[i])\n    ).map(function (j) {\n      return self.nodes[j];\n    });\n  });\n\n  return projection;\n};\n\nDirectedLouvainIndex.prototype.isolate = function (i, inDegree, outDegree) {\n  var currentCommunity = this.belongings[i];\n\n  // The node is already isolated\n  if (this.counts[currentCommunity] === 1) return currentCommunity;\n\n  var newCommunity = this.unused[--this.U];\n\n  var loops = this.loops[i];\n\n  this.totalInWeights[currentCommunity] -= inDegree + loops;\n  this.totalInWeights[newCommunity] += inDegree + loops;\n\n  this.totalOutWeights[currentCommunity] -= outDegree + loops;\n  this.totalOutWeights[newCommunity] += outDegree + loops;\n\n  this.belongings[i] = newCommunity;\n\n  this.counts[currentCommunity]--;\n  this.counts[newCommunity]++;\n\n  return newCommunity;\n};\n\nDirectedLouvainIndex.prototype.move = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunity\n) {\n  var currentCommunity = this.belongings[i],\n    loops = this.loops[i];\n\n  this.totalInWeights[currentCommunity] -= inDegree + loops;\n  this.totalInWeights[targetCommunity] += inDegree + loops;\n\n  this.totalOutWeights[currentCommunity] -= outDegree + loops;\n  this.totalOutWeights[targetCommunity] += outDegree + loops;\n\n  this.belongings[i] = targetCommunity;\n\n  var nowEmpty = this.counts[currentCommunity]-- === 1;\n  this.counts[targetCommunity]++;\n\n  if (nowEmpty) this.unused[this.U++] = currentCommunity;\n};\n\nDirectedLouvainIndex.prototype.computeNodeInDegree = function (i) {\n  var o, l, weight;\n\n  var inDegree = 0;\n\n  for (o = this.offsets[i], l = this.starts[i + 1]; o < l; o++) {\n    weight = this.weights[o];\n\n    inDegree += weight;\n  }\n\n  return inDegree;\n};\n\nDirectedLouvainIndex.prototype.computeNodeOutDegree = function (i) {\n  var o, l, weight;\n\n  var outDegree = 0;\n\n  for (o = this.starts[i], l = this.offsets[i]; o < l; o++) {\n    weight = this.weights[o];\n\n    outDegree += weight;\n  }\n\n  return outDegree;\n};\n\nDirectedLouvainIndex.prototype.expensiveMove = function (i, ci) {\n  var inDegree = this.computeNodeInDegree(i),\n    outDegree = this.computeNodeOutDegree(i);\n\n  this.move(i, inDegree, outDegree, ci);\n};\n\nDirectedLouvainIndex.prototype.zoomOut = function () {\n  var inducedGraph = new Array(this.C - this.U),\n    newLabels = {};\n\n  var N = this.nodes.length;\n\n  var C = 0,\n    E = 0;\n\n  var i, j, l, m, n, ci, cj, data, offset, out, adj, inAdj, outAdj;\n\n  // Renumbering communities\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n\n    if (!(ci in newLabels)) {\n      newLabels[ci] = C;\n      inducedGraph[C] = {\n        inAdj: {},\n        outAdj: {},\n        totalInWeights: this.totalInWeights[ci],\n        totalOutWeights: this.totalOutWeights[ci],\n        internalWeights: 0\n      };\n      C++;\n    }\n\n    // We do this to otpimize the number of lookups in next loop\n    this.belongings[i] = newLabels[ci];\n  }\n\n  // Actualizing dendrogram\n  var currentLevel, nextLevel;\n\n  if (this.keepDendrogram) {\n    currentLevel = this.dendrogram[this.level];\n    nextLevel = new (typed.getPointerArray(C))(N);\n\n    for (i = 0; i < N; i++) nextLevel[i] = this.belongings[currentLevel[i]];\n\n    this.dendrogram.push(nextLevel);\n  } else {\n    for (i = 0; i < N; i++) this.mapping[i] = this.belongings[this.mapping[i]];\n  }\n\n  // Building induced graph matrix\n  for (i = 0, l = this.C; i < l; i++) {\n    ci = this.belongings[i];\n    offset = this.offsets[i];\n\n    data = inducedGraph[ci];\n    inAdj = data.inAdj;\n    outAdj = data.outAdj;\n    data.internalWeights += this.loops[i];\n\n    for (j = this.starts[i], m = this.starts[i + 1]; j < m; j++) {\n      n = this.neighborhood[j];\n      cj = this.belongings[n];\n      out = j < offset;\n\n      adj = out ? outAdj : inAdj;\n\n      if (ci === cj) {\n        if (out) data.internalWeights += this.weights[j];\n\n        continue;\n      }\n\n      if (!(cj in adj)) adj[cj] = 0;\n\n      adj[cj] += this.weights[j];\n    }\n  }\n\n  // Rewriting neighborhood\n  this.C = C;\n\n  n = 0;\n\n  for (ci = 0; ci < C; ci++) {\n    data = inducedGraph[ci];\n    inAdj = data.inAdj;\n    outAdj = data.outAdj;\n\n    ci = +ci;\n\n    this.totalInWeights[ci] = data.totalInWeights;\n    this.totalOutWeights[ci] = data.totalOutWeights;\n    this.loops[ci] = data.internalWeights;\n    this.counts[ci] = 1;\n\n    this.starts[ci] = n;\n    this.belongings[ci] = ci;\n\n    for (cj in outAdj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = outAdj[cj];\n\n      E++;\n      n++;\n    }\n\n    this.offsets[ci] = n;\n\n    for (cj in inAdj) {\n      this.neighborhood[n] = +cj;\n      this.weights[n] = inAdj[cj];\n\n      E++;\n      n++;\n    }\n  }\n\n  this.starts[C] = E;\n\n  this.E = E;\n  this.U = 0;\n  this.level++;\n\n  return newLabels;\n};\n\nDirectedLouvainIndex.prototype.modularity = function () {\n  var ci, cj, i, j, m;\n\n  var Q = 0;\n  var M = this.M;\n  var internalWeights = new Float64Array(this.C);\n\n  for (i = 0; i < this.C; i++) {\n    ci = this.belongings[i];\n    internalWeights[ci] += this.loops[i];\n\n    for (j = this.starts[i], m = this.offsets[i]; j < m; j++) {\n      cj = this.belongings[this.neighborhood[j]];\n\n      if (ci !== cj) continue;\n\n      internalWeights[ci] += this.weights[j];\n    }\n  }\n\n  for (i = 0; i < this.C; i++)\n    Q +=\n      internalWeights[i] / M -\n      ((this.totalInWeights[i] * this.totalOutWeights[i]) / Math.pow(M, 2)) *\n        this.resolution;\n\n  return Q;\n};\n\nDirectedLouvainIndex.prototype.delta = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalInWeight = this.totalInWeights[targetCommunity],\n    targetCommunityTotalOutWeight = this.totalOutWeights[targetCommunity];\n\n  var loops = this.loops[i];\n\n  inDegree += loops;\n  outDegree += loops;\n\n  return (\n    targetCommunityDegree / M -\n    ((outDegree * targetCommunityTotalInWeight +\n      inDegree * targetCommunityTotalOutWeight) *\n      this.resolution) /\n      (M * M)\n  );\n};\n\nDirectedLouvainIndex.prototype.deltaWithOwnCommunity = function (\n  i,\n  inDegree,\n  outDegree,\n  targetCommunityDegree,\n  targetCommunity\n) {\n  var M = this.M;\n\n  var targetCommunityTotalInWeight = this.totalInWeights[targetCommunity],\n    targetCommunityTotalOutWeight = this.totalOutWeights[targetCommunity];\n\n  var loops = this.loops[i];\n\n  inDegree += loops;\n  outDegree += loops;\n\n  return (\n    targetCommunityDegree / M -\n    ((outDegree * (targetCommunityTotalInWeight - inDegree) +\n      inDegree * (targetCommunityTotalOutWeight - outDegree)) *\n      this.resolution) /\n      (M * M)\n  );\n};\n\nDirectedLouvainIndex.prototype.collect =\n  UndirectedLouvainIndex.prototype.collect;\nDirectedLouvainIndex.prototype.assign = UndirectedLouvainIndex.prototype.assign;\n\nDirectedLouvainIndex.prototype[INSPECT] = function () {\n  var proxy = {};\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: DirectedLouvainIndex,\n    enumerable: false\n  });\n\n  proxy.C = this.C;\n  proxy.M = this.M;\n  proxy.E = this.E;\n  proxy.U = this.U;\n  proxy.resolution = this.resolution;\n  proxy.level = this.level;\n  proxy.nodes = this.nodes;\n  proxy.starts = this.starts.slice(0, proxy.C + 1);\n\n  var eTruncated = ['neighborhood', 'weights'];\n  var cTruncated = [\n    'counts',\n    'offsets',\n    'loops',\n    'belongings',\n    'totalInWeights',\n    'totalOutWeights'\n  ];\n\n  var self = this;\n\n  eTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.E);\n  });\n\n  cTruncated.forEach(function (key) {\n    proxy[key] = self[key].slice(0, proxy.C);\n  });\n\n  proxy.unused = this.unused.slice(0, this.U);\n\n  if (this.keepDendrogram) proxy.dendrogram = this.dendrogram;\n  else proxy.mapping = this.mapping;\n\n  return proxy;\n};\n\nexports.UndirectedLouvainIndex = UndirectedLouvainIndex;\nexports.DirectedLouvainIndex = DirectedLouvainIndex;\n","/**\n * Graphology ForceAtlas2 Layout Default Settings\n * ===============================================\n */\nmodule.exports = {\n  linLogMode: false,\n  outboundAttractionDistribution: false,\n  adjustSizes: false,\n  edgeWeightInfluence: 1,\n  scalingRatio: 1,\n  strongGravityMode: false,\n  gravity: 1,\n  slowDown: 1,\n  barnesHutOptimize: false,\n  barnesHutTheta: 0.5\n};\n","/**\n * Graphology ForceAtlas2 Helpers\n * ===============================\n *\n * Miscellaneous helper functions.\n */\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\n\n/**\n * Very simple Object.assign-like function.\n *\n * @param  {object} target       - First object.\n * @param  {object} [...objects] - Objects to merge.\n * @return {object}\n */\nexports.assign = function (target) {\n  target = target || {};\n\n  var objects = Array.prototype.slice.call(arguments).slice(1),\n    i,\n    k,\n    l;\n\n  for (i = 0, l = objects.length; i < l; i++) {\n    if (!objects[i]) continue;\n\n    for (k in objects[i]) target[k] = objects[i][k];\n  }\n\n  return target;\n};\n\n/**\n * Function used to validate the given settings.\n *\n * @param  {object}      settings - Settings to validate.\n * @return {object|null}\n */\nexports.validateSettings = function (settings) {\n  if ('linLogMode' in settings && typeof settings.linLogMode !== 'boolean')\n    return {message: 'the `linLogMode` setting should be a boolean.'};\n\n  if (\n    'outboundAttractionDistribution' in settings &&\n    typeof settings.outboundAttractionDistribution !== 'boolean'\n  )\n    return {\n      message:\n        'the `outboundAttractionDistribution` setting should be a boolean.'\n    };\n\n  if ('adjustSizes' in settings && typeof settings.adjustSizes !== 'boolean')\n    return {message: 'the `adjustSizes` setting should be a boolean.'};\n\n  if (\n    'edgeWeightInfluence' in settings &&\n    typeof settings.edgeWeightInfluence !== 'number'\n  )\n    return {\n      message: 'the `edgeWeightInfluence` setting should be a number.'\n    };\n\n  if (\n    'scalingRatio' in settings &&\n    !(typeof settings.scalingRatio === 'number' && settings.scalingRatio >= 0)\n  )\n    return {message: 'the `scalingRatio` setting should be a number >= 0.'};\n\n  if (\n    'strongGravityMode' in settings &&\n    typeof settings.strongGravityMode !== 'boolean'\n  )\n    return {message: 'the `strongGravityMode` setting should be a boolean.'};\n\n  if (\n    'gravity' in settings &&\n    !(typeof settings.gravity === 'number' && settings.gravity >= 0)\n  )\n    return {message: 'the `gravity` setting should be a number >= 0.'};\n\n  if (\n    'slowDown' in settings &&\n    !(typeof settings.slowDown === 'number' || settings.slowDown >= 0)\n  )\n    return {message: 'the `slowDown` setting should be a number >= 0.'};\n\n  if (\n    'barnesHutOptimize' in settings &&\n    typeof settings.barnesHutOptimize !== 'boolean'\n  )\n    return {message: 'the `barnesHutOptimize` setting should be a boolean.'};\n\n  if (\n    'barnesHutTheta' in settings &&\n    !(\n      typeof settings.barnesHutTheta === 'number' &&\n      settings.barnesHutTheta >= 0\n    )\n  )\n    return {message: 'the `barnesHutTheta` setting should be a number >= 0.'};\n\n  return null;\n};\n\n/**\n * Function generating a flat matrix for both nodes & edges of the given graph.\n *\n * @param  {Graph}    graph         - Target graph.\n * @param  {function} getEdgeWeight - Edge weight getter function.\n * @return {object}                 - Both matrices.\n */\nexports.graphToByteArrays = function (graph, getEdgeWeight) {\n  var order = graph.order;\n  var size = graph.size;\n  var index = {};\n  var j;\n\n  // NOTE: float32 could lead to issues if edge array needs to index large\n  // number of nodes.\n  var NodeMatrix = new Float32Array(order * PPN);\n  var EdgeMatrix = new Float32Array(size * PPE);\n\n  // Iterate through nodes\n  j = 0;\n  graph.forEachNode(function (node, attr) {\n    // Node index\n    index[node] = j;\n\n    // Populating byte array\n    NodeMatrix[j] = attr.x;\n    NodeMatrix[j + 1] = attr.y;\n    NodeMatrix[j + 2] = 0; // dx\n    NodeMatrix[j + 3] = 0; // dy\n    NodeMatrix[j + 4] = 0; // old_dx\n    NodeMatrix[j + 5] = 0; // old_dy\n    NodeMatrix[j + 6] = 1; // mass\n    NodeMatrix[j + 7] = 1; // convergence\n    NodeMatrix[j + 8] = attr.size || 1;\n    NodeMatrix[j + 9] = attr.fixed ? 1 : 0;\n    j += PPN;\n  });\n\n  // Iterate through edges\n  j = 0;\n  graph.forEachEdge(function (edge, attr, source, target, sa, ta, u) {\n    var sj = index[source];\n    var tj = index[target];\n\n    // Handling node mass through degree\n    NodeMatrix[sj + 6] += 1;\n    NodeMatrix[tj + 6] += 1;\n\n    // Populating byte array\n    EdgeMatrix[j] = sj;\n    EdgeMatrix[j + 1] = tj;\n    EdgeMatrix[j + 2] = getEdgeWeight(edge, attr, source, target, sa, ta, u);\n    j += PPE;\n  });\n\n  return {\n    nodes: NodeMatrix,\n    edges: EdgeMatrix\n  };\n};\n\n/**\n * Function applying the layout back to the graph.\n *\n * @param {Graph}         graph         - Target graph.\n * @param {Float32Array}  NodeMatrix    - Node matrix.\n * @param {function|null} outputReducer - A node reducer.\n */\nexports.assignLayoutChanges = function (graph, NodeMatrix, outputReducer) {\n  var i = 0;\n\n  graph.updateEachNodeAttributes(function (node, attr) {\n    attr.x = NodeMatrix[i];\n    attr.y = NodeMatrix[i + 1];\n\n    i += PPN;\n\n    return outputReducer ? outputReducer(node, attr) : attr;\n  });\n};\n\n/**\n * Function reading the positions (only) from the graph, to write them in the matrix.\n *\n * @param {Graph}        graph      - Target graph.\n * @param {Float32Array} NodeMatrix - Node matrix.\n */\nexports.readGraphPositions = function (graph, NodeMatrix) {\n  var i = 0;\n\n  graph.forEachNode(function (node, attr) {\n    NodeMatrix[i] = attr.x;\n    NodeMatrix[i + 1] = attr.y;\n\n    i += PPN;\n  });\n};\n\n/**\n * Function collecting the layout positions.\n *\n * @param  {Graph}         graph         - Target graph.\n * @param  {Float32Array}  NodeMatrix    - Node matrix.\n * @param  {function|null} outputReducer - A nodes reducer.\n * @return {object}                      - Map to node positions.\n */\nexports.collectLayoutChanges = function (graph, NodeMatrix, outputReducer) {\n  var nodes = graph.nodes(),\n    positions = {};\n\n  for (var i = 0, j = 0, l = NodeMatrix.length; i < l; i += PPN) {\n    if (outputReducer) {\n      var newAttr = Object.assign({}, graph.getNodeAttributes(nodes[j]));\n      newAttr.x = NodeMatrix[i];\n      newAttr.y = NodeMatrix[i + 1];\n      newAttr = outputReducer(nodes[j], newAttr);\n      positions[nodes[j]] = {\n        x: newAttr.x,\n        y: newAttr.y\n      };\n    } else {\n      positions[nodes[j]] = {\n        x: NodeMatrix[i],\n        y: NodeMatrix[i + 1]\n      };\n    }\n\n    j++;\n  }\n\n  return positions;\n};\n\n/**\n * Function returning a web worker from the given function.\n *\n * @param  {function}  fn - Function for the worker.\n * @return {DOMString}\n */\nexports.createWorker = function createWorker(fn) {\n  var xURL = window.URL || window.webkitURL;\n  var code = fn.toString();\n  var objectUrl = xURL.createObjectURL(\n    new Blob(['(' + code + ').call(this);'], {type: 'text/javascript'})\n  );\n  var worker = new Worker(objectUrl);\n  xURL.revokeObjectURL(objectUrl);\n\n  return worker;\n};\n","/**\n * Graphology ForceAtlas2 Layout\n * ==============================\n *\n * Library endpoint.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\nvar iterate = require('./iterate.js');\nvar helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\n\n/**\n * Asbtract function used to run a certain number of iterations.\n *\n * @param  {boolean}       assign          - Whether to assign positions.\n * @param  {Graph}         graph           - Target graph.\n * @param  {object|number} params          - If number, params.iterations, else:\n * @param  {function}        getWeight     - Edge weight getter function.\n * @param  {number}          iterations    - Number of iterations.\n * @param  {function|null}   outputReducer - A node reducer\n * @param  {object}          [settings]    - Settings.\n * @return {object|undefined}\n */\nfunction abstractSynchronousLayout(assign, graph, params) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-forceatlas2: the given graph is not a valid graphology instance.'\n    );\n\n  if (typeof params === 'number') params = {iterations: params};\n\n  var iterations = params.iterations;\n\n  if (typeof iterations !== 'number')\n    throw new Error(\n      'graphology-layout-forceatlas2: invalid number of iterations.'\n    );\n\n  if (iterations <= 0)\n    throw new Error(\n      'graphology-layout-forceatlas2: you should provide a positive number of iterations.'\n    );\n\n  var getEdgeWeight = createEdgeWeightGetter(params.getEdgeWeight).fromEntry;\n\n  var outputReducer =\n    typeof params.outputReducer === 'function' ? params.outputReducer : null;\n\n  // Validating settings\n  var settings = helpers.assign({}, DEFAULT_SETTINGS, params.settings);\n  var validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error(\n      'graphology-layout-forceatlas2: ' + validationError.message\n    );\n\n  // Building matrices\n  var matrices = helpers.graphToByteArrays(graph, getEdgeWeight);\n\n  var i;\n\n  // Iterating\n  for (i = 0; i < iterations; i++)\n    iterate(settings, matrices.nodes, matrices.edges);\n\n  // Applying\n  if (assign) {\n    helpers.assignLayoutChanges(graph, matrices.nodes, outputReducer);\n    return;\n  }\n\n  return helpers.collectLayoutChanges(graph, matrices.nodes);\n}\n\n/**\n * Function returning sane layout settings for the given graph.\n *\n * @param  {Graph|number} graph - Target graph or graph order.\n * @return {object}\n */\nfunction inferSettings(graph) {\n  var order = typeof graph === 'number' ? graph : graph.order;\n\n  return {\n    barnesHutOptimize: order > 2000,\n    strongGravityMode: true,\n    gravity: 0.05,\n    scalingRatio: 10,\n    slowDown: 1 + Math.log(order)\n  };\n}\n\n/**\n * Exporting.\n */\nvar synchronousLayout = abstractSynchronousLayout.bind(null, false);\nsynchronousLayout.assign = abstractSynchronousLayout.bind(null, true);\nsynchronousLayout.inferSettings = inferSettings;\n\nmodule.exports = synchronousLayout;\n","/* eslint no-constant-condition: 0 */\n/**\n * Graphology ForceAtlas2 Iteration\n * =================================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0;\nvar NODE_Y = 1;\nvar NODE_DX = 2;\nvar NODE_DY = 3;\nvar NODE_OLD_DX = 4;\nvar NODE_OLD_DY = 5;\nvar NODE_MASS = 6;\nvar NODE_CONVERGENCE = 7;\nvar NODE_SIZE = 8;\nvar NODE_FIXED = 9;\n\nvar EDGE_SOURCE = 0;\nvar EDGE_TARGET = 1;\nvar EDGE_WEIGHT = 2;\n\nvar REGION_NODE = 0;\nvar REGION_CENTER_X = 1;\nvar REGION_CENTER_Y = 2;\nvar REGION_SIZE = 3;\nvar REGION_NEXT_SIBLING = 4;\nvar REGION_FIRST_CHILD = 5;\nvar REGION_MASS = 6;\nvar REGION_MASS_CENTER_X = 7;\nvar REGION_MASS_CENTER_Y = 8;\n\nvar SUBDIVISION_ATTEMPTS = 3;\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\nvar PPR = 9;\n\nvar MAX_FORCE = 10;\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @param  {Float32Array} EdgeMatrix - Edge data.\n * @return {object}                  - Some metadata.\n */\nmodule.exports = function iterate(options, NodeMatrix, EdgeMatrix) {\n  // Initializing variables\n  var l, r, n, n1, n2, rn, e, w, g, s;\n\n  var order = NodeMatrix.length,\n    size = EdgeMatrix.length;\n\n  var adjustSizes = options.adjustSizes;\n\n  var thetaSquared = options.barnesHutTheta * options.barnesHutTheta;\n\n  var outboundAttCompensation, coefficient, xDist, yDist, ewc, distance, factor;\n\n  var RegionMatrix = [];\n\n  // 1) Initializing layout data\n  //-----------------------------\n\n  // Resetting positions & computing max values\n  for (n = 0; n < order; n += PPN) {\n    NodeMatrix[n + NODE_OLD_DX] = NodeMatrix[n + NODE_DX];\n    NodeMatrix[n + NODE_OLD_DY] = NodeMatrix[n + NODE_DY];\n    NodeMatrix[n + NODE_DX] = 0;\n    NodeMatrix[n + NODE_DY] = 0;\n  }\n\n  // If outbound attraction distribution, compensate\n  if (options.outboundAttractionDistribution) {\n    outboundAttCompensation = 0;\n    for (n = 0; n < order; n += PPN) {\n      outboundAttCompensation += NodeMatrix[n + NODE_MASS];\n    }\n\n    outboundAttCompensation /= order / PPN;\n  }\n\n  // 1.bis) Barnes-Hut computation\n  //------------------------------\n\n  if (options.barnesHutOptimize) {\n    // Setting up\n    var minX = Infinity,\n      maxX = -Infinity,\n      minY = Infinity,\n      maxY = -Infinity,\n      q,\n      q2,\n      subdivisionAttempts;\n\n    // Computing min and max values\n    for (n = 0; n < order; n += PPN) {\n      minX = Math.min(minX, NodeMatrix[n + NODE_X]);\n      maxX = Math.max(maxX, NodeMatrix[n + NODE_X]);\n      minY = Math.min(minY, NodeMatrix[n + NODE_Y]);\n      maxY = Math.max(maxY, NodeMatrix[n + NODE_Y]);\n    }\n\n    // squarify bounds, it's a quadtree\n    var dx = maxX - minX,\n      dy = maxY - minY;\n    if (dx > dy) {\n      minY -= (dx - dy) / 2;\n      maxY = minY + dx;\n    } else {\n      minX -= (dy - dx) / 2;\n      maxX = minX + dy;\n    }\n\n    // Build the Barnes Hut root region\n    RegionMatrix[0 + REGION_NODE] = -1;\n    RegionMatrix[0 + REGION_CENTER_X] = (minX + maxX) / 2;\n    RegionMatrix[0 + REGION_CENTER_Y] = (minY + maxY) / 2;\n    RegionMatrix[0 + REGION_SIZE] = Math.max(maxX - minX, maxY - minY);\n    RegionMatrix[0 + REGION_NEXT_SIBLING] = -1;\n    RegionMatrix[0 + REGION_FIRST_CHILD] = -1;\n    RegionMatrix[0 + REGION_MASS] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_X] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_Y] = 0;\n\n    // Add each node in the tree\n    l = 1;\n    for (n = 0; n < order; n += PPN) {\n      // Current region, starting with root\n      r = 0;\n      subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n\n      while (true) {\n        // Are there sub-regions?\n\n        // We look at first child index\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // There are sub-regions\n\n          // We just iterate to find a \"leaf\" of the tree\n          // that is an empty region or a region with a single node\n          // (see next case)\n\n          // Find the quadrant of n\n          if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD];\n            } else {\n              // Bottom Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n            }\n          } else {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n            } else {\n              // Bottom Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n            }\n          }\n\n          // Update center of mass and mass (we only do it for non-leave regions)\n          RegionMatrix[r + REGION_MASS_CENTER_X] =\n            (RegionMatrix[r + REGION_MASS_CENTER_X] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_X] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS_CENTER_Y] =\n            (RegionMatrix[r + REGION_MASS_CENTER_Y] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_Y] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS] += NodeMatrix[n + NODE_MASS];\n\n          // Iterate on the right quadrant\n          r = q;\n          continue;\n        } else {\n          // There are no sub-regions: we are in a \"leaf\"\n\n          // Is there a node in this leave?\n          if (RegionMatrix[r + REGION_NODE] < 0) {\n            // There is no node in region:\n            // we record node n and go on\n            RegionMatrix[r + REGION_NODE] = n;\n            break;\n          } else {\n            // There is a node in this region\n\n            // We will need to create sub-regions, stick the two\n            // nodes (the old one r[0] and the new one n) in two\n            // subregions. If they fall in the same quadrant,\n            // we will iterate.\n\n            // Create sub-regions\n            RegionMatrix[r + REGION_FIRST_CHILD] = l * PPR;\n            w = RegionMatrix[r + REGION_SIZE] / 2; // new size (half)\n\n            // NOTE: we use screen coordinates\n            // from Top Left to Bottom Right\n\n            // Top Left sub-region\n            g = RegionMatrix[r + REGION_FIRST_CHILD];\n\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Left sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Top Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] =\n              RegionMatrix[r + REGION_NEXT_SIBLING];\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            l += 4;\n\n            // Now the goal is to find two different sub-regions\n            // for the two nodes: the one previously recorded (r[0])\n            // and the one we want to add (n)\n\n            // Find the quadrant of the old node\n            if (\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X] <\n              RegionMatrix[r + REGION_CENTER_X]\n            ) {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            // We remove r[0] from the region r, add its mass to r and record it in q\n            RegionMatrix[r + REGION_MASS] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS];\n            RegionMatrix[r + REGION_MASS_CENTER_X] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            RegionMatrix[r + REGION_MASS_CENTER_Y] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            RegionMatrix[q + REGION_NODE] = RegionMatrix[r + REGION_NODE];\n            RegionMatrix[r + REGION_NODE] = -1;\n\n            // Find the quadrant of n\n            if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            if (q === q2) {\n              // If both nodes are in the same quadrant,\n              // we have to try it again on this quadrant\n              if (subdivisionAttempts--) {\n                r = q;\n                continue; // while\n              } else {\n                // we are out of precision here, and we cannot subdivide anymore\n                // but we have to break the loop anyway\n                subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n                break; // while\n              }\n            }\n\n            // If both quadrants are different, we record n\n            // in its quadrant\n            RegionMatrix[q2 + REGION_NODE] = n;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  // 2) Repulsion\n  //--------------\n  // NOTES: adjustSizes = antiCollision & scalingRatio = coefficient\n\n  if (options.barnesHutOptimize) {\n    coefficient = options.scalingRatio;\n\n    // Applying repulsion through regions\n    for (n = 0; n < order; n += PPN) {\n      // Computing leaf quad nodes iteration\n\n      r = 0; // Starting with root region\n      while (true) {\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // The region has sub-regions\n\n          // We run the Barnes Hut test to see if we are at the right distance\n          distance =\n            Math.pow(\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X],\n              2\n            ) +\n            Math.pow(\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y],\n              2\n            );\n\n          s = RegionMatrix[r + REGION_SIZE];\n\n          if ((4 * s * s) / distance < thetaSquared) {\n            // We treat the region as a single body, and we repulse\n\n            xDist =\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X];\n            yDist =\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y];\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n            // When this is done, we iterate. We have to look at the next sibling.\n            r = RegionMatrix[r + REGION_NEXT_SIBLING];\n            if (r < 0) break; // No next sibling: we have finished the tree\n\n            continue;\n          } else {\n            // The region is too close and we have to look at sub-regions\n            r = RegionMatrix[r + REGION_FIRST_CHILD];\n            continue;\n          }\n        } else {\n          // The region has no sub-region\n          // If there is a node r[0] and it is not n, then repulse\n          rn = RegionMatrix[r + REGION_NODE];\n\n          if (rn >= 0 && rn !== n) {\n            xDist = NodeMatrix[n + NODE_X] - NodeMatrix[rn + NODE_X];\n            yDist = NodeMatrix[n + NODE_Y] - NodeMatrix[rn + NODE_Y];\n\n            distance = xDist * xDist + yDist * yDist;\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n          }\n\n          // When this is done, we iterate. We have to look at the next sibling.\n          r = RegionMatrix[r + REGION_NEXT_SIBLING];\n\n          if (r < 0) break; // No next sibling: we have finished the tree\n\n          continue;\n        }\n      }\n    }\n  } else {\n    coefficient = options.scalingRatio;\n\n    // Square iteration\n    for (n1 = 0; n1 < order; n1 += PPN) {\n      for (n2 = 0; n2 < n1; n2 += PPN) {\n        // Common to both methods\n        xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n        yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n        if (adjustSizes === true) {\n          //-- Anticollision Linear Repulsion\n          distance =\n            Math.sqrt(xDist * xDist + yDist * yDist) -\n            NodeMatrix[n1 + NODE_SIZE] -\n            NodeMatrix[n2 + NODE_SIZE];\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] += xDist * factor;\n            NodeMatrix[n2 + NODE_DY] += yDist * factor;\n          } else if (distance < 0) {\n            factor =\n              100 *\n              coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS];\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        } else {\n          //-- Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n      }\n    }\n  }\n\n  // 3) Gravity\n  //------------\n  g = options.gravity / options.scalingRatio;\n  coefficient = options.scalingRatio;\n  for (n = 0; n < order; n += PPN) {\n    factor = 0;\n\n    // Common to both methods\n    xDist = NodeMatrix[n + NODE_X];\n    yDist = NodeMatrix[n + NODE_Y];\n    distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n    if (options.strongGravityMode) {\n      //-- Strong gravity\n      if (distance > 0) factor = coefficient * NodeMatrix[n + NODE_MASS] * g;\n    } else {\n      //-- Linear Anti-collision Repulsion n\n      if (distance > 0)\n        factor = (coefficient * NodeMatrix[n + NODE_MASS] * g) / distance;\n    }\n\n    // Updating node's dx and dy\n    NodeMatrix[n + NODE_DX] -= xDist * factor;\n    NodeMatrix[n + NODE_DY] -= yDist * factor;\n  }\n\n  // 4) Attraction\n  //---------------\n  coefficient =\n    1 * (options.outboundAttractionDistribution ? outboundAttCompensation : 1);\n\n  // TODO: simplify distance\n  // TODO: coefficient is always used as -c --> optimize?\n  for (e = 0; e < size; e += PPE) {\n    n1 = EdgeMatrix[e + EDGE_SOURCE];\n    n2 = EdgeMatrix[e + EDGE_TARGET];\n    w = EdgeMatrix[e + EDGE_WEIGHT];\n\n    // Edge weight influence\n    ewc = Math.pow(w, options.edgeWeightInfluence);\n\n    // Common measures\n    xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n    yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n    // Applying attraction to nodes\n    if (adjustSizes === true) {\n      distance =\n        Math.sqrt(xDist * xDist + yDist * yDist) -\n        NodeMatrix[n1 + NODE_SIZE] -\n        NodeMatrix[n2 + NODE_SIZE];\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n          }\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- Linear Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc;\n          }\n        }\n      }\n    } else {\n      distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Attraction\n          if (distance > 0)\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Attraction Mass Distributed\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n        } else {\n          //-- Linear Attraction\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc;\n        }\n      }\n    }\n\n    // Updating nodes' dx and dy\n    // TODO: if condition or factor = 1?\n    if (distance > 0) {\n      // Updating nodes' dx and dy\n      NodeMatrix[n1 + NODE_DX] += xDist * factor;\n      NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n      NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n      NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n    }\n  }\n\n  // 5) Apply Forces\n  //-----------------\n  var force, swinging, traction, nodespeed, newX, newY;\n\n  // MATH: sqrt and square distances\n  if (adjustSizes === true) {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        force = Math.sqrt(\n          Math.pow(NodeMatrix[n + NODE_DX], 2) +\n            Math.pow(NodeMatrix[n + NODE_DY], 2)\n        );\n\n        if (force > MAX_FORCE) {\n          NodeMatrix[n + NODE_DX] =\n            (NodeMatrix[n + NODE_DX] * MAX_FORCE) / force;\n          NodeMatrix[n + NODE_DY] =\n            (NodeMatrix[n + NODE_DY] * MAX_FORCE) / force;\n        }\n\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed = (0.1 * Math.log(1 + traction)) / (1 + Math.sqrt(swinging));\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  } else {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed =\n          (NodeMatrix[n + NODE_CONVERGENCE] * Math.log(1 + traction)) /\n          (1 + Math.sqrt(swinging));\n\n        // Updating node convergence\n        NodeMatrix[n + NODE_CONVERGENCE] = Math.min(\n          1,\n          Math.sqrt(\n            (nodespeed *\n              (Math.pow(NodeMatrix[n + NODE_DX], 2) +\n                Math.pow(NodeMatrix[n + NODE_DY], 2))) /\n              (1 + Math.sqrt(swinging))\n          )\n        );\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  }\n\n  // We return the information about the layout (no need to return the matrices)\n  return {};\n};\n","/**\n * Graphology ForceAtlas2 Layout Webworker\n * ========================================\n *\n * Web worker able to run the layout in a separate thread.\n */\nmodule.exports = function worker() {\n  var NODES, EDGES;\n\n  var moduleShim = {};\n\n  (function () {\n    /* eslint no-constant-condition: 0 */\n/**\n * Graphology ForceAtlas2 Iteration\n * =================================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0;\nvar NODE_Y = 1;\nvar NODE_DX = 2;\nvar NODE_DY = 3;\nvar NODE_OLD_DX = 4;\nvar NODE_OLD_DY = 5;\nvar NODE_MASS = 6;\nvar NODE_CONVERGENCE = 7;\nvar NODE_SIZE = 8;\nvar NODE_FIXED = 9;\n\nvar EDGE_SOURCE = 0;\nvar EDGE_TARGET = 1;\nvar EDGE_WEIGHT = 2;\n\nvar REGION_NODE = 0;\nvar REGION_CENTER_X = 1;\nvar REGION_CENTER_Y = 2;\nvar REGION_SIZE = 3;\nvar REGION_NEXT_SIBLING = 4;\nvar REGION_FIRST_CHILD = 5;\nvar REGION_MASS = 6;\nvar REGION_MASS_CENTER_X = 7;\nvar REGION_MASS_CENTER_Y = 8;\n\nvar SUBDIVISION_ATTEMPTS = 3;\n\n/**\n * Constants.\n */\nvar PPN = 10;\nvar PPE = 3;\nvar PPR = 9;\n\nvar MAX_FORCE = 10;\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @param  {Float32Array} EdgeMatrix - Edge data.\n * @return {object}                  - Some metadata.\n */\nmoduleShim.exports = function iterate(options, NodeMatrix, EdgeMatrix) {\n  // Initializing variables\n  var l, r, n, n1, n2, rn, e, w, g, s;\n\n  var order = NodeMatrix.length,\n    size = EdgeMatrix.length;\n\n  var adjustSizes = options.adjustSizes;\n\n  var thetaSquared = options.barnesHutTheta * options.barnesHutTheta;\n\n  var outboundAttCompensation, coefficient, xDist, yDist, ewc, distance, factor;\n\n  var RegionMatrix = [];\n\n  // 1) Initializing layout data\n  //-----------------------------\n\n  // Resetting positions & computing max values\n  for (n = 0; n < order; n += PPN) {\n    NodeMatrix[n + NODE_OLD_DX] = NodeMatrix[n + NODE_DX];\n    NodeMatrix[n + NODE_OLD_DY] = NodeMatrix[n + NODE_DY];\n    NodeMatrix[n + NODE_DX] = 0;\n    NodeMatrix[n + NODE_DY] = 0;\n  }\n\n  // If outbound attraction distribution, compensate\n  if (options.outboundAttractionDistribution) {\n    outboundAttCompensation = 0;\n    for (n = 0; n < order; n += PPN) {\n      outboundAttCompensation += NodeMatrix[n + NODE_MASS];\n    }\n\n    outboundAttCompensation /= order / PPN;\n  }\n\n  // 1.bis) Barnes-Hut computation\n  //------------------------------\n\n  if (options.barnesHutOptimize) {\n    // Setting up\n    var minX = Infinity,\n      maxX = -Infinity,\n      minY = Infinity,\n      maxY = -Infinity,\n      q,\n      q2,\n      subdivisionAttempts;\n\n    // Computing min and max values\n    for (n = 0; n < order; n += PPN) {\n      minX = Math.min(minX, NodeMatrix[n + NODE_X]);\n      maxX = Math.max(maxX, NodeMatrix[n + NODE_X]);\n      minY = Math.min(minY, NodeMatrix[n + NODE_Y]);\n      maxY = Math.max(maxY, NodeMatrix[n + NODE_Y]);\n    }\n\n    // squarify bounds, it's a quadtree\n    var dx = maxX - minX,\n      dy = maxY - minY;\n    if (dx > dy) {\n      minY -= (dx - dy) / 2;\n      maxY = minY + dx;\n    } else {\n      minX -= (dy - dx) / 2;\n      maxX = minX + dy;\n    }\n\n    // Build the Barnes Hut root region\n    RegionMatrix[0 + REGION_NODE] = -1;\n    RegionMatrix[0 + REGION_CENTER_X] = (minX + maxX) / 2;\n    RegionMatrix[0 + REGION_CENTER_Y] = (minY + maxY) / 2;\n    RegionMatrix[0 + REGION_SIZE] = Math.max(maxX - minX, maxY - minY);\n    RegionMatrix[0 + REGION_NEXT_SIBLING] = -1;\n    RegionMatrix[0 + REGION_FIRST_CHILD] = -1;\n    RegionMatrix[0 + REGION_MASS] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_X] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_Y] = 0;\n\n    // Add each node in the tree\n    l = 1;\n    for (n = 0; n < order; n += PPN) {\n      // Current region, starting with root\n      r = 0;\n      subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n\n      while (true) {\n        // Are there sub-regions?\n\n        // We look at first child index\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // There are sub-regions\n\n          // We just iterate to find a \"leaf\" of the tree\n          // that is an empty region or a region with a single node\n          // (see next case)\n\n          // Find the quadrant of n\n          if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD];\n            } else {\n              // Bottom Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n            }\n          } else {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n              // Top Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n            } else {\n              // Bottom Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n            }\n          }\n\n          // Update center of mass and mass (we only do it for non-leave regions)\n          RegionMatrix[r + REGION_MASS_CENTER_X] =\n            (RegionMatrix[r + REGION_MASS_CENTER_X] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_X] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS_CENTER_Y] =\n            (RegionMatrix[r + REGION_MASS_CENTER_Y] *\n              RegionMatrix[r + REGION_MASS] +\n              NodeMatrix[n + NODE_Y] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS] += NodeMatrix[n + NODE_MASS];\n\n          // Iterate on the right quadrant\n          r = q;\n          continue;\n        } else {\n          // There are no sub-regions: we are in a \"leaf\"\n\n          // Is there a node in this leave?\n          if (RegionMatrix[r + REGION_NODE] < 0) {\n            // There is no node in region:\n            // we record node n and go on\n            RegionMatrix[r + REGION_NODE] = n;\n            break;\n          } else {\n            // There is a node in this region\n\n            // We will need to create sub-regions, stick the two\n            // nodes (the old one r[0] and the new one n) in two\n            // subregions. If they fall in the same quadrant,\n            // we will iterate.\n\n            // Create sub-regions\n            RegionMatrix[r + REGION_FIRST_CHILD] = l * PPR;\n            w = RegionMatrix[r + REGION_SIZE] / 2; // new size (half)\n\n            // NOTE: we use screen coordinates\n            // from Top Left to Bottom Right\n\n            // Top Left sub-region\n            g = RegionMatrix[r + REGION_FIRST_CHILD];\n\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Left sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Top Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] =\n              RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] =\n              RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] =\n              RegionMatrix[r + REGION_NEXT_SIBLING];\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            l += 4;\n\n            // Now the goal is to find two different sub-regions\n            // for the two nodes: the one previously recorded (r[0])\n            // and the one we want to add (n)\n\n            // Find the quadrant of the old node\n            if (\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X] <\n              RegionMatrix[r + REGION_CENTER_X]\n            ) {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (\n                NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] <\n                RegionMatrix[r + REGION_CENTER_Y]\n              ) {\n                // Top Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            // We remove r[0] from the region r, add its mass to r and record it in q\n            RegionMatrix[r + REGION_MASS] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS];\n            RegionMatrix[r + REGION_MASS_CENTER_X] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            RegionMatrix[r + REGION_MASS_CENTER_Y] =\n              NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            RegionMatrix[q + REGION_NODE] = RegionMatrix[r + REGION_NODE];\n            RegionMatrix[r + REGION_NODE] = -1;\n\n            // Find the quadrant of n\n            if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD];\n              } else {\n                // Bottom Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            } else {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n                // Top Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              } else {\n                // Bottom Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            if (q === q2) {\n              // If both nodes are in the same quadrant,\n              // we have to try it again on this quadrant\n              if (subdivisionAttempts--) {\n                r = q;\n                continue; // while\n              } else {\n                // we are out of precision here, and we cannot subdivide anymore\n                // but we have to break the loop anyway\n                subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n                break; // while\n              }\n            }\n\n            // If both quadrants are different, we record n\n            // in its quadrant\n            RegionMatrix[q2 + REGION_NODE] = n;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  // 2) Repulsion\n  //--------------\n  // NOTES: adjustSizes = antiCollision & scalingRatio = coefficient\n\n  if (options.barnesHutOptimize) {\n    coefficient = options.scalingRatio;\n\n    // Applying repulsion through regions\n    for (n = 0; n < order; n += PPN) {\n      // Computing leaf quad nodes iteration\n\n      r = 0; // Starting with root region\n      while (true) {\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n          // The region has sub-regions\n\n          // We run the Barnes Hut test to see if we are at the right distance\n          distance =\n            Math.pow(\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X],\n              2\n            ) +\n            Math.pow(\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y],\n              2\n            );\n\n          s = RegionMatrix[r + REGION_SIZE];\n\n          if ((4 * s * s) / distance < thetaSquared) {\n            // We treat the region as a single body, and we repulse\n\n            xDist =\n              NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X];\n            yDist =\n              NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y];\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    RegionMatrix[r + REGION_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n            // When this is done, we iterate. We have to look at the next sibling.\n            r = RegionMatrix[r + REGION_NEXT_SIBLING];\n            if (r < 0) break; // No next sibling: we have finished the tree\n\n            continue;\n          } else {\n            // The region is too close and we have to look at sub-regions\n            r = RegionMatrix[r + REGION_FIRST_CHILD];\n            continue;\n          }\n        } else {\n          // The region has no sub-region\n          // If there is a node r[0] and it is not n, then repulse\n          rn = RegionMatrix[r + REGION_NODE];\n\n          if (rn >= 0 && rn !== n) {\n            xDist = NodeMatrix[n + NODE_X] - NodeMatrix[rn + NODE_X];\n            yDist = NodeMatrix[n + NODE_Y] - NodeMatrix[rn + NODE_Y];\n\n            distance = xDist * xDist + yDist * yDist;\n\n            if (adjustSizes === true) {\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              } else if (distance < 0) {\n                factor =\n                  (-coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  Math.sqrt(distance);\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            } else {\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor =\n                  (coefficient *\n                    NodeMatrix[n + NODE_MASS] *\n                    NodeMatrix[rn + NODE_MASS]) /\n                  distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n          }\n\n          // When this is done, we iterate. We have to look at the next sibling.\n          r = RegionMatrix[r + REGION_NEXT_SIBLING];\n\n          if (r < 0) break; // No next sibling: we have finished the tree\n\n          continue;\n        }\n      }\n    }\n  } else {\n    coefficient = options.scalingRatio;\n\n    // Square iteration\n    for (n1 = 0; n1 < order; n1 += PPN) {\n      for (n2 = 0; n2 < n1; n2 += PPN) {\n        // Common to both methods\n        xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n        yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n        if (adjustSizes === true) {\n          //-- Anticollision Linear Repulsion\n          distance =\n            Math.sqrt(xDist * xDist + yDist * yDist) -\n            NodeMatrix[n1 + NODE_SIZE] -\n            NodeMatrix[n2 + NODE_SIZE];\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] += xDist * factor;\n            NodeMatrix[n2 + NODE_DY] += yDist * factor;\n          } else if (distance < 0) {\n            factor =\n              100 *\n              coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS];\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        } else {\n          //-- Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n          if (distance > 0) {\n            factor =\n              (coefficient *\n                NodeMatrix[n1 + NODE_MASS] *\n                NodeMatrix[n2 + NODE_MASS]) /\n              distance /\n              distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n      }\n    }\n  }\n\n  // 3) Gravity\n  //------------\n  g = options.gravity / options.scalingRatio;\n  coefficient = options.scalingRatio;\n  for (n = 0; n < order; n += PPN) {\n    factor = 0;\n\n    // Common to both methods\n    xDist = NodeMatrix[n + NODE_X];\n    yDist = NodeMatrix[n + NODE_Y];\n    distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n    if (options.strongGravityMode) {\n      //-- Strong gravity\n      if (distance > 0) factor = coefficient * NodeMatrix[n + NODE_MASS] * g;\n    } else {\n      //-- Linear Anti-collision Repulsion n\n      if (distance > 0)\n        factor = (coefficient * NodeMatrix[n + NODE_MASS] * g) / distance;\n    }\n\n    // Updating node's dx and dy\n    NodeMatrix[n + NODE_DX] -= xDist * factor;\n    NodeMatrix[n + NODE_DY] -= yDist * factor;\n  }\n\n  // 4) Attraction\n  //---------------\n  coefficient =\n    1 * (options.outboundAttractionDistribution ? outboundAttCompensation : 1);\n\n  // TODO: simplify distance\n  // TODO: coefficient is always used as -c --> optimize?\n  for (e = 0; e < size; e += PPE) {\n    n1 = EdgeMatrix[e + EDGE_SOURCE];\n    n2 = EdgeMatrix[e + EDGE_TARGET];\n    w = EdgeMatrix[e + EDGE_WEIGHT];\n\n    // Edge weight influence\n    ewc = Math.pow(w, options.edgeWeightInfluence);\n\n    // Common measures\n    xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n    yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n    // Applying attraction to nodes\n    if (adjustSizes === true) {\n      distance =\n        Math.sqrt(xDist * xDist + yDist * yDist) -\n        NodeMatrix[n1 + NODE_SIZE] -\n        NodeMatrix[n2 + NODE_SIZE];\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n          }\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- Linear Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc;\n          }\n        }\n      }\n    } else {\n      distance = Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2));\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n          //-- LinLog Degree Distributed Attraction\n          if (distance > 0) {\n            factor =\n              (-coefficient * ewc * Math.log(1 + distance)) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        } else {\n          //-- LinLog Attraction\n          if (distance > 0)\n            factor = (-coefficient * ewc * Math.log(1 + distance)) / distance;\n        }\n      } else {\n        if (options.outboundAttractionDistribution) {\n          //-- Linear Attraction Mass Distributed\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = (-coefficient * ewc) / NodeMatrix[n1 + NODE_MASS];\n        } else {\n          //-- Linear Attraction\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc;\n        }\n      }\n    }\n\n    // Updating nodes' dx and dy\n    // TODO: if condition or factor = 1?\n    if (distance > 0) {\n      // Updating nodes' dx and dy\n      NodeMatrix[n1 + NODE_DX] += xDist * factor;\n      NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n      NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n      NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n    }\n  }\n\n  // 5) Apply Forces\n  //-----------------\n  var force, swinging, traction, nodespeed, newX, newY;\n\n  // MATH: sqrt and square distances\n  if (adjustSizes === true) {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        force = Math.sqrt(\n          Math.pow(NodeMatrix[n + NODE_DX], 2) +\n            Math.pow(NodeMatrix[n + NODE_DY], 2)\n        );\n\n        if (force > MAX_FORCE) {\n          NodeMatrix[n + NODE_DX] =\n            (NodeMatrix[n + NODE_DX] * MAX_FORCE) / force;\n          NodeMatrix[n + NODE_DY] =\n            (NodeMatrix[n + NODE_DY] * MAX_FORCE) / force;\n        }\n\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed = (0.1 * Math.log(1 + traction)) / (1 + Math.sqrt(swinging));\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  } else {\n    for (n = 0; n < order; n += PPN) {\n      if (NodeMatrix[n + NODE_FIXED] !== 1) {\n        swinging =\n          NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction =\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n              (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n              (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n                (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n          ) / 2;\n\n        nodespeed =\n          (NodeMatrix[n + NODE_CONVERGENCE] * Math.log(1 + traction)) /\n          (1 + Math.sqrt(swinging));\n\n        // Updating node convergence\n        NodeMatrix[n + NODE_CONVERGENCE] = Math.min(\n          1,\n          Math.sqrt(\n            (nodespeed *\n              (Math.pow(NodeMatrix[n + NODE_DX], 2) +\n                Math.pow(NodeMatrix[n + NODE_DY], 2))) /\n              (1 + Math.sqrt(swinging))\n          )\n        );\n\n        // Updating node's positon\n        newX =\n          NodeMatrix[n + NODE_X] +\n          NodeMatrix[n + NODE_DX] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_X] = newX;\n\n        newY =\n          NodeMatrix[n + NODE_Y] +\n          NodeMatrix[n + NODE_DY] * (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] = newY;\n      }\n    }\n  }\n\n  // We return the information about the layout (no need to return the matrices)\n  return {};\n};\n\n  })();\n\n  var iterate = moduleShim.exports;\n\n  self.addEventListener('message', function (event) {\n    var data = event.data;\n\n    NODES = new Float32Array(data.nodes);\n\n    if (data.edges) EDGES = new Float32Array(data.edges);\n\n    // Running the iteration\n    iterate(data.settings, NODES, EDGES);\n\n    // Sending result to supervisor\n    self.postMessage(\n      {\n        nodes: NODES.buffer\n      },\n      [NODES.buffer]\n    );\n  });\n};\n\n","/**\n * Graphology ForceAtlas2 Layout Supervisor\n * =========================================\n *\n * Supervisor class able to spawn a web worker to run the FA2 layout in a\n * separate thread not to block UI with heavy synchronous computations.\n */\nvar workerFunction = require('./webworker.js');\nvar isGraph = require('graphology-utils/is-graph');\nvar createEdgeWeightGetter =\n  require('graphology-utils/getters').createEdgeWeightGetter;\nvar helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\n\n/**\n * Class representing a FA2 layout run by a webworker.\n *\n * @constructor\n * @param  {Graph}         graph        - Target graph.\n * @param  {object|number} params       - Parameters:\n * @param  {object}          [settings] - Settings.\n */\nfunction FA2LayoutSupervisor(graph, params) {\n  params = params || {};\n\n  // Validation\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.'\n    );\n\n  var getEdgeWeight = createEdgeWeightGetter(params.getEdgeWeight).fromEntry;\n\n  // Validating settings\n  var settings = helpers.assign({}, DEFAULT_SETTINGS, params.settings);\n  var validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error(\n      'graphology-layout-forceatlas2/worker: ' + validationError.message\n    );\n\n  // Properties\n  this.worker = null;\n  this.graph = graph;\n  this.settings = settings;\n  this.getEdgeWeight = getEdgeWeight;\n  this.matrices = null;\n  this.running = false;\n  this.killed = false;\n  this.outputReducer =\n    typeof params.outputReducer === 'function' ? params.outputReducer : null;\n\n  // Binding listeners\n  this.handleMessage = this.handleMessage.bind(this);\n\n  var respawnFrame = undefined;\n  var self = this;\n\n  this.handleGraphUpdate = function () {\n    if (self.worker) self.worker.terminate();\n\n    if (respawnFrame) clearTimeout(respawnFrame);\n\n    respawnFrame = setTimeout(function () {\n      respawnFrame = undefined;\n      self.spawnWorker();\n    }, 0);\n  };\n\n  graph.on('nodeAdded', this.handleGraphUpdate);\n  graph.on('edgeAdded', this.handleGraphUpdate);\n  graph.on('nodeDropped', this.handleGraphUpdate);\n  graph.on('edgeDropped', this.handleGraphUpdate);\n\n  // Spawning worker\n  this.spawnWorker();\n}\n\nFA2LayoutSupervisor.prototype.isRunning = function () {\n  return this.running;\n};\n\n/**\n * Internal method used to spawn the web worker.\n */\nFA2LayoutSupervisor.prototype.spawnWorker = function () {\n  if (this.worker) this.worker.terminate();\n\n  this.worker = helpers.createWorker(workerFunction);\n  this.worker.addEventListener('message', this.handleMessage);\n\n  if (this.running) {\n    this.running = false;\n    this.start();\n  }\n};\n\n/**\n * Internal method used to handle the worker's messages.\n *\n * @param {object} event - Event to handle.\n */\nFA2LayoutSupervisor.prototype.handleMessage = function (event) {\n  if (!this.running) return;\n\n  var matrix = new Float32Array(event.data.nodes);\n\n  helpers.assignLayoutChanges(this.graph, matrix, this.outputReducer);\n  if (this.outputReducer) helpers.readGraphPositions(this.graph, matrix);\n  this.matrices.nodes = matrix;\n\n  // Looping\n  this.askForIterations();\n};\n\n/**\n * Internal method used to ask for iterations from the worker.\n *\n * @param  {boolean} withEdges - Should we send edges along?\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.askForIterations = function (withEdges) {\n  var matrices = this.matrices;\n\n  var payload = {\n    settings: this.settings,\n    nodes: matrices.nodes.buffer\n  };\n\n  var buffers = [matrices.nodes.buffer];\n\n  if (withEdges) {\n    payload.edges = matrices.edges.buffer;\n    buffers.push(matrices.edges.buffer);\n  }\n\n  this.worker.postMessage(payload, buffers);\n\n  return this;\n};\n\n/**\n * Method used to start the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.start = function () {\n  if (this.killed)\n    throw new Error(\n      'graphology-layout-forceatlas2/worker.start: layout was killed.'\n    );\n\n  if (this.running) return this;\n\n  // Building matrices\n  this.matrices = helpers.graphToByteArrays(this.graph, this.getEdgeWeight);\n\n  this.running = true;\n  this.askForIterations(true);\n\n  return this;\n};\n\n/**\n * Method used to stop the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.stop = function () {\n  this.running = false;\n\n  return this;\n};\n\n/**\n * Method used to kill the layout.\n *\n * @return {FA2LayoutSupervisor}\n */\nFA2LayoutSupervisor.prototype.kill = function () {\n  if (this.killed) return this;\n\n  this.running = false;\n  this.killed = true;\n\n  // Clearing memory\n  this.matrices = null;\n\n  // Terminating worker\n  this.worker.terminate();\n\n  // Unbinding listeners\n  this.graph.removeListener('nodeAdded', this.handleGraphUpdate);\n  this.graph.removeListener('edgeAdded', this.handleGraphUpdate);\n  this.graph.removeListener('nodeDropped', this.handleGraphUpdate);\n  this.graph.removeListener('edgeDropped', this.handleGraphUpdate);\n};\n\n/**\n * Exporting.\n */\nmodule.exports = FA2LayoutSupervisor;\n","/**\n * Graphology Noverlap Layout Default Settings\n * ============================================\n */\nmodule.exports = {\n  gridSize: 20,\n  margin: 5,\n  expansion: 1.1,\n  ratio: 1.0,\n  speed: 3\n};\n","/**\n * Graphology Noverlap Helpers\n * ============================\n *\n * Miscellaneous helper functions.\n */\n\n/**\n * Constants.\n */\nvar PPN = 3;\n\n/**\n * Function used to validate the given settings.\n *\n * @param  {object}      settings - Settings to validate.\n * @return {object|null}\n */\nexports.validateSettings = function (settings) {\n  if (\n    ('gridSize' in settings && typeof settings.gridSize !== 'number') ||\n    settings.gridSize <= 0\n  )\n    return {message: 'the `gridSize` setting should be a positive number.'};\n\n  if (\n    ('margin' in settings && typeof settings.margin !== 'number') ||\n    settings.margin < 0\n  )\n    return {\n      message: 'the `margin` setting should be 0 or a positive number.'\n    };\n\n  if (\n    ('expansion' in settings && typeof settings.expansion !== 'number') ||\n    settings.expansion <= 0\n  )\n    return {message: 'the `expansion` setting should be a positive number.'};\n\n  if (\n    ('ratio' in settings && typeof settings.ratio !== 'number') ||\n    settings.ratio <= 0\n  )\n    return {message: 'the `ratio` setting should be a positive number.'};\n\n  if (\n    ('speed' in settings && typeof settings.speed !== 'number') ||\n    settings.speed <= 0\n  )\n    return {message: 'the `speed` setting should be a positive number.'};\n\n  return null;\n};\n\n/**\n * Function generating a flat matrix for the given graph's nodes.\n *\n * @param  {Graph}        graph   - Target graph.\n * @param  {function}     reducer - Node reducer function.\n * @return {Float32Array}         - The node matrix.\n */\nexports.graphToByteArray = function (graph, reducer) {\n  var order = graph.order;\n\n  var matrix = new Float32Array(order * PPN);\n\n  var j = 0;\n\n  graph.forEachNode(function (node, attr) {\n    if (typeof reducer === 'function') attr = reducer(node, attr);\n\n    matrix[j] = attr.x;\n    matrix[j + 1] = attr.y;\n    matrix[j + 2] = attr.size || 1;\n    j += PPN;\n  });\n\n  return matrix;\n};\n\n/**\n * Function applying the layout back to the graph.\n *\n * @param {Graph}        graph      - Target graph.\n * @param {Float32Array} NodeMatrix - Node matrix.\n * @param {function}     reducer    - Reducing function.\n */\nexports.assignLayoutChanges = function (graph, NodeMatrix, reducer) {\n  var i = 0;\n\n  graph.forEachNode(function (node) {\n    var pos = {\n      x: NodeMatrix[i],\n      y: NodeMatrix[i + 1]\n    };\n\n    if (typeof reducer === 'function') pos = reducer(node, pos);\n\n    graph.mergeNodeAttributes(node, pos);\n\n    i += PPN;\n  });\n};\n\n/**\n * Function collecting the layout positions.\n *\n * @param  {Graph}        graph      - Target graph.\n * @param  {Float32Array} NodeMatrix - Node matrix.\n * @param  {function}     reducer    - Reducing function.\n * @return {object}                  - Map to node positions.\n */\nexports.collectLayoutChanges = function (graph, NodeMatrix, reducer) {\n  var positions = {};\n\n  var i = 0;\n\n  graph.forEachNode(function (node) {\n    var pos = {\n      x: NodeMatrix[i],\n      y: NodeMatrix[i + 1]\n    };\n\n    if (typeof reducer === 'function') pos = reducer(node, pos);\n\n    positions[node] = pos;\n\n    i += PPN;\n  });\n\n  return positions;\n};\n\n/**\n * Function returning a web worker from the given function.\n *\n * @param  {function}  fn - Function for the worker.\n * @return {DOMString}\n */\nexports.createWorker = function createWorker(fn) {\n  var xURL = window.URL || window.webkitURL;\n  var code = fn.toString();\n  var objectUrl = xURL.createObjectURL(\n    new Blob(['(' + code + ').call(this);'], {type: 'text/javascript'})\n  );\n  var worker = new Worker(objectUrl);\n  xURL.revokeObjectURL(objectUrl);\n\n  return worker;\n};\n","/**\n * Graphology Noverlap Layout\n * ===========================\n *\n * Library endpoint.\n */\nvar isGraph = require('graphology-utils/is-graph');\nvar iterate = require('./iterate.js');\nvar helpers = require('./helpers.js');\n\nvar DEFAULT_SETTINGS = require('./defaults.js');\nvar DEFAULT_MAX_ITERATIONS = 500;\n\n/**\n * Asbtract function used to run a certain number of iterations.\n *\n * @param  {boolean}       assign       - Whether to assign positions.\n * @param  {Graph}         graph        - Target graph.\n * @param  {object|number} params       - If number, params.maxIterations, else:\n * @param  {number}          maxIterations - Maximum number of iterations.\n * @param  {object}          [settings] - Settings.\n * @return {object|undefined}\n */\nfunction abstractSynchronousLayout(assign, graph, params) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout-noverlap: the given graph is not a valid graphology instance.'\n    );\n\n  if (typeof params === 'number') params = {maxIterations: params};\n  else params = params || {};\n\n  var maxIterations = params.maxIterations || DEFAULT_MAX_ITERATIONS;\n\n  if (typeof maxIterations !== 'number' || maxIterations <= 0)\n    throw new Error(\n      'graphology-layout-force: you should provide a positive number of maximum iterations.'\n    );\n\n  // Validating settings\n  var settings = Object.assign({}, DEFAULT_SETTINGS, params.settings),\n    validationError = helpers.validateSettings(settings);\n\n  if (validationError)\n    throw new Error('graphology-layout-noverlap: ' + validationError.message);\n\n  // Building matrices\n  var matrix = helpers.graphToByteArray(graph, params.inputReducer),\n    converged = false,\n    i;\n\n  // Iterating\n  for (i = 0; i < maxIterations && !converged; i++)\n    converged = iterate(settings, matrix).converged;\n\n  // Applying\n  if (assign) {\n    helpers.assignLayoutChanges(graph, matrix, params.outputReducer);\n    return;\n  }\n\n  return helpers.collectLayoutChanges(graph, matrix, params.outputReducer);\n}\n\n/**\n * Exporting.\n */\nvar synchronousLayout = abstractSynchronousLayout.bind(null, false);\nsynchronousLayout.assign = abstractSynchronousLayout.bind(null, true);\n\nmodule.exports = synchronousLayout;\n","/**\n * Graphology Noverlap Iteration\n * ==============================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0,\n  NODE_Y = 1,\n  NODE_SIZE = 2;\n\n/**\n * Constants.\n */\nvar PPN = 3;\n\n/**\n * Helpers.\n */\nfunction hashPair(a, b) {\n  return a + '' + b;\n}\n\nfunction jitter() {\n  return 0.01 * (0.5 - Math.random());\n}\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @return {object}                  - Some metadata.\n */\nmodule.exports = function iterate(options, NodeMatrix) {\n  // Caching options\n  var margin = options.margin;\n  var ratio = options.ratio;\n  var expansion = options.expansion;\n  var gridSize = options.gridSize; // TODO: decrease grid size when few nodes?\n  var speed = options.speed;\n\n  // Generic iteration variables\n  var i, j, x, y, l, size;\n  var converged = true;\n\n  var length = NodeMatrix.length;\n  var order = (length / PPN) | 0;\n\n  var deltaX = new Float32Array(order);\n  var deltaY = new Float32Array(order);\n\n  // Finding the extents of our space\n  var xMin = Infinity;\n  var yMin = Infinity;\n  var xMax = -Infinity;\n  var yMax = -Infinity;\n\n  for (i = 0; i < length; i += PPN) {\n    x = NodeMatrix[i + NODE_X];\n    y = NodeMatrix[i + NODE_Y];\n    size = NodeMatrix[i + NODE_SIZE] * ratio + margin;\n\n    xMin = Math.min(xMin, x - size);\n    xMax = Math.max(xMax, x + size);\n    yMin = Math.min(yMin, y - size);\n    yMax = Math.max(yMax, y + size);\n  }\n\n  var width = xMax - xMin;\n  var height = yMax - yMin;\n  var xCenter = (xMin + xMax) / 2;\n  var yCenter = (yMin + yMax) / 2;\n\n  xMin = xCenter - (expansion * width) / 2;\n  xMax = xCenter + (expansion * width) / 2;\n  yMin = yCenter - (expansion * height) / 2;\n  yMax = yCenter + (expansion * height) / 2;\n\n  // Building grid\n  var grid = new Array(gridSize * gridSize),\n    gridLength = grid.length,\n    c;\n\n  for (c = 0; c < gridLength; c++) grid[c] = [];\n\n  var nxMin, nxMax, nyMin, nyMax;\n  var xMinBox, xMaxBox, yMinBox, yMaxBox;\n\n  var col, row;\n\n  for (i = 0; i < length; i += PPN) {\n    x = NodeMatrix[i + NODE_X];\n    y = NodeMatrix[i + NODE_Y];\n    size = NodeMatrix[i + NODE_SIZE] * ratio + margin;\n\n    nxMin = x - size;\n    nxMax = x + size;\n    nyMin = y - size;\n    nyMax = y + size;\n\n    xMinBox = Math.floor((gridSize * (nxMin - xMin)) / (xMax - xMin));\n    xMaxBox = Math.floor((gridSize * (nxMax - xMin)) / (xMax - xMin));\n    yMinBox = Math.floor((gridSize * (nyMin - yMin)) / (yMax - yMin));\n    yMaxBox = Math.floor((gridSize * (nyMax - yMin)) / (yMax - yMin));\n\n    for (col = xMinBox; col <= xMaxBox; col++) {\n      for (row = yMinBox; row <= yMaxBox; row++) {\n        grid[col * gridSize + row].push(i);\n      }\n    }\n  }\n\n  // Computing collisions\n  var cell;\n\n  var collisions = new Set();\n\n  var n1, n2, x1, x2, y1, y2, s1, s2, h;\n\n  var xDist, yDist, dist, collision;\n\n  for (c = 0; c < gridLength; c++) {\n    cell = grid[c];\n\n    for (i = 0, l = cell.length; i < l; i++) {\n      n1 = cell[i];\n\n      x1 = NodeMatrix[n1 + NODE_X];\n      y1 = NodeMatrix[n1 + NODE_Y];\n      s1 = NodeMatrix[n1 + NODE_SIZE];\n\n      for (j = i + 1; j < l; j++) {\n        n2 = cell[j];\n        h = hashPair(n1, n2);\n\n        if (gridLength > 1 && collisions.has(h)) continue;\n\n        if (gridLength > 1) collisions.add(h);\n\n        x2 = NodeMatrix[n2 + NODE_X];\n        y2 = NodeMatrix[n2 + NODE_Y];\n        s2 = NodeMatrix[n2 + NODE_SIZE];\n\n        xDist = x2 - x1;\n        yDist = y2 - y1;\n        dist = Math.sqrt(xDist * xDist + yDist * yDist);\n        collision = dist < s1 * ratio + margin + (s2 * ratio + margin);\n\n        if (collision) {\n          converged = false;\n\n          n2 = (n2 / PPN) | 0;\n\n          if (dist > 0) {\n            deltaX[n2] += (xDist / dist) * (1 + s1);\n            deltaY[n2] += (yDist / dist) * (1 + s1);\n          } else {\n            // Nodes are on the exact same spot, we need to jitter a bit\n            deltaX[n2] += width * jitter();\n            deltaY[n2] += height * jitter();\n          }\n        }\n      }\n    }\n  }\n\n  for (i = 0, j = 0; i < length; i += PPN, j++) {\n    NodeMatrix[i + NODE_X] += deltaX[j] * 0.1 * speed;\n    NodeMatrix[i + NODE_Y] += deltaY[j] * 0.1 * speed;\n  }\n\n  return {converged: converged};\n};\n","/**\n * Graphology CirclePack Layout\n * =============================\n *\n * Circlepack layout from d3-hierarchy/gephi.\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\nvar shuffle = require('pandemonium/shuffle-in-place');\n\n/**\n * Default options.\n */\nvar DEFAULTS = {\n  attributes: {\n    x: 'x',\n    y: 'y'\n  },\n  center: 0,\n  hierarchyAttributes: [],\n  rng: Math.random,\n  scale: 1\n};\n\n/**\n * Helpers.\n */\nfunction CircleWrap(id, x, y, r, circleWrap) {\n  this.wrappedCircle = circleWrap || null; //hacky d3 reference thing\n\n  this.children = {};\n  this.countChildren = 0;\n  this.id = id || null;\n  this.next = null;\n  this.previous = null;\n\n  this.x = x || null;\n  this.y = y || null;\n  if (circleWrap) this.r = 1010101;\n  // for debugging purposes - should not be used in this case\n  else this.r = r || 999;\n}\n\nCircleWrap.prototype.hasChildren = function () {\n  return this.countChildren > 0;\n};\n\nCircleWrap.prototype.addChild = function (id, child) {\n  this.children[id] = child;\n  ++this.countChildren;\n};\n\nCircleWrap.prototype.getChild = function (id) {\n  if (!this.children.hasOwnProperty(id)) {\n    var circleWrap = new CircleWrap();\n    this.children[id] = circleWrap;\n    ++this.countChildren;\n  }\n  return this.children[id];\n};\n\nCircleWrap.prototype.applyPositionToChildren = function () {\n  if (this.hasChildren()) {\n    var root = this; // using 'this' in Object.keys.forEach seems a bad idea\n    for (var key in root.children) {\n      var child = root.children[key];\n      child.x += root.x;\n      child.y += root.y;\n      child.applyPositionToChildren();\n    }\n  }\n};\n\nfunction setNode(/*Graph*/ graph, /*CircleWrap*/ parentCircle, /*Map*/ posMap) {\n  for (var key in parentCircle.children) {\n    var circle = parentCircle.children[key];\n    if (circle.hasChildren()) {\n      setNode(graph, circle, posMap);\n    } else {\n      posMap[circle.id] = {x: circle.x, y: circle.y};\n    }\n  }\n}\n\nfunction enclosesNot(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var dr = a.r - b.r;\n  var dx = b.x - a.x;\n  var dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var dr = a.r - b.r + 1e-6;\n  var dx = b.x - a.x;\n  var dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(/*CircleWrap*/ a, /*Array<CircleWrap>*/ B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis1(/*CircleWrap*/ a) {\n  return new CircleWrap(null, a.x, a.y, a.r);\n}\n\nfunction encloseBasis2(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var x1 = a.x,\n    y1 = a.y,\n    r1 = a.r,\n    x2 = b.x,\n    y2 = b.y,\n    r2 = b.r,\n    x21 = x2 - x1,\n    y21 = y2 - y1,\n    r21 = r2 - r1,\n    l = Math.sqrt(x21 * x21 + y21 * y21);\n  return new CircleWrap(\n    null,\n    (x1 + x2 + (x21 / l) * r21) / 2,\n    (y1 + y2 + (y21 / l) * r21) / 2,\n    (l + r1 + r2) / 2\n  );\n}\n\nfunction encloseBasis3(/*CircleWrap*/ a, /*CircleWrap*/ b, /*CircleWrap*/ c) {\n  var x1 = a.x,\n    y1 = a.y,\n    r1 = a.r,\n    x2 = b.x,\n    y2 = b.y,\n    r2 = b.r,\n    x3 = c.x,\n    y3 = c.y,\n    r3 = c.r,\n    a2 = x1 - x2,\n    a3 = x1 - x3,\n    b2 = y1 - y2,\n    b3 = y1 - y3,\n    c2 = r2 - r1,\n    c3 = r3 - r1,\n    d1 = x1 * x1 + y1 * y1 - r1 * r1,\n    d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n    d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n    ab = a3 * b2 - a2 * b3,\n    xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n    xb = (b3 * c2 - b2 * c3) / ab,\n    ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n    yb = (a2 * c3 - a3 * c2) / ab,\n    A = xb * xb + yb * yb - 1,\n    B = 2 * (r1 + xa * xb + ya * yb),\n    C = xa * xa + ya * ya - r1 * r1,\n    r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return new CircleWrap(null, x1 + xa + xb * r, y1 + ya + yb * r, r);\n}\n\nfunction encloseBasis(/*Array<CircleWrap>*/ B) {\n  switch (B.length) {\n    case 1:\n      return encloseBasis1(B[0]);\n    case 2:\n      return encloseBasis2(B[0], B[1]);\n    case 3:\n      return encloseBasis3(B[0], B[1], B[2]);\n    default:\n      throw new Error(\n        'graphology-layout/circlepack: Invalid basis length ' + B.length\n      );\n  }\n}\n\nfunction extendBasis(/*Array<CircleWrap>*/ B, /*CircleWrap*/ p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i]) && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (\n        enclosesNot(encloseBasis2(B[i], B[j]), p) &&\n        enclosesNot(encloseBasis2(B[i], p), B[j]) &&\n        enclosesNot(encloseBasis2(B[j], p), B[i]) &&\n        enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)\n      ) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error('graphology-layout/circlepack: extendBasis failure !');\n}\n\nfunction score(/*CircleWrap*/ node) {\n  var a = node.wrappedCircle;\n  var b = node.next.wrappedCircle;\n  var ab = a.r + b.r;\n  var dx = (a.x * b.r + b.x * a.r) / ab;\n  var dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction enclose(circles, shuffleFunc) {\n  var i = 0;\n  var circlesLoc = circles.slice();\n\n  var n = circles.length;\n  var B = [];\n  var p;\n  var e;\n  shuffleFunc(circlesLoc);\n  while (i < n) {\n    p = circlesLoc[i];\n    if (e && enclosesWeak(e, p)) {\n      ++i;\n    } else {\n      B = extendBasis(B, p);\n      e = encloseBasis(B);\n      i = 0;\n    }\n  }\n  return e;\n}\n\nfunction place(/*CircleWrap*/ b, /*CircleWrap*/ a, /*CircleWrap*/ c) {\n  var dx = b.x - a.x,\n    x,\n    a2,\n    dy = b.y - a.y,\n    y,\n    b2,\n    d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r;\n    a2 *= a2;\n    b2 = b.r + c.r;\n    b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(/*CircleWrap*/ a, /*CircleWrap*/ b) {\n  var dr = a.r + b.r - 1e-6,\n    dx = b.x - a.x,\n    dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction packEnclose(/*Array<CircleWrap>*/ circles, shuffleFunc) {\n  var n = circles.length;\n  if (n === 0) return 0;\n\n  var a, b, c, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0];\n  a.x = 0;\n  a.y = 0;\n  if (n <= 1) return a.r;\n\n  // Place the second circle.\n  b = circles[1];\n  a.x = -b.r;\n  b.x = a.r;\n  b.y = 0;\n  if (n <= 2) return a.r + b.r;\n\n  // Place the third circle.\n  c = circles[2];\n  place(b, a, c);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new CircleWrap(null, null, null, null, a);\n  b = new CircleWrap(null, null, null, null, b);\n  c = new CircleWrap(null, null, null, null, c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    c = circles[i];\n    place(a.wrappedCircle, b.wrappedCircle, c);\n    c = new CircleWrap(null, null, null, null, c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next;\n    k = a.previous;\n    sj = b.wrappedCircle.r;\n    sk = a.wrappedCircle.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j.wrappedCircle, c.wrappedCircle)) {\n          b = j;\n          a.next = b;\n          b.previous = a;\n          --i;\n          continue pack;\n        }\n        sj += j.wrappedCircle.r;\n        j = j.next;\n      } else {\n        if (intersects(k.wrappedCircle, c.wrappedCircle)) {\n          a = k;\n          a.next = b;\n          b.previous = a;\n          --i;\n          continue pack;\n        }\n        sk += k.wrappedCircle.r;\n        k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a;\n    c.next = b;\n    a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c;\n        aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b.wrappedCircle];\n  c = b;\n  var safety = 10000;\n  while ((c = c.next) !== b) {\n    if (--safety === 0) {\n      break;\n    }\n    a.push(c.wrappedCircle);\n  }\n  c = enclose(a, shuffleFunc);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) {\n    a = circles[i];\n    a.x -= c.x;\n    a.y -= c.y;\n  }\n  return c.r;\n}\n\nfunction packHierarchy(/*CircleWrap*/ parentCircle, shuffleFunc) {\n  var r = 0;\n  if (parentCircle.hasChildren()) {\n    //pack the children first because the radius is determined by how the children get packed (recursive)\n    for (var key in parentCircle.children) {\n      var circle = parentCircle.children[key];\n      if (circle.hasChildren()) {\n        circle.r = packHierarchy(circle, shuffleFunc);\n      }\n    }\n    //now that each circle has a radius set by its children, pack the circles at this level\n    r = packEnclose(Object.values(parentCircle.children), shuffleFunc);\n  }\n  return r;\n}\n\nfunction packHierarchyAndShift(/*CircleWrap*/ parentCircle, shuffleFunc) {\n  packHierarchy(parentCircle, shuffleFunc);\n  for (var key in parentCircle.children) {\n    var circle = parentCircle.children[key];\n    circle.applyPositionToChildren();\n  }\n}\n\n/**\n * Abstract function running the layout.\n *\n * @param  {Graph}    graph                   - Target  graph.\n * @param  {object}   [options]               - Options:\n * @param  {object}     [attributes]          - Attributes names to map.\n * @param  {number}     [center]              - Center of the layout.\n * @param  {string[]}   [hierarchyAttributes] - List of attributes used for the layout in decreasing order.\n * @param  {function}   [rng]                 - Custom RNG function to be used.\n * @param  {number}     [scale]               - Scale of the layout.\n * @return {object}                           - The positions by node.\n */\nfunction genericCirclePackLayout(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/circlepack: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  var posMap = {},\n    positions = {},\n    nodes = graph.nodes(),\n    center = options.center,\n    hierarchyAttributes = options.hierarchyAttributes,\n    shuffleFunc = shuffle.createShuffleInPlace(options.rng),\n    scale = options.scale;\n\n  var container = new CircleWrap();\n\n  graph.forEachNode(function (key, attributes) {\n    var r = attributes.size ? attributes.size : 1;\n    var newCircleWrap = new CircleWrap(key, null, null, r);\n    var parentContainer = container;\n\n    hierarchyAttributes.forEach(function (v) {\n      var attr = attributes[v];\n      parentContainer = parentContainer.getChild(attr);\n    });\n\n    parentContainer.addChild(key, newCircleWrap);\n  });\n  packHierarchyAndShift(container, shuffleFunc);\n  setNode(graph, container, posMap);\n  var l = nodes.length,\n    x,\n    y,\n    i;\n  for (i = 0; i < l; i++) {\n    var node = nodes[i];\n\n    x = center + scale * posMap[node].x;\n    y = center + scale * posMap[node].y;\n\n    positions[node] = {\n      x: x,\n      y: y\n    };\n\n    if (assign) {\n      graph.setNodeAttribute(node, options.attributes.x, x);\n      graph.setNodeAttribute(node, options.attributes.y, y);\n    }\n  }\n  return positions;\n}\n\nvar circlePackLayout = genericCirclePackLayout.bind(null, false);\ncirclePackLayout.assign = genericCirclePackLayout.bind(null, true);\n\nmodule.exports = circlePackLayout;\n","/**\n * Graphology Circular Layout\n * ===========================\n *\n * Layout arranging the nodes in a circle.\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\n\n/**\n * Default options.\n */\nvar DEFAULTS = {\n  dimensions: ['x', 'y'],\n  center: 0.5,\n  scale: 1\n};\n\n/**\n * Abstract function running the layout.\n *\n * @param  {Graph}    graph          - Target  graph.\n * @param  {object}   [options]      - Options:\n * @param  {object}     [attributes] - Attributes names to map.\n * @param  {number}     [center]     - Center of the layout.\n * @param  {number}     [scale]      - Scale of the layout.\n * @return {object}                  - The positions by node.\n */\nfunction genericCircularLayout(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/random: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  var dimensions = options.dimensions;\n\n  if (!Array.isArray(dimensions) || dimensions.length !== 2)\n    throw new Error('graphology-layout/random: given dimensions are invalid.');\n\n  var center = options.center;\n  var scale = options.scale;\n  var tau = Math.PI * 2;\n\n  var offset = (center - 0.5) * scale;\n  var l = graph.order;\n\n  var x = dimensions[0];\n  var y = dimensions[1];\n\n  function assignPosition(i, target) {\n    target[x] = scale * Math.cos((i * tau) / l) + offset;\n    target[y] = scale * Math.sin((i * tau) / l) + offset;\n\n    return target;\n  }\n\n  var i = 0;\n\n  if (!assign) {\n    var positions = {};\n\n    graph.forEachNode(function (node) {\n      positions[node] = assignPosition(i++, {});\n    });\n\n    return positions;\n  }\n\n  graph.updateEachNodeAttributes(\n    function (_, attr) {\n      assignPosition(i++, attr);\n      return attr;\n    },\n    {\n      attributes: dimensions\n    }\n  );\n}\n\nvar circularLayout = genericCircularLayout.bind(null, false);\ncircularLayout.assign = genericCircularLayout.bind(null, true);\n\nmodule.exports = circularLayout;\n","/**\n * Graphology Layout\n * ==================\n *\n * Library endpoint.\n */\nexports.circlepack = require('./circlepack.js');\nexports.circular = require('./circular.js');\nexports.random = require('./random.js');\nexports.rotation = require('./rotation.js');\n","/**\n * Pandemonium Random\n * ===================\n *\n * Random function.\n */\n\n/**\n * Creating a function returning a random integer such as a <= N <= b.\n *\n * @param  {function} rng - RNG function returning uniform random.\n * @return {function}     - The created function.\n */\nfunction createRandom(rng) {\n\n  /**\n   * Random function.\n   *\n   * @param  {number} a - From.\n   * @param  {number} b - To.\n   * @return {number}\n   */\n  return function(a, b) {\n    return a + Math.floor(rng() * (b - a + 1));\n  };\n}\n\n/**\n * Default random using `Math.random`.\n */\nvar random = createRandom(Math.random);\n\n/**\n * Exporting.\n */\nrandom.createRandom = createRandom;\nmodule.exports = random;\n","/**\n * Pandemonium Shuffle In Place\n * =============================\n *\n * Shuffle function applying the Fisher-Yates algorithm to the provided array.\n */\nvar createRandom = require('./random.js').createRandom;\n\n/**\n * Creating a function returning the given array shuffled.\n *\n * @param  {function} rng - The RNG to use.\n * @return {function}     - The created function.\n */\nfunction createShuffleInPlace(rng) {\n  var customRandom = createRandom(rng);\n\n  /**\n   * Function returning the shuffled array.\n   *\n   * @param  {array}  sequence - Target sequence.\n   * @return {array}           - The shuffled sequence.\n   */\n  return function(sequence) {\n    var length = sequence.length,\n        lastIndex = length - 1;\n\n    var index = -1;\n\n    while (++index < length) {\n      var r = customRandom(index, lastIndex),\n          value = sequence[r];\n\n      sequence[r] = sequence[index];\n      sequence[index] = value;\n    }\n  };\n}\n\n/**\n * Default shuffle in place using `Math.random`.\n */\nvar shuffleInPlace = createShuffleInPlace(Math.random);\n\n/**\n * Exporting.\n */\nshuffleInPlace.createShuffleInPlace = createShuffleInPlace;\nmodule.exports = shuffleInPlace;\n","/**\n * Graphology Random Layout\n * =========================\n *\n * Simple layout giving uniform random positions to the nodes.\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\n\n/**\n * Default options.\n */\nvar DEFAULTS = {\n  dimensions: ['x', 'y'],\n  center: 0.5,\n  rng: Math.random,\n  scale: 1\n};\n\n/**\n * Abstract function running the layout.\n *\n * @param  {Graph}    graph          - Target  graph.\n * @param  {object}   [options]      - Options:\n * @param  {array}      [dimensions] - List of dimensions of the layout.\n * @param  {number}     [center]     - Center of the layout.\n * @param  {function}   [rng]        - Custom RNG function to be used.\n * @param  {number}     [scale]      - Scale of the layout.\n * @return {object}                  - The positions by node.\n */\nfunction genericRandomLayout(assign, graph, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/random: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  var dimensions = options.dimensions;\n\n  if (!Array.isArray(dimensions) || dimensions.length < 1)\n    throw new Error('graphology-layout/random: given dimensions are invalid.');\n\n  var d = dimensions.length;\n  var center = options.center;\n  var rng = options.rng;\n  var scale = options.scale;\n\n  var offset = (center - 0.5) * scale;\n\n  function assignPosition(target) {\n    for (var i = 0; i < d; i++) {\n      target[dimensions[i]] = rng() * scale + offset;\n    }\n\n    return target;\n  }\n\n  if (!assign) {\n    var positions = {};\n\n    graph.forEachNode(function (node) {\n      positions[node] = assignPosition({});\n    });\n\n    return positions;\n  }\n\n  graph.updateEachNodeAttributes(\n    function (_, attr) {\n      assignPosition(attr);\n      return attr;\n    },\n    {\n      attributes: dimensions\n    }\n  );\n}\n\nvar randomLayout = genericRandomLayout.bind(null, false);\nrandomLayout.assign = genericRandomLayout.bind(null, true);\n\nmodule.exports = randomLayout;\n","/**\n * Graphology Rotation Layout Helper\n * ==================================\n *\n * Function rotating the coordinates of the graph.\n */\nvar resolveDefaults = require('graphology-utils/defaults');\nvar isGraph = require('graphology-utils/is-graph');\n\n/**\n * Constants.\n */\nvar RAD_CONVERSION = Math.PI / 180;\n\n/**\n * Default options.\n */\nvar DEFAULTS = {\n  dimensions: ['x', 'y'],\n  centeredOnZero: false,\n  degrees: false\n};\n\n/**\n * Abstract function for rotating a graph's coordinates.\n *\n * @param  {Graph}    graph          - Target  graph.\n * @param  {number}   angle          - Rotation angle.\n * @param  {object}   [options]      - Options.\n * @return {object}                  - The positions by node.\n */\nfunction genericRotation(assign, graph, angle, options) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-layout/rotation: the given graph is not a valid graphology instance.'\n    );\n\n  options = resolveDefaults(options, DEFAULTS);\n\n  if (options.degrees) angle *= RAD_CONVERSION;\n\n  var dimensions = options.dimensions;\n\n  if (!Array.isArray(dimensions) || dimensions.length !== 2)\n    throw new Error('graphology-layout/random: given dimensions are invalid.');\n\n  // Handling null graph\n  if (graph.order === 0) {\n    if (assign) return;\n\n    return {};\n  }\n\n  var xd = dimensions[0];\n  var yd = dimensions[1];\n\n  var xCenter = 0;\n  var yCenter = 0;\n\n  if (!options.centeredOnZero) {\n    // Finding bounds of the graph\n    var xMin = Infinity;\n    var xMax = -Infinity;\n    var yMin = Infinity;\n    var yMax = -Infinity;\n\n    graph.forEachNode(function (node, attr) {\n      var x = attr[xd];\n      var y = attr[yd];\n\n      if (x < xMin) xMin = x;\n      if (x > xMax) xMax = x;\n      if (y < yMin) yMin = y;\n      if (y > yMax) yMax = y;\n    });\n\n    xCenter = (xMin + xMax) / 2;\n    yCenter = (yMin + yMax) / 2;\n  }\n\n  var cos = Math.cos(angle);\n  var sin = Math.sin(angle);\n\n  function assignPosition(target) {\n    var x = target[xd];\n    var y = target[yd];\n\n    target[xd] = xCenter + (x - xCenter) * cos - (y - yCenter) * sin;\n    target[yd] = yCenter + (x - xCenter) * sin + (y - yCenter) * cos;\n\n    return target;\n  }\n\n  if (!assign) {\n    var positions = {};\n\n    graph.forEachNode(function (node, attr) {\n      var o = {};\n      o[xd] = attr[xd];\n      o[yd] = attr[yd];\n      positions[node] = assignPosition(o);\n    });\n\n    return positions;\n  }\n\n  graph.updateEachNodeAttributes(\n    function (_, attr) {\n      assignPosition(attr);\n      return attr;\n    },\n    {\n      attributes: dimensions\n    }\n  );\n}\n\nvar rotation = genericRotation.bind(null, false);\nrotation.assign = genericRotation.bind(null, true);\n\nmodule.exports = rotation;\n","/**\n * Graphology Operators To Mixed Caster\n * =====================================\n *\n * Function used to cast any graph to a mixed one.\n */\nvar isGraph = require('graphology-utils/is-graph');\n\nmodule.exports = function toMixed(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-operators/to-mixed: expecting a valid graphology instance.'\n    );\n\n  return graph.copy({type: 'mixed'});\n};\n","/**\n * Graphology Operators To Multi Caster\n * =====================================\n *\n * Function used to cast any graph to a multi one.\n */\nvar isGraph = require('graphology-utils/is-graph');\n\nmodule.exports = function toMulti(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-operators/to-multi: expecting a valid graphology instance.'\n    );\n\n  return graph.copy({multi: true});\n};\n","/**\n * Graphology Edge Adders\n * =======================\n *\n * Generic edge addition functions that can be used to avoid nasty repetitive\n * conditions.\n */\nexports.addEdge = function addEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.addUndirectedEdge(source, target, attributes);\n    else return graph.addUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.addDirectedEdge(source, target, attributes);\n    else return graph.addDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.copyEdge = function copyEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  attributes = Object.assign({}, attributes);\n\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.addUndirectedEdge(source, target, attributes);\n    else return graph.addUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.addDirectedEdge(source, target, attributes);\n    else return graph.addDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.mergeEdge = function mergeEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  attributes\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.mergeUndirectedEdge(source, target, attributes);\n    else\n      return graph.mergeUndirectedEdgeWithKey(key, source, target, attributes);\n  } else {\n    if (key === null || key === undefined)\n      return graph.mergeDirectedEdge(source, target, attributes);\n    else return graph.mergeDirectedEdgeWithKey(key, source, target, attributes);\n  }\n};\n\nexports.updateEdge = function updateEdge(\n  graph,\n  undirected,\n  key,\n  source,\n  target,\n  updater\n) {\n  if (undirected) {\n    if (key === null || key === undefined)\n      return graph.updateUndirectedEdge(source, target, updater);\n    else return graph.updateUndirectedEdgeWithKey(key, source, target, updater);\n  } else {\n    if (key === null || key === undefined)\n      return graph.updateDirectedEdge(source, target, updater);\n    else return graph.updateDirectedEdgeWithKey(key, source, target, updater);\n  }\n};\n","/**\n * Graphology Defaults\n * ====================\n *\n * Helper function used throughout the standard lib to resolve defaults.\n */\nfunction isLeaf(o) {\n  return (\n    !o ||\n    typeof o !== 'object' ||\n    typeof o === 'function' ||\n    Array.isArray(o) ||\n    o instanceof Set ||\n    o instanceof Map ||\n    o instanceof RegExp ||\n    o instanceof Date\n  );\n}\n\nfunction resolveDefaults(target, defaults) {\n  target = target || {};\n\n  var output = {};\n\n  for (var k in defaults) {\n    var existing = target[k];\n    var def = defaults[k];\n\n    // Recursion\n    if (!isLeaf(def)) {\n      output[k] = resolveDefaults(existing, def);\n\n      continue;\n    }\n\n    // Leaf\n    if (existing === undefined) {\n      output[k] = def;\n    } else {\n      output[k] = existing;\n    }\n  }\n\n  return output;\n}\n\nmodule.exports = resolveDefaults;\n","/**\n * Graphology Weight Getter\n * =========================\n *\n * Function creating weight getters.\n */\nfunction coerceWeight(value) {\n  // Ensuring target value is a correct number\n  if (typeof value !== 'number' || isNaN(value)) return 1;\n\n  return value;\n}\n\nfunction createNodeValueGetter(nameOrFunction, defaultValue) {\n  var getter = {};\n\n  var coerceToDefault = function (v) {\n    if (typeof v === 'undefined') return defaultValue;\n\n    return v;\n  };\n\n  if (typeof defaultValue === 'function') coerceToDefault = defaultValue;\n\n  var get = function (attributes) {\n    return coerceToDefault(attributes[nameOrFunction]);\n  };\n\n  var returnDefault = function () {\n    return coerceToDefault(undefined);\n  };\n\n  if (typeof nameOrFunction === 'string') {\n    getter.fromAttributes = get;\n    getter.fromGraph = function (graph, node) {\n      return get(graph.getNodeAttributes(node));\n    };\n    getter.fromEntry = function (node, attributes) {\n      return get(attributes);\n    };\n  } else if (typeof nameOrFunction === 'function') {\n    getter.fromAttributes = function () {\n      throw new Error(\n        'graphology-utils/getters/createNodeValueGetter: irrelevant usage.'\n      );\n    };\n    getter.fromGraph = function (graph, node) {\n      return coerceToDefault(\n        nameOrFunction(node, graph.getNodeAttributes(node))\n      );\n    };\n    getter.fromEntry = function (node, attributes) {\n      return coerceToDefault(nameOrFunction(node, attributes));\n    };\n  } else {\n    getter.fromAttributes = returnDefault;\n    getter.fromGraph = returnDefault;\n    getter.fromEntry = returnDefault;\n  }\n\n  return getter;\n}\n\nfunction createEdgeValueGetter(nameOrFunction, defaultValue) {\n  var getter = {};\n\n  var coerceToDefault = function (v) {\n    if (typeof v === 'undefined') return defaultValue;\n\n    return v;\n  };\n\n  if (typeof defaultValue === 'function') coerceToDefault = defaultValue;\n\n  var get = function (attributes) {\n    return coerceToDefault(attributes[nameOrFunction]);\n  };\n\n  var returnDefault = function () {\n    return coerceToDefault(undefined);\n  };\n\n  if (typeof nameOrFunction === 'string') {\n    getter.fromAttributes = get;\n    getter.fromGraph = function (graph, edge) {\n      return get(graph.getEdgeAttributes(edge));\n    };\n    getter.fromEntry = function (edge, attributes) {\n      return get(attributes);\n    };\n    getter.fromPartialEntry = getter.fromEntry;\n    getter.fromMinimalEntry = getter.fromEntry;\n  } else if (typeof nameOrFunction === 'function') {\n    getter.fromAttributes = function () {\n      throw new Error(\n        'graphology-utils/getters/createEdgeValueGetter: irrelevant usage.'\n      );\n    };\n    getter.fromGraph = function (graph, edge) {\n      // TODO: we can do better, check #310\n      var extremities = graph.extremities(edge);\n      return coerceToDefault(\n        nameOrFunction(\n          edge,\n          graph.getEdgeAttributes(edge),\n          extremities[0],\n          extremities[1],\n          graph.getNodeAttributes(extremities[0]),\n          graph.getNodeAttributes(extremities[1]),\n          graph.isUndirected(edge)\n        )\n      );\n    };\n    getter.fromEntry = function (e, a, s, t, sa, ta, u) {\n      return coerceToDefault(nameOrFunction(e, a, s, t, sa, ta, u));\n    };\n    getter.fromPartialEntry = function (e, a, s, t) {\n      return coerceToDefault(nameOrFunction(e, a, s, t));\n    };\n    getter.fromMinimalEntry = function (e, a) {\n      return coerceToDefault(nameOrFunction(e, a));\n    };\n  } else {\n    getter.fromAttributes = returnDefault;\n    getter.fromGraph = returnDefault;\n    getter.fromEntry = returnDefault;\n    getter.fromMinimalEntry = returnDefault;\n  }\n\n  return getter;\n}\n\nexports.createNodeValueGetter = createNodeValueGetter;\nexports.createEdgeValueGetter = createEdgeValueGetter;\nexports.createEdgeWeightGetter = function (name) {\n  return createEdgeValueGetter(name, coerceWeight);\n};\n","/**\n * Graphology inferType\n * =====================\n *\n * Useful function used to \"guess\" the real type of the given Graph using\n * introspection.\n */\nvar isGraph = require('./is-graph.js');\n\n/**\n * Returning the inferred type of the given graph.\n *\n * @param  {Graph}   graph - Target graph.\n * @return {boolean}\n */\nmodule.exports = function inferType(graph) {\n  if (!isGraph(graph))\n    throw new Error(\n      'graphology-utils/infer-type: expecting a valid graphology instance.'\n    );\n\n  var declaredType = graph.type;\n\n  if (declaredType !== 'mixed') return declaredType;\n\n  if (\n    (graph.directedSize === 0 && graph.undirectedSize === 0) ||\n    (graph.directedSize > 0 && graph.undirectedSize > 0)\n  )\n    return 'mixed';\n\n  if (graph.directedSize > 0) return 'directed';\n\n  return 'undirected';\n};\n","/**\n * Graphology isGraphConstructor\n * ==============================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology constructor.\n */\n\n/**\n * Checking the value is a graphology constructor.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraphConstructor(value) {\n  return (\n    value !== null &&\n    typeof value === 'function' &&\n    typeof value.prototype === 'object' &&\n    typeof value.prototype.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.prototype.dropNode === 'function'\n  );\n};\n","/**\n * Graphology isGraph\n * ===================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology instance.\n */\n\n/**\n * Checking the value is a graphology instance.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraph(value) {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    typeof value.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.dropNode === 'function' &&\n    typeof value.multi === 'boolean'\n  );\n};\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).graphology=e()}(this,(function(){\"use strict\";function t(e){return t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t(e)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function i(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,n){return o=i()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(t){var e=\"function\"==typeof Map?new Map:void 0;return a=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf(\"[native code]\")))return t;var i;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return o(t,arguments,n(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,t)},a(t)}function u(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}var c=function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t};function s(t,e,n,r){var i=t._nodes.get(e),o=null;return i?o=\"mixed\"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:\"directed\"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function d(e){return null!==e&&\"object\"===t(e)&&\"function\"==typeof e.addUndirectedEdgeWithKey&&\"function\"==typeof e.dropNode}function h(e){return\"object\"===t(e)&&null!==e&&e.constructor===Object}function p(t){var e;for(e in t)return!1;return!0}function f(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function l(t,e,n){var r={enumerable:!0,configurable:!0};\"function\"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function g(t){return!!h(t)&&!(t.attributes&&!Array.isArray(t.attributes))}\"function\"==typeof Object.assign&&(c=Object.assign);var y,w={exports:{}},v=\"object\"==typeof Reflect?Reflect:null,b=v&&\"function\"==typeof v.apply?v.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};y=v&&\"function\"==typeof v.ownKeys?v.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var m=Number.isNaN||function(t){return t!=t};function k(){k.init.call(this)}w.exports=k,w.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){\"function\"==typeof t.removeListener&&t.removeListener(\"error\",i),n([].slice.call(arguments))}N(t,e,o,{once:!0}),\"error\"!==e&&function(t,e,n){\"function\"==typeof t.on&&N(t,\"error\",e,n)}(t,i,{once:!0})}))},k.EventEmitter=k,k.prototype._events=void 0,k.prototype._eventsCount=0,k.prototype._maxListeners=void 0;var _=10;function G(t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t)}function x(t){return void 0===t._maxListeners?k.defaultMaxListeners:t._maxListeners}function E(t,e,n,r){var i,o,a,u;if(G(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit(\"newListener\",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if(\"function\"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=x(t))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error(\"Possible EventEmitter memory leak detected. \"+a.length+\" \"+String(e)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");c.name=\"MaxListenersExceededWarning\",c.emitter=t,c.type=e,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return t}function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=A.bind(r);return i.listener=n,r.wrapFn=i,i}function D(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):U(i,i.length)}function L(t){var e=this._events;if(void 0!==e){var n=e[t];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function U(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function N(t,e,n,r){if(\"function\"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if(\"function\"!=typeof t.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}function j(t){if(\"function\"!=typeof t)throw new Error(\"obliterator/iterator: expecting a function!\");this.next=t}Object.defineProperty(k,\"defaultMaxListeners\",{enumerable:!0,get:function(){return _},set:function(t){if(\"number\"!=typeof t||t<0||m(t))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+t+\".\");_=t}}),k.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},k.prototype.setMaxListeners=function(t){if(\"number\"!=typeof t||t<0||m(t))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+t+\".\");return this._maxListeners=t,this},k.prototype.getMaxListeners=function(){return x(this)},k.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=\"error\"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw a.context=o,a}var u=i[t];if(void 0===u)return!1;if(\"function\"==typeof u)b(u,this,e);else{var c=u.length,s=U(u,c);for(n=0;n<c;++n)b(s[n],this,e)}return!0},k.prototype.addListener=function(t,e){return E(this,t,e,!1)},k.prototype.on=k.prototype.addListener,k.prototype.prependListener=function(t,e){return E(this,t,e,!0)},k.prototype.once=function(t,e){return G(e),this.on(t,S(this,t,e)),this},k.prototype.prependOnceListener=function(t,e){return G(e),this.prependListener(t,S(this,t,e)),this},k.prototype.removeListener=function(t,e){var n,r,i,o,a;if(G(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit(\"removeListener\",t,n.listener||e));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",t,a||e)}return this},k.prototype.off=k.prototype.removeListener,k.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},k.prototype.listeners=function(t){return D(this,t,!0)},k.prototype.rawListeners=function(t){return D(this,t,!1)},k.listenerCount=function(t,e){return\"function\"==typeof t.listenerCount?t.listenerCount(e):L.call(t,e)},k.prototype.listenerCount=L,k.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]},\"undefined\"!=typeof Symbol&&(j.prototype[Symbol.iterator]=function(){return this}),j.of=function(){var t=arguments,e=t.length,n=0;return new j((function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}}))},j.empty=function(){return new j((function(){return{done:!0}}))},j.fromSequence=function(t){var e=0,n=t.length;return new j((function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}}))},j.is=function(t){return t instanceof j||\"object\"==typeof t&&null!==t&&\"function\"==typeof t.next};var O=j,C={};C.ARRAY_BUFFER_SUPPORT=\"undefined\"!=typeof ArrayBuffer,C.SYMBOL_SUPPORT=\"undefined\"!=typeof Symbol;var z=O,M=C,W=M.ARRAY_BUFFER_SUPPORT,P=M.SYMBOL_SUPPORT;var R=function(t){var e=function(t){return\"string\"==typeof t||Array.isArray(t)||W&&ArrayBuffer.isView(t)?z.fromSequence(t):\"object\"!=typeof t||null===t?null:P&&\"function\"==typeof t[Symbol.iterator]?t[Symbol.iterator]():\"function\"==typeof t.next?t:null}(t);if(!e)throw new Error(\"obliterator: target is not iterable nor a valid iterator.\");return e},K=R,T=function(t,e){for(var n,r=arguments.length>1?e:1/0,i=r!==1/0?new Array(r):[],o=0,a=K(t);;){if(o===r)return i;if((n=a.next()).done)return o!==e&&(i.length=o),i;i[o++]=n.value}},B=function(t){function n(e){var n;return(n=t.call(this)||this).name=\"GraphError\",n.message=e,n}return e(n,t),n}(a(Error)),F=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"InvalidArgumentsGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(B),I=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"NotFoundGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(B),Y=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"UsageGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(B);function q(t,e){this.key=t,this.attributes=e,this.clear()}function J(t,e){this.key=t,this.attributes=e,this.clear()}function V(t,e){this.key=t,this.attributes=e,this.clear()}function H(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.in={},this.out={},this.undirected={}},J.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.in={},this.out={}},V.prototype.clear=function(){this.undirectedDegree=0,this.undirected={}},H.prototype.attach=function(){var t=\"out\",e=\"in\";this.undirected&&(t=e=\"undirected\");var n=this.source.key,r=this.target.key;this.source[t][r]=this,this.undirected&&n===r||(this.target[e][n]=this)},H.prototype.attachMulti=function(){var t=\"out\",e=\"in\",n=this.source.key,r=this.target.key;this.undirected&&(t=e=\"undirected\");var i=this.source[t],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[e][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[e][n]=this},H.prototype.detach=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),delete this.source[n][e],delete this.target[r][t]},H.prototype.detachMulti=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),void 0===this.previous?void 0===this.next?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};function Q(t,e,n,r,i,o,a){var u,c,s,d;if(r=\"\"+r,0===n){if(!(u=t._nodes.get(r)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" node in the graph.'));s=i,d=o}else if(3===n){if(i=\"\"+i,!(c=t._edges.get(i)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(i,'\" edge in the graph.'));var h=c.source.key,p=c.target.key;if(r===h)u=c.target;else{if(r!==p)throw new I(\"Graph.\".concat(e,': the \"').concat(r,'\" node is not attached to the \"').concat(i,'\" edge (').concat(h,\", \").concat(p,\").\"));u=c.source}s=o,d=a}else{if(!(c=t._edges.get(r)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" edge in the graph.'));u=1===n?c.source:c.target,s=i,d=o}return[u,s,d]}var X=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];return a.attributes[u]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){return Q(this,e,n,t,r)[0].attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];return a.attributes.hasOwnProperty(u)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=Q(this,e,n,t,r,i,o),u=a[0],c=a[1],s=a[2];return u.attributes[c]=s,this.emit(\"nodeAttributesUpdated\",{key:u.key,type:\"set\",attributes:u.attributes,name:c}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=Q(this,e,n,t,r,i,o),u=a[0],c=a[1],s=a[2];if(\"function\"!=typeof s)throw new F(\"Graph.\".concat(e,\": updater should be a function.\"));var d=u.attributes,h=s(d[c]);return d[c]=h,this.emit(\"nodeAttributesUpdated\",{key:u.key,type:\"set\",attributes:u.attributes,name:c}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];return delete a.attributes[u],this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"remove\",attributes:a.attributes,name:u}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];if(!h(u))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return a.attributes=u,this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"replace\",attributes:a.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];if(!h(u))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return c(a.attributes,u),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"merge\",attributes:a.attributes,data:u}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];if(\"function\"!=typeof u)throw new F(\"Graph.\".concat(e,\": provided updater is not a function.\"));return a.attributes=u(a.attributes),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"update\",attributes:a.attributes}),this}}}];var Z=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes[r]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t){var r;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>1){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var i=\"\"+t,o=\"\"+arguments[1];if(!(r=s(this,i,o,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(i,'\" - \"').concat(o,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(r=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return r.attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,u=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=s(this,a,u,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(u,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return o.attributes[r]=i,this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,u=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=s(this,a,u,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(u,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof i)throw new F(\"Graph.\".concat(e,\": updater should be a function.\"));return o.attributes[r]=i(o.attributes[r]),this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return delete i.attributes[r],this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"remove\",attributes:i.attributes,name:r}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!h(r))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return i.attributes=r,this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"replace\",attributes:i.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!h(r))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return c(i.attributes,r),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"merge\",attributes:i.attributes,data:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof r)throw new F(\"Graph.\".concat(e,\": provided updater is not a function.\"));return i.attributes=r(i.attributes),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"update\",attributes:i.attributes}),this}}}];var $=O,tt=R,et=function(){var t=arguments,e=null,n=-1;return new $((function(){for(var r=null;;){if(null===e){if(++n>=t.length)return{done:!0};e=tt(t[n])}if(!0!==(r=e.next()).done)break;e=null}return r}))},nt=[{name:\"edges\",type:\"mixed\"},{name:\"inEdges\",type:\"directed\",direction:\"in\"},{name:\"outEdges\",type:\"directed\",direction:\"out\"},{name:\"inboundEdges\",type:\"mixed\",direction:\"in\"},{name:\"outboundEdges\",type:\"mixed\",direction:\"out\"},{name:\"directedEdges\",type:\"directed\"},{name:\"undirectedEdges\",type:\"undirected\"}];function rt(t,e,n,r){var i=!1;for(var o in e)if(o!==r){var a=e[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),t&&i)return a.key}}function it(t,e,n,r){var i,o,a,u=!1;for(var c in e)if(c!==r){i=e[c];do{if(o=i.source,a=i.target,u=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),t&&u)return i.key;i=i.next}while(void 0!==i)}}function ot(t,e){var n,r=Object.keys(t),i=r.length,o=0;return new O((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===e){n=void 0;continue}n=t[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function at(t,e,n,r){var i=e[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&t?i.key:void 0}}function ut(t,e,n,r){var i=e[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&o)return i.key;i=i.next}while(void 0!==i)}}function ct(t,e){var n=t[e];return void 0!==n.next?new O((function(){if(!n)return{done:!0};var t={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:t}})):O.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function st(t,e){if(0===t.size)return[];if(\"mixed\"===e||e===t.type)return\"function\"==typeof Array.from?Array.from(t._edges.keys()):T(t._edges.keys(),t._edges.size);for(var n,r,i=\"undirected\"===e?t.undirectedSize:t.directedSize,o=new Array(i),a=\"undirected\"===e,u=t._edges.values(),c=0;!0!==(n=u.next()).done;)(r=n.value).undirected===a&&(o[c++]=r.key);return o}function dt(t,e,n,r){if(0!==e.size)for(var i,o,a=\"mixed\"!==n&&n!==e.type,u=\"undirected\"===n,c=!1,s=e._edges.values();!0!==(i=s.next()).done;)if(o=i.value,!a||o.undirected===u){var d=o,h=d.key,p=d.attributes,f=d.source,l=d.target;if(c=r(h,p,f.key,l.key,f.attributes,l.attributes,o.undirected),t&&c)return h}}function ht(t,e){if(0===t.size)return O.empty();var n=\"mixed\"!==e&&e!==t.type,r=\"undirected\"===e,i=t._edges.values();return new O((function(){for(var t,e;;){if((t=i.next()).done)return t;if(e=t.value,!n||e.undirected===r)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}function pt(t,e,n,r,i,o){var a,u=e?it:rt;if(\"undirected\"!==n){if(\"out\"!==r&&(a=u(t,i.in,o),t&&a))return a;if(\"in\"!==r&&(a=u(t,i.out,o,r?void 0:i.key),t&&a))return a}if(\"directed\"!==n&&(a=u(t,i.undirected,o),t&&a))return a}function ft(t,e,n,r){var i=[];return pt(!1,t,e,n,r,(function(t){i.push(t)})),i}function lt(t,e,n){var r=O.empty();return\"undirected\"!==t&&(\"out\"!==e&&void 0!==n.in&&(r=et(r,ot(n.in))),\"in\"!==e&&void 0!==n.out&&(r=et(r,ot(n.out,e?void 0:n.key)))),\"directed\"!==t&&void 0!==n.undirected&&(r=et(r,ot(n.undirected))),r}function gt(t,e,n,r,i,o,a){var u,c=n?ut:at;if(\"undirected\"!==e){if(void 0!==i.in&&\"out\"!==r&&(u=c(t,i.in,o,a),t&&u))return u;if(void 0!==i.out&&\"in\"!==r&&(r||i.key!==o)&&(u=c(t,i.out,o,a),t&&u))return u}if(\"directed\"!==e&&void 0!==i.undirected&&(u=c(t,i.undirected,o,a),t&&u))return u}function yt(t,e,n,r,i){var o=[];return gt(!1,t,e,n,r,i,(function(t){o.push(t)})),o}function wt(t,e,n,r){var i=O.empty();return\"undirected\"!==t&&(void 0!==n.in&&\"out\"!==e&&r in n.in&&(i=et(i,ct(n.in,r))),void 0!==n.out&&\"in\"!==e&&r in n.out&&(e||n.key!==r)&&(i=et(i,ct(n.out,r)))),\"directed\"!==t&&void 0!==n.undirected&&r in n.undirected&&(i=et(i,ct(n.undirected,r))),i}var vt=[{name:\"neighbors\",type:\"mixed\"},{name:\"inNeighbors\",type:\"directed\",direction:\"in\"},{name:\"outNeighbors\",type:\"directed\",direction:\"out\"},{name:\"inboundNeighbors\",type:\"mixed\",direction:\"in\"},{name:\"outboundNeighbors\",type:\"mixed\",direction:\"out\"},{name:\"directedNeighbors\",type:\"directed\"},{name:\"undirectedNeighbors\",type:\"undirected\"}];function bt(){this.A=null,this.B=null}function mt(t,e,n,r,i){for(var o in r){var a=r[o],u=a.source,c=a.target,s=u===n?c:u;if(!e||!e.has(s.key)){var d=i(s.key,s.attributes);if(t&&d)return s.key}}}function kt(t,e,n,r,i){if(\"mixed\"!==e){if(\"undirected\"===e)return mt(t,null,r,r.undirected,i);if(\"string\"==typeof n)return mt(t,null,r,r[n],i)}var o,a=new bt;if(\"undirected\"!==e){if(\"out\"!==n){if(o=mt(t,null,r,r.in,i),t&&o)return o;a.wrap(r.in)}if(\"in\"!==n){if(o=mt(t,a,r,r.out,i),t&&o)return o;a.wrap(r.out)}}if(\"directed\"!==e&&(o=mt(t,a,r,r.undirected,i),t&&o))return o}function _t(t,e,n){var r=Object.keys(n),i=r.length,o=0;return new O((function(){var a=null;do{if(o>=i)return t&&t.wrap(n),{done:!0};var u=n[r[o++]],c=u.source,s=u.target;a=c===e?s:c,t&&t.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function Gt(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new I(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return Object.keys(n.undirected);if(\"string\"==typeof e)return Object.keys(n[e])}var r=[];return kt(!1,t,e,n,(function(t){r.push(t)})),r}(\"mixed\"===r?this.type:r,i,e)}}function xt(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return _t(null,n,n.undirected);if(\"string\"==typeof e)return _t(null,n,n[e])}var r=O.empty(),i=new bt;return\"undirected\"!==t&&(\"out\"!==e&&(r=et(r,_t(i,n,n.in))),\"in\"!==e&&(r=et(r,_t(i,n,n.out)))),\"directed\"!==t&&(r=et(r,_t(i,n,n.undirected))),r}(\"mixed\"===r?this.type:r,i,e)}}function Et(t,e,n,r,i){for(var o,a,u,c,s,d,h,p=r._nodes.values(),f=r.type;!0!==(o=p.next()).done;){var l=!1;if(a=o.value,\"undirected\"!==f)for(u in c=a.out){s=c[u];do{if(d=s.target,l=!0,h=i(a.key,d.key,a.attributes,d.attributes,s.key,s.attributes,s.undirected),t&&h)return s;s=s.next}while(s)}if(\"directed\"!==f)for(u in c=a.undirected)if(!(e&&a.key>u)){s=c[u];do{if((d=s.target).key!==u&&(d=s.source),l=!0,h=i(a.key,d.key,a.attributes,d.attributes,s.key,s.attributes,s.undirected),t&&h)return s;s=s.next}while(s)}if(n&&!l&&(h=i(a.key,null,a.attributes,null,null,null,null),t&&h))return null}}function At(t){if(!h(t))throw new F('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a \"key\" property.');if(!(\"key\"in t))throw new F(\"Graph.import: serialized node is missing its key.\");if(\"attributes\"in t&&(!h(t.attributes)||null===t.attributes))throw new F(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\")}function St(t){if(!h(t))throw new F('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a \"source\" & \"target\" property.');if(!(\"source\"in t))throw new F(\"Graph.import: serialized edge is missing its source.\");if(!(\"target\"in t))throw new F(\"Graph.import: serialized edge is missing its target.\");if(\"attributes\"in t&&(!h(t.attributes)||null===t.attributes))throw new F(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\");if(\"undirected\"in t&&\"boolean\"!=typeof t.undirected)throw new F(\"Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.\")}bt.prototype.wrap=function(t){null===this.A?this.A=t:null===this.B&&(this.B=t)},bt.prototype.has=function(t){return null!==this.A&&t in this.A||null!==this.B&&t in this.B};var Dt,Lt=(Dt=255&Math.floor(256*Math.random()),function(){return Dt++}),Ut=new Set([\"directed\",\"undirected\",\"mixed\"]),Nt=new Set([\"domain\",\"_events\",\"_eventsCount\",\"_maxListeners\"]),jt={allowSelfLoops:!0,multi:!1,type:\"mixed\"};function Ot(t,e,n){var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}function Ct(t,e,n,r,i,o,a,u){if(!r&&\"undirected\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.\"));if(u&&!h(u))throw new F(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(u,'\"'));if(o=\"\"+o,a=\"\"+a,u=u||{},!t.allowSelfLoops&&o===a)throw new Y(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var c=t._nodes.get(o),s=t._nodes.get(a);if(!c)throw new I(\"Graph.\".concat(e,': source node \"').concat(o,'\" not found.'));if(!s)throw new I(\"Graph.\".concat(e,': target node \"').concat(a,'\" not found.'));var d={key:null,undirected:r,source:o,target:a,attributes:u};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new Y(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));if(!t.multi&&(r?void 0!==c.undirected[a]:void 0!==c.out[a]))throw new Y(\"Graph.\".concat(e,': an edge linking \"').concat(o,'\" to \"').concat(a,\"\\\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.\"));var p=new H(r,i,c,s,u);t._edges.set(i,p);var f=o===a;return r?(c.undirectedDegree++,s.undirectedDegree++,f&&t._undirectedSelfLoopCount++):(c.outDegree++,s.inDegree++,f&&t._directedSelfLoopCount++),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,d.key=i,t.emit(\"edgeAdded\",d),i}function zt(t,e,n,r,i,o,a,u,s){if(!r&&\"undirected\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.\"));if(u)if(s){if(\"function\"!=typeof u)throw new F(\"Graph.\".concat(e,': invalid updater function. Expecting a function but got \"').concat(u,'\"'))}else if(!h(u))throw new F(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(u,'\"'));var d;if(o=\"\"+o,a=\"\"+a,s&&(d=u,u=void 0),!t.allowSelfLoops&&o===a)throw new Y(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var p,f,l=t._nodes.get(o),g=t._nodes.get(a);if(!n&&(p=t._edges.get(i))){if(!(p.source.key===o&&p.target.key===a||r&&p.source.key===a&&p.target.key===o))throw new Y(\"Graph.\".concat(e,': inconsistency detected when attempting to merge the \"').concat(i,'\" edge with \"').concat(o,'\" source & \"').concat(a,'\" target vs. (\"').concat(p.source.key,'\", \"').concat(p.target.key,'\").'));f=p}if(f||t.multi||!l||(f=r?l.undirected[a]:l.out[a]),f){var y=[f.key,!1,!1,!1];if(s?!d:!u)return y;if(s){var w=f.attributes;f.attributes=d(w),t.emit(\"edgeAttributesUpdated\",{type:\"replace\",key:f.key,attributes:f.attributes})}else c(f.attributes,u),t.emit(\"edgeAttributesUpdated\",{type:\"merge\",key:f.key,attributes:f.attributes,data:u});return y}u=u||{},s&&d&&(u=d(u));var v={key:null,undirected:r,source:o,target:a,attributes:u};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new Y(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));var b=!1,m=!1;l||(l=Ot(t,o,{}),b=!0,o===a&&(g=l,m=!0)),g||(g=Ot(t,a,{}),m=!0),p=new H(r,i,l,g,u),t._edges.set(i,p);var k=o===a;return r?(l.undirectedDegree++,g.undirectedDegree++,k&&t._undirectedSelfLoopCount++):(l.outDegree++,g.inDegree++,k&&t._directedSelfLoopCount++),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit(\"edgeAdded\",v),[i,!0,b,m]}function Mt(t,e){t._edges.delete(e.key);var n=e.source,r=e.target,i=e.attributes,o=e.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&t._undirectedSelfLoopCount--):(n.outDegree--,r.inDegree--,a&&t._directedSelfLoopCount--),t.multi?e.detachMulti():e.detach(),o?t._undirectedSize--:t._directedSize--,t.emit(\"edgeDropped\",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:o})}var Wt=function(n){function r(t){var e;if(e=n.call(this)||this,\"boolean\"!=typeof(t=c({},jt,t)).multi)throw new F(\"Graph.constructor: invalid 'multi' option. Expecting a boolean but got \\\"\".concat(t.multi,'\".'));if(!Ut.has(t.type))throw new F('Graph.constructor: invalid \\'type\\' option. Should be one of \"mixed\", \"directed\" or \"undirected\" but got \"'.concat(t.type,'\".'));if(\"boolean\"!=typeof t.allowSelfLoops)throw new F(\"Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \\\"\".concat(t.allowSelfLoops,'\".'));var r=\"mixed\"===t.type?q:\"directed\"===t.type?J:V;f(u(e),\"NodeDataClass\",r);var i=\"geid_\"+Lt()+\"_\",o=0;return f(u(e),\"_attributes\",{}),f(u(e),\"_nodes\",new Map),f(u(e),\"_edges\",new Map),f(u(e),\"_directedSize\",0),f(u(e),\"_undirectedSize\",0),f(u(e),\"_directedSelfLoopCount\",0),f(u(e),\"_undirectedSelfLoopCount\",0),f(u(e),\"_edgeKeyGenerator\",(function(){var t;do{t=i+o++}while(e._edges.has(t));return t})),f(u(e),\"_options\",t),Nt.forEach((function(t){return f(u(e),t,e[t])})),l(u(e),\"order\",(function(){return e._nodes.size})),l(u(e),\"size\",(function(){return e._edges.size})),l(u(e),\"directedSize\",(function(){return e._directedSize})),l(u(e),\"undirectedSize\",(function(){return e._undirectedSize})),l(u(e),\"selfLoopCount\",(function(){return e._directedSelfLoopCount+e._undirectedSelfLoopCount})),l(u(e),\"directedSelfLoopCount\",(function(){return e._directedSelfLoopCount})),l(u(e),\"undirectedSelfLoopCount\",(function(){return e._undirectedSelfLoopCount})),l(u(e),\"multi\",e._options.multi),l(u(e),\"type\",e._options.type),l(u(e),\"allowSelfLoops\",e._options.allowSelfLoops),l(u(e),\"implementation\",(function(){return\"graphology\"})),e}e(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(t){return this._nodes.has(\"\"+t)},i.hasDirectedEdge=function(t,e){if(\"undirected\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.out[e];return!!o&&(!this.multi||!!o.size)}throw new F(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasUndirectedEdge=function(t,e){if(\"directed\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.undirected[e];return!!o&&(!this.multi||!!o.size)}throw new F(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasEdge=function(t,e){if(1===arguments.length){var n=\"\"+t;return this._edges.has(n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var r=this._nodes.get(t);if(!r)return!1;var i=void 0!==r.out&&r.out[e];return i||(i=void 0!==r.undirected&&r.undirected[e]),!!i&&(!this.multi||!!i.size)}throw new F(\"Graph.hasEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.directedEdge=function(t,e){if(\"undirected\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new Y(\"Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new I('Graph.directedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I('Graph.directedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(t,e){if(\"directed\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new Y(\"Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new I('Graph.undirectedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I('Graph.undirectedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}},i.edge=function(t,e){if(this.multi)throw new Y(\"Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.\");t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.edge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I('Graph.edge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areDirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)},i.areOutNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areOutNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out},i.areInNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areInNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in},i.areUndirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areUndirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"!==this.type&&e in n.undirected},i.areNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)||\"directed\"!==this.type&&e in n.undirected},i.areInboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areInboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in||\"directed\"!==this.type&&e in n.undirected},i.areOutboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areOutboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out||\"directed\"!==this.type&&e in n.undirected},i.inDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.inDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree},i.outDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.outDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree},i.directedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.directedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree},i.undirectedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.undirectedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree},i.inboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.inboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree),n},i.outboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.outboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.outDegree),n},i.degree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.degree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree),n},i.inDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.inDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"===this.type)return 0;var n=e.in[t],r=n?this.multi?n.size:1:0;return e.inDegree-r},i.outDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.outDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"===this.type)return 0;var n=e.out[t],r=n?this.multi?n.size:1:0;return e.outDegree-r},i.directedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.directedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"===this.type)return 0;var n=e.out[t],r=n?this.multi?n.size:1:0;return e.inDegree+e.outDegree-2*r},i.undirectedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.undirectedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"directed\"===this.type)return 0;var n=e.undirected[t],r=n?this.multi?n.size:1:0;return e.undirectedDegree-2*r},i.inboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.inboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var r=0,i=0;return\"directed\"!==this.type&&(r+=n.undirectedDegree,i+=2*((e=n.undirected[t])?this.multi?e.size:1:0)),\"undirected\"!==this.type&&(r+=n.inDegree,i+=(e=n.out[t])?this.multi?e.size:1:0),r-i},i.outboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.outboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var r=0,i=0;return\"directed\"!==this.type&&(r+=n.undirectedDegree,i+=2*((e=n.undirected[t])?this.multi?e.size:1:0)),\"undirected\"!==this.type&&(r+=n.outDegree,i+=(e=n.in[t])?this.multi?e.size:1:0),r-i},i.degreeWithoutSelfLoops=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.degreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var r=0,i=0;return\"directed\"!==this.type&&(r+=n.undirectedDegree,i+=2*((e=n.undirected[t])?this.multi?e.size:1:0)),\"undirected\"!==this.type&&(r+=n.inDegree+n.outDegree,i+=2*((e=n.out[t])?this.multi?e.size:1:0)),r-i},i.source=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.source: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source.key},i.target=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.target: could not find the \"'.concat(t,'\" edge in the graph.'));return e.target.key},i.extremities=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.extremities: could not find the \"'.concat(t,'\" edge in the graph.'));return[e.source.key,e.target.key]},i.opposite=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(e);if(!n)throw new I('Graph.opposite: could not find the \"'.concat(e,'\" edge in the graph.'));var r=n.source.key,i=n.target.key;if(t===r)return i;if(t===i)return r;throw new I('Graph.opposite: the \"'.concat(t,'\" node is not attached to the \"').concat(e,'\" edge (').concat(r,\", \").concat(i,\").\"))},i.hasExtremity=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(t);if(!n)throw new I('Graph.hasExtremity: could not find the \"'.concat(t,'\" edge in the graph.'));return n.source.key===e||n.target.key===e},i.isUndirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.isUndirected: could not find the \"'.concat(t,'\" edge in the graph.'));return e.undirected},i.isDirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.isDirected: could not find the \"'.concat(t,'\" edge in the graph.'));return!e.undirected},i.isSelfLoop=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.isSelfLoop: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source===e.target},i.addNode=function(t,e){var n=function(t,e,n){if(n&&!h(n))throw new F('Graph.addNode: invalid attributes. Expecting an object but got \"'.concat(n,'\"'));if(e=\"\"+e,n=n||{},t._nodes.has(e))throw new Y('Graph.addNode: the \"'.concat(e,'\" node already exist in the graph.'));var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}(this,t,e);return n.key},i.mergeNode=function(t,e){if(e&&!h(e))throw new F('Graph.mergeNode: invalid attributes. Expecting an object but got \"'.concat(e,'\"'));t=\"\"+t,e=e||{};var n=this._nodes.get(t);return n?(e&&(c(n.attributes,e),this.emit(\"nodeAttributesUpdated\",{type:\"merge\",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:e}),[t,!0])},i.updateNode=function(t,e){if(e&&\"function\"!=typeof e)throw new F('Graph.updateNode: invalid updater function. Expecting a function but got \"'.concat(e,'\"'));t=\"\"+t;var n=this._nodes.get(t);if(n){if(e){var r=n.attributes;n.attributes=e(r),this.emit(\"nodeAttributesUpdated\",{type:\"replace\",key:t,attributes:n.attributes})}return[t,!1]}var i=e?e({}):{};return n=new this.NodeDataClass(t,i),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:i}),[t,!0]},i.dropNode=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.dropNode: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"!==this.type){for(var r in n.out){e=n.out[r];do{Mt(this,e),e=e.next}while(e)}for(var i in n.in){e=n.in[i];do{Mt(this,e),e=e.next}while(e)}}if(\"directed\"!==this.type)for(var o in n.undirected){e=n.undirected[o];do{Mt(this,e),e=e.next}while(e)}this._nodes.delete(t),this.emit(\"nodeDropped\",{key:t,attributes:n.attributes})},i.dropEdge=function(t){var e;if(arguments.length>1){var n=\"\"+arguments[0],r=\"\"+arguments[1];if(!(e=s(this,n,r,this.type)))throw new I('Graph.dropEdge: could not find the \"'.concat(n,'\" -> \"').concat(r,'\" edge in the graph.'))}else if(t=\"\"+t,!(e=this._edges.get(t)))throw new I('Graph.dropEdge: could not find the \"'.concat(t,'\" edge in the graph.'));return Mt(this,e),this},i.dropDirectedEdge=function(t,e){if(arguments.length<2)throw new Y(\"Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new Y(\"Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=s(this,t=\"\"+t,e=\"\"+e,\"directed\");if(!n)throw new I('Graph.dropDirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.dropUndirectedEdge=function(t,e){if(arguments.length<2)throw new Y(\"Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new Y(\"Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=s(this,t,e,\"undirected\");if(!n)throw new I('Graph.dropUndirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit(\"cleared\")},i.clearEdges=function(){for(var t,e=this._nodes.values();!0!==(t=e.next()).done;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit(\"edgesCleared\")},i.getAttribute=function(t){return this._attributes[t]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},i.setAttribute=function(t,e){return this._attributes[t]=e,this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.updateAttribute=function(t,e){if(\"function\"!=typeof e)throw new F(\"Graph.updateAttribute: updater should be a function.\");var n=this._attributes[t];return this._attributes[t]=e(n),this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.removeAttribute=function(t){return delete this._attributes[t],this.emit(\"attributesUpdated\",{type:\"remove\",attributes:this._attributes,name:t}),this},i.replaceAttributes=function(t){if(!h(t))throw new F(\"Graph.replaceAttributes: provided attributes are not a plain object.\");return this._attributes=t,this.emit(\"attributesUpdated\",{type:\"replace\",attributes:this._attributes}),this},i.mergeAttributes=function(t){if(!h(t))throw new F(\"Graph.mergeAttributes: provided attributes are not a plain object.\");return c(this._attributes,t),this.emit(\"attributesUpdated\",{type:\"merge\",attributes:this._attributes,data:t}),this},i.updateAttributes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.updateAttributes: provided updater is not a function.\");return this._attributes=t(this._attributes),this.emit(\"attributesUpdated\",{type:\"update\",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.updateEachNodeAttributes: expecting an updater function.\");if(e&&!g(e))throw new F(\"Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=t(r.key,r.attributes);this.emit(\"eachNodeAttributesUpdated\",{hints:e||null})},i.updateEachEdgeAttributes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.updateEachEdgeAttributes: expecting an updater function.\");if(e&&!g(e))throw new F(\"Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=t(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit(\"eachEdgeAttributesUpdated\",{hints:e||null})},i.forEachAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAdjacencyEntry: expecting a callback.\");Et(!1,!1,!1,this,t)},i.forEachAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.\");Et(!1,!1,!0,this,t)},i.forEachAssymetricAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAssymetricAdjacencyEntry: expecting a callback.\");Et(!1,!0,!1,this,t)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.\");Et(!1,!0,!0,this,t)},i.nodes=function(){return\"function\"==typeof Array.from?Array.from(this._nodes.keys()):T(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)},i.findNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.findNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return n.key},i.mapNodes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.mapNode: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(e=r.next()).done;)n=e.value,i[o++]=t(n.key,n.attributes);return i},i.someNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.someNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return!0;return!1},i.everyNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.everyNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(!t((n=e.value).key,n.attributes))return!1;return!0},i.filterNodes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.filterNodes: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=[];!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.reduceNodes: expecting a callback.\");if(arguments.length<2)throw new F(\"Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\");for(var n,r,i=e,o=this._nodes.values();!0!==(n=o.next()).done;)i=t(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var t=this._nodes.values();return new O((function(){var e=t.next();if(e.done)return e;var n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var t=new Array(this._nodes.size),e=0;this._nodes.forEach((function(n,r){t[e++]=function(t,e){var n={key:t};return p(e.attributes)||(n.attributes=c({},e.attributes)),n}(r,n)}));var n=new Array(this._edges.size);return e=0,this._edges.forEach((function(t,r){n[e++]=function(t,e){var n={key:t,source:e.source.key,target:e.target.key};return p(e.attributes)||(n.attributes=c({},e.attributes)),e.undirected&&(n.undirected=!0),n}(r,t)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:n}},i.import=function(t){var e,n,r,i,o,a=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d(t))return t.forEachNode((function(t,e){u?a.mergeNode(t,e):a.addNode(t,e)})),t.forEachEdge((function(t,e,n,r,i,o,c){u?c?a.mergeUndirectedEdgeWithKey(t,n,r,e):a.mergeDirectedEdgeWithKey(t,n,r,e):c?a.addUndirectedEdgeWithKey(t,n,r,e):a.addDirectedEdgeWithKey(t,n,r,e)})),this;if(!h(t))throw new F(\"Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.\");if(t.attributes){if(!h(t.attributes))throw new F(\"Graph.import: invalid attributes. Expecting a plain object.\");u?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}if(t.nodes){if(r=t.nodes,!Array.isArray(r))throw new F(\"Graph.import: invalid nodes. Expecting an array.\");for(e=0,n=r.length;e<n;e++){At(i=r[e]);var c=i,s=c.key,p=c.attributes;u?this.mergeNode(s,p):this.addNode(s,p)}}if(t.edges){if(r=t.edges,!Array.isArray(r))throw new F(\"Graph.import: invalid edges. Expecting an array.\");for(e=0,n=r.length;e<n;e++){St(o=r[e]);var f=o,l=f.source,g=f.target,y=f.attributes,w=f.undirected,v=void 0!==w&&w;\"key\"in o?(u?v?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:v?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,o.key,l,g,y):(u?v?this.mergeUndirectedEdge:this.mergeDirectedEdge:v?this.addUndirectedEdge:this.addDirectedEdge).call(this,l,g,y)}}return this},i.nullCopy=function(t){var e=new r(c({},this._options,t));return e.replaceAttributes(c({},this.getAttributes())),e},i.emptyCopy=function(t){var e=this.nullCopy(t);return this._nodes.forEach((function(t,n){var r=c({},t.attributes);t=new e.NodeDataClass(n,r),e._nodes.set(n,t)})),e},i.copy=function(t){if(\"string\"==typeof(t=t||{}).type&&t.type!==this.type&&\"mixed\"!==t.type)throw new Y('Graph.copy: cannot create an incompatible copy from \"'.concat(this.type,'\" type to \"').concat(t.type,'\" because this would mean losing information about the current graph.'));if(\"boolean\"==typeof t.multi&&t.multi!==this.multi&&!0!==t.multi)throw new Y(\"Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.\");if(\"boolean\"==typeof t.allowSelfLoops&&t.allowSelfLoops!==this.allowSelfLoops&&!0!==t.allowSelfLoops)throw new Y(\"Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.\");for(var e,n,r=this.emptyCopy(t),i=this._edges.values();!0!==(e=i.next()).done;)Ct(r,\"copy\",!1,(n=e.value).undirected,n.key,n.source.key,n.target.key,c({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return\"[object Graph]\"},i.inspect=function(){var e=this,n={};this._nodes.forEach((function(t,e){n[e]=t.attributes}));var r={},i={};this._edges.forEach((function(t,n){var o,a=t.undirected?\"--\":\"->\",u=\"\",c=t.source.key,s=t.target.key;t.undirected&&c>s&&(o=c,c=s,s=o);var d=\"(\".concat(c,\")\").concat(a,\"(\").concat(s,\")\");n.startsWith(\"geid_\")?e.multi&&(void 0===i[d]?i[d]=0:i[d]++,u+=\"\".concat(i[d],\". \")):u+=\"[\".concat(n,\"]: \"),r[u+=d]=t.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Nt.has(a)&&\"function\"!=typeof this[a]&&\"symbol\"!==t(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,f(o,\"constructor\",this.constructor),o},r}(w.exports.EventEmitter);\"undefined\"!=typeof Symbol&&(Wt.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=Wt.prototype.inspect),[{name:function(t){return\"\".concat(t,\"Edge\")},generateKey:!0},{name:function(t){return\"\".concat(t,\"DirectedEdge\")},generateKey:!0,type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdge\")},generateKey:!0,type:\"undirected\"},{name:function(t){return\"\".concat(t,\"EdgeWithKey\")}},{name:function(t){return\"\".concat(t,\"DirectedEdgeWithKey\")},type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdgeWithKey\")},type:\"undirected\"}].forEach((function(t){[\"add\",\"merge\",\"update\"].forEach((function(e){var n=t.name(e),r=\"add\"===e?Ct:zt;t.generateKey?Wt.prototype[n]=function(i,o,a){return r(this,n,!0,\"undirected\"===(t.type||this.type),null,i,o,a,\"update\"===e)}:Wt.prototype[n]=function(i,o,a,u){return r(this,n,!1,\"undirected\"===(t.type||this.type),i,o,a,u,\"update\"===e)}}))})),function(t){X.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Node\"),0),r(t,n(\"Source\"),1),r(t,n(\"Target\"),2),r(t,n(\"Opposite\"),3)}))}(Wt),function(t){Z.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Edge\"),\"mixed\"),r(t,n(\"DirectedEdge\"),\"directed\"),r(t,n(\"UndirectedEdge\"),\"undirected\")}))}(Wt),function(t){nt.forEach((function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];if(!arguments.length)return st(this,r);if(1===arguments.length){t=\"\"+t;var o=this._nodes.get(t);if(void 0===o)throw new I(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return ft(this.multi,\"mixed\"===r?this.type:r,i,o)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new I(\"Graph.\".concat(n,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(n,':  could not find the \"').concat(e,'\" target node in the graph.'));return yt(r,this.multi,i,a,e)}throw new F(\"Graph.\".concat(n,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){if(1===arguments.length)return dt(!1,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return pt(!1,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var u=this._nodes.get(t);if(!u)throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return gt(!1,r,this.multi,i,u,e,n)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){var t,e=Array.prototype.slice.call(arguments),n=e.pop();if(0===e.length){var i=0;\"directed\"!==r&&(i+=this.undirectedSize),\"undirected\"!==r&&(i+=this.directedSize),t=new Array(i);var a=0;e.push((function(e,r,i,o,u,c,s){t[a++]=n(e,r,i,o,u,c,s)}))}else t=[],e.push((function(e,r,i,o,a,u,c){t.push(n(e,r,i,o,a,u,c))}));return this[o].apply(this,e),t};var u=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=[];return t.push((function(t,r,i,o,a,u,c){e(t,r,i,o,a,u,c)&&n.push(t)})),this[o].apply(this,t),n};var c=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){var t,e,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new F(\"Graph.\".concat(c,\": invalid number of arguments (expecting 2, 3 or 4 and got \").concat(n.length,\").\"));if(\"function\"==typeof n[n.length-1]&&\"function\"!=typeof n[n.length-2])throw new F(\"Graph.\".concat(c,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));2===n.length?(t=n[0],e=n[1],n=[]):3===n.length?(t=n[1],e=n[2],n=[n[0]]):4===n.length&&(t=n[2],e=n[3],n=[n[0],n[1]]);var r=e;return n.push((function(e,n,i,o,a,u,c){r=t(r,e,n,i,o,a,u,c)})),this[o].apply(this,n),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"find\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return dt(!0,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return pt(!0,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var u=this._nodes.get(t);if(!u)throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return gt(!0,r,this.multi,i,u,e,n)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))};var a=\"some\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,u){return e(t,n,r,i,o,a,u)})),!!this[o].apply(this,t)};var u=\"every\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,u){return!e(t,n,r,i,o,a,u)})),!this[o].apply(this,t)}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();if(!arguments.length)return ht(this,r);if(1===arguments.length){t=\"\"+t;var n=this._nodes.get(t);if(!n)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return lt(r,i,n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return wt(r,i,a,e)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e)}))}(Wt),function(t){vt.forEach((function(e){Gt(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));kt(!1,\"mixed\"===r?this.type:r,i,n,e)}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(t,e){var n=[];return this[o](t,(function(t,r){n.push(e(t,r))})),n};var u=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(t,e){var n=[];return this[o](t,(function(t,r){e(t,r)&&n.push(t)})),n};var c=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(t,e,n){if(arguments.length<3)throw new F(\"Graph.\".concat(c,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));var r=n;return this[o](t,(function(t,n){r=e(r,t,n)})),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n[0].toUpperCase()+n.slice(1,-1),a=\"find\"+o;t.prototype[a]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new I(\"Graph.\".concat(a,': could not find the \"').concat(t,'\" node in the graph.'));return kt(!0,\"mixed\"===r?this.type:r,i,n,e)}};var u=\"some\"+o;t.prototype[u]=function(t,e){return!!this[a](t,e)};var c=\"every\"+o;t.prototype[c]=function(t,e){return!this[a](t,(function(t,n){return!e(t,n)}))}}(t,e),xt(t,e)}))}(Wt);var Pt=function(t){function n(e){var n=c({type:\"directed\"},e);if(\"multi\"in n&&!1!==n.multi)throw new F(\"DirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"directed\"!==n.type)throw new F('DirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt),Rt=function(t){function n(e){var n=c({type:\"undirected\"},e);if(\"multi\"in n&&!1!==n.multi)throw new F(\"UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"undirected\"!==n.type)throw new F('UndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt),Kt=function(t){function n(e){var n=c({multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiGraph.from: inconsistent indication that the graph should be simple in given options!\");return t.call(this,n)||this}return e(n,t),n}(Wt),Tt=function(t){function n(e){var n=c({type:\"directed\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"directed\"!==n.type)throw new F('MultiDirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt),Bt=function(t){function n(e){var n=c({type:\"undirected\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"undirected\"!==n.type)throw new F('MultiUndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt);function Ft(t){t.from=function(e,n){var r=c({},e.options,n),i=new t(r);return i.import(e),i}}return Ft(Wt),Ft(Pt),Ft(Rt),Ft(Kt),Ft(Tt),Ft(Bt),Wt.Graph=Wt,Wt.DirectedGraph=Pt,Wt.UndirectedGraph=Rt,Wt.MultiGraph=Kt,Wt.MultiDirectedGraph=Tt,Wt.MultiUndirectedGraph=Bt,Wt.InvalidArgumentsGraphError=F,Wt.NotFoundGraphError=I,Wt.UsageGraphError=Y,Wt}));\n//# sourceMappingURL=graphology.umd.min.js.map\n","/**\n * Mnemonist SparseMap\n * ====================\n *\n * JavaScript sparse map implemented on top of byte arrays.\n *\n * [Reference]: https://research.swtch.com/sparse\n */\nvar Iterator = require('obliterator/iterator'),\n    getPointerArray = require('./utils/typed-arrays.js').getPointerArray;\n\n/**\n * SparseMap.\n *\n * @constructor\n */\nfunction SparseMap(Values, length) {\n  if (arguments.length < 2) {\n    length = Values;\n    Values = Array;\n  }\n\n  var ByteArray = getPointerArray(length);\n\n  // Properties\n  this.size = 0;\n  this.length = length;\n  this.dense = new ByteArray(length);\n  this.sparse = new ByteArray(length);\n  this.vals = new Values(length);\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nSparseMap.prototype.clear = function() {\n  this.size = 0;\n};\n\n/**\n * Method used to check the existence of a member in the set.\n *\n * @param  {number} member - Member to test.\n * @return {SparseMap}\n */\nSparseMap.prototype.has = function(member) {\n  var index = this.sparse[member];\n\n  return (\n    index < this.size &&\n    this.dense[index] === member\n  );\n};\n\n/**\n * Method used to get the value associated to a member in the set.\n *\n * @param  {number} member - Member to test.\n * @return {any}\n */\nSparseMap.prototype.get = function(member) {\n  var index = this.sparse[member];\n\n  if (index < this.size && this.dense[index] === member)\n    return this.vals[index];\n\n  return;\n};\n\n/**\n * Method used to set a value into the map.\n *\n * @param  {number} member - Member to set.\n * @param  {any}    value  - Associated value.\n * @return {SparseMap}\n */\nSparseMap.prototype.set = function(member, value) {\n  var index = this.sparse[member];\n\n  if (index < this.size && this.dense[index] === member) {\n    this.vals[index] = value;\n    return this;\n  }\n\n  this.dense[this.size] = member;\n  this.sparse[member] = this.size;\n  this.vals[this.size] = value;\n  this.size++;\n\n  return this;\n};\n\n/**\n * Method used to remove a member from the set.\n *\n * @param  {number} member - Member to delete.\n * @return {boolean}\n */\nSparseMap.prototype.delete = function(member) {\n  var index = this.sparse[member];\n\n  if (index >= this.size || this.dense[index] !== member)\n    return false;\n\n  index = this.dense[this.size - 1];\n  this.dense[this.sparse[member]] = index;\n  this.sparse[index] = this.sparse[member];\n  this.size--;\n\n  return true;\n};\n\n/**\n * Method used to iterate over the set's values.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nSparseMap.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  for (var i = 0; i < this.size; i++)\n    callback.call(scope, this.vals[i], this.dense[i]);\n};\n\n/**\n * Method used to create an iterator over a set's members.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.keys = function() {\n  var size = this.size,\n      dense = this.dense,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = dense[i];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over a set's values.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.values = function() {\n  var size = this.size,\n      values = this.vals,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = values[i];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Method used to create an iterator over a set's entries.\n *\n * @return {Iterator}\n */\nSparseMap.prototype.entries = function() {\n  var size = this.size,\n      dense = this.dense,\n      values = this.vals,\n      i = 0;\n\n  return new Iterator(function() {\n    if (i < size) {\n      var item = [dense[i], values[i]];\n      i++;\n\n      return {\n        value: item\n      };\n    }\n\n    return {\n      done: true\n    };\n  });\n};\n\n/**\n * Attaching the #.entries method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  SparseMap.prototype[Symbol.iterator] = SparseMap.prototype.entries;\n\n/**\n * Convenience known methods.\n */\nSparseMap.prototype.inspect = function() {\n  var proxy = new Map();\n\n  for (var i = 0; i < this.size; i++)\n    proxy.set(this.dense[i], this.vals[i]);\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: SparseMap,\n    enumerable: false\n  });\n\n  proxy.length = this.length;\n\n  if (this.vals.constructor !== Array)\n    proxy.type = this.vals.constructor.name;\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  SparseMap.prototype[Symbol.for('nodejs.util.inspect.custom')] = SparseMap.prototype.inspect;\n\n/**\n * Exporting.\n */\nmodule.exports = SparseMap;\n","/**\n * Mnemonist SparseQueueSet\n * =========================\n *\n * JavaScript sparse queue set implemented on top of byte arrays.\n *\n * [Reference]: https://research.swtch.com/sparse\n */\nvar Iterator = require('obliterator/iterator'),\n    getPointerArray = require('./utils/typed-arrays.js').getPointerArray;\n\n/**\n * SparseQueueSet.\n *\n * @constructor\n */\nfunction SparseQueueSet(capacity) {\n\n  var ByteArray = getPointerArray(capacity);\n\n  // Properties\n  this.start = 0;\n  this.size = 0;\n  this.capacity = capacity;\n  this.dense = new ByteArray(capacity);\n  this.sparse = new ByteArray(capacity);\n}\n\n/**\n * Method used to clear the structure.\n *\n * @return {undefined}\n */\nSparseQueueSet.prototype.clear = function() {\n  this.start = 0;\n  this.size = 0;\n};\n\n/**\n * Method used to check the existence of a member in the queue.\n *\n * @param  {number} member - Member to test.\n * @return {SparseQueueSet}\n */\nSparseQueueSet.prototype.has = function(member) {\n  if (this.size === 0)\n    return false;\n\n  var index = this.sparse[member];\n\n  var inBounds = (\n    index < this.capacity &&\n    (\n      index >= this.start &&\n      index < this.start + this.size\n    ) ||\n    (\n      index < ((this.start + this.size) % this.capacity)\n    )\n  );\n\n  return (\n    inBounds &&\n    this.dense[index] === member\n  );\n};\n\n/**\n * Method used to add a member to the queue.\n *\n * @param  {number} member - Member to add.\n * @return {SparseQueueSet}\n */\nSparseQueueSet.prototype.enqueue = function(member) {\n  var index = this.sparse[member];\n\n  if (this.size !== 0) {\n    var inBounds = (\n      index < this.capacity &&\n      (\n        index >= this.start &&\n        index < this.start + this.size\n      ) ||\n      (\n        index < ((this.start + this.size) % this.capacity)\n      )\n    );\n\n    if (inBounds && this.dense[index] === member)\n      return this;\n  }\n\n  index = (this.start + this.size) % this.capacity;\n\n  this.dense[index] = member;\n  this.sparse[member] = index;\n  this.size++;\n\n  return this;\n};\n\n/**\n * Method used to remove the next member from the queue.\n *\n * @param  {number} member - Member to delete.\n * @return {boolean}\n */\nSparseQueueSet.prototype.dequeue = function() {\n  if (this.size === 0)\n    return;\n\n  var index = this.start;\n\n  this.size--;\n  this.start++;\n\n  if (this.start === this.capacity)\n    this.start = 0;\n\n  var member = this.dense[index];\n\n  this.sparse[member] = this.capacity;\n\n  return member;\n};\n\n/**\n * Method used to iterate over the queue's values.\n *\n * @param  {function}  callback - Function to call for each item.\n * @param  {object}    scope    - Optional scope.\n * @return {undefined}\n */\nSparseQueueSet.prototype.forEach = function(callback, scope) {\n  scope = arguments.length > 1 ? scope : this;\n\n  var c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  while (j < l) {\n    callback.call(scope, this.dense[i], j, this);\n    i++;\n    j++;\n\n    if (i === c)\n      i = 0;\n  }\n};\n\n/**\n * Method used to create an iterator over a set's values.\n *\n * @return {Iterator}\n */\nSparseQueueSet.prototype.values = function() {\n  var dense = this.dense,\n      c = this.capacity,\n      l = this.size,\n      i = this.start,\n      j = 0;\n\n  return new Iterator(function() {\n    if (j >= l)\n      return {\n        done: true\n      };\n\n    var value = dense[i];\n\n    i++;\n    j++;\n\n    if (i === c)\n      i = 0;\n\n    return {\n      value: value,\n      done: false\n    };\n  });\n};\n\n/**\n * Attaching the #.values method to Symbol.iterator if possible.\n */\nif (typeof Symbol !== 'undefined')\n  SparseQueueSet.prototype[Symbol.iterator] = SparseQueueSet.prototype.values;\n\n/**\n * Convenience known methods.\n */\nSparseQueueSet.prototype.inspect = function() {\n  var proxy = [];\n\n  this.forEach(function(member) {\n    proxy.push(member);\n  });\n\n  // Trick so that node displays the name of the constructor\n  Object.defineProperty(proxy, 'constructor', {\n    value: SparseQueueSet,\n    enumerable: false\n  });\n\n  proxy.capacity = this.capacity;\n\n  return proxy;\n};\n\nif (typeof Symbol !== 'undefined')\n  SparseQueueSet.prototype[Symbol.for('nodejs.util.inspect.custom')] = SparseQueueSet.prototype.inspect;\n\n/**\n * Exporting.\n */\nmodule.exports = SparseQueueSet;\n","/**\n * Mnemonist Typed Array Helpers\n * ==============================\n *\n * Miscellaneous helpers related to typed arrays.\n */\n\n/**\n * When using an unsigned integer array to store pointers, one might want to\n * choose the optimal word size in regards to the actual numbers of pointers\n * to store.\n *\n * This helpers does just that.\n *\n * @param  {number} size - Expected size of the array to map.\n * @return {TypedArray}\n */\nvar MAX_8BIT_INTEGER = Math.pow(2, 8) - 1,\n    MAX_16BIT_INTEGER = Math.pow(2, 16) - 1,\n    MAX_32BIT_INTEGER = Math.pow(2, 32) - 1;\n\nvar MAX_SIGNED_8BIT_INTEGER = Math.pow(2, 7) - 1,\n    MAX_SIGNED_16BIT_INTEGER = Math.pow(2, 15) - 1,\n    MAX_SIGNED_32BIT_INTEGER = Math.pow(2, 31) - 1;\n\nexports.getPointerArray = function(size) {\n  var maxIndex = size - 1;\n\n  if (maxIndex <= MAX_8BIT_INTEGER)\n    return Uint8Array;\n\n  if (maxIndex <= MAX_16BIT_INTEGER)\n    return Uint16Array;\n\n  if (maxIndex <= MAX_32BIT_INTEGER)\n    return Uint32Array;\n\n  throw new Error('mnemonist: Pointer Array of size > 4294967295 is not supported.');\n};\n\nexports.getSignedPointerArray = function(size) {\n  var maxIndex = size - 1;\n\n  if (maxIndex <= MAX_SIGNED_8BIT_INTEGER)\n    return Int8Array;\n\n  if (maxIndex <= MAX_SIGNED_16BIT_INTEGER)\n    return Int16Array;\n\n  if (maxIndex <= MAX_SIGNED_32BIT_INTEGER)\n    return Int32Array;\n\n  return Float64Array;\n};\n\n/**\n * Function returning the minimal type able to represent the given number.\n *\n * @param  {number} value - Value to test.\n * @return {TypedArrayClass}\n */\nexports.getNumberType = function(value) {\n\n  // <= 32 bits itnteger?\n  if (value === (value | 0)) {\n\n    // Negative\n    if (Math.sign(value) === -1) {\n      if (value <= 127 && value >= -128)\n        return Int8Array;\n\n      if (value <= 32767 && value >= -32768)\n        return Int16Array;\n\n      return Int32Array;\n    }\n    else {\n\n      if (value <= 255)\n        return Uint8Array;\n\n      if (value <= 65535)\n        return Uint16Array;\n\n      return Uint32Array;\n    }\n  }\n\n  // 53 bits integer & floats\n  // NOTE: it's kinda hard to tell whether we could use 32bits or not...\n  return Float64Array;\n};\n\n/**\n * Function returning the minimal type able to represent the given array\n * of JavaScript numbers.\n *\n * @param  {array}    array  - Array to represent.\n * @param  {function} getter - Optional getter.\n * @return {TypedArrayClass}\n */\nvar TYPE_PRIORITY = {\n  Uint8Array: 1,\n  Int8Array: 2,\n  Uint16Array: 3,\n  Int16Array: 4,\n  Uint32Array: 5,\n  Int32Array: 6,\n  Float32Array: 7,\n  Float64Array: 8\n};\n\n// TODO: make this a one-shot for one value\nexports.getMinimalRepresentation = function(array, getter) {\n  var maxType = null,\n      maxPriority = 0,\n      p,\n      t,\n      v,\n      i,\n      l;\n\n  for (i = 0, l = array.length; i < l; i++) {\n    v = getter ? getter(array[i]) : array[i];\n    t = exports.getNumberType(v);\n    p = TYPE_PRIORITY[t.name];\n\n    if (p > maxPriority) {\n      maxPriority = p;\n      maxType = t;\n    }\n  }\n\n  return maxType;\n};\n\n/**\n * Function returning whether the given value is a typed array.\n *\n * @param  {any} value - Value to test.\n * @return {boolean}\n */\nexports.isTypedArray = function(value) {\n  return typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView(value);\n};\n\n/**\n * Function used to concat byte arrays.\n *\n * @param  {...ByteArray}\n * @return {ByteArray}\n */\nexports.concat = function() {\n  var length = 0,\n      i,\n      o,\n      l;\n\n  for (i = 0, l = arguments.length; i < l; i++)\n    length += arguments[i].length;\n\n  var array = new (arguments[0].constructor)(length);\n\n  for (i = 0, o = 0; i < l; i++) {\n    array.set(arguments[i], o);\n    o += arguments[i].length;\n  }\n\n  return array;\n};\n\n/**\n * Function used to initialize a byte array of indices.\n *\n * @param  {number}    length - Length of target.\n * @return {ByteArray}\n */\nexports.indices = function(length) {\n  var PointerArray = exports.getPointerArray(length);\n\n  var array = new PointerArray(length);\n\n  for (var i = 0; i < length; i++)\n    array[i] = i;\n\n  return array;\n};\n","/**\n * Obliterator Iterator Class\n * ===========================\n *\n * Simple class representing the library's iterators.\n */\n\n/**\n * Iterator class.\n *\n * @constructor\n * @param {function} next - Next function.\n */\nfunction Iterator(next) {\n  if (typeof next !== 'function')\n    throw new Error('obliterator/iterator: expecting a function!');\n\n  this.next = next;\n}\n\n/**\n * If symbols are supported, we add `next` to `Symbol.iterator`.\n */\nif (typeof Symbol !== 'undefined')\n  Iterator.prototype[Symbol.iterator] = function () {\n    return this;\n  };\n\n/**\n * Returning an iterator of the given values.\n *\n * @param  {any...} values - Values.\n * @return {Iterator}\n */\nIterator.of = function () {\n  var args = arguments,\n    l = args.length,\n    i = 0;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: args[i++]};\n  });\n};\n\n/**\n * Returning an empty iterator.\n *\n * @return {Iterator}\n */\nIterator.empty = function () {\n  var iterator = new Iterator(function () {\n    return {done: true};\n  });\n\n  return iterator;\n};\n\n/**\n * Returning an iterator over the given indexed sequence.\n *\n * @param  {string|Array} sequence - Target sequence.\n * @return {Iterator}\n */\nIterator.fromSequence = function (sequence) {\n  var i = 0,\n    l = sequence.length;\n\n  return new Iterator(function () {\n    if (i >= l) return {done: true};\n\n    return {done: false, value: sequence[i++]};\n  });\n};\n\n/**\n * Returning whether the given value is an iterator.\n *\n * @param  {any} value - Value.\n * @return {boolean}\n */\nIterator.is = function (value) {\n  if (value instanceof Iterator) return true;\n\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    typeof value.next === 'function'\n  );\n};\n\n/**\n * Exporting.\n */\nmodule.exports = Iterator;\n","/**\n * Pandemonium Random Index\n * =========================\n *\n * Random index function.\n */\n\n/**\n * Creating a function returning a random index from the given array.\n *\n * @param  {function} rng - RNG function returning uniform random.\n * @return {function}     - The created function.\n */\nfunction createRandomIndex(rng) {\n  /**\n   * Random function.\n   *\n   * @param  {array|number}  array - Target array or length of the array.\n   * @return {number}\n   */\n  return function (length) {\n    if (typeof length !== 'number') length = length.length;\n\n    return Math.floor(rng() * length);\n  };\n}\n\n/**\n * Default random index using `Math.random`.\n */\nvar randomIndex = createRandomIndex(Math.random);\n\n/**\n * Exporting.\n */\nrandomIndex.createRandomIndex = createRandomIndex;\nmodule.exports = randomIndex;\n","/* TODO:\n- improve UX PICTURES/COLORS button\n- adjust communities colors\n- use communities labels for creators clusters and document it in explanations\n- prespatialize networks\n- add social network cards\n- test smartphone\n- fullscreen button\n- list comics associated with clicked node\n- click comic to show only attached nodes\n- test bipartite network between authors and characters filtered by category of author\n*/\n\nimport { Sigma } from \"./sigma.js\";\nimport getNodeProgramImage from \"./sigma.js/rendering/webgl/programs/node.image\";\n\nconsole.log(getNodeProgramImage);\n\nimport Graph from \"graphology\";\nimport { parse } from \"graphology-gexf\";\nimport { circular } from \"graphology-layout\";\nimport forceAtlas2 from \"graphology-layout-forceatlas2\";\nimport FA2Layout from \"graphology-layout-forceatlas2/worker\";\nimport noverlap from 'graphology-layout-noverlap';\nimport louvain from 'graphology-communities-louvain';\n\nconst clusters = {\n  resolutions: {\n    creators: 0.85,\n    characters: 1.15\n  },\n  roles: {\n    artist: \"#234fac\",\n    writer: \"#2b6718\",\n    both: \"#d4a129\"\n  },\n  creators: {\n    \"Silver Age\": {\n      match: \"Stan Lee\",\n      color: \"#CCC\"\n    },\n    \"Bronze Age\": {\n      match: \"Chris Claremont\",\n      color: \"#d4a129\"\n    },\n    \"Millenium Age\": {\n      match: \"Brian Michael Bendis\",\n      color: \"#8d32a7\"\n    },\n    \"Modern Age\": {\n      match: \"Donny Cates\",\n      color: \"#A22e23\"\n    }\n  },\n  characters: {\n    \"Avengers\": {\n      match: \"Avengers\",\n      color: \"#2b6718\"\n    },\n    \"Spider-Man & Marvel Knights\": {\n      match: \"Spider-Man (Peter Parker)\",\n      color: \"#822e23\"\n    },\n    \"X-Men\": {\n      match: \"X-Men\",\n      color: \"#d4a129\"\n    },\n    \"Other X-Teams\": {\n      match: \"X-Force\",\n      color: \"#d97a2d\"\n    },\n    \"Fantastic Four & Cosmic heroes\": {\n      match: \"Fantastic Four\",\n      color: \"#234fac\"\n    },\n    \"Ultimate Universe\": {\n      match: \"Ultimates\",\n      color: \"#57b23d\"\n    },\n    \"Alpha Flight\": {\n      match: \"Alpha Flight\",\n      color: \"#8d32a7\"\n    }\n  },\n  communities: {}\n}\n\nconst extraPalette = [\n  \"#5fb1ff\",\n  \"#ff993e\",\n  \"#8b4a98\",\n  \"#bce25b\",\n  \"#d52f3f\",\n  \"#0051c4\",\n  \"#2cc143\",\n  \"#c45ecf\",\n  \"#ded03f\",\n  \"#904f13\",\n];\n\n// Lighten colors function copied from Chris Coyier https://css-tricks.com/snippets/javascript/lighten-darken-color/\nconst lighten = function(col, amt) {\n  var usePound = false;\n  if (col[0] == \"#\") {\n    col = col.slice(1);\n    usePound = true;\n  }\n  var num = parseInt(col,16);\n  var r = (num >> 16) + amt;\n  if (r > 255) r = 255;\n  else if  (r < 0) r = 0;\n  var b = ((num >> 8) & 0x00FF) + amt;\n  if (b > 255) b = 255;\n  else if  (b < 0) b = 0;\n  var g = (num & 0x0000FF) + amt;\n  if (g > 255) g = 255;\n  else if (g < 0) g = 0;\n  return (usePound?\"#\":\"\") + (g | (b << 8) | (r << 16)).toString(16);\n}\n\nconst container = document.getElementById(\"sigma-container\") as HTMLElement,\n  loader = document.getElementById(\"loader\") as HTMLElement,\n  modal = document.getElementById(\"modal\") as HTMLElement,\n  modalImg = document.getElementById(\"modal-img\") as HTMLImageElement,\n  explanations = document.getElementById(\"explanations\") as HTMLElement,\n  nodeDetails = document.getElementById(\"node-details\") as HTMLElement,\n  nodeLabel = document.getElementById(\"node-label\") as HTMLElement,\n  nodeImg = document.getElementById(\"node-img\") as HTMLImageElement,\n  nodeExtra = document.getElementById(\"node-extra\") as HTMLElement;\n\nmodal.addEventListener(\"click\", () => modal.style.display = \"none\");\n\nlet renderer = null;\n\nfunction divHeight(divId) {\n  return document.getElementById(divId).getBoundingClientRect().height;\n}\n\nfunction resize() {\n  const freeHeight = divHeight(\"sidebar\") - divHeight(\"header\") - divHeight(\"footer\");\n  explanations.style.height = (freeHeight - 8) + \"px\";\n  explanations.style[\"min-height\"] = (freeHeight - 8) + \"px\";\n  nodeDetails.style.height = (freeHeight - 23) + \"px\";\n  nodeDetails.style[\"min-height\"] = (freeHeight - 23) + \"px\";\n}\nwindow.addEventListener(\"resize\", resize);\n\nfunction loadNetwork() {\n  setTitle();\n  resize();\n\n  if (renderer) renderer.kill();\n  container.innerHTML = '';\n  loader.style.display = \"block\";\n  explanations.style.display = \"block\";\n  nodeDetails.style.display = \"none\";\n  modal.style.display = \"none\";\n  modalImg.src = \"\";\n  nodeLabel.innerHTML = \"\";\n  nodeImg.src = \"\";\n  nodeExtra.innerHTML = \"\";\n  clusters.communities = {};\n\n  fetch(\"./data/Marvel_\" + entity + \"_by_stories\" + (network_size === \"small\" ? \"\" : \"_full\") + \".gexf\")\n  .then((res) => res.text())\n  .then((gexf) => {\n    const graph = parse(Graph, gexf);\n    const circularPositions = circular(graph, { scale: 50 });\n    const communities = louvain(graph, {resolution: clusters.resolutions[entity]});\n    graph.forEachNode((node, {label}) => {\n      for (var cluster in clusters[entity])\n        if (label === clusters[entity][cluster].match) {\n          clusters[entity][cluster].community = communities[node];\n        clusters.communities[communities[node]] = clusters[entity][cluster];\n        clusters.communities[communities[node]].cluster = cluster;\n        }\n    });\n    graph.forEachNode((node, {stories, thumbnail, artist, writer}) => {\n      const artist_ratio = (entity === \"creators\" ? artist / (writer + artist) : undefined);\n      graph.mergeNodeAttributes(node, {\n        x: circularPositions[node].x,\n        y: circularPositions[node].y,\n        size: Math.pow(stories, 0.2) * (network_size === \"small\" ? 2 : 1.25) * (entity == \"characters\" ? 2 : 1.25),\n        color: entity === \"characters\" ?\n          (clusters.communities[communities[node]] || {color: extraPalette[communities[node] % extraPalette.length]}).color :\n          (artist_ratio > 0.65 ? clusters.roles.artist : (artist_ratio < 0.34 ? clusters.roles.writer : clusters.roles.both))\n      });\n      //if (network_size == \"small\")\n        graph.setNodeAttribute(node, \"type\", \"thumbnail\");\n    });\n    /*graph.forEachEdge((edge, attrs, n1, n2, n1_attrs, n2_attrs) => {\n      graph.mergeEdgeAttributes(edge, {size: 1});\n      if (n1_attrs.color === n2_attrs.color)\n        graph.setEdgeAttribute(edge, 'color', n1_attrs.color);\n    });*/\n\n    // Instantiate sigma:\n    let sigmaSettings = {\n      minCameraRatio: 0.08,\n      maxCameraRatio: 1.2,\n      defaultEdgeColor: '#1A1A1A',\n      labelWeight: 'bold',\n      labelFont: 'monospace',\n      labelColor: view === \"pictures\" ? {attribute: 'color'} : {color: '#999'},\n      labelRenderedSizeThreshold: (network_size === \"small\" ? 8 : 4) + (entity === \"characters\" ? 2 : 0)\n    };\n    //if (network_size == \"small\")\n      sigmaSettings[\"nodeProgramClasses\"] = {\n        thumbnail: getNodeProgramImage()\n      };\n    renderer = new Sigma(graph as any, container, sigmaSettings);\n\n    if (view === \"colors\") switchView();\n\n    // Bind zoom manipulation buttons\n    const camera = renderer.getCamera();\n    document.getElementById(\"zoom-in\").addEventListener(\"click\", () => {\n      camera.animatedZoom({ duration: 600 });\n    });\n    document.getElementById(\"zoom-out\").addEventListener(\"click\", () => {\n      camera.animatedUnzoom({ duration: 600 });\n    });\n    document.getElementById(\"zoom-reset\").addEventListener(\"click\", () => {\n      camera.animatedReset({ duration: 600 });\n    });\n\n    // Handle clicks on nodes\n    const clickNode = (node) => {\n      if (!node) {\n        explanations.style.display = \"block\";\n        nodeDetails.style.display = \"none\";\n        modal.style.display = \"none\";\n        nodeLabel.innerHTML = \"\";\n        nodeImg.src = \"\";\n        nodeExtra.innerHTML = \"\";\n        renderer.setSetting(\n          \"nodeReducer\", (n, data) => (view === \"pictures\" ? data : { ...data, image: null })\n        );\n        renderer.setSetting(\n          \"edgeReducer\", (edge, data) => data\n        );\n        return;\n      }\n      const attrs = graph.getNodeAttributes(node);\n      explanations.style.display = \"none\";\n      nodeDetails.style.display = \"block\";\n      nodeLabel.innerHTML = attrs.label;\n      nodeImg.src = attrs.image_url;\n      modalImg.src = attrs.image_url;\n      nodeImg.addEventListener(\"click\", () => {\n        modal.style.display = \"block\";\n      });\n      nodeExtra.innerHTML = \"<p>\" + attrs.description + \"</p>\";\n      nodeExtra.innerHTML += \"<p>Accounted in <b>\" + attrs.stories + \" stories</b> shared with <b>\" + graph.degree(node) + \" other \" + entity + \"</b></p>\";\n      if (entity === \"creators\") {\n        if (attrs.writer === 0 && attrs.artist)\n          nodeExtra.innerHTML += '<p>Always as <b style=\"color: ' + clusters.roles.artist + '\">artist</b></p>';\n        else if (attrs.artist === 0 && attrs.writer)\n          nodeExtra.innerHTML += '<p>Always as <b style=\"color: ' + clusters.roles.writer + '\">writer</b></p>';\n        else nodeExtra.innerHTML += '<p>Including <b style=\"color: ' + clusters.roles.writer + '\">' + attrs.writer + ' as writer</b> and <b style=\"color: ' + clusters.roles.artist + '\">' + attrs.artist + \" as artist</b></p>\";\n      } else if (clusters.communities[communities[node]])\n        nodeExtra.innerHTML += '<p>Attached to the <b style=\"color: ' + clusters.communities[communities[node]].color + '\">' + clusters.communities[communities[node]].cluster + '</b> community<sup>*</sup></p>';\n      if (attrs.url)\n        nodeExtra.innerHTML += '<p><a href=\"' + attrs.url + '\" target=\"_blank\">More on Marvel.com</a></p>';\n\n      renderer.setSetting(\n        \"nodeReducer\", (n, data) => {\n          if (view === \"pictures\")\n            return (n === node || graph.hasEdge(n, node)\n              ? { ...data, zIndex: 1, size: data.size * (n === node ? 1.5 : 1) }\n              : { ...data, zIndex: 0, color: \"#2A2A2A\", image: null, size: network_size === \"small\" ? 5 : 3 }\n            )\n          else return (n === node\n            ? { ...data, zIndex: 1, size: data.size * (n === node ? 1.5 : 1) }\n            : (graph.hasEdge(n, node)\n                ? { ...data, zIndex: 1, size: data.size * (n === node ? 1.5 : 1), image: null }\n                : { ...data, zIndex: 0, color: \"#2A2A2A\", image: null, size: network_size === \"small\" ? 5 : 3 }\n              )\n            )\n        }\n      );\n      renderer.setSetting(\n        \"edgeReducer\", (edge, data) =>\n          graph.hasExtremity(edge, node)\n            ? { ...data, color: lighten(graph.getNodeAttribute(graph.opposite(node, edge), 'color'), 25), size: Math.log(graph.getEdgeAttribute(edge, 'weight'))}\n            : { ...data, color: \"#FFF\", hidden: true }\n      );\n    };\n    renderer.on(\"clickNode\", (event) => clickNode(event.node));\n    renderer.on(\"clickStage\", () => clickNode(null));\n\n    // Setup nodes search\n    const searchInput = document.getElementById(\"search-input\") as HTMLInputElement;\n    const searchSuggestions = document.getElementById(\"suggestions\") as HTMLDataListElement;\n    let selectedNode = null,\n      suggestions = [];\n    const setSearchQuery = (query) => {\n      if (searchInput.value !== query) searchInput.value = query;\n      if (query.length > 1) {\n        const lcQuery = query.toLowerCase();\n        suggestions = [];\n        graph.forEachNode((node, {label}) => {\n          if (label.toLowerCase().includes(lcQuery))\n            suggestions.push({node: node, label: label});\n        });\n\n        if (suggestions.length === 1 && suggestions[0].label === query) {\n          if (selectedNode)\n            graph.setNodeAttribute(selectedNode, \"highlighted\", false);\n          selectedNode = suggestions[0].node;\n          suggestions = [];\n          graph.setNodeAttribute(selectedNode, \"highlighted\", true);\n          clickNode(selectedNode);\n          // Move the camera to center it on the selected node:\n          renderer.getCamera().animate(renderer.getNodeDisplayData(selectedNode), {\n            duration: 500,\n          });\n        } else if (selectedNode) {\n          graph.setNodeAttribute(selectedNode, \"highlighted\", false);\n          selectedNode = null;\n        }\n      } else if (selectedNode) {\n        graph.setNodeAttribute(selectedNode, \"highlighted\", false);\n        selectedNode = null;\n        suggestions = [];\n      }\n      searchSuggestions.innerHTML = suggestions\n        .sort()\n        .map((node) => \"<option>\" + node.label + \"</option>\")\n        .join(\"\\n\");\n      // Refresh rendering:\n      renderer.refresh();\n    }\n    searchInput.addEventListener(\"input\", () => {\n      setSearchQuery(searchInput.value || \"\");\n    });\n    searchInput.addEventListener(\"blur\", () => {\n      setSearchQuery(\"\");\n    });\n\n    const sensibleSettings = forceAtlas2.inferSettings(graph);\n    const fa2Layout = new FA2Layout(graph, {\n      settings: sensibleSettings\n    });\n    fa2Layout.start();\n    loader.style.display = \"none\";\n    setTimeout(() => {\n      fa2Layout.stop();\n      noverlap.assign(graph);\n    }, network_size === \"small\" ? 15000 : 90000);\n\n  });\n}\n\nconst conf = {};\nlet entity = \"characters\",\n  network_size = \"small\",\n  view = \"pictures\";\n\nconst setTitle = function() {\n  window.location.hash = entity + \"/\" + network_size + \"/\" + view;\n  const title = \"raph of \" + (network_size === \"small\" ? \"the main\" : \"most\") + \" Marvel \" + entity + \" featured together within same stories\";\n  document.querySelector(\"title\").innerHTML = \"MARVEL networks &mdash; G\" + title;\n  document.getElementById(\"title\").innerHTML = \"This is a g\" + title;\n}\n\nconst switchCharacters = document.getElementById(\"switch-characters\") as HTMLButtonElement,\n  switchCreators = document.getElementById(\"switch-creators\") as HTMLButtonElement,\n  switchSmall = document.getElementById(\"switch-small\") as HTMLButtonElement,\n  switchFull = document.getElementById(\"switch-full\") as HTMLButtonElement,\n  switchViewBtn = document.getElementById(\"switch-view\") as HTMLButtonElement,\n  entitySpans = document.querySelectorAll(\".entity\") as NodeListOf<HTMLElement>,\n  charactersDetailsSpans = document.querySelectorAll(\".characters-details\") as NodeListOf<HTMLElement>,\n  creatorsDetailsSpans = document.querySelectorAll(\".creators-details\") as NodeListOf<HTMLElement>,\n  smallDetailsSpans = document.querySelectorAll(\".small-details\") as NodeListOf<HTMLElement>,\n  fullDetailsSpans = document.querySelectorAll(\".full-details\") as NodeListOf<HTMLElement>;\n\nconst setEntity = function(val, load) {\n  entity = val;\n  if (val === \"characters\") {\n    switchCreators.disabled = false;\n    switchCharacters.disabled = true;\n  } else {\n    switchCreators.disabled = true;\n    switchCharacters.disabled = false;\n  }\n  entitySpans.forEach((span) => span.innerHTML = val);\n  creatorsDetailsSpans.forEach((span) => span.style.display = (val === \"creators\" ? \"inline\" : \"none\"));\n  charactersDetailsSpans.forEach((span) => span.style.display = (val === \"characters\" ? \"inline\" : \"none\"));\n  document.getElementById(\"clusters\").innerHTML = Object.keys(clusters.characters)\n    .map((k) => '<span style=\"color: ' + clusters.characters[k].color + '\">' + k + '</span>')\n    .join(\", \");\n  document.getElementById(\"min-stories\").innerHTML = conf[\"min_stories_for_\" + val];\n  document.getElementById(\"cooccurrence-threshold\").innerHTML = conf[\"cooccurrence_threshold_for_\" + entity];\n  if (load)\n    loadNetwork();\n};\n\nconst setSize = function(val) {\n  network_size = val;\n  if (val === \"small\") {\n    switchSmall.disabled = true;\n    switchFull.disabled = false;\n  } else {\n    switchSmall.disabled = false;\n    switchFull.disabled = true;\n  }\n  smallDetailsSpans.forEach((span) => span.style.display = (val === \"small\" ? \"inline\" : \"none\"));\n  fullDetailsSpans.forEach((span) => span.style.display = (val === \"full\" ? \"inline\" : \"none\"));\n  loadNetwork();\n};\n\nswitchCharacters.addEventListener(\"click\", () => setEntity(\"characters\", true));\nswitchCreators.addEventListener(\"click\", () => setEntity(\"creators\", true));\nswitchFull.addEventListener(\"click\", () => setSize(\"full\"));\nswitchSmall.addEventListener(\"click\", () => setSize(\"small\"));\n\nconst toggleView = function() {\n  switchViewBtn.innerHTML = view;\n  view = (view === \"pictures\" ? \"colors\" : \"pictures\");\n  window.location.hash = entity + \"/\" + network_size + \"/\" + view;\n};\nconst switchView = () => {\n  renderer.setSetting(\"labelColor\", view === \"pictures\" ? {attribute: 'color'} : {color: '#999'});\n  renderer.setSetting(\"nodeReducer\", (n, data) => (view === \"pictures\" ? data : { ...data, image: null }));\n};\nswitchViewBtn.addEventListener(\"click\", () => {\n  toggleView();\n  switchView();\n});\n\nfetch(\"./config.yml.example\")\n.then((res) => res.text())\n.then((confdata) => {\n  confdata.split(\"\\n\").forEach((line) => {\n    const keyval = line.split(/:\\s*/);\n    conf[keyval[0]] = keyval[1];\n  });\n  Object.keys(clusters.roles).forEach((k) =>\n    document.getElementById(k + \"-color\").style.color = clusters.roles[k]\n  );\n  let currentUrl = window.location.hash.replace(/^#/, '')\n  if (currentUrl === \"\")\n    currentUrl = entity + \"/\" + network_size + \"/\" + view;\n  const args = currentUrl.split(\"/\");\n  view = args[2];\n  switchViewBtn.innerHTML = view === \"pictures\" ? \"colors\" : \"pictures\";\n  setEntity(args[0], false);\n  setSize(args[1]);\n})\n","module.exports = require('./lib/xml-writer.js');\n","\nfunction isFalse(s) {\n  return typeof s !== 'number' && !s;\n}\n\nfunction strval(s) {\n  if (typeof s == 'string') {\n    return s;\n  }\n  else if (typeof s == 'number') {\n    return s+'';\n  }\n  else if (typeof s == 'function') {\n    return s();\n  }\n  else if (s instanceof XMLWriter) {\n    return s.toString();\n  }\n  else throw Error('Bad Parameter');\n}\n\nfunction XMLWriter(indent, callback) {\n\n    if (!(this instanceof XMLWriter)) {\n        return new XMLWriter();\n    }\n\n    this.name_regex = /[_:A-Za-z][-._:A-Za-z0-9]*/;\n    this.indent = indent ? true : false;\n    this.indentString = this.indent && typeof indent === 'string' ? indent : '    ';\n    this.output = '';\n    this.stack = [];\n    this.tags = 0;\n    this.attributes = 0;\n    this.attribute = 0;\n    this.texts = 0;\n    this.comment = 0;\n    this.dtd = 0;\n    this.root = '';\n    this.pi = 0;\n    this.cdata = 0;\n    this.started_write = false;\n    this.writer;\n    this.writer_encoding = 'UTF-8';\n\n    if (typeof callback == 'function') {\n        this.writer = callback;\n    } else {\n        this.writer = function (s, e) {\n            this.output += s;\n        }\n    }\n}\n\nXMLWriter.prototype = {\n    toString : function () {\n        this.flush();\n        return this.output;\n    },\n\n    indenter : function () {\n      if (this.indent) {\n        this.write('\\n');\n        for (var i = 1; i < this.tags; i++) {\n          this.write(this.indentString);\n        }\n      }\n    },\n\n    write : function () {\n        for (var i = 0; i < arguments.length; i++) {\n            this.writer(arguments[i], this.writer_encoding);\n        }\n    },\n\n\n    flush : function () {\n        for (var i = this.tags; i > 0; i--) {\n            this.endElement();\n        }\n        this.tags = 0;\n    },\n\n    startDocument : function (version, encoding, standalone) {\n        if (this.tags || this.attributes) return this;\n\n        this.startPI('xml');\n        this.startAttribute('version');\n        this.text(typeof version == \"string\" ? version : \"1.0\");\n        this.endAttribute();\n        if (typeof encoding == \"string\") {\n            this.startAttribute('encoding');\n            this.text(encoding);\n            this.endAttribute();\n            this.writer_encoding = encoding;\n        }\n        if (standalone) {\n            this.startAttribute('standalone');\n            this.text(\"yes\");\n            this.endAttribute();\n        }\n        this.endPI();\n        if (!this.indent) {\n          this.write('\\n');\n        }\n        return this;\n    },\n\n    endDocument : function () {\n        if (this.attributes) this.endAttributes();\n        return this;\n    },\n\n    writeElement : function (name, content) {\n        return this.startElement(name).text(content).endElement();\n    },\n\n    writeElementNS : function (prefix, name, uri, content) {\n        if (!content) {\n            content = uri;\n        }\n        return this.startElementNS(prefix, name, uri).text(content).endElement();\n    },\n\n    startElement : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.tags === 0 && this.root && this.root !== name) throw Error('Invalid Parameter');\n        if (this.attributes) this.endAttributes();\n        ++this.tags;\n        this.texts = 0;\n        if (this.stack.length > 0)\n          this.stack[this.stack.length-1].containsTag = true;\n\n        this.stack.push({\n            name: name,\n            tags: this.tags\n        });\n        if (this.started_write) this.indenter();\n        this.write('<', name);\n        this.startAttributes();\n        this.started_write = true;\n        return this;\n    },\n    startElementNS : function (prefix, name, uri) {\n        prefix = strval(prefix);\n        name = strval(name);\n\n        if (!prefix.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.attributes) this.endAttributes();\n        ++this.tags;\n        this.texts = 0;\n        if (this.stack.length > 0)\n          this.stack[this.stack.length-1].containsTag = true;\n\n        this.stack.push({\n            name: prefix + ':' + name,\n            tags: this.tags\n        });\n        if (this.started_write) this.indenter();\n        this.write('<', prefix + ':' + name);\n        this.startAttributes();\n        this.started_write = true;\n        return this;\n    },\n\n    endElement : function () {\n        if (!this.tags) return this;\n        var t = this.stack.pop();\n        if (this.attributes > 0) {\n            if (this.attribute) {\n                if (this.texts) this.endAttribute();\n                this.endAttribute();\n            }\n            this.write('/');\n            this.endAttributes();\n        } else {\n            if (t.containsTag) this.indenter();\n            this.write('</', t.name, '>');\n        }\n        --this.tags;\n        this.texts = 0;\n        return this;\n    },\n\n    writeAttribute : function (name, content) {\n        if (typeof content == 'function') {\n          content = content();\n        }\n        if (isFalse(content)) {\n           return this;\n        }\n        return this.startAttribute(name).text(content).endAttribute();\n    },\n    writeAttributeNS : function (prefix, name, uri, content) {\n        if (!content) {\n            content = uri;\n        }\n        if (typeof content == 'function') {\n          content = content();\n        }\n        if (isFalse(content)) {\n          return this;\n        }\n        return this.startAttributeNS(prefix, name, uri).text(content).endAttribute();\n    },\n\n    startAttributes : function () {\n        this.attributes = 1;\n        return this;\n    },\n\n    endAttributes : function () {\n        if (!this.attributes) return this;\n        if (this.attribute) this.endAttribute();\n        this.attributes = 0;\n        this.attribute = 0;\n        this.texts = 0;\n        this.write('>');\n        return this;\n    },\n\n    startAttribute : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!this.attributes && !this.pi) return this;\n        if (this.attribute) return this;\n        this.attribute = 1;\n        this.write(' ', name, '=\"');\n        return this;\n    },\n    startAttributeNS : function (prefix, name, uri) {\n        prefix = strval(prefix);\n        name = strval(name);\n\n        if (!prefix.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (!this.attributes && !this.pi) return this;\n        if (this.attribute) return this;\n        this.attribute = 1;\n        this.write(' ', prefix + ':' + name, '=\"');\n        return this;\n    },\n    endAttribute : function () {\n        if (!this.attribute) return this;\n        this.attribute = 0;\n        this.texts = 0;\n        this.write('\"');\n        return this;\n    },\n\n    text : function (content) {\n        content = strval(content);\n        if (!this.tags && !this.comment && !this.pi && !this.cdata) return this;\n        if (this.attributes && this.attribute) {\n            ++this.texts;\n            this.write(content\n                       .replace(/&/g, '&amp;')\n                       .replace(/</g, '&lt;')\n                       .replace(/\"/g, '&quot;')\n                       .replace(/\\t/g, '&#x9;')\n                       .replace(/\\n/g, '&#xA;')\n                       .replace(/\\r/g, '&#xD;')\n                      );\n            return this;\n        } else if (this.attributes && !this.attribute) {\n            this.endAttributes();\n        }\n        if (this.comment || this.cdata) {\n            this.write(content);\n        }\n        else {\n          this.write(content.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;'));\n        }\n        ++this.texts;\n        this.started_write = true;\n        return this;\n    },\n\n    writeComment : function (content) {\n        return this.startComment().text(content).endComment();\n    },\n\n    startComment : function () {\n        if (this.comment) return this;\n        if (this.attributes) this.endAttributes();\n        this.indenter();\n        this.write('<!--');\n        this.comment = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endComment : function () {\n        if (!this.comment) return this;\n        this.write('-->');\n        this.comment = 0;\n        return this;\n    },\n\n    writeDocType : function (name, pubid, sysid, subset) {\n        return this.startDocType(name, pubid, sysid, subset).endDocType()\n    },\n\n    startDocType : function (name, pubid, sysid, subset) {\n        if (this.dtd || this.tags) return this;\n\n        name = strval(name);\n        pubid = pubid ? strval(pubid) : pubid;\n        sysid = sysid ? strval(sysid) : sysid;\n        subset = subset ? strval(subset) : subset;\n\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (pubid && !pubid.match(/^[\\w\\-][\\w\\s\\-\\/\\+\\:\\.]*/)) throw Error('Invalid Parameter');\n        if (sysid && !sysid.match(/^[\\w\\.][\\w\\-\\/\\\\\\:\\.]*/)) throw Error('Invalid Parameter');\n        if (subset && !subset.match(/[\\w\\s\\<\\>\\+\\.\\!\\#\\-\\?\\*\\,\\(\\)\\|]*/)) throw Error('Invalid Parameter');\n\n        pubid = pubid ? ' PUBLIC \"' + pubid + '\"' : (sysid) ? ' SYSTEM' : '';\n        sysid = sysid ? ' \"' + sysid + '\"' : '';\n        subset = subset ? ' [' + subset + ']': '';\n\n        if (this.started_write) this.indenter();\n        this.write('<!DOCTYPE ', name, pubid, sysid, subset);\n        this.root = name;\n        this.dtd = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endDocType : function () {\n        if (!this.dtd) return this;\n        this.write('>');\n        return this;\n    },\n\n    writePI : function (name, content) {\n        return this.startPI(name).text(content).endPI()\n    },\n\n    startPI : function (name) {\n        name = strval(name);\n        if (!name.match(this.name_regex)) throw Error('Invalid Parameter');\n        if (this.pi) return this;\n        if (this.attributes) this.endAttributes();\n        if (this.started_write) this.indenter();\n        this.write('<?', name);\n        this.pi = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endPI : function () {\n        if (!this.pi) return this;\n        this.write('?>');\n        this.pi = 0;\n        return this;\n    },\n\n    writeCData : function (content) {\n        return this.startCData().text(content).endCData();\n    },\n\n    startCData : function () {\n        if (this.cdata) return this;\n        if (this.attributes) this.endAttributes();\n        this.indenter();\n        this.write('<![CDATA[');\n        this.cdata = 1;\n        this.started_write = true;\n        return this;\n    },\n\n    endCData : function () {\n        if (!this.cdata) return this;\n        this.write(']]>');\n        this.cdata = 0;\n        return this;\n    },\n\n    writeRaw : function(content) {\n        content = strval(content);\n        if (!this.tags && !this.comment && !this.pi && !this.cdata) return this;\n        if (this.attributes && this.attribute) {\n            ++this.texts;\n            this.write(content.replace('&', '&amp;').replace('\"', '&quot;'));\n            return this;\n        } else if (this.attributes && !this.attribute) {\n            this.endAttributes();\n        }\n        ++this.texts;\n        this.write(content);\n        this.started_write = true;\n        return this;\n    }\n\n}\n\nmodule.exports = XMLWriter;\n","/**\n * Extend function\n * ================\n *\n * Function used to push a bunch of values into an array at once.\n *\n * Its strategy is to mutate target array's length then setting the new indices\n * to be the values to add.\n *\n * A benchmark proved that it is faster than the following strategies:\n *   1) `array.push.apply(array, values)`.\n *   2) A loop of pushes.\n *   3) `array = array.concat(values)`, obviously.\n *\n * Intuitively, this is correct because when adding a lot of elements, the\n * chosen strategies does not need to handle the `arguments` object to\n * execute #.apply's variadicity and because the array know its final length\n * at the beginning, avoiding potential multiple reallocations of the underlying\n * contiguous array. Some engines may be able to optimize the loop of push\n * operations but empirically they don't seem to do so.\n */\n\n/**\n * Extends the target array with the given values.\n *\n * @param  {array} array  - Target array.\n * @param  {array} values - Values to add.\n */\nmodule.exports = function extend(array, values) {\n  var l2 = values.length;\n\n  if (l2 === 0)\n    return;\n\n  var l1 = array.length;\n\n  array.length += l2;\n\n  for (var i = 0; i < l2; i++)\n    array[l1 + i] = values[i];\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","/**\n * Graphology isGraph\n * ===================\n *\n * Very simple function aiming at ensuring the given variable is a\n * graphology instance.\n */\n\n/**\n * Checking the value is a graphology instance.\n *\n * @param  {any}     value - Target value.\n * @return {boolean}\n */\nmodule.exports = function isGraph(value) {\n  return (\n    value !== null &&\n    typeof value === 'object' &&\n    typeof value.addUndirectedEdgeWithKey === 'function' &&\n    typeof value.dropNode === 'function' &&\n    typeof value.multi === 'boolean'\n  );\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(8492);\n"],"names":["freeze","object","oc","undefined","Object","MIME_TYPE","HTML","isHTML","value","XML_APPLICATION","XML_TEXT","XML_XHTML_APPLICATION","XML_SVG_IMAGE","NAMESPACE","uri","SVG","XML","XMLNS","exports","conventions","dom","entities","sax","DOMImplementation","ParseError","XMLReader","DOMParser","options","this","locator","DOMHandler","cdata","position","node","lineNumber","columnNumber","_locator","l","systemId","_toString","chars","start","length","substr","java","lang","String","appendElement","hander","currentElement","appendChild","doc","prototype","parseFromString","source","mimeType","domBuilder","errorHandler","defaultNSMap","xmlns","test","entityMap","HTML_ENTITIES","XML_ENTITIES","setDocumentLocator","errorImpl","isCallback","Function","build","key","fn","msg","buildErrorHandler","xml","parse","error","startDocument","createDocument","documentURI","startElement","namespaceURI","localName","qName","attrs","el","createElementNS","len","i","getURI","getValue","attr","getQName","createAttributeNS","getLocator","nodeValue","setAttributeNode","endElement","current","tagName","parentNode","startPrefixMapping","prefix","endPrefixMapping","processingInstruction","target","data","ins","createProcessingInstruction","ignorableWhitespace","ch","characters","apply","arguments","charNode","createCDATASection","createTextNode","skippedEntity","name","endDocument","normalize","comment","comm","createComment","startCDATA","endCDATA","startDTD","publicId","impl","implementation","createDocumentType","dt","doctype","warning","console","warn","fatalError","replace","XMLSerializer","notEmptyString","input","orderedSetReducer","element","hasOwnProperty","toOrderedSet","list","split","filter","splitOnASCIIWhitespace","keys","reduce","copy","src","dest","p","_extends","Class","Super","pt","t","constructor","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","NOT_FOUND_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","NOT_SUPPORTED_ERR","DOMException","code","message","Error","call","captureStackTrace","NodeList","LiveNodeList","refresh","_node","_refresh","_updateLiveList","inc","_inc","ownerDocument","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_nsMap","_onAddAttribute","_removeNamedNode","lastIndex","Node","_xmlEncoder","c","charCodeAt","_visitNode","callback","firstChild","nextSibling","Document","remove","_onUpdateChild","newChild","cs","childNodes","child","_removeChild","previous","previousSibling","next","lastChild","_insertBefore","nextChild","cp","removeChild","nodeType","newFirst","newLast","pre","Element","Attr","CharacterData","Text","Comment","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","ProcessingInstruction","nodeSerializeToString","isHtml","nodeFilter","buf","refNode","documentElement","lookupPrefix","visibleNamespaces","namespace","serializeToString","join","needNamespaceDefine","ns","addSerializedAttribute","qualifiedName","push","attributes","nodeName","prefixedNodeName","defaultNS","ai","item","nsi","slice","pubid","sysid","sub","internalSubset","importNode","deep","node2","cloneNode","n","v","attrs2","_ownerElement","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","index","toString","getNamedItem","setNamedItem","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","hasFeature","feature","version","root","insertBefore","refChild","replaceChild","oldChild","hasChildNodes","appendData","isSupported","hasAttributes","map","lookupNamespaceURI","isDefaultNamespace","importedNode","getElementById","id","rtv","getAttribute","getElementsByClassName","classNames","classNamesSet","base","nodeClassNames","matches","nodeClassNamesSet","every","indexOf","createElement","createDocumentFragment","createAttribute","specified","createEntityReference","pl","hasAttribute","getAttributeNode","setAttribute","removeAttribute","removeAttributeNode","_appendSingleChild","setAttributeNodeNS","removeAttributeNS","old","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagName","getElementsByTagNameNS","substringData","offset","count","substring","text","insertData","replaceData","deleteData","splitText","newText","newNode","defineProperty","getTextContent","get","$$length","set","e","amp","apos","gt","lt","quot","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","euro","trade","larr","uarr","rarr","darr","harr","crarr","lceil","rceil","lfloor","rfloor","loz","spades","clubs","hearts","diams","nameStartChar","nameChar","RegExp","tagNamePattern","copyLocator","f","parseElementStartPart","currentNSMap","entityReplacer","addAttribute","qname","startIndex","attributeNames","addValue","attrName","s","charAt","setTagName","closed","match","localNSMap","a","nsp","nsPrefix","_copy","parseHtmlSpecialContent","elStartEnd","elEndStart","fixSelfClosed","closeMap","pos","lastIndexOf","parseDCC","end","matchs","exec","lastMatch","endDTD","parseInstruction","ElementAttributes","defaultNSMapCopy","k","surrogate1","surrogate2","fromCharCode","fixedFromCharCode","parseInt","appendText","xt","m","lineEnd","linePattern","lineStart","parseStack","tagStart","config","pop","endMatch","toLowerCase","locator2","Math","max","getLocalName","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","TypeError","__","create","__importDefault","mod","__esModule","animate_1","require","easings_1","utils_1","types_1","DEFAULT_ZOOMING_RATIO","Camera","_super","_this","x","y","angle","ratio","minRatio","maxRatio","nextFrame","previousState","enabled","getState","from","state","setState","enable","disable","hasState","getPreviousState","getBoundedRatio","r","min","validateState","validatedState","isAnimated","validState","emit","animate","opts","assign","ANIMATE_DEFAULTS","easing","Date","now","initialState","duration","animationCallback","coefficient","newState","requestFrame","cancelFrame","animatedZoom","factorOrOptions","factor","animatedUnzoom","animatedReset","TypedEventEmitter","__assign","getWheelDelta","getTouchCoords","getTouchesArray","getWheelCoords","getMouseCoords","getPosition","bbox","getBoundingClientRect","clientX","left","clientY","top","res","sigmaDefaultPrevented","preventSigmaDefault","original","touches","arr","deltaY","detail","touch","Captor","container","renderer","__createBinding","o","k2","enumerable","__setModuleDefault","__importStar","result","captor_1","MouseCaptor","draggedEvents","downStartTime","lastMouseX","lastMouseY","isMouseDown","isMoving","movingTimeout","startCameraState","clicks","doubleClickTimeout","currentWheelDirection","handleClick","bind","handleRightClick","handleDown","handleUp","handleMove","handleWheel","handleOut","addEventListener","document","kill","removeEventListener","clearTimeout","handleDoubleClick","setTimeout","preventDefault","stopPropagation","mouseCoords","camera","getCamera","newRatio","getViewportZoomedState","_a","cameraState","previousCameraState","window","eX","eY","lastMouse","viewportToFramedGraph","mouse","offsetX","offsetY","wheelCoords","ratioDiff","wheelDirection","lastWheelTriggerTime","MOUSE_ZOOM_DURATION","__read","Symbol","iterator","ar","done","TouchCaptor","touchMode","handleStart","handleLeave","getDimensions","width","offsetWidth","height","offsetHeight","dispatchRelatedMouseEvent","type","emitter","mousePosition","mouseEvent","MouseEvent","altKey","ctrlKey","isFakeSigmaMouseEvent","dispatchEvent","startTouchesPositions","lastTouchesPositions","_b","x0","y0","_c","x1","y1","startTouchesAngle","atan2","startTouchesDistance","sqrt","pow","touchesPositions","xStart","yStart","newCameraState","_d","_e","angleDiff","hypot","dimensions","touchGraphPosition","smallestDimension","dx","cos","sin","edgeLabelsToDisplayFromNodes","LabelGrid","LabelCandidate","size","compare","first","second","cellSize","columns","rows","cells","resizeAndClear","ceil","getIndex","xIndex","floor","add","candidate","cell","organize","sort","getLabelsToDisplay","density","cellArea","scaledDensity","labelsToDisplayPerCell","labels","params","graph","hoveredNode","highlightedNodes","displayedNodeLabels","worthyEdges","forEachEdge","edge","_","has","__spreadArray","to","pack","concat","rectangleCollidesWithQuad","squareCollidesWithQuad","getCircumscribedAlignedRectangle","isRectangleAligned","extend_1","hasWarnedTooMuchOutside","rect","x2","y2","heightVector","tl","tr","bl","br","xL","xR","yT","w","qx","qy","qw","qh","h","pointIsInQuad","QuadTree","containers","cache","lastRectangle","L","Float32Array","boundaries","resize","maxLevel","level","block","topLeftBlock","topRightBlock","bottomLeftBlock","bottomRightBlock","collidingWithTopLeft","collidingWithTopRight","collidingWithBottomLeft","collidingWithBottomRight","collisions","acc","insertNode","clear","stack","hw","hh","buildQuadrants","point","nodes","rectangle","lr","collectedNodes","getNodesInAxisAlignedRectangleArea","abs","sigma_1","camera_1","quadtree_1","mouse_1","context","edgeData","sourceData","targetData","settings","edgeLabelSize","font","edgeLabelFont","weight","edgeLabelWeight","color","edgeLabelColor","attribute","label","fillStyle","cx","cy","sSize","tSize","sx","sy","tx","ty","dy","textLength","measureText","acos","asin","PI","save","translate","rotate","fillText","restore","label_1","labelSize","labelFont","labelWeight","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","textWidth","boxWidth","round","boxHeight","radius","angleRadian","xDeltaCoord","beginPath","moveTo","lineTo","arc","closePath","fill","labelColor","createEdgeCompoundProgram","AbstractEdgeProgram","gl","vertexShaderSource","fragmentShaderSource","points","AbstractProgram","programClasses","EdgeCompoundProgram","programs","ProgramClass","bufferData","forEach","program","allocate","capacity","computeIndices","render","process","hidden","createNodeCompoundProgram","AbstractNodeProgram","positionLocation","getAttribLocation","sizeLocation","colorLocation","matrixLocation","getUniformLocation","ratioLocation","scaleLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","BYTES_PER_ELEMENT","UNSIGNED_BYTE","NodeCompoundProgram","array","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","vertexShader","loadVertexShader","fragmentShader","loadFragmentShader","loadProgram","DYNAMIC_DRAW","hasNothingToRender","edge_1","edge_arrowHead_1","edge_clamped_1","EdgeArrowProgram","edge_arrowHead_vert_glsl_1","edge_arrowHead_frag_glsl_1","EdgeArrowHeadProgram","normalLocation","radiusLocation","barycentricLocation","sqrtZoomRatioLocation","correctionRatioLocation","i_1","POINTS","thickness","floatColor","n1","n2","useProgram","uniformMatrix3fv","matrix","uniform1f","correctionRatio","drawArrays","TRIANGLES","edge_clamped_vert_glsl_1","edge_frag_glsl_1","EdgeClampedProgram","indicesBuffer","canUse32BitsIndices","IndicesArray","Uint32Array","Uint16Array","indicesArray","indicesType","UNSIGNED_INT","UNSIGNED_SHORT","ELEMENT_ARRAY_BUFFER","indices","STATIC_DRAW","drawElements","edge_vert_glsl_1","EdgeProgram","node_fast_vert_glsl_1","node_fast_frag_glsl_1","NodeFastProgram","scalingRatio","node_image_vert_glsl_1","node_image_frag_glsl_1","node_1","AbstractNodeImageProgram","rebindTexture","textureImage","rebindTextureFns","images","hasReceivedImages","pendingImagesFrameID","writePositionX","writePositionY","writeRowHeight","NodeImageProgram","ImageData","textureLocation","atlasLocation","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","Uint8Array","imageSource","image","imageState","Image","status","requestAnimationFrame","pendingImages","canvas","ctx","getContext","totalWidth","totalHeight","xOffset","yOffset","drawRow","putImageData","imageSizeInTexture","drawImage","getImageData","rowImages","finalizePendingImages","loadImage","latestRenderParams","uniform1i","generateMipmap","toStringTag","default","module","loadShader","glType","VERTEX_SHADER","FRAGMENT_SHADER","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","infoLog","getShaderInfoLog","deleteShader","shaders","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","deleteProgram","DEFAULT_SETTINGS","validateSettings","hover_1","edge_label_1","node_fast_1","edge_arrow_1","labelDensity","minCameraRatio","maxCameraRatio","hideEdgesOnMove","hideLabelsOnMove","renderLabels","renderEdgeLabels","enableEdgeClickEvents","enableEdgeWheelEvents","enableEdgeHoverEvents","defaultNodeColor","defaultNodeType","defaultEdgeColor","defaultEdgeType","stagePadding","labelGridCellSize","labelRenderedSizeThreshold","nodeReducer","edgeReducer","zIndex","labelRenderer","hoverRenderer","edgeLabelRenderer","allowInvalidContainer","nodeProgramClasses","circle","edgeProgramClasses","arrow","line","__values","labels_1","settings_1","touch_1","matrices_1","edge_collisions_1","applyNodeDefaults","highlighted","forceLabel","applyEdgeDefaults","elements","canvasContexts","webGLContexts","activeListeners","quadtree","labelGrid","nodeDataCache","edgeDataCache","nodesWithForcedLabels","edgesWithForcedLabels","nodeExtent","identity","invMatrix","customBBox","normalizationFunction","createNormalizationFunction","cameraSizeRatio","pixelRatio","getPixelRatio","displayedLabels","Set","hoveredEdge","renderFrame","renderHighlightedNodesFrame","needToProcess","needToSoftProcess","checkEdgesEventsFrame","nodePrograms","hoverNodePrograms","edgePrograms","validateGraph","HTMLElement","createWebGLContext","preserveDrawingBuffer","createCanvasContext","blendFunc","ONE","ONE_MINUS_SRC_ALPHA","BLEND","NodeProgramClass","hoverNodes","EdgeProgramClass","edges","bindCameraHandlers","mouseCaptor","touchCaptor","bindEventHandlers","bindGraphHandlers","handleSettingsUpdate","createCanvas","class","antialias","contextOptions","_scheduleRefresh","on","mouseIsOnNode","nodeX","nodeY","getQuadNodes","mouseGraphPosition","getNodeAtPosition","quadNodes","minDistance","Infinity","nodeAtPosition","nodePosition","framedGraphToViewport","scaleSize","distance","handleResize","baseEvent","event","nodeToHover","scheduleHighlightedNodesRender","checkEdgeHoverEvents","createMouseListener","eventType","getEdgeAtPoint","graphUpdate","softGraphUpdate","dropNodeGraphUpdate","dropEdgeGraphUpdate","clearEdgesGraphUpdate","clearGraphUpdate","payload","edgeToHover","e_1","isPixelColored","viewportToGraph","graphX","graphY","transformationRatio","someEdge","sourceId","targetId","xs","ys","yt","graphLength","graphToViewport","vp_xs","vp_ys","vp_xt","vp_yt","viewportLength","filterEdges","edgeAttributes","sourcePosition","targetPosition","doEdgeCollideWithPoint","selectedEdge","highestZIndex","edges_1","edges_1_1","getEdgeAttribute","e_1_1","keepArrays","nodeZExtent","edgeZExtent","graphExtent","nullCamera","nullCameraMatrix","matrixFromCamera","getGraphDimensions","getSetting","nodesPerPrograms","getNodeAttributes","applyTo","zIndexOrdering","nodeProgram","edgesPerPrograms","getEdgeAttributes","extremities","visibleNodes","viewRectangle","labelsToDisplay","edgeLabels","clearRect","edgeLabelsToDisplay","renderHighlightedNodes","hovers","nodesToRender","COLOR_BUFFER_BIT","handleEscape","updateCachedValues","order","moving","viewportDimensions","graphDimensions","padding","getMatrixImpact","getContainer","getGraph","getMouseCaptor","getTouchCaptor","extent","getNodeDisplayData","getEdgeDisplayData","getSettings","setSetting","updateSetting","updater","previousWidth","previousHeight","style","scale","viewport","scheduleRefresh","viewportTarget","center","graphMousePosition","graphCenterPosition","marginX","marginY","p1","p2","coordinates","override","recomputeMatrix","viewportPos","multiplyVec2","isNaN","viewportPoint","inverse","graphPoint","getBBox","getCustomBBox","setCustomBBox","removeAllListeners","removeListener","getCanvases","rawEmitter","EventEmitter","animateNodes","index_1","targets","startPositions","getNodeAttribute","frame","step","setNodeAttribute","HTML_COLORS","black","silver","gray","grey","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","darkblue","mediumblue","darkgreen","darkcyan","deepskyblue","darkturquoise","mediumspringgreen","springgreen","cyan","midnightblue","dodgerblue","lightseagreen","forestgreen","seagreen","darkslategray","darkslategrey","limegreen","mediumseagreen","turquoise","royalblue","steelblue","darkslateblue","mediumturquoise","indigo","darkolivegreen","cadetblue","cornflowerblue","rebeccapurple","mediumaquamarine","dimgray","dimgrey","slateblue","olivedrab","slategray","slategrey","lightslategray","lightslategrey","mediumslateblue","lawngreen","chartreuse","aquamarine","skyblue","lightskyblue","blueviolet","darkred","darkmagenta","saddlebrown","darkseagreen","lightgreen","mediumpurple","darkviolet","palegreen","darkorchid","yellowgreen","sienna","brown","darkgray","darkgrey","lightblue","greenyellow","paleturquoise","lightsteelblue","powderblue","firebrick","darkgoldenrod","mediumorchid","rosybrown","darkkhaki","mediumvioletred","indianred","peru","chocolate","tan","lightgray","lightgrey","thistle","orchid","goldenrod","palevioletred","crimson","gainsboro","plum","burlywood","lightcyan","lavender","darksalmon","violet","palegoldenrod","lightcoral","khaki","aliceblue","honeydew","azure","sandybrown","wheat","beige","whitesmoke","mintcream","ghostwhite","salmon","antiquewhite","linen","lightgoldenrodyellow","oldlace","magenta","deeppink","orangered","tomato","hotpink","coral","darkorange","lightsalmon","orange","lightpink","pink","gold","peachpuff","navajowhite","moccasin","bisque","mistyrose","blanchedalmond","papayawhip","lavenderblush","seashell","cornsilk","lemonchiffon","floralwhite","snow","lightyellow","ivory","cubicInOut","cubicOut","cubicIn","quadraticInOut","quadraticOut","quadraticIn","linear","easings","pixels","readPixels","drawingBufferHeight","xS","yS","xT","extractPixel","getCorrectionRatio","floatArrayColor","parseColor","assignDeep","isPlainObject","is_graph_1","data_1","objects","_i","cancelAnimationFrame","requestID","tag","devicePixelRatio","xMin","xMax","yMin","yMax","forEachNode","minX","maxX","minY","maxY","dX","dY","getter","zA","zB","INT8","Int8Array","INT32","Int32Array","FLOAT32","RGBA_TEST_REGEX","RGBA_EXTRACT_REGEX","val","g","FLOAT_COLOR_CACHE","htmlColor","parsed","viewportRatio","graphRatio","multiply","WebGL2RenderingContext","getExtension","Number","isFinite","of","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","z","b0","b1","resolveDefaults","isGraph","inferType","SparseMap","SparseQueueSet","createRandomIndex","UndirectedLouvainIndex","DirectedLouvainIndex","DEFAULTS","nodeCommunityAttribute","getEdgeWeight","fastLocalMoves","randomWalk","resolution","rng","random","addWeightToCommunity","community","currentWeight","tieBreaker","bestCommunity","currentCommunity","targetCommunity","bestDelta","undirectedLouvain","detailed","queue","ci","ri","j","degree","targetCommunityDegree","localMoves","currentMoves","keepDendrogram","randomIndex","moveWasMade","localMoveWasMade","communities","Float64Array","C","deltaComputations","nodesVisited","moves","enqueue","dequeue","belongings","starts","neighborhood","weights","fastDeltaWithOwnCommunity","dense","vals","fastDelta","isolate","move","zoomOut","directedLouvain","out","inDegree","outDegree","offsets","deltaWithOwnCommunity","louvain","dendrogram","modularity","NaN","results","collect","output","defaults","cast","SANITIZE_PATTERN","sanitizeTagName","trim","isGraphConstructor","mergeEdge","toMixed","toMulti","getFirstMatchingVizTag","vizElement","extractModel","defaultElement","model","title","textContent","collectAttributes","valueElement","valueElements","toRGBString","shape","Graph","mergeResult","addMissingNodes","xmlDoc","GRAPH_ELEMENT","META_ELEMENT","META_ELEMENTS","NODE_ELEMENTS","EDGE_ELEMENTS","MODEL_ELEMENTS","NODE_MODEL_ELEMENTS","EDGE_MODEL_ELEMENTS","DEFAULT_EDGE_TYPE","NODE_MODEL","NODE_DEFAULT_ATTRIBUTES","EDGE_MODEL","EDGE_DEFAULT_ATTRIBUTES","meta","collectMeta","lastModifiedDate","replaceAttributes","addNode","multi","hasDirectedEdge","hasUndirectedEdge","XMLWriter","VIZ_RESERVED_NAMES","RGBA_TEST","RGBA_MATCH","CSSColorToRGBA","DEFAULT_ELEMENT_FORMATTER","viz","isEmptyValue","isArray","inferModel","number","writeModel","writer","modelClass","writeAttribute","writeElements","edgeType","emptyModel","undirected","startElementNS","encoding","pretty","formatNode","formatEdge","indent","metaTagName","graphAttribute","graphAttributes","getAttributes","writeElement","format","collectNodeData","reducer","_sa","_ta","collectEdgeData","nodeModel","edgeModel","xmldom","createParserFunction","write","typed","createEdgeWeightGetter","INSPECT","for","fromEntry","selfLoopCount","NeighborhoodPointerArray","getPointerArray","NodesPointerArray","WeightsArray","M","E","U","loops","mapping","counts","unused","totalWeights","ids","self","undirectedDegreeWithoutSelfLoops","sa","ta","u","startSource","startTarget","totalInWeights","totalOutWeights","outDegreeWithoutSelfLoops","inDegreeWithoutSelfLoops","newCommunity","nowEmpty","computeNodeDegree","expensiveIsolate","expensiveMove","cj","adj","currentLevel","nextLevel","inducedGraph","newLabels","N","internalWeights","Q","M2","targetCommunityTotalWeight","bounds","project","projection","proxy","inBounds","outBounds","projectIn","projectOut","computeNodeInDegree","computeNodeOutDegree","inAdj","outAdj","targetCommunityTotalInWeight","targetCommunityTotalOutWeight","linLogMode","outboundAttractionDistribution","adjustSizes","edgeWeightInfluence","strongGravityMode","gravity","slowDown","barnesHutOptimize","barnesHutTheta","graphToByteArrays","NodeMatrix","EdgeMatrix","fixed","sj","tj","assignLayoutChanges","outputReducer","updateEachNodeAttributes","readGraphPositions","collectLayoutChanges","positions","createWorker","xURL","URL","webkitURL","objectUrl","createObjectURL","Blob","worker","Worker","revokeObjectURL","iterate","helpers","abstractSynchronousLayout","iterations","validationError","matrices","synchronousLayout","inferSettings","log","PPN","rn","outboundAttCompensation","xDist","yDist","ewc","force","swinging","traction","nodespeed","newX","newY","thetaSquared","RegionMatrix","q","q2","subdivisionAttempts","PPR","NODES","EDGES","moduleShim","postMessage","workerFunction","FA2LayoutSupervisor","running","killed","handleMessage","respawnFrame","handleGraphUpdate","terminate","spawnWorker","isRunning","askForIterations","withEdges","buffers","stop","gridSize","margin","expansion","speed","graphToByteArray","mergeNodeAttributes","maxIterations","inputReducer","converged","jitter","deltaX","xCenter","yCenter","nxMin","nxMax","nyMin","nyMax","xMinBox","xMaxBox","yMinBox","yMaxBox","col","row","grid","gridLength","s1","s2","dist","shuffle","hierarchyAttributes","CircleWrap","circleWrap","wrappedCircle","children","countChildren","setNode","parentCircle","posMap","hasChildren","enclosesNot","dr","enclosesWeak","enclosesWeakAll","B","encloseBasis2","r1","r2","x21","y21","r21","encloseBasis3","x3","y3","r3","a2","a3","b2","b3","c2","c3","d1","d2","d3","ab","xa","xb","ya","yb","A","encloseBasis","extendBasis","score","place","intersects","packHierarchy","shuffleFunc","circles","aa","ca","sk","safety","circlesLoc","enclose","packEnclose","values","genericCirclePackLayout","createShuffleInPlace","newCircleWrap","parentContainer","getChild","addChild","applyPositionToChildren","packHierarchyAndShift","circlePackLayout","genericCircularLayout","assignPosition","circularLayout","circlepack","circular","rotation","createRandom","customRandom","sequence","shuffleInPlace","genericRandomLayout","randomLayout","RAD_CONVERSION","centeredOnZero","degrees","genericRotation","xd","yd","mergeUndirectedEdge","mergeUndirectedEdgeWithKey","mergeDirectedEdge","mergeDirectedEdgeWithKey","existing","def","Map","coerceWeight","nameOrFunction","defaultValue","coerceToDefault","returnDefault","fromAttributes","fromGraph","fromPartialEntry","fromMinimalEntry","isUndirected","createEdgeValueGetter","declaredType","directedSize","undirectedSize","addUndirectedEdgeWithKey","dropNode","getPrototypeOf","Reflect","construct","sham","Proxy","Boolean","valueOf","writable","configurable","ReferenceError","_nodes","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","init","once","Promise","_events","_eventsCount","_maxListeners","G","defaultMaxListeners","newListener","listener","unshift","warned","fired","wrapFn","S","D","RangeError","setMaxListeners","getMaxListeners","addListener","prependListener","prependOnceListener","shift","off","listeners","rawListeners","listenerCount","eventNames","fromSequence","is","O","ARRAY_BUFFER_SUPPORT","ArrayBuffer","SYMBOL_SUPPORT","W","P","R","isView","K","T","F","I","Y","J","V","H","_edges","undirectedDegree","in","attach","attachMulti","detach","detachMulti","X","attacher","Z","$","tt","et","nt","direction","rt","it","ot","sourceAttributes","targetAttributes","at","ut","ct","st","ht","ft","wt","vt","bt","mt","kt","wrap","_t","neighbor","Et","At","St","Dt","Lt","Ut","Nt","jt","allowSelfLoops","Ot","NodeDataClass","Ct","_edgeKeyGenerator","_undirectedSelfLoopCount","_directedSelfLoopCount","_undirectedSize","_directedSize","zt","Mt","delete","Wt","_options","_resetInstanceCounters","hasNode","hasEdge","directedEdge","undirectedEdge","areDirectedNeighbors","areOutNeighbors","areInNeighbors","areUndirectedNeighbors","areNeighbors","areInboundNeighbors","areOutboundNeighbors","directedDegree","inboundDegree","outboundDegree","directedDegreeWithoutSelfLoops","inboundDegreeWithoutSelfLoops","outboundDegreeWithoutSelfLoops","degreeWithoutSelfLoops","opposite","hasExtremity","isDirected","isSelfLoop","mergeNode","updateNode","dropEdge","dropDirectedEdge","dropUndirectedEdge","clearEdges","_attributes","updateAttribute","mergeAttributes","updateAttributes","hints","updateEachEdgeAttributes","forEachAdjacencyEntry","forEachAdjacencyEntryWithOrphans","forEachAssymetricAdjacencyEntry","forEachAssymetricAdjacencyEntryWithOrphans","findNode","mapNodes","someNode","everyNode","filterNodes","reduceNodes","nodeEntries","export","import","addDirectedEdgeWithKey","addUndirectedEdge","addDirectedEdge","nullCopy","emptyCopy","toJSON","inspect","startsWith","generateKey","toUpperCase","Gt","Pt","Rt","Kt","Tt","Bt","Ft","DirectedGraph","UndirectedGraph","MultiGraph","MultiDirectedGraph","MultiUndirectedGraph","InvalidArgumentsGraphError","NotFoundGraphError","UsageGraphError","Iterator","Values","ByteArray","sparse","member","scope","entries","MAX_8BIT_INTEGER","MAX_16BIT_INTEGER","MAX_32BIT_INTEGER","MAX_SIGNED_8BIT_INTEGER","MAX_SIGNED_16BIT_INTEGER","MAX_SIGNED_32BIT_INTEGER","maxIndex","getSignedPointerArray","Int16Array","getNumberType","sign","TYPE_PRIORITY","getMinimalRepresentation","maxType","maxPriority","isTypedArray","args","clusters","resolutions","creators","roles","artist","both","extraPalette","lighten","amt","usePound","num","loader","modal","modalImg","explanations","nodeDetails","nodeLabel","nodeImg","nodeExtra","display","divHeight","divId","freeHeight","loadNetwork","setTitle","innerHTML","fetch","entity","network_size","then","gexf","circularPositions","cluster","stories","artist_ratio","sigmaSettings","view","thumbnail","switchView","clickNode","image_url","description","url","searchInput","searchSuggestions","selectedNode","suggestions","setSearchQuery","query","includes","sensibleSettings","fa2Layout","conf","location","hash","querySelector","switchCharacters","switchCreators","switchSmall","switchFull","switchViewBtn","entitySpans","querySelectorAll","charactersDetailsSpans","creatorsDetailsSpans","smallDetailsSpans","fullDetailsSpans","setEntity","load","disabled","span","setSize","confdata","keyval","currentUrl","isFalse","strval","name_regex","indentString","tags","texts","dtd","started_write","writer_encoding","flush","indenter","standalone","startPI","startAttribute","endAttribute","endPI","endAttributes","content","writeElementNS","containsTag","startAttributes","writeAttributeNS","startAttributeNS","writeComment","startComment","endComment","writeDocType","subset","startDocType","endDocType","writePI","writeCData","startCData","endCData","writeRaw","l2","l1","ReflectOwnKeys","ReflectApply","receiver","NumberIsNaN","resolve","reject","errorListener","err","resolver","eventTargetAgnosticAddListener","handler","flags","addErrorHandlerIfEventEmitter","checkListener","_getMaxListeners","that","_addListener","prepend","events","onceWrapper","_onceWrap","wrapped","_listeners","unwrap","evlistener","ret","unwrapListeners","arrayClone","wrapListener","arg","doError","er","originalListener","spliceOne","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}